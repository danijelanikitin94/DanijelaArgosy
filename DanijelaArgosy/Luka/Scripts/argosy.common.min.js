function setupDomEvents(){var n=$("section"),t=window.MutationObserver||window.WebKitMutationObserver,i=new t(mutationHandler),r={childList:!0,characterData:!1,attributes:!1,subtree:!0};n.each(function(){i.observe(this,r)})}function mutationHandler(n){n.forEach(function(n){n.addedNodes!=null&&n.addedNodes.length>0&&$(n.addedNodes).each(function(){setupFormDefaultSubmits($(this))})})}function reloadImage(n,t){t==null&&(t=500);$(n).hide();setTimeout(function(){n.src="/Store/Proofing/GetProofingImage?imagePath="+n.src;$(n).show()},t)}function isValidEmailAddress(n){var t=new RegExp(/^(.+)@([^\(\);:,<>]+\.[a-zA-Z]{2,4})/);return t.test(n)}function getCartCount(){$.ajax({url:"/Store/Cart/GetCartCount",dataType:"json",type:"GET",contentType:"application/json; charset=utf-8",success:function(n){$("._emCartCount").html("("+n+")")}})}function setupPageEvents(){$(document).bind(argosyEvents.PAGE_DOM_CHANGE,function(n,t){convertInputsInElements(n,t);setupFormDefaultSubmits($(t));$(t).hasClass("fancybox-wrap")&&setTimeout(function(){setFancyboxFocus()},250)});$(document).bind(argosyEvents.PART_ADDED_TO_CART,function(){getCartCount()});$(document).bind(argosyEvents.ITEM_DELETED_FROM_CART,function(){getCartCount()});$(document).bind(argosyEvents.PROMPT_NOTIFY,function(n,t){prompt.notify({question:t.message,type:t.type})});$(document).bind(argosyEvents.START_LOADING,function(n,t){t!=null?t.name!=null&&t.name.trim().length>0?$(document).find("*[data-argosy-loading="+t.name+"]").each(function(){var n=$(this);block(n,n.attr("data-argosy-loading-message"),n.attr("data-argosy-loading-blank")=="true")}):t.element!=null&&block(t.element,t.message):block()});$(document).bind(argosyEvents.END_LOADING,function(n,t){t!=null&&t.name!=null&&t.name.trim().length>0?$(document).find("*[data-argosy-loading]").each(function(){$(this).attr("data-argosy-loading").toLowerCase().indexOf(t.name.trim().toLowerCase())>-1&&unblock(this)}):t!=null&&t.element!=null?unblock(t.element):unblock()})}function loadEmptyGridTemplate(n){var t={Message:n};return kendo.Template.compile($("#_GlobalNoResultsTemplate").html())(t)}function htmlEncode(n){return $("<div/>").text(n).html()}function htmlDecode(n){return $("<div/>").html(n).text()}function unblock(n){n!=null?$(n).unblock():$.unblockUI()}function block(n,t,i){i==null&&(i=!1);t==null&&(t=i?"":"Loading...");var r={"background-color":"transparent","background-image":"url('/Content/images/loading.gif')","background-size":"90px auto","background-repeat":"no-repeat","background-position":"center top","-moz-opacity":"0.8",opacity:"0.8",border:"none",height:"100px","z-index":"9999"},u={backgroundColor:"#5A5757",opacity:.5,cursor:"wait"};n!=null?(i&&(r={}),$(n).block({centerX:!0,centerY:!0,css:r,message:"<div class='loading-message-wrapper'><div>"+t+"<\/div><\/div>",overlayCSS:u,baseZ:9500})):$.blockUI({message:"<div class='loading-message-wrapper'><div>"+t+"<\/div><\/div>",css:r,overlayCSS:u,baseZ:9500})}function handleDataSourceException(n){window.location="/Error?errors="+n.Guid}function addPageScript(){location.pathname.indexOf("mockups")>-1&&$.getScript("/scripts/page"+convertToJavascriptFile(location.pathname))}function convertToJavascriptFile(n){return n=="/"&&(n="/browse-products.html"),n.substring(0,n.indexOf("."))+".js"}function pluralize(n,t){return n+(t>1?"s":"")}function appendLoadingAttribute(n,t,i){var r="";i==null&&(i=!1);n.attr("data-argosy-loading")!=null&&(r+=n.attr("data-argosy-loading")+",");n.attr("data-argosy-loading-blank",i);r+=t;n.attr("data-argosy-loading",r)}function addArgosyActions(n){n==undefined&&(n=null);var t=n==null?$("*[data-argosy-action]"):$(n).find("*[data-argosy-action]");t.each(function(){var n=$(this),t=n.attr("data-argosy-action").toLowerCase(),i;t.indexOf(",")>-1?t=t.split(","):(i=t,t=[],t.push(i));n.unbind("click").unbind("change").unbind("hover");$(t).each(function(){var i=this.toString(),t;switch(i){case"addproducthover":n.click(function(){var i=n.attr("data-argosy-target"),t=n.closest(".product-image-wrapper").find(i);t.hasClass("hover")?t.removeClass("hover"):t.addClass("hover")});break;case"masonhover":n.mouseenter(function(){var i=n.attr("data-argosy-target"),t=n.closest(".product-image-wrapper").find(i);t.hasClass("display-info")||t.addClass("display-info")}).mouseleave(function(){var i=n.attr("data-argosy-target"),t=n.closest(".product-image-wrapper").find(i);t.hasClass("display-info")&&t.removeClass("display-info")});break;case"addproducthover-list":n.click(function(){var i=n.attr("data-argosy-target"),t=n.closest("#grid_product").find(i);t.hasClass("hover")?t.removeClass("hover"):t.addClass("hover")});break;case"addrapidorder":n.click(function(){var r=n.attr("data-argosy-dataid"),i=$(this),t={};t.isFavorite=!i.hasClass("selected");t.partId=r;i.toggleClass("selected");$.ajax({url:"/Store/Browse/AddRemoveFavorites",dataType:"json",data:JSON.stringify(t),type:"POST",contentType:"application/json; charset=utf-8"})});break;case"addtocart":n.unbind("click");n.click(function(){var r=n.attr("data-argosy-dataid"),u=n.attr("data-argosy-qty"),f=n.attr("data-argosy-partname"),t={},i;u?t.qty=u:(i=$("#addToCartQuantity_"+r),t.qty=i.length>0?i.val():1);t.partId=r;sendPartToCart(t,f)});break;case"showproductdetails":n.click(function(){var t=n.attr("data-argosy-dataid");$(document).trigger(argosyEvents.SHOW_PART_DETAILS_MODAL,t)});break;case"showassetdetails":n.click(function(){var t=n.attr("data-argosy-dataid");$(document).trigger(argosyEvents.SHOW_ASSET_DETAILS_MODAL,t)});break;case"showcategory":n.click(function(){var t=n.attr("data-argosy-categoryName");window.location.hash="#Category:"+t});break;case"showproductusagehistory":n.click(function(){var t=n.data("argosy-dataid"),i=n.data("argosy-partname");$(document).trigger(argosyEvents.SHOW_PART_USAGE_MODAL,{partId:t,partName:i})});break;case"showpartconfigureoptions":n.click(function(){var t=n.data("argosy-dataid");$(document).trigger(argosyEvents.SHOW_PART_CONFIGURATION_MODAL,t)});break;case"showpartquantitymodal":n.click(function(){var t=n.data("argosy-dataid");$(document).trigger(argosyEvents.SHOW_PART_QUANTITY_MODAL,t)});break;case"showassetusagehistory":n.click(function(){var t=n.data("argosy-dataid"),i=n.data("argosy-assetname");$(document).trigger(argosyEvents.SHOW_ASSET_USAGE_MODAL,{assetId:t,assetName:i})});break;case"shareasset":n.click(function(){var t=n.data("argosy-dataid");$(document).trigger(argosyEvents.SHOW_SHARE_ASSET_MODAL,t)});break;case"updatepartquantities":if(t=$(n),$.isKendo(t))t.on("change paste",function(n){var i=parseInt(n.target.attributes["data-argosy-dataid"].value),t=null;t=$.isKendo(n.target)?$.getKendoControl($(n.target)).value():$(n.target).val();$(document).trigger(argosyEvents.UPDATE_PART_QUANTITIES,{partId:i,value:t})});else t.kendoNumericTextBox({min:t.val(),format:"n0",step:1,decimals:0,spinners:!1,change:function(n){var t=n.sender.element.attr("data-argosy-dataid"),i=n.sender.value();$(document).trigger(argosyEvents.UPDATE_PART_QUANTITIES,{partId:t,value:i})}});break;case"select-global-profile":n.change(function(){var n=$(this).val();$(document).trigger(argosyEvents.SELECT_GLOBAL_PROFILE,{globalProfileId:n,element:this})});break;case"select-standard-profile":n.change(function(){var n=$(this).val();$(document).trigger(argosyEvents.SELECT_STANDARD_PROFILE,{standardProfileId:n,element:this})});break;case"select-proofing-profile":n.change(function(){var n=$(this).val();triggerProfileChangeEvent(n)});break;case"change-folder-view":n.dblclick(function(){var t=n.attr("data-argosy-dataid"),i=n.attr("data-argosy-dataname");$(document).trigger(argosyEvents.ASSET_DIRECTORY_CHANGED,{Id:t,Name:i})});break;case"show-large-image":n.dblclick(function(){var t=n.attr("data-argosy-datahref");$.fancybox({href:t})});break;case"select-all-assets":n.change(function(n){$(document).trigger(argosyEvents.SELECT_ALL_ASSETS,{isChecked:n.target.checked})});break;case"asset-action-change":n.change(function(){$(document).trigger(argosyEvents.DO_ASSET_ACTION,{action:n.val()});setTimeout(function(){n.getKendoDropDownList().select(0)},500)});break;case"add-asset-to-cart":n.click(function(){var t=n.attr("data-argosy-dataid");$(document).trigger(argosyEvents.ADD_ASSET_TO_CART,t)})}})});$(document).trigger(argosyEvents.PAGE_DOM_CHANGE,n)}function triggerProfileChangeEvent(n,t){if(n.indexOf("-")){var i=n.split("-");switch(i[0]){case"global":$(document).trigger(argosyEvents.SELECT_GLOBAL_PROFILE,{globalProfileId:parseInt(i[1]),element:this,callback:t});break;case"profile":$(document).trigger(argosyEvents.SELECT_STANDARD_PROFILE,{standardProfileId:parseInt(i[1]),element:this,callback:t})}}}function sendPartToCartOrCustomization(n,t){callCart(n,t,"/Store/Cart/AddToCartOrSendToCustomization")}function sendPartToCart(n,t){callCart(n,t,"/Store/Cart/AddToCart")}function callCart(n,t,i){executingAddToCart[t]==null?(executingAddToCart[t]=n,$.ajax({url:i,dataType:"json",data:JSON.stringify(n),type:"POST",contentType:"application/json; charset=utf-8",success:function(n){var f=n.ReturnCode===ReturnCode.Success,r=t+" added to cart",u="success",i;f||(r=n.Message,u="error");i={message:r,type:u};n.ReturnResponse!==null&&n.ReturnResponse!==undefined?n.ReturnResponse.PostJsonData!==null&&n.ReturnResponse.PostJsonData!==undefined&&n.ReturnResponse.PostJsonData.length>0?$.submitAsForm(n.ReturnResponse.ReturnUrl,n.ReturnResponse.PostJsonData):n.ReturnResponse.ReturnUrl!=null?window.location=n.ReturnResponse.ReturnUrl:($(document).trigger(argosyEvents.PROMPT_NOTIFY,i),$(document).trigger(argosyEvents.PART_ADDED_TO_CART,t)):($(document).trigger(argosyEvents.PROMPT_NOTIFY,i),$(document).trigger(argosyEvents.PART_ADDED_TO_CART,t))},error:function(){$(document).trigger(argosyEvents.PROMPT_NOTIFY,{message:"Unable to add to cart",type:"error"})},complete:function(){executingAddToCart[t]=null}})):jsConsole.warn("Detected double cart submit and blocked.")}function setActiveMenuItem(){var t=window.location.href.toLowerCase(),n=$("#menu");n.find(" a.active").removeClass("active");t.indexOf("digitalassets")>=0?n.find(".select-digital-assets-menu").addClass("active"):t.indexOf("retail")>=0?n.find(".select-retail-menu").addClass("active"):t.indexOf("admin")>=0?n.find(".select-admin-menu").addClass("active"):t.indexOf("tools")>=0?n.find(".select-tools-menu").addClass("active"):t.indexOf("account")>=0?n.find(".select-account-menu").addClass("active"):n.find(".select-store-menu").addClass("active")}function showPartQuantityModal(n){var t="div[data-argosy-view=ModalPartQuantityView]",r=n.PartName,i=kendo.observable({quantity:1,partId:n.PartId,part:new kendo.data.ObservableObject(n),priceBreakDataBound:function(n){var t=$(n.sender.element),i=t.data("kendoDropDownList").list.width(),r=i+20,u=n.sender.element.attr("data-value");t.data("kendoDropDownList").list.width(r);t.closest(".k-widget").width(70)},addToCart:function(){var i=this,t={};t.qty=i.get("quantity");t.part=n;callCart(t,r,"/Store/Cart/AddToCart");$.fancybox.close()},updateQuantity:function(n){var t=this;t.quantity=parseInt(n.sender.value())}}),u=function(){var t=$.fancybox.wrap.find("select.price-break-dropdown,input.qty_input:not([data-role])");$(t).each(function(){$.isKendo(this)?$.getKendoControl($(this)).value(n.DefaultQuantity):$(this).val(n.DefaultQuantity)})};$(t).length<=0&&$(document.body).append($("#_ProductModelViewTemplate").html());n.IsOrderByCPQ&&(i.quantity=1*n.CPQ);$(t).html(kendo.Template.compile($("#_ProductQuantityModalViewTemplate").html())(n));kendo.bind($("#_ProductQtyBindHref"),i);$.fancybox({href:"div[data-argosy-modal=ModalPartQuantity]",type:"inline",scrolling:"no",afterShow:function(){u();addArgosyActions($.fancybox.wrap)}})}function kendoOptionsToObject(n){var t={},i;return n!=null&&n.data!=null&&(n.data.page!=null&&(t.Page=n.data.page),n.data.pageSize!=null&&(t.PageSize=n.data.pageSize),n.data.skip!=null&&(t.Skip=n.data.skip),n.data.take!=null&&(t.Take=n.data.take),n.data.sort!=null&&n.data.sort.length>0&&(i=[],$(n.data.sort).each(function(){i.push(this.field+"-"+this.dir)}),t.Sort=i),n.data.filter!=null&&(t=parseFilterExpression(t,n.data.filter))),t}function parseFilterExpression(n,t){if(t.field!=null&&(n[t.field]=t.value),t.filters!=null&&t.filters.length>0)for(var i=0;i<t.filters.length;i++)n=parseFilterExpression(n,t.filters[i]);return n}function getInputValue(n){var t=null,u,r,i;if(n=$(n),n.getKendoDatePicker()!=null)u=n.getKendoDatePicker().value(),u!=null&&(t=u.toJSON());else{r="";n.is("div")&&$(n).find("input[type='checkbox']").length>0?(n=$(n).find("input[type='checkbox']"),r="checkbox"):n.is("input")&&(r=String(n.attr("type")).toLowerCase());switch(r){case"checkbox":case"radio":t=n.is(":checked");break;default:i=n.val();n.data("getValue")!=undefined&&(i=n.data("getValue")());i!=""&&i!=null&&(t=i)}}return t!=null&&typeof t=="string"&&t.toLowerCase()=="null"&&(t=null),t}function setInputValue(n,t){var i,r;if(n instanceof jQuery||(n=$(n)),i="",n.is("div")&&$(n).find("input[type='checkbox']").length>0?(n=$(n).find("input[type='checkbox']"),i="checkbox"):i=n.is("select")?"select":n.attr("type"),$.isKendo(n)&&(r=$.getKendoControl(n),r!=null)){r.value(t);return}switch(i){case"checkbox":t!=null&&t?n.attr("checked","checked"):n.removeAttr("checked");break;default:n.val(t)}}function kendoOptionsToQuerystring(n){var t=[],i;return n!=null&&n.data!=null&&(n.data.page!=null&&t.push("page="+n.data.page),n.data.pageSize!=null&&t.push("pageSize="+n.data.pageSize),n.data.skip!=null&&t.push("skip="+n.data.skip),n.data.take!=null&&t.push("take="+n.data.take),n.data.sort!=null&&n.data.sort.length>0&&(i=[],$(n.data.sort).each(function(){i.push(this.field+"-"+this.dir)}),t.push("sort="+i.join(",")))),t.length>0?"?"+t.join("&"):""}function convertInputsInElements(n,t){var i=$(t);i.find("input:not([data-argosy-control]):not([data-role])").each(function(){var n=$(this);switch(n.attr("type")){case"text":n.addClass("k-textbox");break;case"number":n.kendoNumericTextBox({spinners:!1});break;case"date":n.kendoDatePicker({})}});i.find("select:not([data-argosy-control]):not([data-role])").each(function(){var n=$(this);n.kendoDropDownList();n.getKendoDropDownList().list.width("auto")});i.find("*[data-argosy-control]:not([data-argosy-uuid]:not([data-role]))").each(function(){var n=$(this);controlLoader.processControlElement(this,function(){var t=n.attr("data-argosy-search");n.removeAttr("data-argosy-search");n.find("select").length>0?n.find("select").attr("data-argosy-search",t):n.find("input").length>0&&n.find("input").attr("data-argosy-search",t)})});i.find("*[data-link]").each(function(){$.addChangeEvent(this)})}function getInputControl(n,t){var i=null,o,f,r,u,e;t==null&&(t={});t.placeholder==null&&(t.placeholder="");switch(n){case"text":case"number":case"date":o=$("<input />",{type:n,placeholder:t.placeholder});i=o;break;case"checkbox":f=kendo.guid();r=$("<div />");r.append($("<input />",{type:n,id:f}));r.append($("<label />",{text:t.placeholder,"for":f}));t.checked!=null&&t.checked&&r.find("input").attr("checked","checked");i=r;break;case"select":u=$("<select />",{type:n,placeholder:t.placeholder});t.data!=null&&t.data.length>0&&(u.append($("<option />",{text:t.placeholder,value:""})),$(t.data).each(function(){u.append($("<option />",{text:this.text,value:this.value,selected:this.selected!=null&&this.selected}))}));i=u;break;case"argosy":e=$("<div />",t);e.removeAttr("dataargosysearch");i=e}return i!=null?(t.dataArgosySearch!=null&&i.attr("data-argosy-search",t.dataArgosySearch),t.class!=null&&i.attr("class",t.class),i.outerHtml()):""}function getQuerystring(n,t){t==null&&(t="");n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+n+"=([^&#]*)","i"),i=r.exec(window.location.href);return i==null?t:i[1]}function globalPageInit(){function r(){i.find(".open").removeClass("open")}window.addEventListener&&window.addEventListener("orientationchange",function(){window.location.reload()},!1);$(document).on("click","span.quick-view",function(n){n.preventDefault();n.stopPropagation();$.magnificPopup.open({items:{src:$(this).data("prdid"),type:"inline"}})});$(window).width()>900&&$(".prod-th").mouseenter(function(){$(".quick-view").hide();$(".quick-view",this).stop().fadeIn(300)}).mouseleave(function(){$(".quick-view").hide()});var t=$("<div class='mobile-nav'><table class='w100'><tr><td class='textl'><img class='pad5 img-responsive' src='/content/images/placeholder/logo.png' width='200px' /><\/td><td class='textr padr10'><a class='mobile-button neutral-link' id='show-nav' href='#'><i class='f24 fa fa-navicon'><\/i><\/a><\/td><\/tr><\/table><\/div>"),i=$("#menu"),n=i.clone();n.removeAttr("id");n.addClass("mobile-menu");t.append(n);$("body").prepend(t);n.find("li.has-sub > a").each(function(){var t=$(this),n=!1,i=t.next("ul").slideUp();t.on("click",function(r){r.preventDefault();n=!n;i.slideToggle(n);t.closest("li").toggleClass("active",n)})});$("ul.mobile-menu").hide();$("#show-nav").on("click",function(){$("ul.mobile-menu").slideToggle()});$(document).on("click","#menu.click-me .has-sub > a",function(n){n.preventDefault();n.stopPropagation();var t=$(this),i=t.parent();i.hasClass("level-1")?i.hasClass("open")?r():(r(),i.addClass("open"),t.next("ul").toggleClass("open")):t.next("ul").hasClass("open")?i.find("ul").removeClass("open"):(t.closest("ul.open").find("ul").removeClass("open"),t.next("ul").addClass("open"))})}function parseUri(n){for(var t=parseUri.options,u=t.parser[t.strictMode?"strict":"loose"].exec(n),i={},r=14;r--;)i[t.key[r]]=u[r]||"";return i[t.q.name]={},i[t.key[12]].replace(t.q.parser,function(n,r,u){r&&(i[t.q.name][r]=u)}),i}function downloadFile(n,t,i){t==null&&(t=!1);i==null&&(i="");$("#file-download").attr("src","/download?path="+n+"&forceDownload="+t+"&overrideFileName="+i)}function setupFormDefaultSubmits(n){var t=jQuery(".defaultButton"),i=null,r;t.length>1&&jsConsole.warn("Multiple default buttons for page.  first button will be used by default.");t.length>0?(r=jQuery(t[0]),i=r,jsConsole.log("default button ["+r.attr("id")+"]")):jsConsole.warn("No default buttons for page.");$(n).find(".submitAction").each(function(){var n=jQuery(this),t=null,r="",u,f,e;if(n.data().defaultSubmit==null){if(n.attr("submit")!=undefined&&n.attr("submit")!=null){switch(n.attr("submit").substr(0,1)){case".":case"#":r=n.attr("submit");break;default:r="#"+n.attr("submit")}u=jQuery(r);u.length>0?t=jQuery(u[0]):jsConsole.warn("could not find submit button "+n.attr("submit")+".")}f=n.closest(".fancybox-inner");f&&(e=f.find(".fancyboxDefaultSubmit"),e&&(t=e));t==null&&i!=null&&(t=i);n.is("textarea")||(t!=null?(jsConsole.log(n.attr("id")+" submits with "+r),n.unbind("keypress"),n.keypress(function(n){setFormSubmit(n,t)})):jsConsole.warn(n.attr("id")+" has no button assignment"),n.data("defaultSubmit",{isConfigured:!0,submitButton:t}))}})}function setFormSubmit(n,t){n.keyCode==13&&(jQuery(t)[0].click(),n.preventDefault()?n.preventDefault():n.returnValue=!1);n.returnValue=!0}function setFancyboxFocus(){if($.fancybox.wrap){var n=$.fancybox.wrap.find("input.defaultFancyboxFocus:not(.k-textbox)");n.length>1&&jsConsole.warn("Multiple default elements to focus on.  first element will be used by default.");n.length>0&&($.isKendo(n)?$.getKendoControl(n).focus():jQuery(n[0]).focus())}}function setupPageDefaultFocus(){var n=jQuery(".defaultFocus");n.length>1&&jsConsole.warn("Multiple default elements to focus on.  first element will be used by default.");n.length>0&&jQuery(n[0]).focus()}var controlLoader=null,app_Version_Num="",argosyEvents=new ArgosyEvents,pricingManager=null,jsConsole={log:function(n){window.console&&console.log(n)},warn:function(n){window.console&&console.warn(n)},error:function(n){window.console&&console.error(n)}},ReturnCode,executingAddToCart;$(document).ready(function(){globalPageInit();addArgosyActions();controlLoader=new ControlLoader(!0);controlLoader.loadTemplate("GlobalTemplates",function(n){$("body").append(n)});controlLoader.loadControl("PricingManager",{},function(n){pricingManager=n});addPageScript();$(".fancybox").fancybox();$(".parthistory").fancybox({href:"#coming_content"});$.ajaxSettings.traditional=!0;setupDomEvents();setupPageEvents();setupPageDefaultFocus();setupFormDefaultSubmits($("body"))});ReturnCode={Failed:500,Success:200};_defaultDataSourceConfig={pageSize:20,page:1,serverPaging:!0,serverSorting:!0,serverFiltering:!0,filter:[],schema:{data:"Records",total:"TotalRecords",errors:"Guid"},error:function(){window.location="/Error"}};executingAddToCart=[];parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};