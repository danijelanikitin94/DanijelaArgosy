(function(n,t){t(["./kendo.popup"],n)})(function(){return function(n,t){function fi(n,t,i){var u=n.getTimezoneOffset(),r;n.setTime(n.getTime()+t);i||(r=n.getTimezoneOffset()-u,n.setTime(n.getTime()+r*c))}function ei(){var n=new u,t=new u(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),i=new u(n.getFullYear(),n.getMonth(),n.getDate(),12,0,0);return-1*(t.getTimezoneOffset()-i.getTimezoneOffset())}function o(n){return n.getHours()*60*c+n.getMinutes()*c+n.getSeconds()*1e3+n.getMilliseconds()}function dt(n,t,i){var u=o(t),f=o(i),r;return!n||u==f?!0:(r=o(n),u>r&&(r+=h),f<u&&(f+=h),r>=u&&r<=f)}function ni(n){var t=n.parseFormats;n.format=ri(n.format||r.getCulture(n.culture).calendars.standard.patterns.t);t=kt(t)?t:[t];t.splice(0,0,n.format);n.parseFormats=t}function ti(n){n.preventDefault()}var r=window.kendo,s=r.keys,f=r.parseDate,ii=r._activeElement,ri=r._extractFormat,v=r.support,rt=v.browser,b=r.ui,y=b.Widget,p="open",ut="close",k="change",i=".kendoTimePicker",ft="click"+i,d="k-state-default",et="disabled",ot="readonly",g="li",st="<span/>",ht="k-state-focused",nt="k-state-hover",ui="mouseenter"+i+" mouseleave"+i,ct="mousedown"+i,c=6e4,h=864e5,lt="k-state-selected",tt="k-state-disabled",at="aria-selected",vt="aria-expanded",yt="aria-hidden",pt="aria-disabled",wt="aria-readonly",bt="aria-activedescendant",w="id",kt=n.isArray,it=n.extend,l=n.proxy,u=Date,e=new u,a,gt;e=new u(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0);a=function(t){var u=this,f=t.id;u.options=t;u.ul=n('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:v.kineticScrollNeeded?"":"auto"}).on(ft,g,l(u._click,u)).on("mouseenter"+i,g,function(){n(this).addClass(nt)}).on("mouseleave"+i,g,function(){n(this).removeClass(nt)});u.list=n("<div class='k-list-container'/>").append(u.ul).on(ct,ti);f&&(u._timeViewID=f+"_timeview",u._optionID=f+"_option_selected",u.ul.attr(w,u._timeViewID));u._popup();u._heightHandler=l(u._height,u);u.template=r.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#<\/li>',{useWithBlock:!1})};a.prototype={current:function(i){var r=this,u=r.options.active;if(i!==t)r._current&&r._current.removeClass(lt).removeAttr(at).removeAttr(w),i&&(i=n(i).addClass(lt).attr(w,r._optionID).attr(at,!0),r.scroll(i[0])),r._current=i,u&&u(i);else return r._current},close:function(){this.popup.close()},destroy:function(){var n=this;n.ul.off(i);n.list.off(i);n._touchScroller&&n._touchScroller.destroy();n.popup.destroy()},open:function(){var n=this;n.ul[0].firstChild||n.bind();n.popup.open();n._current&&n.scroll(n._current[0])},dataBind:function(n){for(var i=this,t=i.options,o=t.format,s=r.toString,h=i.template,c=n.length,u=0,f,e="";u<c;u++)f=n[u],dt(f,t.min,t.max)&&(e+=h(s(f,o,t.culture)));i._html(e)},refresh:function(){var l=this,i=l.options,g=i.format,y=ei(),p=y<0,w=i.min,b=i.max,a=o(w),n=o(b),f=i.interval*c,nt=r.toString,tt=l.template,t=new u(+w),it=t.getDate(),v,k,e=0,s,d="";for(s=p?(h+y*c)/f:h/f,a!=n&&(a>n&&(n+=h),s=(n-a)/f+1),k=parseInt(s,10);e<s;e++)e&&fi(t,f,p),n&&k==e&&(v=o(t),it<t.getDate()&&(v+=h),v>n&&(t=new u(+b))),d+=tt(nt(t,g,i.culture));l._html(d)},bind:function(){var n=this,t=n.options.dates;t&&t[0]?n.dataBind(t):n.refresh()},_html:function(n){var t=this;t.ul[0].innerHTML=n;t.popup.unbind(p,t._heightHandler);t.popup.one(p,t._heightHandler);t.current(null);t.select(t._value)},scroll:function(n){if(n){var i=this.ul[0],t=n.offsetTop,f=n.offsetHeight,r=i.scrollTop,e=i.clientHeight,o=t+f,s=this._touchScroller,u;s?(u=this.list.height(),t>u&&(t=t-u+f),s.scrollTo(0,-t)):i.scrollTop=r>t?t:o>r+e?o-e:r}},select:function(t){var i=this,f=i.options,u=i._current;t instanceof Date&&(t=r.toString(t,f.format,f.culture));typeof t=="string"&&(u&&u.text()===t?t=u:(t=n.grep(i.ul[0].childNodes,function(n){return(n.textContent||n.innerText)==t}),t=t[0]?t:null));i.current(t)},setOptions:function(n){var t=this.options;n.min=f(n.min);n.max=f(n.max);this.options=it(t,n,{active:t.active,change:t.change,close:t.close,open:t.open});this.bind()},toggle:function(){var n=this;n.popup.visible()?n.close():n.open()},value:function(n){var t=this;t._value=n;t.ul[0].firstChild&&t.select(n)},_click:function(t){var i=this,r=n(t.currentTarget);t.isDefaultPrevented()||(i.select(r),i.options.change(r.text(),!0),i.close())},_height:function(){var n=this,t=n.list,r=t.parent(".k-animation-container"),i=n.options.height;n.ul[0].children.length&&t.add(r).show().height(n.ul[0].scrollHeight>i?i:"auto").hide()},_parse:function(n){var i=this,r=i.options,t=i._value||e;return n instanceof u?n:(n=f(n,r.parseFormats,r.culture),n&&(n=new u(t.getFullYear(),t.getMonth(),t.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())),n)},_adjustListWidth:function(){var t=this.list,i=t[0].style.width,r=this.options.anchor,n,u;(t.data("width")||!i)&&(n=window.getComputedStyle?window.getComputedStyle(r[0],null):0,u=n?parseFloat(n.width):r.outerWidth(),n&&(rt.mozilla||rt.msie)&&(u+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)),i=u-(t.outerWidth()-t.width()),t.css({fontFamily:r.css("font-family"),width:i}).data("width",i))},_popup:function(){var t=this,i=t.list,n=t.options,u=n.anchor;t.popup=new b.Popup(i,it(n.popup,{anchor:u,open:n.open,close:n.close,animation:n.animation,isRtl:v.isRtl(n.anchor)}));t._touchScroller=r.touchScroller(t.popup.element)},move:function(n){var i=this,r=n.keyCode,f=i.ul[0],t=i._current,u=r===s.DOWN;if(r===s.UP||u){if(n.altKey){i.toggle(u);return}t=u?t?t[0].nextSibling:f.firstChild:t?t[0].previousSibling:f.lastChild;t&&i.select(t);i.options.change(i._current.text());n.preventDefault()}else(r===s.ENTER||r===s.TAB||r===s.ESC)&&(n.preventDefault(),t&&i.options.change(t.text(),!0),i.close())}};a.getMilliseconds=o;r.TimeView=a;gt=y.extend({init:function(n,t){var i=this,e,u,o;y.fn.init.call(i,n,t);n=i.element;t=i.options;t.min=f(n.attr("min"))||f(t.min);t.max=f(n.attr("max"))||f(t.max);ni(t);i._wrapper();i.timeView=u=new a(it({},t,{id:n.attr(w),anchor:i.wrapper,format:t.format,change:function(t,r){r?i._change(t):n.val(t)},open:function(t){i.timeView._adjustListWidth();i.trigger(p)?t.preventDefault():(n.attr(vt,!0),e.attr(yt,!1))},close:function(t){i.trigger(ut)?t.preventDefault():(n.attr(vt,!1),e.attr(yt,!0))},active:function(t){n.removeAttr(bt);t&&n.attr(bt,u._optionID)}}));e=u.ul;i._icon();i._reset();try{n[0].setAttribute("type","text")}catch(s){n[0].type="text"}n.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":u._timeViewID});o=n.is("[disabled]");o?i.enable(!1):i.readonly(n.is("[readonly]"));i._old=i._update(t.value||i.element.val());i._oldText=n.val();r.notify(i)},options:{name:"TimePicker",min:e,max:e,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[p,ut,k],setOptions:function(n){var t=this,i=t._value;y.fn.setOptions.call(t,n);n=t.options;ni(n);t.timeView.setOptions(n);i&&t.element.val(r.toString(i,n.format,n.culture))},dataBind:function(n){kt(n)&&this.timeView.dataBind(n)},_editable:function(n){var t=this,r=n.disable,u=n.readonly,o=t._arrow.off(i),f=t.element.off(i),e=t._inputWrapper.off(i);if(u||r)e.addClass(r?tt:d).removeClass(r?d:tt),f.attr(et,r).attr(ot,u).attr(pt,r).attr(wt,u);else{e.addClass(d).removeClass(tt).on(ui,t._toggleHover);f.removeAttr(et).removeAttr(ot).attr(pt,!1).attr(wt,!1).on("keydown"+i,l(t._keydown,t)).on("focusout"+i,l(t._blur,t)).on("focus"+i,function(){t._inputWrapper.addClass(ht)});o.on(ft,l(t._click,t)).on(ct,ti)}},readonly:function(n){this._editable({readonly:n===t?!0:n,disable:!1})},enable:function(n){this._editable({readonly:!1,disable:!(n=n===t?!0:n)})},destroy:function(){var n=this;y.fn.destroy.call(n);n.timeView.destroy();n.element.off(i);n._arrow.off(i);n._inputWrapper.off(i);n._form&&n._form.off("reset",n._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(n){return this._option("min",n)},max:function(n){return this._option("max",n)},value:function(n){var i=this;if(n===t)return i._value;i._old=i._update(n);i._old===null&&i.element.val("");i._oldText=i.element.val()},_blur:function(){var n=this,t=n.element.val();n.close();t!==n._oldText&&n._change(t);n._inputWrapper.removeClass(ht)},_click:function(){var n=this,t=n.element;n.timeView.toggle();v.touch||t[0]===ii()||t.focus()},_change:function(n){var t=this;n=t._update(n);+t._old!=+n&&(t._old=n,t._oldText=t.element.val(),t.element.trigger(k),t.trigger(k))},_icon:function(){var i=this,r=i.element,t;t=r.next("span.k-select");t[0]||(t=n('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select<\/span><\/span>').insertAfter(r));i._arrow=t.attr({role:"button","aria-controls":i.timeView._timeViewID})},_keydown:function(n){var t=this,u=n.keyCode,i=t.timeView,r=t.element.val();i.popup.visible()||n.altKey?i.move(n):u===s.ENTER&&r!==t._oldText&&t._change(r)},_option:function(n,i){var r=this,f=r.options;if(i===t)return f[n];(i=r.timeView._parse(i),i)&&(i=new u(+i),f[n]=i,r.timeView.options[n]=i,r.timeView.bind())},_toggleHover:function(t){n(t.currentTarget).toggleClass(nt,t.type==="mouseenter")},_update:function(n){var i=this,u=i.options,f=i.timeView,t=f._parse(n);return dt(t,u.min,u.max)||(t=null),i._value=t,i.element.val(t?r.toString(t,u.format,u.culture):n),f.value(t),t},_wrapper:function(){var r=this,i=r.element,t;t=i.parents(".k-timepicker");t[0]||(t=i.wrap(st).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(st).parent());t[0].style.cssText=i[0].style.cssText;r.wrapper=t.addClass("k-widget k-timepicker k-header").addClass(i[0].className);i.css({width:"100%",height:i[0].style.height});r._inputWrapper=n(t[0].firstChild)},_reset:function(){var t=this,i=t.element,r=i.attr("form"),u=r?n("#"+r):i.closest("form");u[0]&&(t._resetHandler=function(){t.value(i[0].defaultValue)},t._form=u.on("reset",t._resetHandler))}});b.plugin(gt)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()});
//# sourceMappingURL=kendo.timepicker.min.js.map
