(function(n,t){t(["./kendo.list","./kendo.mobile.scroller"],n)})(function(){return function(n,t){function l(n,t,i){return i?t.substring(0,n).split(i).length-1:0}function rt(n,t,i){return t.split(i)[l(n,t,i)]}function ut(n,t,i,r){var u=t.split(r);return u.splice(l(n,t,r),1,i),r&&u[u.length-1]!==""&&u.push(""),u.join(r)}var r=window.kendo,g=r.support,f=r.caret,a=r._activeElement,v=g.placeholder,y=r.ui,e=y.List,u=r.keys,nt=r.data.DataSource,p="aria-disabled",w="aria-readonly",s="k-state-default",b="disabled",k="readonly",d="k-state-focused",h="k-state-selected",c="k-state-disabled",tt="k-state-hover",i=".kendoAutoComplete",it="mouseenter"+i+" mouseleave"+i,o=n.proxy,ft=e.extend({init:function(t,u){var f=this,s;f.ns=i;u=n.isArray(u)?{dataSource:u}:u;e.fn.init.call(f,t,u);t=f.element;u=f.options;u.placeholder=u.placeholder||t.attr("placeholder");v&&t.attr("placeholder",u.placeholder);f._wrapper();f._loader();f._dataSource();f._ignoreCase();t[0].type="text";s=f.wrapper;f._popup();t.addClass("k-input").on("keydown"+i,o(f._keydown,f)).on("paste"+i,o(f._search,f)).on("focus"+i,function(){f._prev=f._accessor();f._placeholder(!1);s.addClass(d)}).on("focusout"+i,function(){f._change();f._placeholder();s.removeClass(d)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0});f._enable();f._old=f._accessor();t[0].id&&t.attr("aria-owns",f.ul[0].id);f._aria();f._placeholder();r.notify(f)},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{},value:null},_dataSource:function(){var n=this;n.dataSource&&n._refreshHandler?n._unbindDataSource():(n._refreshHandler=o(n.refresh,n),n._progressHandler=o(n._showBusy,n));n.dataSource=nt.create(n.options.dataSource).bind("change",n._refreshHandler).bind("progress",n._progressHandler)},setDataSource:function(n){this.options.dataSource=n;this._dataSource()},events:["open","close","change","select","filtering","dataBinding","dataBound"],setOptions:function(n){e.fn.setOptions.call(this,n);this._template();this._accessors();this._aria()},_editable:function(n){var r=this,f=r.element,e=r.wrapper.off(i),u=n.readonly,t=n.disable;if(u||t)e.addClass(t?c:s).removeClass(t?s:c),f.attr(b,t).attr(k,u).attr(p,t).attr(w,u);else{e.addClass(s).removeClass(c).on(it,r._toggleHover);f.removeAttr(b).removeAttr(k).attr(p,!1).attr(w,!1)}},close:function(){var n=this,t=n._current;t&&t.removeClass(h);n.current(null);n.popup.close()},destroy:function(){var n=this;n.element.off(i);n.wrapper.off(i);e.fn.destroy.call(n)},refresh:function(){var i=this,u=i.ul[0],f=i.popup,s=i.options,h=i._data(),e=h.length,c=i.element[0]===a(),o;i._angularItems("cleanup");i.trigger("dataBinding");u.innerHTML=r.render(i.template,h);i._height(e);f.visible()&&f._position();e&&(s.highlightFirst&&i.current(n(u.firstChild)),s.suggest&&c&&i.suggest(n(u.firstChild)));i._open&&(i._open=!1,o=e?"open":"close",i._typing&&!c&&(o="close"),f[o](),i._typing=t);i._touchScroller&&i._touchScroller.reset();i._makeUnselectable();i._hideBusy();i._angularItems("compile");i.trigger("dataBound")},select:function(n){this._select(n)},search:function(n){var t=this,i=t.options,u=i.ignoreCase,e=i.separator,r;n=n||t._accessor();t._current=null;clearTimeout(t._typing);e&&(n=rt(f(t.element)[0],n,e));r=n.length;(!r||r>=i.minLength)&&(t._open=!0,t._filterSource({value:u?n.toLowerCase():n,operator:i.filter,field:i.dataTextField,ignoreCase:u}))},suggest:function(n){var r=this,y=r._last,o=r._accessor(),v=r.element[0],s=f(v)[0],h=r.options.separator,c=o.split(h),p=l(s,o,h),w=s,i;if(y==u.BACKSPACE||y==u.DELETE){r._last=t;return}n=n||"";typeof n!="string"&&(i=e.inArray(n[0],r.ul[0]),n=i>-1?r._text(r._data()[i]):"");s<=0&&(s=o.toLowerCase().indexOf(n.toLowerCase())+1);i=o.substring(0,s).lastIndexOf(h);i=i>-1?s-(i+h.length):s;o=c[p].substring(0,i);n&&(i=n.toLowerCase().indexOf(o.toLowerCase()),i>-1&&(n=n.substring(i+o.length),w=s+n.length,o+=n),h&&c[c.length-1]!==""&&c.push(""));c[p]=o;r._accessor(c.join(h||""));v===a()&&f(v,s,w)},value:function(n){if(n!==t)this._accessor(n),this._old=this._accessor();else return this._accessor()},_accessor:function(n){var i=this,r=i.element[0];if(n!==t)r.value=n===null?"":n,i._placeholder();else return(n=r.value,r.className.indexOf("k-readonly")>-1)?n===i.options.placeholder?"":n:n},_accept:function(n){var t=this.element;this._focus(n);f(t,t.val().length)},_keydown:function(t){var i=this,e=i.ul[0],r=t.keyCode,f=i._current,o=i.popup.visible();i._last=r;r===u.DOWN?(o&&i._move(f?f.next():n(e.firstChild)),t.preventDefault()):r===u.UP?(o&&i._move(f?f.prev():n(e.lastChild)),t.preventDefault()):r===u.ENTER||r===u.TAB?(r===u.ENTER&&i.popup.visible()&&t.preventDefault(),i._accept(f)):r===u.ESC?(i.popup.visible()&&t.preventDefault(),i.close()):i._search()},_move:function(n){var t=this;n=n[0]?n:null;t.current(n);t.options.suggest&&t.suggest(n)},_hideBusy:function(){var n=this;clearTimeout(n._busy);n._loading.hide();n.element.attr("aria-busy",!1);n._busy=null},_showBusy:function(){var n=this;n._busy||(n._busy=setTimeout(function(){n.element.attr("aria-busy",!0);n._loading.show()},100))},_placeholder:function(n){if(!v){var e=this,u=e.element,i=e.options.placeholder,r;if(i){if(r=u.val(),n===t&&(n=!r),n||(i=r!==i?r:""),r===e._old&&!n)return;u.toggleClass("k-readonly",n).val(i);i||u[0]!==document.activeElement||f(u[0],0,0)}}},_search:function(){var n=this;clearTimeout(n._typing);n._typing=setTimeout(function(){n._prev!==n._accessor()&&(n._prev=n._accessor(),n.search())},n.options.delay)},_select:function(t){var i=this,s=i.options.separator,u=i._data(),r,o;t=n(t);t[0]&&!t.hasClass(h)&&(o=e.inArray(t[0],i.ul[0]),o>-1&&(u=u[o],r=i._text(u),s&&(r=ut(f(i.element)[0],i._accessor(),r,s)),i._accessor(r),i._prev=i._accessor(),i.current(t.addClass(h))))},_loader:function(){this._loading=n('<span class="k-icon k-loading" style="display:none"><\/span>').insertAfter(this.element)},_toggleHover:function(t){n(t.currentTarget).toggleClass(tt,t.type==="mouseenter")},_wrapper:function(){var t=this,i=t.element,r=i[0],n;n=i.parent();n.is("span.k-widget")||(n=i.wrap("<span />").parent());n.attr("tabindex",-1);n.attr("role","presentation");n[0].style.cssText=r.style.cssText;i.css({width:"100%",height:r.style.height});t._focused=t.element;t.wrapper=n.addClass("k-widget k-autocomplete k-header").addClass(r.className)}});y.plugin(ft)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()});
//# sourceMappingURL=kendo.autocomplete.min.js.map
