(function(n,t){t(["./kendo.core"],n)})(function(){return function(n,t){function ri(u){var e=u.useButtonTag?n("<button><\/button>"):n("<a><\/a>");return e.data({type:"button"}),e.attr(i,u.uid),u.attributes&&e.attr(u.attributes),u.togglable&&(e.addClass(h),u.selected&&e.addClass(f)),u.enable===!1&&e.addClass(o),u.url===t||u.useButtonTag||(e.attr("href",u.url),u.mobile&&e.attr(r.attr("role"),"button")),u.group&&e.attr(r.attr("group"),u.group),!u.togglable&&u.click&&s(u.click)&&e.data("click",u.click),u.togglable&&u.toggle&&s(u.toggle)&&e.data("toggle",u.toggle),e}function ui(n){var t=u.button.base(n),i;return t.addClass(e),n.primary&&t.addClass(k),n.align&&t.addClass("k-align-"+n.align),n.id&&t.attr("id",n.id),n.showText!="overflow"&&n.text&&(n.mobile?t.html('<span class="km-text">'+n.text+"<\/span>"):t.html(n.text)),i=n.showIcon!="overflow"&&(n.icon||n.spriteCssClass||n.imageUrl),i&&ct(n,t),t}function fi(n){var t=u.button.base(n),i;return t.addClass(c+" "+e),n.primary&&t.addClass(k),n.id&&t.attr("id",n.id+"_overflow"),n.showText!="toolbar"&&n.text&&(n.mobile?t.html('<span class="km-text">'+n.text+"<\/span>"):t.html(n.text)),i=n.showIcon!="toolbar"&&(n.icon||n.spriteCssClass||n.imageUrl),i&&ct(n,t),t}function ct(t,i){var f=t.icon,e=t.spriteCssClass,o=t.imageUrl,s,r,u;(e||o||f)&&(s=!0,i.contents().not("span.k-sprite,span."+a+",img.k-image").each(function(t,i){(i.nodeType==1||i.nodeType==3&&n.trim(i.nodeValue).length>0)&&(s=!1)}),s?i.addClass(dt):i.addClass(gt));f?(r=i.children("span."+a).first(),r[0]||(r=n('<span class="'+a+'"><\/span>').prependTo(i)),r.addClass(d+f)):e?(r=i.children("span.k-sprite").first(),r[0]||(r=n('<span class="k-sprite"><\/span>').prependTo(i)),r.addClass(e)):o&&(u=i.children("img.k-image").first(),u[0]||(u=n('<img alt="icon" class="k-image" />').prependTo(i)),u.attr("src",o))}function ei(){var n=this.options.anchor,t=n.outerWidth(),i;r.wrap(this.element).addClass("k-split-wrapper");i=this.element.css("box-sizing")!=="border-box"?t-(this.element.outerWidth()-this.element.width()):t;this.element.css({fontFamily:n.css("font-family"),"min-width":i})}function lt(n){n.target.is(".k-toggle-button")||n.target.toggleClass(f,n.type=="press")}function at(t){return t=n(t),t.hasClass("km-actionsheet")?t.closest(".km-popup-wrapper"):t.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"><\/div>').parent().wrap('<div class="km-popup-wrapper k-popup"><\/div>').parent()}var r=window.kendo,si=r.Class,y=r.ui.Widget,b=n.proxy,s=r.isFunction,vt="k-toolbar",e="k-button",c="k-overflow-button",h="k-toggle-button",p="k-button-group",l="k-split-button",yt="k-separator",pt="k-popup",wt="k-toolbar-resizable",f="k-state-active",o="k-state-disabled",bt="k-group-start",kt="k-group-end",k="k-primary",a="k-icon",d="k-i-",dt="k-button-icon",gt="k-button-icontext",ni="k-list-container k-split-container",g="k-split-button-arrow",w="k-overflow-anchor",ti="k-overflow-container",nt="k-toolbar-first-visible",tt="k-toolbar-last-visible",it="click",rt="toggle",ut="open",ft="close",et="overflowOpen",ot="overflowClose",st="never",ht="auto",ii="always",v="k-overflow-hidden",i=r.attr("uid"),hi=r.template,u={button:{base:ri,toolbar:ui,overflow:fi},buttonGroup:{base:function(t,u,f){var o=t.buttons,s,e;if(o){for(t.attributes&&f.attr(t.attributes),f.data({type:"buttonGroup"}),f.attr(i,t.uid),e=0;e<o.length;e++)o[e].uid||(o[e].uid=r.guid()),s=u(n.extend({mobile:t.mobile},o[e])),s.appendTo(f);f.children().first().addClass(bt);f.children().last().addClass(kt)}},toolbar:function(t){var i=n("<div><\/div>");return u.buttonGroup.base(t,u.button.toolbar,i),i.addClass(p),t.align&&i.addClass("k-align-"+t.align),t.id&&i.attr("id",t.id),i},overflow:function(t){var i=n("<li><\/li>");return u.buttonGroup.base(t,u.button.overflow,i),i.addClass((t.mobile?"":p)+" k-overflow-group"),t.id&&i.attr("id",t.id+"_overflow"),i}},splitButton:{toolbar:function(t){var r=n('<div class="'+l+'"><\/div>'),a=u.button.toolbar(t),v=n('<a class="'+e+" "+g+'"><span class="'+(t.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-s")+'"><\/span><\/a>'),f=n('<ul class="'+ni+'"><\/ul>'),s,h=t.menuButtons,c,o;for(a.appendTo(r),v.appendTo(r),f.appendTo(r),o=0;o<h.length;o++)c=u.button.toolbar(n.extend({mobile:t.mobile,click:t.click},h[o])),c.wrap("<li><\/li>").parent().appendTo(f);return t.align&&r.addClass("k-align-"+t.align),t.id||(t.id=t.uid),r.attr("id",t.id+"_wrapper"),f.attr("id",t.id+"_optionlist").attr(i,t.rootUid),t.mobile&&(f=at(f)),s=f.kendoPopup({appendTo:t.mobile?n(t.mobile).children(".km-pane"):null,anchor:r,copyAnchorStyles:!1,animation:t.animation,open:ei}).data("kendoPopup"),r.data({type:"splitButton",kendoPopup:s}),r.attr(i,t.uid),r},overflow:function(t){var r=n('<li class="'+l+'"><\/li>'),s=u.button.overflow(t),e=t.menuButtons,o,f;for(s.appendTo(r),f=0;f<e.length;f++)o=u.button.overflow(n.extend({mobile:t.mobile},e[f])),o.appendTo(r);return t.id&&r.attr("id",t.id+"_overflow"),r.data({type:"splitButton"}),r.attr(i,t.uid),r}},separator:{base:function(t,r){var u=r?n("<li>&nbsp;<\/li>"):n("<div>&nbsp;<\/div>");return u.data({type:"separator"}),u.attr(i,t.uid),t.attributes&&u.attr(t.attributes),u.addClass(yt),u},toolbar:function(n){return u.separator.base(n,!1)},overflow:function(n){return u.separator.base(n,!0)}},overflowAnchor:'<div class="k-overflow-anchor"><\/div>',overflowContainer:'<ul class="k-overflow-container k-list-container"><\/ul>'},oi=y.extend({init:function(t,u){var s=this,h;if(y.fn.init.call(s,t,u),u=s.options,t=s.wrapper=s.element,t.addClass(vt+" k-widget"),this.uid=r.guid(),t.attr(i,this.uid),s.isMobile=typeof u.mobile=="boolean"?u.mobile:s.element.closest(".km-root")[0],s.animation=s.isMobile?{open:{effects:"fade"}}:{},s.isMobile&&(t.addClass("km-widget"),a="km-icon",d="km-",e="km-button",p="km-buttongroup km-widget",f="km-state-active",o="km-state-disabled"),u.resizable){s._renderOverflow();t.addClass(wt);s.overflowUserEvents=new r.UserEvents(s.element,{threshold:5,allowSelection:!0,filter:"."+w,tap:b(s._toggleOverflow,s)});r.onResize(function(){s.resize()})}else s.popup={element:n([])};if(u.items&&u.items.length)for(h=0;h<u.items.length;h++)s.add(u.items[h]);s.userEvents=new r.UserEvents(document,{threshold:5,allowSelection:!0,filter:"["+i+"="+this.uid+"] ."+e+", ["+i+"="+this.uid+"] ."+c,tap:b(s._buttonClick,s),press:lt,release:lt});u.resizable&&this._toggleOverflowAnchor();r.notify(s)},events:[it,rt,ut,ft,et,ot],options:{name:"ToolBar",items:[],resizable:!0,mobile:null},destroy:function(){var t=this;t.element.find("."+l).each(function(t,i){n(i).data("kendoPopup").destroy()});t.userEvents.destroy();t.options.resizable&&(t.overflowUserEvents.destroy(),t.popup.destroy());y.fn.destroy.call(t)},add:function(t){var l=u[t.type],h=t.template,f,e=this,a=e.isMobile?"":"k-item k-state-default",c=t.overflowTemplate,o;n.extend(t,{uid:r.guid(),animation:e.animation,mobile:e.isMobile,rootUid:e.uid});h&&!c&&(t.overflow=st);t.overflow!==st&&e.options.resizable&&(c?o=s(c)?n(c(t)):n(c):l&&(o=(l.overflow||n.noop)(t)),o&&o.length&&(o.prop("tagName")!=="LI"&&(o.removeAttr(i),o=o.wrap("<li><\/li>").parent(),o.attr(i,t.uid)),e._attributes(o,t),o.addClass(a).appendTo(e.popup.container),o.data("overflow")===ht&&o.addClass(v),e.angular("compile",function(){return{elements:o.get()}})));t.overflow!==ii&&(h?(f=s(h)?h(t):h,f instanceof jQuery||(f=n(f.replace(/^\s+|\s+$/g,""))),f=f.wrap("<div><\/div>").parent(),f.attr(i,t.uid)):l&&(f=(l.toolbar||n.noop)(t)),f&&f.length&&(e._attributes(f,t),e.options.resizable?(f.appendTo(e.element).css("visibility","hidden"),e._shrink(e.element.innerWidth()),f.css("visibility","visible")):f.appendTo(e.element),e.angular("compile",function(){return{elements:f.get()}})))},remove:function(n){var t=this.element.find(n),r,u;!t.length&&this.options.resizable?(t=this.popup.element.find(n),u=t.parent().attr(i)):u=t.attr(i);r=t.data("type");t.parent("."+l).data("type")&&(r="splitButton",t=t.parent());r==="splitButton"&&t.data("kendoPopup").destroy();t.add(this.popup.element.find("["+i+"='"+u+"']")).remove()},enable:function(t,r){var u=this.element.find(t).attr(i);!u&&this.popup&&(u=this.popup.element.find(t).parent("li").attr(i));typeof r=="undefined"&&(r=!0);r?n("["+i+"='"+u+"']").removeClass(o):n("["+i+"='"+u+"']").addClass(o)},getSelectedFromGroup:function(n){return this.element.find("."+h+"[data-group='"+n+"']").filter("."+f)},toggle:function(t,r){var u=n(t),o=u.data("uid"),s=u.data("group"),e;u.hasClass(h)&&(s&&this.element.add(this.popup.element).find("."+h+"[data-group='"+s+"']").filter("."+f).removeClass(f),n.contains(this.element[0],u[0])?(e=this.popup.element.find("["+i+"='"+o+"']"),e.prop("tagName")==="LI"&&(e=e.find("."+h+":first"))):(o=o?o:u.parent().data("uid"),e=this.element.find("["+i+"='"+o+"']")),u.add(e).toggleClass(f,r))},_attributes:function(n,t){n.attr(r.attr("overflow"),t.overflow||ht)},_renderOverflow:function(){var t=this,f=u.overflowContainer;t.overflowAnchor=n(u.overflowAnchor).addClass(e);t.element.append(t.overflowAnchor);t.isMobile?(t.overflowAnchor.append('<span class="km-icon km-more"><\/span>'),f=at(f)):t.overflowAnchor.append('<span class="k-icon k-i-more"><\/span>');t.popup=new r.ui.Popup(f,{origin:"bottom right",position:"top right",anchor:t.overflowAnchor,animation:t.animation,appendTo:t.isMobile?n(t.isMobile).children(".km-pane"):null,copyAnchorStyles:!1,open:function(i){var u=r.wrap(t.popup.element).addClass("k-overflow-wrapper");t.isMobile?t.popup.container.css("max-height",parseFloat(n(".km-content:visible").innerHeight())-15+"px"):u.css("margin-left",(u.outerWidth()-u.width())/2+1);t.trigger(et)&&i.preventDefault()},close:function(n){t.trigger(ot)&&n.preventDefault()}});t.popup.container=t.isMobile?t.popup.element.find("."+ti):t.popup.element;t.popup.container.attr(i,this.uid)},_toggleOverflowAnchor:function(){this.popup.element.children(":not(."+v+", ."+pt+")").length>0?this.overflowAnchor.css({visibility:"visible",width:""}):this.overflowAnchor.css({visibility:"hidden",width:"1px"})},_buttonClick:function(i){var u=this,y,r,v,b,k,d,l,a,p;if((i.preventDefault(),r=n(i.target).closest("."+e,u.element),!r.hasClass(w))&&(!r.length&&u.popup&&(r=n(i.target).closest("."+c,u.popup.container)),b=r.hasClass(c)?r.parent("li").hasClass(o):r.hasClass(o),!b)){if(i.target.closest("."+g).length){u._toggle(i);return}p=r.attr("id")?r.attr("id").replace(/(_overflow$)/,""):t;r.hasClass(h)?(d=r.data("group"),l=s(r.data("toggle"))?r.data("toggle"):null,u.toggle(r),k=r.hasClass(f),a={target:r,group:d,checked:k,id:p},l&&l.call(u,a),u.trigger(rt,a)):(l=s(r.data("click"))?r.data("click"):null,a={target:r,id:p},l&&l.call(u,a),u.trigger(it,a));r.hasClass(c)&&u.popup.close();v=r.closest(".k-split-container");v[0]&&(y=v.data("kendoPopup"),(y?y:v.parents(".km-popup-wrapper").data("kendoPopup")).close())}},_toggle:function(t){var i=n(t.target).closest("."+l),r=i.data("kendoPopup"),u;(t.preventDefault(),i.hasClass(o))||(u=r.element.is(":visible")?this.trigger(ft,{target:i}):this.trigger(ut,{target:i}),u||r.toggle())},_toggleOverflow:function(){this.popup.toggle()},_resize:function(n){var t=n.width;this.options.resizable&&(this.popup.close(),this._shrink(t),this._stretch(t),this._markVisibles(),this._toggleOverflowAnchor())},_childrenWidth:function(){var t=0;return this.element.children(":visible").each(function(){t+=n(this).outerWidth(!0)}),Math.ceil(t)},_shrink:function(n){var r,i,t;if(n<this._childrenWidth())for(i=this.element.children(":visible:not([data-overflow='never'], ."+w+")"),t=i.length-1;t>=0;t--)if(r=i.eq(t),n>this._childrenWidth())break;else this._hideItem(r)},_stretch:function(n){var r,i,t;if(n>this._childrenWidth())for(i=this.element.children(":hidden"),t=0;t<i.length;t++)if(r=i.eq(t),n<this._childrenWidth()||!this._showItem(r,n))break},_hideItem:function(n){n.hide();this.popup&&this.popup.container.find(">li[data-uid='"+n.data("uid")+"']").removeClass(v)},_showItem:function(n,t){return n.length&&t>this._childrenWidth()+n.outerWidth(!0)?(n.show(),this.popup&&this.popup.container.find(">li[data-uid='"+n.data("uid")+"']").addClass(v),!0):!1},_markVisibles:function(){var n=this.popup.container.children(),t=this.element.children(":not(.k-overflow-anchor)"),i=n.filter(":not(.k-overflow-hidden)"),r=t.filter(":visible");n.add(t).removeClass(nt+" "+tt);i.first().add(r.first()).addClass(nt);i.last().add(r.last()).addClass(tt)}});r.ui.plugin(oi)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()});
//# sourceMappingURL=kendo.toolbar.min.js.map
