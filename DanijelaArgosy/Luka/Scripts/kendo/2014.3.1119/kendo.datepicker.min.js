(function(n,t){t(["./kendo.calendar","./kendo.popup"],n)})(function(){return function(n,t){function d(t){var i=t.parseFormats,r=t.format;s.normalize(t);i=n.isArray(i)?i:[i];n.inArray(r,i)===-1&&i.splice(0,0,t.format);t.parseFormats=i}function pt(n){n.preventDefault()}var i=window.kendo,e=i.ui,o=e.Widget,u=i.parseDate,f=i.keys,bt=i.template,kt=i._activeElement,g="<div />",nt="<span />",r=".kendoDatePicker",tt="click"+r,l="open",a="close",v="change",it="disabled",rt="readonly",y="k-state-default",ut="k-state-focused",ft="k-state-selected",p="k-state-disabled",dt="k-state-hover",ii="keydown"+r,gt="mouseenter"+r+" mouseleave"+r,et="mousedown"+r,w="id",ot="min",st="max",ht="month",ct="aria-disabled",lt="aria-expanded",b="aria-hidden",at="aria-readonly",s=i.calendar,ni=s.isInRange,vt=s.restrictValue,ti=s.isEqualDatePart,k=n.extend,h=n.proxy,yt=Date,c=function(t){var r=this,u,o=document.body,f=n(g).attr(b,"true").addClass("k-calendar-container").appendTo(o);r.options=t=t||{};u=t.id;u&&(u+="_dateview",f.attr(w,u),r._dateViewID=u);r.popup=new e.Popup(f,k(t.popup,t,{name:"Popup",isRtl:i.support.isRtl(t.anchor)}));r.div=f;r.value(t.value)},wt;c.prototype={_calendar:function(){var t=this,r=t.calendar,u=t.options,f;r||(f=n(g).attr(w,i.guid()).appendTo(t.popup.element).on(et,pt).on(tt,"td:has(.k-link)",h(t._click,t)),t.calendar=r=new e.Calendar(f),t._setOptions(u),i.calendar.makeUnselectable(r.element),r.navigate(t._value||t._current,u.start),t.value(t._value))},_setOptions:function(n){this.calendar.setOptions({focusOnNav:!1,change:n.change,culture:n.culture,dates:n.dates,depth:n.depth,footer:n.footer,format:n.format,max:n.max,min:n.min,month:n.month,start:n.start})},setOptions:function(n){var t=this.options;this.options=k(t,n,{change:t.change,close:t.close,open:t.open});this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){var n=this;n._calendar();n.popup.open()},close:function(){this.popup.close()},min:function(n){this._option(ot,n)},max:function(n){this._option(st,n)},toggle:function(){var n=this;n[n.popup.visible()?a:l]()},move:function(n){var t=this,i=n.keyCode,r=t.calendar,u=n.ctrlKey&&i==f.DOWN||i==f.ENTER;if(i==f.ESC){t.close();return}if(n.altKey){i==f.DOWN?(t.open(),n.preventDefault()):i==f.UP&&(t.close(),n.preventDefault());return}if(t.popup.visible()){if(u&&r._cell.hasClass(ft)){t.close();n.preventDefault();return}t._current=r._move(n)}},current:function(n){this._current=n;this.calendar._focus(n)},value:function(n){var t=this,i=t.calendar,r=t.options;t._value=n;t._current=new yt(+vt(n,r.min,r.max));i&&i.value(n)},_click:function(n){n.currentTarget.className.indexOf(ft)!==-1&&this.close()},_option:function(n,t){var i=this,r=i.calendar;i.options[n]=t;r&&r[n](t)}};c.normalize=d;i.DateView=c;wt=o.extend({init:function(n,t){var r=this,e,f;o.fn.init.call(r,n,t);n=r.element;t=r.options;t.min=u(n.attr("min"))||u(t.min);t.max=u(n.attr("max"))||u(t.max);d(t);r._wrapper();r.dateView=new c(k({},t,{id:n.attr(w),anchor:r.wrapper,change:function(){r._change(this.value());r.close()},close:function(t){r.trigger(a)?t.preventDefault():(n.attr(lt,!1),f.attr(b,!0))},open:function(t){var e=r.options,i;r.trigger(l)?t.preventDefault():(r.element.val()!==r._oldText&&(i=u(n.val(),e.parseFormats,e.culture),r.dateView[i?"current":"value"](i)),n.attr(lt,!0),f.attr(b,!1),r._updateARIA(i))}}));f=r.dateView.div;r._icon();try{n[0].setAttribute("type","text")}catch(s){n[0].type="text"}n.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":r.dateView._dateViewID});r._reset();r._template();e=n.is("[disabled]");e?r.enable(!1):r.readonly(n.is("[readonly]"));r._old=r._update(t.value||r.element.val());r._oldText=n.val();i.notify(r)},events:[l,a,v],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:ht,depth:ht,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(n){var t=this,r=t._value;o.fn.setOptions.call(t,n);n=t.options;n.min=u(n.min);n.max=u(n.max);d(n);t.dateView.setOptions(n);r&&(t.element.val(i.toString(r,n.format,n.culture)),t._updateARIA(r))},_editable:function(n){var t=this,o=t._dateIcon.off(r),f=t.element.off(r),e=t._inputWrapper.off(r),u=n.readonly,i=n.disable;if(u||i)e.addClass(i?p:y).removeClass(i?y:p),f.attr(it,i).attr(rt,u).attr(ct,i).attr(at,u);else{e.addClass(y).removeClass(p).on(gt,t._toggleHover);f.removeAttr(it).removeAttr(rt).attr(ct,!1).attr(at,!1).on("keydown"+r,h(t._keydown,t)).on("focusout"+r,h(t._blur,t)).on("focus"+r,function(){t._inputWrapper.addClass(ut)});o.on(tt,h(t._click,t)).on(et,pt)}},readonly:function(n){this._editable({readonly:n===t?!0:n,disable:!1})},enable:function(n){this._editable({readonly:!1,disable:!(n=n===t?!0:n)})},destroy:function(){var n=this;o.fn.destroy.call(n);n.dateView.destroy();n.element.off(r);n._dateIcon.off(r);n._inputWrapper.off(r);n._form&&n._form.off("reset",n._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(n){return this._option(ot,n)},max:function(n){return this._option(st,n)},value:function(n){var i=this;if(n===t)return i._value;i._old=i._update(n);i._old===null&&i.element.val("");i._oldText=i.element.val()},_toggleHover:function(t){n(t.currentTarget).toggleClass(dt,t.type==="mouseenter")},_blur:function(){var n=this,t=n.element.val();n.close();t!==n._oldText&&n._change(t);n._inputWrapper.removeClass(ut)},_click:function(){var n=this,t=n.element;n.dateView.toggle();i.support.touch||t[0]===kt()||t.focus()},_change:function(n){var t=this;n=t._update(n);+t._old!=+n&&(t._old=n,t._oldText=t.element.val(),t.element.trigger(v),t.trigger(v))},_keydown:function(n){var t=this,i=t.dateView,r=t.element.val();i.popup.visible()||n.keyCode!=f.ENTER||r===t._oldText?(i.move(n),t._updateARIA(i._current)):t._change(r)},_icon:function(){var i=this,r=i.element,t;t=r.next("span.k-select");t[0]||(t=n('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select<\/span><\/span>').insertAfter(r));i._dateIcon=t.attr({role:"button","aria-controls":i.dateView._dateViewID})},_option:function(n,i){var f=this,r=f.options;if(i===t)return r[n];(i=u(i,r.parseFormats,r.culture),i)&&(r[n]=new yt(+i),f.dateView[n](i))},_update:function(n){var f=this,r=f.options,e=r.min,h=r.max,o=f._value,t=u(n,r.parseFormats,r.culture),c=t===null&&o===null||t instanceof Date&&o instanceof Date,s;return+t==+o&&c?(s=i.toString(t,r.format,r.culture),s!==n&&f.element.val(t===null?n:s),t):(t!==null&&ti(t,e)?t=vt(t,e,h):ni(t,e,h)||(t=null),f._value=t,f.dateView.value(t),f.element.val(t?i.toString(t,r.format,r.culture):n),f._updateARIA(t),t)},_wrapper:function(){var r=this,i=r.element,t;t=i.parents(".k-datepicker");t[0]||(t=i.wrap(nt).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(nt).parent());t[0].style.cssText=i[0].style.cssText;i.css({width:"100%",height:i[0].style.height});r.wrapper=t.addClass("k-widget k-datepicker k-header").addClass(i[0].className);r._inputWrapper=n(t[0].firstChild)},_reset:function(){var t=this,i=t.element,r=i.attr("form"),u=r?n("#"+r):i.closest("form");u[0]&&(t._resetHandler=function(){t.value(i[0].defaultValue)},t._form=u.on("reset",t._resetHandler))},_template:function(){this._ariaTemplate=bt(this.options.ARIATemplate)},_updateARIA:function(n){var i,t=this,r=t.dateView.calendar;t.element.removeAttr("aria-activedescendant");r&&(i=r._cell,i.attr("aria-label",t._ariaTemplate({current:n||r.current()})),t.element.attr("aria-activedescendant",i.attr("id")))}});e.plugin(wt)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()});
//# sourceMappingURL=kendo.datepicker.min.js.map
