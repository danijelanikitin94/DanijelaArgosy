(function(n,t){t(["./kendo.mobile.pane","./kendo.router"],n)})(function(){return function(n,t){function wt(n,t){var r=[];return i&&r.push("km-on-"+i.name),n.skin?r.push("km-"+n.skin):n.name=="ios"&&n.majorVersion>6?r.push("km-ios7"):r.push("km-"+n.name),(n.name=="ios"&&n.majorVersion<7||n.name!="ios")&&r.push("km-"+n.name+n.majorVersion),r.push("km-"+n.majorVersion),r.push("km-m"+(n.minorVersion?n.minorVersion[0]:0)),n.variant&&(n.skin&&n.skin===n.name||!n.skin)&&r.push("km-"+(n.skin?n.skin:n.name)+"-"+n.variant),n.cordova&&r.push("km-cordova"),n.appMode?r.push("km-app"):r.push("km-web"),t&&t.statusBarStyle&&r.push("km-"+t.statusBarStyle+"-status-bar"),r.join(" ")}function bt(t){return"km-wp-"+(t.noVariantSet?parseInt(n("<div style='background: Background' />").css("background-color").split(",")[1],10)===0?"dark":"light":t.variant+" km-wp-"+t.variant+"-force")}function v(n){return i.wp?n.css("animation-name")=="-kendo-landscape":Math.abs(window.orientation)/90==1}function k(n){return v(n)?ut:rt}function d(n){n.parent().addBack().css("min-height",window.innerHeight)}function g(){n("meta[name=viewport]").remove();e.append(w({height:", width=device-width"+(v()?", height="+window.innerHeight+"px":f.mobileOS.flatVersion>=600&&f.mobileOS.flatVersion<700?", height="+window.innerWidth+"px":", height=device-height")}))}var r=window.kendo,h=r.mobile,f=r.support,c=h.ui.Widget,tt=h.ui.Pane,it="ios7",i=f.mobileOS,l=i.device=="blackberry"&&i.flatVersion>=600&&i.flatVersion<1e3&&i.appMode,rt="km-vertical",a=i.browser==="chrome",y=i.ios&&i.flatVersion>=700&&i.flatVersion<800&&(i.appMode||a),o=Math.abs(window.orientation)/90==1,ut="km-horizontal",p={ios7:{ios:!0,browser:"default",device:"iphone",flatVersion:"700",majorVersion:"7",minorVersion:"0.0",name:"ios",tablet:!1},ios:{ios:!0,browser:"default",device:"iphone",flatVersion:"612",majorVersion:"6",minorVersion:"1.2",name:"ios",tablet:!1},android:{android:!0,browser:"default",device:"android",flatVersion:"442",majorVersion:"4",minorVersion:"4.2",name:"android",tablet:!1},blackberry:{blackberry:!0,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:!1},meego:{meego:!0,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:!1},wp:{wp:!0,browser:"default",device:"wp",flatVersion:"800",majorVersion:"8",minorVersion:"0.0",name:"wp",tablet:!1}},w=r.template('<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no#=data.height#" name="viewport" />',{usedWithBlock:!1}),ft=r.template('<meta name="apple-mobile-web-app-capable" content="#= data.webAppCapable === false ? \'no\' : \'yes\' #" /> <meta name="apple-mobile-web-app-status-bar-style" content="#=data.statusBarStyle#" /> <meta name="msapplication-tap-highlight" content="no" /> ',{usedWithBlock:!1}),et=r.template("<style>.km-view { clip: rect(0 #= data.width #px #= data.height #px 0); }<\/style>",{usedWithBlock:!1}),ot=i.android&&i.browser!="chrome"||i.blackberry,st=w({height:""}),ht=r.template('<link rel="apple-touch-icon'+(i.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:!1}),ct=(i.device=="iphone"||i.device=="ipod")&&i.majorVersion<7,lt=(i.device=="iphone"||i.device=="ipod")&&i.majorVersion>=7,at=lt?"none":null,vt=i.browser=="mobilesafari"?60:0,s=20,yt=n(window),u=window.screen,e=n("head"),b="init",pt=n.proxy,nt=c.extend({init:function(t,i){t=n(t);t[0]||(t=n(document.body));h.application=this;c.fn.init.call(this,t,i);this.element.removeAttr("data-"+r.ns+"role");n(n.proxy(this,"bootstrap"))},bootstrap:function(){var i,t,r;this._setupPlatform();this._attachMeta();this._setupElementClass();this._attachHideBarHandlers();i=n.extend({},this.options);delete i.name;t=this;r=function(){t.pane=new tt(t.element,i);t.pane.navigateToInitial();t.options.updateDocumentTitle&&t._setupDocumentTitle();t._startHistory();t.trigger(b)};this.options.$angular?setTimeout(r):r()},options:{name:"Application",hideAddressBar:!0,browserHistory:!0,historyTransition:at,modelScope:window,statusBarStyle:"black",transition:"",platform:null,skin:null,updateDocumentTitle:!0,useNativeScrolling:!1},events:[b],navigate:function(n,t){this.pane.navigate(n,t)},replace:function(n,t){this.pane.replace(n,t)},scroller:function(){return this.view().scroller},hideLoading:function(){if(this.pane)this.pane.hideLoading();else throw new Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");},showLoading:function(){if(this.pane)this.pane.showLoading();else throw new Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");},changeLoadingMessage:function(n){if(this.pane)this.pane.changeLoadingMessage(n);else throw new Error("The mobile application instance is not fully instantiated. Please consider changing the message in the application init event handler.");},view:function(){return this.pane.view()},skin:function(n){var t=this;return arguments.length?(t.options.skin=n||"",t.element[0].className="km-pane",t._setupPlatform(),t._setupElementClass(),t.options.skin):t.options.skin},destroy:function(){c.fn.destroy.call(this);this.pane.destroy();this.router.destroy()},_setupPlatform:function(){var t=this,f=t.options.platform,e=t.options.skin,u=[],r=i||p[it];if(f&&(typeof f=="string"?(u=f.split("-"),r=n.extend({variant:u[1]},r,p[u[0]])):r=f),e&&(u=e.split("-"),r=n.extend({},r,{skin:u[0],variant:u[1]})),r.variant||(r.noVariantSet=!0,r.variant="dark"),t.os=r,t.osCssClass=wt(t.os,t.options),r.name=="wp"&&(t.refreshBackgroundColorProxy||(t.refreshBackgroundColorProxy=n.proxy(function(){(t.os.variant&&t.os.skin&&t.os.skin===t.os.name||!t.os.skin)&&t.element.removeClass("km-wp-dark km-wp-light km-wp-dark-force km-wp-light-force").addClass(bt(t.os))},t)),n(document).off("visibilitychange",t.refreshBackgroundColorProxy),n(document).off("resume",t.refreshBackgroundColorProxy),!r.skin)){t.element.parent().css("overflow","hidden");n(document).on("visibilitychange",t.refreshBackgroundColorProxy);n(document).on("resume",t.refreshBackgroundColorProxy);t.refreshBackgroundColorProxy()}},_startHistory:function(){this.options.browserHistory?(this.router=new r.Router({pushState:this.options.pushState,root:this.options.root,hashBang:this.options.hashBang}),this.pane.bindToRouter(this.router),this.router.start()):this.options.initial||this.pane.navigate("")},_resizeToScreenHeight:function(){var t=n("meta[name=apple-mobile-web-app-status-bar-style]").attr("content").match(/black-translucent|hidden/),i=this.element,r;r=a?window.innerHeight:v(i)?t?o?u.availWidth+s:u.availWidth:o?u.availWidth:u.availWidth-s:t?o?u.availHeight:u.availHeight+s:o?u.availHeight-s:u.availHeight;i.height(r)},_setupElementClass:function(){var i=this,u,t=i.element;t.parent().addClass("km-root km-"+(i.os.tablet?"tablet":"phone"));t.addClass(i.osCssClass+" "+k(t));this.options.useNativeScrolling&&t.parent().addClass("km-native-scrolling");a&&t.addClass("km-ios-chrome");f.wpDevicePixelRatio&&t.parent().css("font-size",f.wpDevicePixelRatio+"em");l&&g();i.options.useNativeScrolling?t.parent().addClass("km-native-scrolling"):ot&&(u=(screen.availWidth>screen.availHeight?screen.availWidth:screen.availHeight)+200,n(et({width:u,height:u})).appendTo(e));y&&i._resizeToScreenHeight();r.onResize(function(){t.removeClass("km-horizontal km-vertical").addClass(k(t));i.options.useNativeScrolling&&d(t);y&&i._resizeToScreenHeight();l&&g();r.resize(t)})},_clearExistingMeta:function(){e.find("meta").filter("[name|='apple-mobile-web-app'],[name|='msapplication-tap'],[name='viewport']").remove()},_attachMeta:function(){var t=this.options,n=t.icon,i;if(this._clearExistingMeta(),l||e.prepend(st),e.prepend(ft(t)),n){typeof n=="string"&&(n={"":n});for(i in n)e.prepend(ht({icon:n[i],size:i}))}t.useNativeScrolling&&d(this.element)},_attachHideBarHandlers:function(){var n=this,t=pt(n,"_hideBar");if(!f.mobileOS.appMode&&n.options.hideAddressBar&&ct&&!n.options.useNativeScrolling){n._initialHeight={};yt.on("load",t);r.onResize(function(){setTimeout(window.scrollTo,0,0,1)})}},_setupDocumentTitle:function(){var n=this,i=document.title;n.pane.bind("viewShow",function(n){var r=n.view.title;document.title=r!==t?r:i})},_hideBar:function(){var t=this,i=t.element;i.height(r.support.transforms.css+"calc(100% + "+vt+"px)");n(window).trigger(r.support.resize)}});r.mobile.Application=nt;r.ui.plugin(nt,r.mobile,"Mobile")}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()});
//# sourceMappingURL=kendo.mobile.application.min.js.map
