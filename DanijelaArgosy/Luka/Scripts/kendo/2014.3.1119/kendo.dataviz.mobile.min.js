(function(n,t){t([],n)})(function(){return function(n,t,i){function ft(){}function di(n,t){if(t)return"'"+n.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var i=n.charAt(0),r=n.substring(1);return i==="="?"+("+r+")+":i===":"?"+e("+r+")+":";"+n+";o+="}function f(n,t,i){return(n=n+"",t=t||2,i=t-n.length,i)?fr[t].substring(0,i)+n:n}function ti(n){var u=n.css(r.support.transitions.css+"box-shadow")||n.css("box-shadow"),t=u?u.match(pi)||[0,0,0,0,0]:[0,0,0,0,0],i=a.max(+t[3],+(t[4]||0));return{left:-t[1]+i,right:+t[1]+i,bottom:+t[2]+i}}function er(t,i){var h=u.browser,e,y=t.css("direction")=="rtl",f,c;if(t.parent().hasClass("k-animation-container"))f=t.parent(".k-animation-container"),c=f[0].style,f.is(":hidden")&&f.show(),e=it.test(c.width)||it.test(c.height),e||f.css({width:t.outerWidth(),height:t.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});else{var r=ti(t),o=t[0].style.width,s=t[0].style.height,l=it.test(o),v=it.test(s);h.opera&&(r.left=r.right=r.bottom=5);e=l||v;!l&&(!i||i&&o)&&(o=t.outerWidth());!v&&(!i||i&&s)&&(s=t.outerHeight());t.wrap(n("<div/>").addClass("k-animation-container").css({width:o,height:s,marginLeft:r.left*(y?1:-1),paddingLeft:r.left,paddingRight:r.right,paddingBottom:r.bottom}));e&&t.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}return h.msie&&a.floor(h.version)<=7&&(t.css({zoom:1}),t.children(".k-menu").width(t.width())),t.parent()}function lt(n){for(var t=1,i=arguments.length,t=1;t<i;t++)ii(n,arguments[t]);return n}function ii(n,t){var s=r.data.ObservableArray,h=r.data.LazyObservableArray,c=r.data.DataSource,l=r.data.HierarchicalDataSource,u,i,e,f,o;for(u in t)i=t[u],e=typeof i,f=e===w&&i!==null?i.constructor:null,f&&f!==Array&&f!==s&&f!==h&&f!==c&&f!==l?i instanceof Date?n[u]=new Date(i.getTime()):et(i.clone)?n[u]=i.clone():(o=n[u],n[u]=typeof o===w?o||{}:{},ii(n[u],i)):e!==ut&&(n[u]=i);return n}function at(n,t,r){for(var u in t)if(t.hasOwnProperty(u)&&t[u].test(n))return u;return r!==i?r:n}function or(n){return n.replace(/([a-z][A-Z])/g,function(n){return n.charAt(0)+"-"+n.charAt(1).toLowerCase()})}function ri(n){return n.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()})}function sr(t,i){var u={},f;return document.defaultView&&document.defaultView.getComputedStyle?(f=document.defaultView.getComputedStyle(t,""),i&&n.each(i,function(n,t){u[t]=f.getPropertyValue(t)})):(f=t.currentStyle,i&&n.each(i,function(n,t){u[t]=f[ri(t)]})),r.size(u)||(u=f),u}function hr(n){var t=0;for(var i in n)n.hasOwnProperty(i)&&i!="toJSON"&&t++;return t}function cr(n,i,r){i||(i="offset");var f=n[i](),e=u.mobileOS;return u.browser.msie&&(u.pointers||u.msPointers)&&!r&&(f.top-=t.pageYOffset-document.documentElement.scrollTop,f.left-=t.pageXOffset-document.documentElement.scrollLeft),f}function lr(n){var t={};return g(typeof n=="string"?n.split(" "):n,function(n){t[n]=this}),t}function ar(n){return new r.effects.Element(n)}function vr(n,t,i,r){return typeof n===e&&(et(t)&&(r=t,t=400,i=!1),et(i)&&(r=i,i=!1),typeof t===dt&&(i=t,t=400),n={effects:n,duration:t,reverse:i,complete:r}),h({effects:{},duration:400,reverse:!1,init:nt,teardown:nt,hide:!1},n,{completeCallback:n.complete,complete:nt})}function fi(t,i,r,u,f){for(var e=0,s=t.length,o;e<s;e++)o=n(t[e]),o.queue(function(){b.promise(o,vr(i,r,u,f))});return t}function yr(n,t,i,r){return t&&(t=t.split(" "),g(t,function(t,i){n.toggleClass(i,r)})),n}function gr(n){return(""+n).replace(pr,"&amp;").replace(wr,"&lt;").replace(dr,"&gt;").replace(br,"&quot;").replace(kr,"&#39;")}function pt(n,t){var u;return t.indexOf("data")===0&&(t=t.substring(4),t=t.charAt(0).toLowerCase()+t.substring(1)),t=t.replace(ru,"-$1"),u=n.getAttribute("data-"+r.ns+t),u===null?u=i:u==="null"?u=null:u==="true"?u=!0:u==="false"?u=!1:wi.test(u)?u=parseFloat(u):tu.test(u)&&!iu.test(u)&&(u=new Function("return ("+u+")")()),u}function si(t,u){var o={},e,f;for(e in u)f=pt(t,e),f!==i&&(nu.test(e)&&(f=r.template(n("#"+f).html())),o[e]=f);return o}function uu(t,i){return n.contains(t,i)?-1:1}function fu(){var t=n(this);return n.inArray(t.attr("data-"+r.ns+"role"),["slider","rangeslider"])>-1||t.is(":visible")}function eu(n,t){var i=n.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(i)?!n.disabled:"a"===i?n.href||t:t)&&ou(n)}function ou(t){return!n(t).parents().addBack().filter(function(){return n.css(this,"visibility")==="hidden"||n.expr.filters.hidden(this)}).length}function s(n,t){return new s.fn.init(n,t)}var r=t.kendo=t.kendo||{cultures:{}},h=n.extend,g=n.each,vi=n.isArray,st=n.proxy,nt=n.noop,a=Math,p,tt=t.JSON||{},u={},it=/%/,yi=/\{(\d+)(:[^\}]+)?\}/g,pi=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,wi=/^(\+|-?)\d+(\.?)\d*$/,c="function",e="string",v="number",w="object",rt="null",dt="boolean",ut="undefined",gt={},ni={},ht=[].slice,l=t.Globalize,ui,b,vt,ei,oi,k,yt,wt,bt,ci,kt,ot,li,ai,y;r.version="2014.3.1119";ft.extend=function(n){var r=function(){},t,u=this,i=n&&n.init?n.init:function(){u.apply(this,arguments)},f;r.prototype=u.prototype;f=i.fn=i.prototype=new r;for(t in n)f[t]=n[t]!=null&&n[t].constructor===Object?h(!0,{},r.prototype[t],n[t]):n[t];return f.constructor=i,i.extend=u.extend,i};ft.prototype._initOptions=function(n){this.options=lt({},this.options,n)};var et=r.isFunction=function(n){return typeof n=="function"},bi=function(){this._defaultPrevented=!0},ki=function(){return this._defaultPrevented===!0},ct=ft.extend({init:function(){this._events={}},bind:function(n,t,r){var u=this,f,h=typeof n===e?[n]:n,l,s,o,v=typeof t===c,a;if(t===i){for(f in n)u.bind(f,n[f]);return u}for(f=0,l=h.length;f<l;f++)n=h[f],o=v?t:t[n],o&&(r&&(s=o,o=function(){u.unbind(n,o);s.apply(u,arguments)},o.original=s),a=u._events[n]=u._events[n]||[],a.push(o));return u},one:function(n,t){return this.bind(n,t,!0)},first:function(n,t){for(var r=this,f=typeof n===e?[n]:n,u,h=typeof t===c,s,i=0,o=f.length;i<o;i++)n=f[i],u=h?t:t[n],u&&(s=r._events[n]=r._events[n]||[],s.unshift(u));return r},trigger:function(n,t){var u=this,i=u._events[n],r,f;if(i){for(t=t||{},t.sender=u,t._defaultPrevented=!1,t.preventDefault=bi,t.isDefaultPrevented=ki,i=i.slice(),r=0,f=i.length;r<f;r++)i[r].call(u,t);return t._defaultPrevented===!0}return!1},unbind:function(n,t){var f=this,u=f._events[n],r;if(n===i)f._events={};else if(u)if(t)for(r=u.length-1;r>=0;r--)(u[r]===t||u[r].original===t)&&u.splice(r,1);else f._events[n]=[];return f}});var gi=/^\w+/,nr=/\$\{([^}]*)\}/g,tr=/\\\}/g,ir=/__CURLY__/g,rr=/\\#/g,ur=/__SHARP__/g,fr=["","0","00","000","0000"];p={paramName:"data",useWithBlock:!0,render:function(n,t){for(var u="",i=0,r=t.length;i<r;i++)u+=n(t[i]);return u},compile:function(n,t){var o=h({},this,t),s=o.paramName,l=s.match(gi)[0],c=o.useWithBlock,i="var o,e=kendo.htmlEncode;",e,f,u;if(et(n))return n;for(i+=c?"with("+s+"){":"",i+="o=",f=n.replace(tr,"__CURLY__").replace(nr,"#=e($1)#").replace(ir,"}").replace(rr,"__SHARP__").split("#"),u=0;u<f.length;u++)i+=di(f[u],u%2==0);i+=c?";}":";";i+="return o;";i=i.replace(ur,"#");try{return e=new Function(l,i),e._slotCount=Math.floor(f.length/2),e}catch(a){throw new Error(r.format("Invalid template:'{0}' Generated code:'{1}'",n,i));}}},function(){function o(n){return u.lastIndex=0,u.test(n)?'"'+n.replace(u,function(n){var t=s[n];return typeof t===e?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(u,f){var l,p,a,k,d=n,y,s=f[u],b;if(s&&typeof s===w&&typeof s.toJSON===c&&(s=s.toJSON(u)),typeof t===c&&(s=t.call(f,u,s)),b=typeof s,b===e)return o(s);if(b===v)return isFinite(s)?String(s):rt;if(b===dt||b===rt)return String(s);if(b===w){if(!s)return rt;if(n+=i,y=[],h.apply(s)==="[object Array]"){for(k=s.length,l=0;l<k;l++)y[l]=r(l,s)||rt;return a=y.length===0?"[]":n?"[\n"+n+y.join(",\n"+n)+"\n"+d+"]":"["+y.join(",")+"]",n=d,a}if(t&&typeof t===w)for(k=t.length,l=0;l<k;l++)typeof t[l]===e&&(p=t[l],a=r(p,s),a&&y.push(o(p)+(n?": ":":")+a));else for(p in s)Object.hasOwnProperty.call(s,p)&&(a=r(p,s),a&&y.push(o(p)+(n?": ":":")+a));return a=y.length===0?"{}":n?"{\n"+n+y.join(",\n"+n)+"\n"+d+"}":"{"+y.join(",")+"}",n=d,a}}var u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,i,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t,h={}.toString;typeof Date.prototype.toJSON!==c&&(Date.prototype.toJSON=function(){var n=this;return isFinite(n.valueOf())?f(n.getUTCFullYear(),4)+"-"+f(n.getUTCMonth()+1)+"-"+f(n.getUTCDate())+"T"+f(n.getUTCHours())+":"+f(n.getUTCMinutes())+":"+f(n.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});typeof tt.stringify!==c&&(tt.stringify=function(u,f,o){var s;if(n="",i="",typeof o===v)for(s=0;s<o;s+=1)i+=" ";else typeof o===e&&(i=o);if(t=f,f&&typeof f!==c&&(typeof f!==w||typeof f.length!==v))throw new Error("JSON.stringify");return r("",{"":u})})}(),function(){function w(n){if(n){if(n.numberFormat)return n;if(typeof n===e){var t=r.cultures;return t[n]||t[n.split("-")[0]]||null}return null}return null}function b(n){return n&&(n=w(n)),n||r.cultures.current}function rt(n){n.groupSizes=n.groupSize;n.percent.groupSizes=n.percent.groupSize;n.currency.groupSizes=n.currency.groupSize}function ut(n,t,r){r=b(r);var u=r.calendars.standard,e=u.days,o=u.months;return t=u.patterns[t]||t,t.replace(d,function(t){var s,r,h;return t==="d"?r=n.getDate():t==="dd"?r=f(n.getDate()):t==="ddd"?r=e.namesAbbr[n.getDay()]:t==="dddd"?r=e.names[n.getDay()]:t==="M"?r=n.getMonth()+1:t==="MM"?r=f(n.getMonth()+1):t==="MMM"?r=o.namesAbbr[n.getMonth()]:t==="MMMM"?r=o.names[n.getMonth()]:t==="yy"?r=f(n.getFullYear()%100):t==="yyyy"?r=f(n.getFullYear(),4):t==="h"?r=n.getHours()%12||12:t==="hh"?r=f(n.getHours()%12||12):t==="H"?r=n.getHours():t==="HH"?r=f(n.getHours()):t==="m"?r=n.getMinutes():t==="mm"?r=f(n.getMinutes()):t==="s"?r=n.getSeconds():t==="ss"?r=f(n.getSeconds()):t==="f"?r=a.floor(n.getMilliseconds()/100):t==="ff"?(r=n.getMilliseconds(),r>99&&(r=a.floor(r/10)),r=f(r)):t==="fff"?r=f(n.getMilliseconds(),3):t==="tt"?r=n.getHours()<12?u.AM[0]:u.PM[0]:t==="zzz"?(s=n.getTimezoneOffset(),h=s<0,r=a.abs(s/60).toString().split(".")[0],s=a.abs(s)-r*60,r=(h?"+":"-")+f(r)+(":"+f(s))):(t==="zz"||t==="z")&&(r=n.getTimezoneOffset()/60,h=r<0,r=a.abs(r).toString().split(".")[0],r=(h?"+":"-")+(t==="zz"?f(r):r)),r!==i?r:t.slice(1,t.length-1)})}function ft(n,r,f){f=b(f);var l=f.numberFormat,ot=l.groupSize[0],lt=l[c],vt=l[u],at=l.decimals,kt=l.pattern[0],dt=[],yt,ft,st,pt,wt,et=n<0,w,p,rt,ei,gt=t,y=t,e,ut,d,ni,ri,it,v,a,bt,ti,ui,ii,fi,ht=-1,ct;if(n===i)return t;if(!isFinite(n))return n;if(!r)return f.name.length?n.toLocaleString():n.toString();if(wt=g.exec(r),wt){if(r=wt[1].toLowerCase(),ft=r==="c",st=r==="p",(ft||st)&&(l=ft?l.currency:l.percent,ot=l.groupSize[0],lt=l[c],vt=l[u],at=l.decimals,yt=l.symbol,kt=l.pattern[et?0:1]),pt=wt[2],pt&&(at=+pt),r==="e")return pt?n.toExponential(at):n.toExponential();if(st&&(n*=100),n=o(n,at),et=n<0,n=n.split(u),w=n[0],p=n[1],et&&(w=w.substring(1)),y=w,rt=w.length,rt>=ot)for(y=t,e=0;e<rt;e++)e>0&&(rt-e)%ot==0&&(y+=lt),y+=w.charAt(e);if(p&&(y+=vt+p),r==="n"&&!et)return y;for(n=t,e=0,ut=kt.length;e<ut;e++)d=kt.charAt(e),n+=d==="n"?y:d==="$"||d==="%"?yt:d;return n}if(et&&(n=-n),(r.indexOf("'")>-1||r.indexOf('"')>-1||r.indexOf("\\")>-1)&&(r=r.replace(nt,function(n){var t=n.charAt(0).replace("\\",""),i=n.slice(1).replace(t,"");return dt.push(i),k})),r=r.split(";"),et&&r[1])r=r[1],ri=!0;else if(n===0){if(r=r[2]||r[0],r.indexOf(s)==-1&&r.indexOf(h)==-1)return r}else r=r[0];if(ui=r.indexOf("%"),ii=r.indexOf("$"),st=ui!=-1,ft=ii!=-1,st&&(n*=100),ft&&r[ii-1]==="\\"&&(r=r.split("\\").join(""),ft=!1),(ft||st)&&(l=ft?l.currency:l.percent,ot=l.groupSize[0],lt=l[c],vt=l[u],at=l.decimals,yt=l.symbol),ni=r.indexOf(c)>-1,ni&&(r=r.replace(tt,t)),it=r.indexOf(u),ut=r.length,it!=-1?(p=n.toString().split("e"),p=p[1]?o(n,Math.abs(p[1])):p[0],p=p.split(u)[1]||t,a=r.lastIndexOf(h)-it,v=r.lastIndexOf(s)-it,bt=a>-1,ti=v>-1,e=p.length,bt||ti||(r=r.substring(0,it)+r.substring(it+1),ut=r.length,it=-1,e=0),bt&&a>v?e=a:v>a&&(ti&&e>v?e=v:bt&&e<a&&(e=a)),e>-1&&(n=o(n,e))):n=o(n),v=r.indexOf(s),fi=a=r.indexOf(h),ht=v==-1&&a!=-1?a:v!=-1&&a==-1?v:v>a?a:v,v=r.lastIndexOf(s),a=r.lastIndexOf(h),ct=v==-1&&a!=-1?a:v!=-1&&a==-1?v:v>a?v:a,ht==ut&&(ct=ht),ht!=-1){if(y=n.toString().split(u),w=y[0],p=y[1]||t,rt=w.length,ei=p.length,et&&n*-1>=0&&(et=!1),ni)if(rt===ot&&rt<it-fi)w=lt+w;else if(rt>ot){for(y=t,e=0;e<rt;e++)e>0&&(rt-e)%ot==0&&(y+=lt),y+=w.charAt(e);w=y}for(n=r.substring(0,ht),et&&!ri&&(n+="-"),e=ht;e<ut;e++){if(d=r.charAt(e),it==-1){if(ct-e<rt){n+=w;break}}else if(a!=-1&&a<e&&(gt=t),it-e<=rt&&it-e>-1&&(n+=w,e=it),it===e){n+=(p?vt:t)+p;e+=ct-it+1;continue}d===h?(n+=d,gt=d):d===s&&(n+=gt)}if(ct>=ht&&(n+=r.substring(ct+1)),ft||st){for(y=t,e=0,ut=n.length;e<ut;e++)d=n.charAt(e),y+=d==="$"||d==="%"?yt:d;n=y}if(ut=dt.length,ut)for(e=0;e<ut;e++)n=n.replace(k,dt[e])}return n}var d=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,g=/^(n|c|p|e)(\d*)$/i,nt=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,tt=/\,/g,t="",u=".",c=",",s="#",h="0",k="??",p="en-US",it={}.toString,o,y;r.cultures["en-US"]={name:p,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}};r.culture=function(n){var u=r.cultures,t;if(n!==i)t=w(n)||u[p],t.calendar=t.calendars.standard,u.current=t,l&&!l.load&&rt(t.numberFormat);else return u.current};r.findCulture=w;r.getCulture=b;r.culture(p);o=function(n,t){return t=t||0,n=n.toString().split("e"),n=Math.round(+(n[0]+"e"+(n[1]?+n[1]+t:t))),n=n.toString().split("e"),n=+(n[0]+"e"+(n[1]?+n[1]-t:-t)),n.toFixed(t)};y=function(n,t,r){if(t){if(it.call(n)==="[object Date]")return ut(n,t,r);if(typeof n===v)return ft(n,t,r)}return n!==i?n:""};l&&!l.load&&(y=function(t,i,r){return n.isPlainObject(r)&&(r=r.name),l.format(t,i,r)});r.format=function(n){var t=arguments;return n.replace(yi,function(n,i,r){var u=t[parseInt(i,10)+1];return y(u,r?r.substring(1):"")})};r._extractFormat=function(n){return n.slice(0,3)==="{0:"&&(n=n.slice(3,n.length-1)),n};r._activeElement=function(){try{return document.activeElement}catch(n){return document.documentElement.activeElement}};r._round=o;r.toString=y}(),function(){function t(n,t,i){return!(n>=t&&n<=i)}function b(n){return n.charAt(0)}function s(t){return n.map(t,b)}function k(n,t){t||n.getHours()!==23||n.setHours(n.getHours()+2)}function d(n){for(var t=0,r=n.length,i=[];t<r;t++)i[t]=(n[t]+"").toLowerCase();return i}function h(n){var t={};for(var i in n)t[i]=d(n[i]);return t}function g(n,r,u){if(!n)return null;var b=function(n){for(var t=0;r[ut]===n;)t++,ut++;return t>0&&(ut-=1),t},tt=function(t){var r=e[t]||new RegExp("^\\d{1,"+t+"}"),i=n.substr(p,t).match(r);return i?(i=i[0],p+=i.length,parseInt(i,10)):null},ht=function(t,i){for(var r=0,o=t.length,f,e,u;r<o;r++)if(f=t[r],e=f.length,u=n.substr(p,e),i&&(u=u.toLowerCase()),u==f)return p+=e,r+1;return null},ct=function(){var t=!1;return n.charAt(p)===r[ut]&&(p++,t=!0),t},v=u.calendars.standard,c=null,it=null,d=null,o=null,rt=null,ft=null,g=null,ut=0,p=0,yt=!1,pt=new Date,lt=v.twoDigitYearMax||2029,ot=pt.getFullYear(),l,f,dt,wt,bt,kt,et,at,vt,w,nt,gt,st;for(r||(r="d"),wt=v.patterns[r],wt&&(r=wt),r=r.split(""),dt=r.length;ut<dt;ut++)if(l=r[ut],yt)l==="'"?yt=!1:ct();else if(l==="d"){if(f=b("d"),v._lowerDays||(v._lowerDays=h(v.days)),d=f<3?tt(2):ht(v._lowerDays[f==3?"namesAbbr":"names"],!0),d===null||t(d,1,31))return null}else if(l==="M"){if(f=b("M"),v._lowerMonths||(v._lowerMonths=h(v.months)),it=f<3?tt(2):ht(v._lowerMonths[f==3?"namesAbbr":"names"],!0),it===null||t(it,1,12))return null;it-=1}else if(l==="y"){if(f=b("y"),c=tt(f),c===null)return null;f==2&&(typeof lt=="string"&&(lt=ot+parseInt(lt,10)),c=ot-ot%100+c,c>lt&&(c-=100))}else if(l==="h"){if(b("h"),o=tt(2),o==12&&(o=0),o===null||t(o,0,11))return null}else if(l==="H"){if(b("H"),o=tt(2),o===null||t(o,0,23))return null}else if(l==="m"){if(b("m"),rt=tt(2),rt===null||t(rt,0,59))return null}else if(l==="s"){if(b("s"),ft=tt(2),ft===null||t(ft,0,59))return null}else if(l==="f"){if(f=b("f"),st=n.substr(p,f).match(e[3]),g=tt(f),g!==null&&(st=st[0].length,st<3&&(g*=Math.pow(10,3-st)),f>3&&(g=parseInt(g.toString().substring(0,3),10))),g===null||t(g,0,999))return null}else if(l==="t"){if(f=b("t"),at=v.AM,vt=v.PM,f===1&&(at=s(at),vt=s(vt)),bt=ht(vt),!bt&&!ht(at))return null}else if(l==="z"){if(kt=!0,f=b("z"),n.substr(p,1)==="Z"){ct();continue}if((et=n.substr(p,6).match(f>2?y:a),!et)||(et=et[0].split(":"),w=et[0],nt=et[1],!nt&&w.length>3&&(p=w.length-2,nt=w.substring(p),w=w.substring(0,p)),w=parseInt(w,10),t(w,-12,13))||f>2&&(nt=parseInt(nt,10),isNaN(nt)||t(nt,0,59)))return null}else if(l==="'")yt=!0,ct();else if(!ct())return null;return(gt=o!==null||rt!==null||ft||null,c===null&&it===null&&d===null&&gt?(c=ot,it=pt.getMonth(),d=pt.getDate()):(c===null&&(c=ot),d===null&&(d=1)),bt&&o<12&&(o+=12),kt?(w&&(o+=-w),nt&&(rt+=-nt),n=new Date(Date.UTC(c,it,d,o,rt,ft,g))):(n=new Date(c,it,d,o,rt,ft,g),k(n,o)),c<100&&n.setFullYear(c),n.getDate()!==d&&kt===i)?null:n}function nt(n){var t=n.substr(0,1)==="-"?-1:1;return n=n.substring(1),n=parseInt(n.substr(0,2),10)*60+parseInt(n.substring(2),10),t*n}var u=/\u00A0/g,c=/[eE][\-+]?[0-9]+/,a=/[+|\-]\d{1,2}/,y=/[+|\-]\d{1,2}:?\d{2}/,p=/^\/Date\((.*?)\)\/$/,w=/[+-]\d*/,f=["G","g","d","F","D","y","m","T","t"],e={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},o={}.toString;r.parseDate=function(n,t,i){if(o.call(n)==="[object Date]")return n;var e=0,u=null,h,c,s;if(n&&n.indexOf("/D")===0&&(u=p.exec(n),u))return u=u[1],s=w.exec(u.substring(1)),u=new Date(parseInt(u,10)),s&&(s=nt(s[0]),u=r.timezone.apply(u,0),u=r.timezone.convert(u,0,-1*s)),u;if(i=r.getCulture(i),!t){for(t=[],c=i.calendar.patterns,h=f.length;e<h;e++)t[e]=c[f[e]];e=0;t=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fff","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"].concat(t)}for(t=vi(t)?t:[t],h=t.length;e<h;e++)if(u=g(n,t[e],i),u)return u;return u};r.parseInt=function(n,t){var i=r.parseFloat(n,t);return i&&(i=i|0),i};r.parseFloat=function(n,t,i){if(!n&&n!==0)return null;if(typeof n===v)return n;n=n.toString();t=r.getCulture(t);var f=t.numberFormat,h=f.percent,l=f.currency,s=l.symbol,a=h.symbol,e=n.indexOf("-"),o,y;return c.test(n)?(n=parseFloat(n.replace(f["."],".")),isNaN(n)&&(n=null),n):e>0?null:(e=e>-1,n.indexOf(s)>-1||i&&i.toLowerCase().indexOf("c")>-1?(f=l,o=f.pattern[0].replace("$",s).split("n"),n.indexOf(o[0])>-1&&n.indexOf(o[1])>-1&&(n=n.replace(o[0],"").replace(o[1],""),e=!0)):n.indexOf(a)>-1&&(y=!0,f=h,s=a),n=n.replace("-","").replace(s,"").replace(u," ").split(f[","].replace(u," ")).join("").replace(f["."],"."),n=parseFloat(n),isNaN(n)?n=null:e&&(n*=-1),n&&y&&(n/=100),n)};l&&!l.load&&(r.parseDate=function(n,t,i){return o.call(n)==="[object Date]"?n:l.parseDate(n,t,i)},r.parseFloat=function(t,r){return typeof t===v?t:t===i||t===null?null:(n.isPlainObject(r)&&(r=r.name),t=l.parseFloat(t,r),isNaN(t)?null:t)})}(),function(){var s,f,r,l;u._scrollbar=i;u.scrollbar=function(n){if(isNaN(u._scrollbar)||n){var t=document.createElement("div"),i;return t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",t.innerHTML="&nbsp;",document.body.appendChild(t),u._scrollbar=i=t.offsetWidth-t.scrollWidth,document.body.removeChild(t),i}return u._scrollbar};u.isRtl=function(t){return n(t).closest(".k-rtl").length>0};s=document.createElement("table");try{s.innerHTML="<tr><td><\/td><\/tr>";u.tbodyInnerHtml=!0}catch(a){u.tbodyInnerHtml=!1}u.touch="ontouchstart"in t;u.msPointers=t.MSPointerEvent;u.pointers=t.PointerEvent;var h=u.transitions=!1,c=u.transforms=!1,o="HTMLElement"in t?HTMLElement.prototype:[];u.hasHW3D="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style;g(["Moz","webkit","O","ms"],function(){var t=this.toString(),i=typeof s.style[t+"Transition"]===e,n;if(i||typeof s.style[t+"Transform"]===e)return n=t.toLowerCase(),c={css:n!="ms"?"-"+n+"-":"",prefix:t,event:n==="o"||n==="webkit"?n:""},i&&(h=c,h.event=h.event?h.event+"TransitionEnd":"transitionend"),!1});s=null;u.transforms=c;u.transitions=h;u.devicePixelRatio=t.devicePixelRatio===i?1:t.devicePixelRatio;try{u.screenWidth=t.outerWidth||t.screen?t.screen.availWidth:t.innerWidth;u.screenHeight=t.outerHeight||t.screen?t.screen.availHeight:t.innerHeight}catch(a){u.screenWidth=t.screen.availWidth;u.screenHeight=t.screen.availHeight}u.detectOS=function(n){var i=!1,f,e=[],s=!/mobile safari/i.test(n),o={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},h={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},c={tablet:/playbook|ipad|fire/i},l={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var r in o)if(o.hasOwnProperty(r)&&(e=n.match(o[r]),e)){if(r=="windows"&&"plugins"in navigator)return!1;i={};i.device=r;i.tablet=at(r,c,!1);i.browser=at(n,l,"default");i.name=at(r,h);i[i.name]=!0;i.majorVersion=e[2];i.minorVersion=e[3].replace("_",".");f=i.minorVersion.replace(".","").substr(0,2);i.flatVersion=i.majorVersion+f+new Array(3-(f.length<3?f.length:2)).join("0");i.cordova=typeof t.PhoneGap!==ut||typeof t.cordova!==ut;i.appMode=t.navigator.standalone||/file|local|wmapp/.test(t.location.protocol)||i.cordova;i.android&&(u.devicePixelRatio<1.5&&i.flatVersion<400||s)&&(u.screenWidth>800||u.screenHeight>800)&&(i.tablet=r);break}return i};f=u.mobileOS=u.detectOS(navigator.userAgent);u.wpDevicePixelRatio=f.wp?screen.width/320:0;u.kineticScrollNeeded=f&&(u.touch||u.msPointers||u.pointers);u.hasNativeScrolling=!1;(f.ios||f.android&&f.majorVersion>2||f.wp)&&(u.hasNativeScrolling=f);u.mouseAndTouchPresent=u.touch&&!(u.mobileOS.ios||u.mobileOS.android);u.detectBrowser=function(n){var t=!1,i=[],r={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var u in r)if(r.hasOwnProperty(u)&&(i=n.match(r[u]),i)){t={};t[u]=!0;t[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0;t.version=parseInt(document.documentMode||i[2],10);break}return t};u.browser=u.detectBrowser(navigator.userAgent);u.zoomLevel=function(){try{return u.touch?document.documentElement.clientWidth/t.innerWidth:u.browser.msie&&u.browser.version>=10?(top||t).document.documentElement.offsetWidth/(top||t).innerWidth:1}catch(n){return 1}};u.cssBorderSpacing=typeof document.documentElement.style.borderSpacing!="undefined"&&!(u.browser.msie&&u.browser.version<8),function(t){var i="",r=n(document.documentElement),f=parseInt(t.version,10);t.msie?i="ie":t.mozilla?i="ff":t.safari?i="safari":t.webkit?i="webkit":t.opera&&(i="opera");i&&(i="k-"+i+" k-"+i+f);u.mobileOS&&(i+=" k-mobile");r.addClass(i)}(u.browser);u.eventCapture=document.documentElement.addEventListener;r=document.createElement("input");u.placeholder="placeholder"in r;u.propertyChangeEvent="onpropertychange"in r;u.input=function(){for(var i=["number","date","time","month","week","datetime","datetime-local"],e=i.length,u="test",f={},n=0,t;n<e;n++)t=i[n],r.setAttribute("type",t),r.value=u,f[t.replace("-","")]=r.type!=="text"&&r.value!==u;return f}();r.style.cssText="float:left;";u.cssFloat=!!r.style.cssFloat;r=null;u.stableSort=function(){for(var n=[{index:0,field:"b"}],t=1;t<513;t++)n.push({index:t,field:"a"});return n.sort(function(n,t){return n.field>t.field?1:n.field<t.field?-1:0}),n[0].index===1}();u.matchesSelector=o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.matchesSelector||o.matches||function(t){for(var i=document.querySelectorAll?(this.parentNode||document).querySelectorAll(t)||[]:n(t),r=i.length;r--;)if(i[r]==this)return!0;return!1};u.pushState=t.history&&t.history.pushState;l=document.documentMode;u.hashChange="onhashchange"in t&&!(u.browser.msie&&(!l||l<=8))}();ui={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}};b={};n.extend(b,{enabled:!0,Element:function(t){this.element=n(t)},promise:function(n,t){n.is(":visible")||n.css({display:n.data("olddisplay")||"block"}).css("display");t.hide&&n.data("olddisplay",n.css("display")).hide();t.init&&t.init();t.completeCallback&&t.completeCallback(n);n.dequeue()},disable:function(){this.enabled=!1;this.promise=this.promiseShim},enable:function(){this.enabled=!0;this.promise=this.animatedPromise}});b.promiseShim=b.promise;"kendoAnimate"in n.fn||h(n.fn,{kendoStop:function(n,t){return this.stop(n,t)},kendoAnimate:function(n,t,i,r){return fi(this,n,t,i,r)},kendoAddClass:function(n,t){return r.toggleClass(this,n,t,!0)},kendoRemoveClass:function(n,t){return r.toggleClass(this,n,t,!1)},kendoToggleClass:function(n,t,i){return r.toggleClass(this,n,t,i)}});var pr=/&/g,wr=/</g,br=/"/g,kr=/'/g,dr=/>/g;vt=function(n){return n.target};u.touch&&(vt=function(n){var t="originalEvent"in n?n.originalEvent.changedTouches:"changedTouches"in n?n.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):n.target},g(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(t,i){n.fn[i]=function(n){return this.bind(i,n)}}));u.touch?u.mobileOS?(u.mousedown="touchstart",u.mouseup="touchend",u.mousemove="touchmove",u.mousecancel="touchcancel",u.click="touchend",u.resize="orientationchange"):(u.mousedown="mousedown touchstart",u.mouseup="mouseup touchend",u.mousemove="mousemove touchmove",u.mousecancel="mouseleave touchcancel",u.click="click",u.resize="resize"):u.pointers?(u.mousemove="pointermove",u.mousedown="pointerdown",u.mouseup="pointerup",u.mousecancel="pointercancel",u.click="pointerup",u.resize="orientationchange resize"):u.msPointers?(u.mousemove="MSPointerMove",u.mousedown="MSPointerDown",u.mouseup="MSPointerUp",u.mousecancel="MSPointerCancel",u.click="MSPointerUp",u.resize="orientationchange resize"):(u.mousemove="mousemove",u.mousedown="mousedown",u.mouseup="mouseup",u.mousecancel="mouseleave",u.click="click",u.resize="resize");ei=function(n,t){for(var o=t||"d",r,i,e=1,u=0,f=n.length;u<f;u++)i=n[u],i!==""&&(r=i.indexOf("["),r!==0&&(r==-1?i="."+i:(e++,i="."+i.substring(0,r)+" || {})"+i.substring(r))),e++,o+=i+(u<f-1?" || {})":")"));return new Array(e).join("(")+o};oi=/^([a-z]+:)?\/\//i;h(r,{ui:r.ui||{},fx:r.fx||ar,effects:r.effects||b,mobile:r.mobile||{},data:r.data||{},dataviz:r.dataviz||{},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:r.support||u,animate:r.animate||fi,ns:"",attr:function(n){return"data-"+r.ns+n},getShadows:ti,wrap:er,deepExtend:lt,getComputedStyles:sr,size:hr,toCamelCase:ri,toHyphens:or,getOffset:r.getOffset||cr,parseEffects:r.parseEffects||lr,toggleClass:r.toggleClass||yr,directions:r.directions||ui,Observable:ct,Class:ft,Template:p,template:st(p.compile,p),render:st(p.render,p),stringify:st(tt.stringify,tt),eventTarget:vt,htmlEncode:gr,isLocalUrl:function(n){return n&&!oi.test(n)},expr:function(n,t,i){return n=n||"",typeof t==e&&(i=t,t=!1),i=i||"d",n&&n.charAt(0)!=="["&&(n="."+n),t?ei(n.split("."),i):i+n},getter:function(n,t){var i=n+t;return gt[i]=gt[i]||new Function("d","return "+r.expr(n,t))},setter:function(n){return ni[n]=ni[n]||new Function("d,value",r.expr(n)+"=value")},accessor:function(n){return{get:r.getter(n),set:r.setter(n)}},guid:function(){for(var t="",i,n=0;n<32;n++)i=a.random()*16|0,(n==8||n==12||n==16||n==20)&&(t+="-"),t+=(n==12?4:n==16?i&3|8:i).toString(16);return t},roleSelector:function(n){return n.replace(/(\S+)/g,"["+r.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(n){var t=n.split(" "),i;if(t)for(i=0;i<t.length;i++)t[i]!="view"&&(t[i]=t[i].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return t.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(n){return/^(label|input|textarea|select)$/i.test(n.target.tagName)},logToConsole:function(n){var i=t.console;!r.suppressLog&&typeof i!="undefined"&&i.log&&i.log(n)}});k=ct.extend({init:function(n,t){var i=this,u;i.element=r.jQuery(n).handler(i);i.angular("init",t);ct.fn.init.call(i);u=t?t.dataSource:null;u&&(t=h({},t,{dataSource:{}}));t=i.options=h(!0,{},i.options,t);u&&(t.dataSource=u);i.element.attr(r.attr("role"))||i.element.attr(r.attr("role"),(t.name||"").toLowerCase());i.element.data("kendo"+t.prefix+t.name,i);i.bind(i.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(n){n=n||this.wrapper;var i=this.element,t="tabindex",r=n.attr(t)||i.attr(t);i.removeAttr(t);n.attr(t,isNaN(r)?0:r)},setOptions:function(t){this._setEvents(t);n.extend(this.options,t)},_setEvents:function(n){for(var t=this,r=0,u=t.events.length,i;r<u;r++)i=t.events[r],t.options[i]&&n[i]&&t.unbind(i,t.options[i]);t.bind(t.events,n)},resize:function(n){var t=this.getSize(),i=this._size;(n||!i||t.width!==i.width||t.height!==i.height)&&(this._size=t,this._resize(t),this.trigger("resize",t))},getSize:function(){return r.dimensions(this.element)},size:function(n){if(n)this.setSize(n);else return this.getSize()},setSize:n.noop,_resize:n.noop,destroy:function(){var n=this;n.element.removeData("kendo"+n.options.prefix+n.options.name);n.element.removeData("handler");n.unbind()},angular:function(){}});yt=k.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(t){var i=this;i.angular(t,function(){return{elements:i.items(),data:n.map(i.dataItems(),function(n){return{dataItem:n}})}})}});r.dimensions=function(n,t){var i=n[0];return t&&n.css(t),{width:i.offsetWidth,height:i.offsetHeight}};r.notify=nt;var nu=/template$/i,tu=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,iu=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,ru=/([A-Z])/g;r.initWidget=function(u,f,o){var c,p,s,v,d,h,w,l,b,g,y,k,a;if(o?o.roles&&(o=o.roles):o=r.ui.roles,u=u.nodeType?u:u[0],h=u.getAttribute("data-"+r.ns+"role"),h){b=h.indexOf(".")===-1;s=b?o[h]:r.getter(h)(t);y=n(u).data();k=s?"kendo"+s.fn.options.prefix+s.fn.options.name:"";g=b?new RegExp("^kendo.*"+h+"$","i"):new RegExp("^"+k+"$","i");for(a in y)if(a.match(g))if(a===k)c=y[a];else return y[a];if(s){for(l=pt(u,"dataSource"),f=n.extend({},si(u,s.fn.options),f),l&&(f.dataSource=typeof l===e?r.getter(l)(t):l),v=0,d=s.fn.events.length;v<d;v++)p=s.fn.events[v],w=pt(u,p),w!==i&&(f[p]=r.getter(w)(t));return c?n.isEmptyObject(f)||c.setOptions(f):c=new s(u,f),c}}};r.rolesFromNamespaces=function(n){var i=[],t,u;for(n[0]||(n=[r.ui,r.dataviz.ui]),t=0,u=n.length;t<u;t++)i[t]=n[t].roles;return h.apply(null,[{}].concat(i.reverse()))};r.init=function(t){var i=r.rolesFromNamespaces(ht.call(arguments,1));n(t).find("[data-"+r.ns+"role]").addBack().each(function(){r.initWidget(this,{},i)})};r.destroy=function(t){n(t).find("[data-"+r.ns+"role]").addBack().each(function(){var t=n(this).data();for(var i in t)i.indexOf("kendo")===0&&typeof t[i].destroy===c&&t[i].destroy()})};r.resize=function(t,i){var f=n(t).find("[data-"+r.ns+"role]").addBack().filter(fu),u;f.length&&(u=n.makeArray(f),u.sort(uu),n.each(u,function(){var t=r.widgetInstance(n(this));t&&t.resize(i)}))};r.parseOptions=si;h(r.ui,{Widget:k,DataBoundWidget:yt,roles:{},progress:function(t,i){var u=t.find(".k-loading-mask"),o=r.support,c=o.browser,f,s,h,e;i?u.length||(f=o.isRtl(t),s=f?"right":"left",e=t.scrollLeft(),h=c.webkit?f?t[0].scrollWidth-t.width()-2*e:0:0,u=n("<div class='k-loading-mask'><span class='k-loading-text'>Loading...<\/span><div class='k-loading-image'/><div class='k-loading-color'/><\/div>").width("100%").height("100%").css("top",t.scrollTop()).css(s,Math.abs(e)+h).prependTo(t)):u&&u.remove()},plugin:function(t,u,f){var o=t.fn.options.name,s;u=u||r.ui;f=f||"";u[o]=t;u.roles[o.toLowerCase()]=t;s="getKendo"+f+o;o="kendo"+f+o;n.fn[o]=function(u){var f=this,s;return typeof u===e?(s=ht.call(arguments,1),this.each(function(){var t=n.data(this,o),e,h;if(!t)throw new Error(r.format("Cannot call method '{0}' of {1} before it is initialized",u,o));if(e=t[u],typeof e!==c)throw new Error(r.format("Cannot find method '{0}' of {1}",u,o));return h=e.apply(t,s),h!==i?(f=h,!1):void 0})):this.each(function(){new t(this,u)}),f};n.fn[o].widget=t;n.fn[s]=function(){return this.data(o)}}});wt={bind:function(){return this},nullObject:!0,options:{}};bt=k.extend({init:function(n,t){k.fn.init.call(this,n,t);this.element.autoApplyNS();this.wrapper=this.element;this.element.addClass("km-widget")},destroy:function(){k.fn.destroy.call(this);this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var n=this.element.closest(r.roleSelector("view splitview modalview drawer"));return r.widgetInstance(n,r.mobile.ui)||wt},viewHasNativeScrolling:function(){var n=this.view();return n&&n.options.useNativeScrolling},container:function(){var n=this.element.closest(r.roleSelector("view layout modalview drawer splitview"));return r.widgetInstance(n.eq(0),r.mobile.ui)||wt}});h(r.mobile,{init:function(n){r.init(n,r.mobile.ui,r.ui,r.dataviz.ui)},appLevelNativeScrolling:function(){return r.mobile.application&&r.mobile.application.options&&r.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:bt,DataBoundWidget:yt.extend(bt.prototype),roles:{},plugin:function(n){r.ui.plugin(n,r.mobile.ui,"Mobile")}}});lt(r.dataviz,{init:function(n){r.init(n,r.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(n){r.ui.plugin(n,r.dataviz.ui)}},roles:{}});r.touchScroller=function(t,i){return n(t).map(function(t,f){return f=n(f),u.kineticScrollNeeded&&r.mobile.ui.Scroller&&!f.data("kendoMobileScroller")?(f.kendoMobileScroller(i),f.data("kendoMobileScroller")):!1})[0]};r.preventDefault=function(n){n.preventDefault()};r.widgetInstance=function(n,i){var u=n.data(r.ns+"role"),e=[],f,o,s,h;if(u){if(u==="content"&&(u="scroller"),i)if(i[0])for(f=0,o=i.length;f<o;f++)e.push(i[f].roles[u]);else e.push(i.roles[u]);else e=[r.ui.roles[u],r.dataviz.ui.roles[u],r.mobile.ui.roles[u]];for(u.indexOf(".")>=0&&(e=[r.getter(u)(t)]),f=0,o=e.length;f<o;f++)if(s=e[f],s&&(h=n.data("kendo"+s.fn.options.prefix+s.fn.options.name),h))return h}};r.onResize=function(i){var r=i;u.mobileOS.android&&(r=function(){setTimeout(i,600)});n(t).on(u.resize,r);return r};r.unbindResize=function(i){n(t).off(u.resize,i)};r.attrValue=function(n,t){return n.data(r.ns+t)};r.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};n.extend(n.expr[":"],{kendoFocusable:function(t){var i=n.attr(t,"tabindex");return eu(t,!isNaN(i)&&i>-1)}});var hi=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],su="label, input, [data-rel=external]",o={setupMouseMute:function(){var t=0,r=hi.length,f=document.documentElement,i;if(!o.mouseTrap&&u.eventCapture)for(o.mouseTrap=!0,o.bustClick=!1,o.captureMouse=!1,i=function(t){o.captureMouse&&(t.type==="click"?o.bustClick&&!n(t.target).is(su)&&(t.preventDefault(),t.stopPropagation()):t.stopPropagation())};t<r;t++)f.addEventListener(hi[t],i,!0)},muteMouse:function(n){o.captureMouse=!0;n.data.bustClick&&(o.bustClick=!0);clearTimeout(o.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(o.mouseTrapTimeoutID);o.mouseTrapTimeoutID=setTimeout(function(){o.captureMouse=!1;o.bustClick=!1},400)}},d={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};u.touch&&(u.mobileOS.ios||u.mobileOS.android)?d={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:u.pointers?d={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:u.msPointers&&(d={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"});!u.msPointers||"onmspointerenter"in t||n.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(t,i){n.event.special[t]={delegateType:i,bindType:i,handle:function(t){var u,f=this,r=t.relatedTarget,e=t.handleObj;return r&&(r===f||n.contains(f,r))||(t.type=e.origType,u=e.handler.apply(this,arguments),t.type=i),u}}});ci=function(n){return d[n]||n};kt=/([^ ]+)/g;r.applyEventMap=function(n,t){return n=n.replace(kt,ci),t&&(n=n.replace(kt,"$1."+t)),n};ot=n.fn.on;h(!0,s,n);s.fn=s.prototype=new n;s.fn.constructor=s;s.fn.init=function(t,i){return i&&i instanceof n&&!(i instanceof s)&&(i=s(i)),n.fn.init.call(this,t,i,li)};s.fn.init.prototype=s.fn;li=s(document);h(s.fn,{handler:function(n){return this.data("handler",n),this},autoApplyNS:function(n){return this.data("kendoNS",n||r.guid()),this},on:function(){var t=this,l=t.data("kendoNS"),s,n,i,f,h,c;return arguments.length===1?ot.call(t,arguments[0]):(s=t,n=ht.call(arguments),typeof n[n.length-1]===ut&&n.pop(),i=n[n.length-1],f=r.applyEventMap(n[0],l),u.mouseAndTouchPresent&&f.search(/mouse|click/)>-1&&this[0]!==document.documentElement&&(o.setupMouseMute(),h=n.length===2?null:n[1],c=f.indexOf("click")>-1&&f.indexOf("touchend")>-1,ot.call(this,{touchstart:o.muteMouse,touchend:o.unMuteMouse},h,{bustClick:c})),typeof i===e&&(s=t.data("handler"),i=s[i],n[n.length-1]=function(n){i.call(s,n)}),n[0]=f,ot.apply(t,n),t)},kendoDestroy:function(n){return n=n||this.data("kendoNS"),n&&this.off("."+n),this}});r.jQuery=s;r.eventMap=d;r.timezone=function(){function i(i,r){var u,o,s,c=r[3],e=r[4],f=r[5],h=r[8];return(h||(r[8]=h={}),h[i])?h[i]:(isNaN(e)?e.indexOf("last")===0?(u=new Date(Date.UTC(i,n[c]+1,1,f[0]-24,f[1],f[2],0)),o=t[e.substr(4,3)],s=u.getUTCDay(),u.setUTCDate(u.getUTCDate()+o-s-(o>s?7:0))):e.indexOf(">=")>=0&&(u=new Date(Date.UTC(i,n[c],e.substr(5),f[0],f[1],f[2],0)),o=t[e.substr(0,3)],s=u.getUTCDay(),u.setUTCDate(u.getUTCDate()+o-s+(o<s?7:0))):u=new Date(Date.UTC(i,n[c],e,f[0],f[1],f[2],0)),h[i]=u)}function f(n,t,r){var f,e,u,o;return(t=t[r],!t)?(f=r.split(":"),e=0,f.length>1&&(e=f[0]*60+Number(f[1])),[-1e6,"max","-","Jan",1,[0,0,0],e,"-"]):(u=new Date(n).getUTCFullYear(),t=jQuery.grep(t,function(n){var i=n[0],t=n[1];return i<=u&&(t>=u||i==u&&t=="only"||t=="max")}),t.push(n),t.sort(function(n,t){return typeof n!="number"&&(n=Number(i(u,n))),typeof t!="number"&&(t=Number(i(u,t))),n-t}),o=t[jQuery.inArray(n,t)-1]||t[t.length-1],isNaN(o)?o:null)}function o(n,t,i){var r=t[i],u,f,e;if(typeof r=="string"&&(r=t[r]),!r)throw new Error('Timezone "'+i+'" is either incorrect, or kendo.timezones.min.js is not included.');for(u=r.length-1;u>=0;u--)if(f=r[u][3],f&&n>f)break;if(e=r[u+1],!e)throw new Error('Timezone "'+i+'" not found on '+n+".");return e}function u(n,t,i,r){typeof n!=v&&(n=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));var u=o(n,t,r);return{zone:u,rule:f(n,i,u[1])}}function s(n,t){if(t=="Etc/UTC"||t=="Etc/GMT")return 0;var i=u(n,this.zones,this.rules,t),f=i.zone,e=i.rule;return r.parseFloat(e?f[0]-e[6]:f[0])}function h(n,t){var f=u(n,this.zones,this.rules,t),e=f.zone,i=f.rule,r=e[2];return r.indexOf("/")>=0?r.split("/")[i&&+i[6]?1:0]:r.indexOf("%s")>=0?r.replace("%s",!i||i[7]=="-"?"":i[7]):r}function c(n,t,i){var r,u;return typeof t==e&&(t=this.offset(n,t)),typeof i==e&&(i=this.offset(n,i)),r=n.getTimezoneOffset(),n=new Date(n.getTime()+(t-i)*6e4),u=n.getTimezoneOffset(),new Date(n.getTime()+(u-r)*6e4)}function l(n,t){return this.convert(n,n.getTimezoneOffset(),t)}function a(n,t){return this.convert(n,t,n.getTimezoneOffset())}function y(n){return this.apply(new Date(n),"Etc/UTC")}var n={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},t={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:s,convert:c,apply:l,remove:a,abbr:h,toLocalDate:y}}();r.date=function(){function t(n,t){return t===0&&n.getHours()===23?(n.setHours(n.getHours()+2),!0):!1}function e(n,i,r){var u=n.getHours();r=r||1;i=(i-n.getDay()+7*r)%7;n.setDate(n.getDate()+i);t(n,u)}function c(n,t,i){return n=new Date(n),e(n,t,i),n}function o(n){return new Date(n.getFullYear(),n.getMonth(),1)}function l(n){var t=new Date(n.getFullYear(),n.getMonth()+1,0),i=o(n),r=Math.abs(t.getTimezoneOffset()-i.getTimezoneOffset());return r&&t.setHours(i.getHours()+r/60),t}function i(n){return n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),t(n,0),n}function a(n){return Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}function r(n){return n.getTime()-i(n)}function v(t,i,u){var e=r(i),o=r(u),f;return!t||e==o?!0:(i>=u&&(u+=n),f=r(t),e>f&&(f+=n),o<e&&(o+=n),f>=e&&f<=o)}function y(t,i,r){var e=i.getTime(),u=r.getTime(),f;return e>=u&&(u+=n),f=t.getTime(),f>=e&&f<=u}function f(i,r){var u=i.getHours();return i=new Date(i),s(i,r*n),t(i,u),i}function s(n,t,i){var f=n.getTimezoneOffset(),r;n.setTime(n.getTime()+t);i||(r=n.getTimezoneOffset()-f,n.setTime(n.getTime()+r*u))}function h(){return i(new Date)}function p(n){return i(n).getTime()==h().getTime()}function w(n){var t=new Date(1980,1,1,0,0,0);return n&&t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}var u=6e4,n=864e5;return{adjustDST:t,dayOfWeek:c,setDayOfWeek:e,getDate:i,isInDateRange:y,isInTimeRange:v,isToday:p,nextDay:function(n){return f(n,1)},previousDay:function(n){return f(n,-1)},toUtcTime:a,MS_PER_DAY:n,MS_PER_HOUR:60*u,MS_PER_MINUTE:u,setTime:s,addDays:f,today:h,toInvariantTime:w,firstDayOfMonth:o,lastDayOfMonth:l,getMilliseconds:r}}();r.stripWhitespace=function(n){var t,u,i;if(document.createNodeIterator)for(t=document.createNodeIterator(n,NodeFilter.SHOW_TEXT,function(t){return t.parentNode==n?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);t.nextNode();)t.referenceNode&&!t.referenceNode.textContent.trim()&&t.referenceNode.parentNode.removeChild(t.referenceNode);else for(u=0;u<n.childNodes.length;u++)i=n.childNodes[u],i.nodeType!=3||/\S/.test(i.nodeValue)||(n.removeChild(i),u--),i.nodeType==1&&r.stripWhitespace(i)};ai=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(n){setTimeout(n,1e3/60)};r.animationFrame=function(n){ai.call(t,n)};y=[];r.queueAnimation=function(n){y[y.length]=n;y.length===1&&r.runNextAnimation()};r.runNextAnimation=function(){r.animationFrame(function(){y[0]&&(y.shift()(),y[0]&&r.runNextAnimation())})};r.parseQueryStringParams=function(n){for(var u=n.split("?")[1]||"",r={},i=u.split(/&|=/),f=i.length,t=0;t<f;t+=2)i[t]!==""&&(r[decodeURIComponent(i[t])]=decodeURIComponent(i[t+1]));return r};r.elementUnderCursor=function(n){return document.elementFromPoint(n.x.client,n.y.client)};r.wheelDeltaY=function(n){var t=n.originalEvent,u=t.wheelDeltaY,r;return t.wheelDelta?(u===i||u)&&(r=t.wheelDelta):t.detail&&t.axis===t.VERTICAL_AXIS&&(r=-t.detail*10),r};r.throttle=function(n,t){var i,r=0;return!t||t<=0?n:function(){function u(){n.apply(e,o);r=+new Date}var e=this,f=+new Date-r,o=arguments;if(!r)return u();i&&clearTimeout(i);f>t?u():i=setTimeout(u,t-f)}};r.caret=function(t,r,u){var f,e=r!==i,o,s,h;if(u===i&&(u=r),t[0]&&(t=t[0]),!e||!t.disabled){try{t.selectionStart!==i?e?(t.focus(),t.setSelectionRange(r,u)):r=[t.selectionStart,t.selectionEnd]:document.selection&&(n(t).is(":visible")&&t.focus(),f=t.createTextRange(),e?(f.collapse(!0),f.moveStart("character",r),f.moveEnd("character",u-r),f.select()):(o=f.duplicate(),f.moveToBookmark(document.selection.createRange().getBookmark()),o.setEndPoint("EndToStart",f),s=o.text.length,h=s+f.text.length,r=[s,h]))}catch(c){r=[]}return r}};r.compileMobileDirective=function(n,i){var u=t.angular;return n.attr("data-"+r.ns+"role",n[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),u.element(n).injector().invoke(["$compile",function(t){var r=u.element(n).scope();i&&i(r);t(n)(r);r.$digest()}]),r.widgetInstance(n,r.mobile.ui)},function(){function u(t,i,r){var u=n("<form>").attr({action:r,method:"POST"}),f=t.split(";base64,");n("<input>").attr({value:f[0].replace("data:",""),name:"contentType",type:"hidden"}).appendTo(u);n("<input>").attr({value:f[1],name:"base64",type:"hidden"}).appendTo(u);n("<input>").attr({value:i,name:"fileName",type:"hidden"}).appendTo(u);u.appendTo("body").submit().remove()}function e(n,t){var u=n,i;if(typeof n=="string"){var f=n.split(";base64,"),o=f[0],r=atob(f[1]),e=new Uint8Array(r.length);for(i=0;i<r.length;i++)e[i]=r.charCodeAt(i);u=new Blob([e.buffer],{type:o})}navigator.msSaveBlob(u,t)}function o(n,r){t.Blob&&n instanceof Blob&&(n=URL.createObjectURL(n));i.download=r;i.href=n;var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null);i.dispatchEvent(u)}var i=document.createElement("a"),f="download"in i;r.saveAs=function(n){var t=u;n.forceProxy||(f?t=o:navigator.msSaveBlob&&(t=e));t(n.dataURI,n.fileName,n.proxyURL)}}()}(jQuery,window),function(n,t){function ii(n){return parseInt(n,10)}function p(n,t){return ii(n.css(t))}function rr(n){var t=[];for(var i in n)t.push(i);return t}function st(n){for(var t in n)rt.indexOf(t)!=-1&&k.indexOf(t)==-1&&delete n[t];return n}function ht(n,t){var r=[],u={},e,i,o,h;for(i in t)e=i.toLowerCase(),h=f&&rt.indexOf(e)!=-1,!c.hasHW3D&&h&&k.indexOf(e)==-1?delete t[i]:(o=t[i],h?r.push(i+"("+o+")"):u[i]=o);return r.length&&(u[s]=r.join(" ")),u}function ri(n,t){var u,i,r;return f?(u=n.css(s),u==tr)?t=="scale"?1:0:(i=u.match(new RegExp(t+"\\s*\\(([\\d\\w\\.]+)")),r=0,i?r=ii(i[1]):(i=u.match(pi)||[0,0,0,0,0],t=t.toLowerCase(),wi.test(t)?r=parseFloat(i[3]/i[2]):t=="translatey"?r=parseFloat(i[4]/i[2]):t=="scale"?r=parseFloat(i[2]):t=="rotate"&&(r=parseFloat(Math.atan2(i[2],i[1])))),r):parseFloat(n.css(t))}function lt(n){return n.charAt(0).toUpperCase()+n.substring(1)}function e(n,t){var i=h.extend(t),u=i.prototype.directions;r[lt(n)]=i;r.Element.prototype[n]=function(n,t,r,u){return new i(this.element,n,t,r,u)};a(u,function(t,u){r.Element.prototype[n+lt(u)]=function(n,t,r){return new i(this.element,u,n,t,r)}})}function fi(n,t,i,r){e(n,{directions:ui,startValue:function(n){return this._startValue=n,this},endValue:function(n){return this._endValue=n,this},shouldHide:function(){return this._shouldHide},prepare:function(n,u){var s=this,f,e,h=this._direction==="out",o=s.element.data(t),c=!(isNaN(o)||o==i);f=c?o:typeof this._startValue!="undefined"?this._startValue:h?i:r;e=typeof this._endValue!="undefined"?this._endValue:h?r:i;this._reverse?(n[t]=e,u[t]=f):(n[t]=f,u[t]=e);s._shouldHide=u[t]===r}})}function hi(n,t){var r=i.directions[t].vertical,u=n[r?g:ft]()/2+"px";return oi[t].replace("$size",u)}var i=window.kendo,r=i.effects,a=n.each,u=n.extend,li=n.proxy,c=i.support,ai=c.browser,f=c.transforms,o=c.transitions,vi={scale:0,scalex:0,scaley:0,scale3d:0},yi={translate:0,translatex:0,translatey:0,translate3d:0},yt=typeof document.documentElement.style.zoom!="undefined"&&!f,pi=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,pt=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,wi=/translatex?$/i,bi=/(zoom|fade|expand)(\w+)/,wt=/(zoom|fade|expand)/,ki=/[xy]$/i,rt=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],k=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],di={rotate:"deg",scale:"",skew:"px",translate:"px"},d=f.css,gi=Math.round,nr="",w="px",tr="none",ut="auto",ft="width",g="height",bt="hidden",et="origin",kt="abortId",nt="overflow",v="translate",tt="position",dt="completeCallback",y=d+"transition",s=d+"transform",ir=d+"backface-visibility",gt=d+"perspective",ot="1500px",ni="perspective("+ot+")",ur=c.mobileOS&&c.mobileOS.majorVersion==7,l={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}},ti,ct,h,b,ui,ei,oi,si,at,ci,it,vt;i.directions=l;u(n.fn,{kendoStop:function(n,t){return o?r.stopQueue(this,n||!1,t||!1):this.stop(n,t)}});f&&!o&&(a(k,function(t,i){n.fn[i]=function(t){if(typeof t=="undefined")return ri(this,i);var r=n(this)[0],u=i+"("+t+di[i.replace(ki,"")]+")";return r.style.cssText.indexOf(s)==-1?n(this).css(s,u):r.style.cssText=r.style.cssText.replace(new RegExp(i+"\\(.*?\\)","i"),u),this};n.fx.step[i]=function(t){n(t.elem)[i](t.now)}}),ti=n.fx.prototype.cur,n.fx.prototype.cur=function(){return k.indexOf(this.prop)!=-1?parseFloat(n(this.elem)[this.prop]()):ti.apply(this,arguments)});i.toggleClass=function(n,t,i,r){return t&&(t=t.split(" "),o&&(i=u({exclusive:"all",duration:400,ease:"ease-out"},i),n.css(y,i.exclusive+" "+i.duration+"ms "+i.ease),setTimeout(function(){n.css(y,"").css(g)},i.duration)),a(t,function(t,i){n.toggleClass(i,r)})),n};i.parseEffects=function(n,t){var i={};return typeof n=="string"?a(n.split(" "),function(n,r){var o=!wt.test(r),s=r.replace(bi,function(n,t,i){return t+":"+i.toLowerCase()}),u=s.split(":"),f=u[1],e={};u.length>1&&(e.direction=t&&o?l[f].reverse:f);i[u[0]]=e}):a(n,function(n){var r=this.direction;r&&t&&!wt.test(n)&&(this.direction=l[r].reverse);i[n]=this}),i};o&&u(r,{transition:function(t,i,r){var h,l=0,a=t.data("keys")||[],f,c,e;if(r=u({duration:200,ease:"ease-out",complete:null,exclusive:"all"},r),c=!1,e=function(){c||(c=!0,f&&(clearTimeout(f),f=null),t.removeData(kt).dequeue().css(y,"").css(y),r.complete.call(t))},r.duration=n.fx?n.fx.speeds[r.duration]||r.duration:r.duration,h=ht(t,i),n.merge(a,rr(h)),t.data("keys",n.unique(a)).height(),t.css(y,r.exclusive+" "+r.duration+"ms "+r.ease).css(y),t.css(h).css(s),o.event){t.one(o.event,e);r.duration!==0&&(l=500)}f=setTimeout(e,r.duration+l);t.data(kt,f);t.data(dt,e)},stopQueue:function(n,t,r){var u,f=n.data("keys"),e=!r&&f,o=n.data(dt);return e&&(u=i.getComputedStyles(n[0],f)),o&&o(),e&&n.css(u),n.removeData("keys").stop(t)}});ct=i.Class.extend({init:function(n,t){var i=this;i.element=n;i.effects=[];i.options=t;i.restore=[]},run:function(t){var a=this,l,h,v,k=t.length,c=a.element,i=a.options,p=n.Deferred(),e={},y={},w,b,d,g;for(a.effects=t,p.then(n.proxy(a,"complete")),c.data("animating",!0),h=0;h<k;h++)for(l=t[h],l.setReverse(i.reverse),l.setOptions(i),a.addRestoreProperties(l.restore),l.prepare(e,y),b=l.children(),v=0,d=b.length;v<d;v++)b[v].duration(i.duration).run();for(g in i.effects)u(y,i.effects[g].properties);for(c.is(":visible")||u(e,{display:c.data("olddisplay")||"block"}),f&&!i.reset&&(w=c.data("targetTransform"),w&&(e=u(w,e))),e=ht(c,e),f&&!o&&(e=st(e)),c.css(e).css(s),h=0;h<k;h++)t[h].setup();return i.init&&i.init(),c.data("targetTransform",y),r.animate(c,y,u({},i,{complete:p.resolve})),p.promise()},stop:function(){n(this.element).kendoStop(!0,!0)},addRestoreProperties:function(n){for(var i=this.element,t,r=0,u=n.length;r<u;r++)t=n[r],this.restore.push(t),i.data(t)||i.data(t,i.css(t))},restoreCallback:function(){for(var t,i=this.element,n=0,r=this.restore.length;n<r;n++)t=this.restore[n],i.css(t,i.data(t))},complete:function(){var i=this,r=0,t=i.element,u=i.options,e=i.effects,o=e.length;for(t.removeData("animating").dequeue(),u.hide&&t.data("olddisplay",t.css("display")).hide(),this.restoreCallback(),yt&&!f&&setTimeout(n.proxy(this,"restoreCallback"),0);r<o;r++)e[r].teardown();u.completeCallback&&u.completeCallback(t)}});r.promise=function(n,t){var u=[],f,s=new ct(n,t),e=i.parseEffects(t.effects),h,o;t.effects=e;for(o in e)f=r[lt(o)],f&&(h=new f(n,e[o].direction),u.push(h));u[0]?s.run(u):(n.is(":visible")||n.css({display:n.data("olddisplay")||"block"}).css("display"),t.init&&t.init(),n.dequeue(),s.complete())};u(r,{animate:function(i,e,s){var h=s.transition!==!1;delete s.transition;o&&"transition"in r&&h?r.transition(i,e,s):f?i.animate(st(e),{queue:!1,show:!1,hide:!1,duration:s.duration,complete:s.complete}):i.each(function(){var i=n(this),r={};a(rt,function(n,o){var c,y=e?e[o]+" ":null,s,w,b,h,l,a;y&&(s=e,o in vi&&e[o]!==t?(c=y.match(pt),f&&u(s,{scale:+c[0]})):o in yi&&e[o]!==t&&(w=i.css(tt),b=w=="absolute"||w=="fixed",i.data(v)||(b?i.data(v,{top:p(i,"top")||0,left:p(i,"left")||0,bottom:p(i,"bottom"),right:p(i,"right")}):i.data(v,{top:p(i,"marginTop")||0,left:p(i,"marginLeft")||0})),h=i.data(v),c=y.match(pt),c&&(l=o==v+"y"?0:+c[1],a=o==v+"y"?+c[1]:+c[2],b?(isNaN(h.right)?isNaN(l)||u(s,{left:h.left+l}):isNaN(l)||u(s,{right:h.right-l}),isNaN(h.bottom)?isNaN(a)||u(s,{top:h.top+a}):isNaN(a)||u(s,{bottom:h.bottom-a})):(isNaN(l)||u(s,{marginLeft:h.left+l}),isNaN(a)||u(s,{marginTop:h.top+a})))),!f&&o!="scale"&&o in s&&delete s[o],s&&u(r,s))});ai.msie&&delete r.scale;i.animate(r,{queue:!1,show:!1,hide:!1,duration:s.duration,complete:s.complete})})}});r.animatedPromise=r.promise;h=i.Class.extend({init:function(n,t){var i=this;i.element=n;i._direction=t;i.options={};i._additionalEffects=[];i.restore||(i.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(n){return this._additionalEffects.push(n),this},direction:function(n){return this._direction=n,this},duration:function(n){return this._duration=n,this},compositeRun:function(){var n=this,t=new ct(n.element,{reverse:n._reverse,duration:n._duration}),i=n._additionalEffects.concat([n]);return t.run(i)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e=this,t=e.element,h=0,y=e.restore,w=y.length,c,l=n.Deferred(),i={},a={},v,p=e.children(),b=p.length;for(l.then(n.proxy(e,"_complete")),t.data("animating",!0),h=0;h<w;h++)c=y[h],t.data(c)||t.data(c,t.css(c));for(h=0;h<b;h++)p[h].duration(e._duration).run();return e.prepare(i,a),t.is(":visible")||u(i,{display:t.data("olddisplay")||"block"}),f&&(v=t.data("targetTransform"),v&&(i=u(v,i))),i=ht(t,i),f&&!o&&(i=st(i)),t.css(i).css(s),e.setup(),t.data("targetTransform",a),r.animate(t,a,{duration:e._duration,complete:l.resolve}),l.promise()},stop:function(){for(var t=0,i=this.children(),r=i.length,t=0;t<r;t++)i[t].stop();return n(this.element).kendoStop(!0,!0),this},restoreCallback:function(){for(var t,i=this.element,n=0,r=this.restore.length;n<r;n++)t=this.restore[n],i.css(t,i.data(t))},_complete:function(){var t=this,i=t.element;i.removeData("animating").dequeue();t.restoreCallback();t.shouldHide()&&i.data("olddisplay",i.css("display")).hide();yt&&!f&&setTimeout(n.proxy(t,"restoreCallback"),0);t.teardown()},setOptions:function(n){u(!0,this.options,n)},children:function(){return[]},shouldHide:n.noop,setup:n.noop,prepare:n.noop,teardown:n.noop,directions:[],setReverse:function(n){return this._reverse=n,this}});b=["left","right","up","down"];ui=["in","out"];e("slideIn",{directions:b,divisor:function(n){return this.options.divisor=n,this},prepare:function(n,t){var r=this,u,e=r.element,i=l[r._direction],h=-i.modifier*(i.vertical?e.outerHeight():e.outerWidth()),o=h/(r.options&&r.options.divisor||1)+w,s="0px";r._reverse&&(u=n,n=t,t=u);f?(n[i.transition]=o,t[i.transition]=s):(n[i.property]=o,t[i.property]=s)}});e("tile",{directions:b,init:function(n,t,i){h.prototype.init.call(this,n,t);this.options={previous:i}},previousDivisor:function(n){return this.options.previousDivisor=n,this},children:function(){var n=this,t=n._reverse,r=n.options.previous,e=n.options.previousDivisor||1,u=n._direction,f=[i.fx(n.element).slideIn(u).setReverse(t)];return r&&f.push(i.fx(r).slideIn(l[u].reverse).divisor(e).setReverse(!t)),f}});fi("fade","opacity",1,0);fi("zoom","scale",1,.01);e("slideMargin",{prepare:function(n,t){var r=this,i=r.element,u=r.options,o=i.data(et),s=u.offset,f,e=r._reverse;e||o!==null||i.data(et,parseFloat(i.css("margin-"+u.axis)));f=i.data(et)||0;t["margin-"+u.axis]=e?f:f+s}});e("slideTo",{prepare:function(n,t){var u=this,e=u.element,o=u.options,i=o.offset.split(","),r=u._reverse;f?(t.translatex=r?0:i[0],t.translatey=r?0:i[1]):(t.left=r?0:i[0],t.top=r?0:i[1]);e.css("left")}});e("expand",{directions:["horizontal","vertical"],restore:[nt],prepare:function(n,i){var f=this,e=f.element,o=f.options,s=f._reverse,r=f._direction==="vertical"?g:ft,h=e[0].style[r],c=e.data(r),u=parseFloat(c||h),l=gi(e.css(r,ut)[r]());n.overflow=bt;u=o&&o.reset?l||u:u||l;i[r]=(s?0:u)+w;n[r]=(s?u:0)+w;c===t&&e.data(r,h)},shouldHide:function(){return this._reverse},teardown:function(){var t=this,i=t.element,n=t._direction==="vertical"?g:ft,r=i.data(n);(r==ut||r===nr)&&setTimeout(function(){i.css(n,ut).css(n)},0)}});ei={position:"absolute",marginLeft:0,marginTop:0,scale:1};e("transfer",{init:function(n,t){this.element=n;this.options={target:t};this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(n,t){var e=this,i=e.element,f=r.box(i),o=r.box(e.options.target),l=ri(i,"scale"),h=r.fillScale(o,f),c=r.transformOrigin(o,f);u(n,ei);t.scale=1;i.css(s,"scale(1)").css(s);i.css(s,"scale("+l+")");n.top=f.top;n.left=f.left;n.transformOrigin=c.x+w+" "+c.y+w;e._reverse?n.scale=h:t.scale=h}});oi={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"};si={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};e("turningPage",{directions:b,init:function(n,t,i){h.prototype.init.call(this,n,t);this._container=i},prepare:function(n,t){var r=this,f=r._reverse,e=f?l[r._direction].reverse:r._direction,u=si[e];n.zIndex=1;r._clipInHalf&&(n.clip=hi(r._container,i.directions[e].reverse));n[ir]=bt;t[s]=ni+(f?u.start:u.end);n[s]=ni+(f?u.end:u.start)},setup:function(){this._container.append(this.element)},face:function(n){return this._face=n,this},shouldHide:function(){var n=this,t=n._reverse,i=n._face;return t&&!i||!t&&i},clipInHalf:function(n){return this._clipInHalf=n,this},temporary:function(){return this.element.addClass("temp-page"),this}});e("staticPage",{directions:b,init:function(n,t,i){h.prototype.init.call(this,n,t);this._container=i},restore:["clip"],prepare:function(n,t){var i=this,r=i._reverse?l[i._direction].reverse:i._direction;n.clip=hi(i._container,r);n.opacity=.999;t.opacity=1},shouldHide:function(){var n=this,t=n._reverse,i=n._face;return t&&!i||!t&&i},face:function(n){return this._face=n,this}});e("pageturn",{directions:["horizontal","vertical"],init:function(n,t,i,r){h.prototype.init.call(this,n,t);this.options={};this.options.face=i;this.options.back=r},children:function(){var r=this,u=r.options,n=r._direction==="horizontal"?"left":"top",f=i.directions[n].reverse,t=r._reverse,o,s=u.face.clone(!0).removeAttr("id"),h=u.back.clone(!0).removeAttr("id"),e=r.element;return t&&(o=n,n=f,f=o),[i.fx(u.face).staticPage(n,e).face(!0).setReverse(t),i.fx(u.back).staticPage(f,e).setReverse(t),i.fx(s).turningPage(n,e).face(!0).clipInHalf(!0).temporary().setReverse(t),i.fx(h).turningPage(f,e).clipInHalf(!0).temporary().setReverse(t)]},prepare:function(n,t){n[gt]=ot;n.transformStyle="preserve-3d";n.opacity=.999;t.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}});e("flip",{directions:["horizontal","vertical"],init:function(n,t,i,r){h.prototype.init.call(this,n,t);this.options={};this.options.face=i;this.options.back=r},children:function(){var n=this,f=n.options,t=n._direction==="horizontal"?"left":"top",r=i.directions[t].reverse,u=n._reverse,e,o=n.element;return u&&(e=t,t=r,r=e),[i.fx(f.face).turningPage(t,o).face(!0).setReverse(u),i.fx(f.back).turningPage(r,o).setReverse(u)]},prepare:function(n){n[gt]=ot;n.transformStyle="preserve-3d"}});at=!c.mobileOS.android;ci=".km-touch-scrollbar, .km-actionsheet-wrapper";e("replace",{_before:n.noop,_after:n.noop,init:function(t,i,r){h.prototype.init.call(this,t);this._previous=n(i);this._transitionClass=r},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule");},beforeTransition:function(n){return this._before=n,this},afterTransition:function(n){return this._after=n,this},_both:function(){return n().add(this._element).add(this._previous)},_containerClass:function(){var t=this._direction,n="k-fx k-fx-start k-fx-"+this._transitionClass;return t&&(n+=" k-fx-"+t),this._reverse&&(n+=" k-fx-reverse"),n},complete:function(t){if(this.deferred&&(!t||!n(t.target).is(ci))){var i=this.container;i.removeClass("k-fx-end").removeClass(this._containerClass()).off(o.event,this.completeProxy);this._previous.hide().removeClass("k-fx-current");this.element.removeClass("k-fx-next");at&&i.css(nt,"");this.isAbsolute||this._both().css(tt,"");this.deferred.resolve();delete this.deferred}},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var u=this,r=u.element,f=u._previous,t=r.parents().filter(f.parents()).first(),s=u._both(),e=n.Deferred(),h=r.css(tt),c;if(t.length||(t=r.parent()),this.container=t,this.deferred=e,this.isAbsolute=h=="absolute",this.isAbsolute||s.css(tt,"absolute"),at&&(c=t.css(nt),t.css(nt,"hidden")),o){r.addClass("k-fx-hidden");t.addClass(this._containerClass());this.completeProxy=n.proxy(this,"complete");t.on(o.event,this.completeProxy);i.animationFrame(function(){r.removeClass("k-fx-hidden").addClass("k-fx-next");f.css("display","").addClass("k-fx-current");u._before(f,r);i.animationFrame(function(){t.removeClass("k-fx-start").addClass("k-fx-end");u._after(f,r)})})}else this.complete();return e.promise()},stop:function(){this.complete()}});it=i.Class.extend({init:function(){var n=this;n._tickProxy=li(n._tick,n);n._started=!1},tick:n.noop,done:n.noop,onEnd:n.noop,onCancel:n.noop,start:function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,i.animationFrame(this._tickProxy)))},enabled:function(){return!0},cancel:function(){this._started=!1;this.onCancel()},_tick:function(){var n=this;n._started&&(n.tick(),n.done()?(n._started=!1,n.onEnd()):i.animationFrame(n._tickProxy))}});vt=it.extend({init:function(n){var t=this;u(t,n);it.fn.init.call(t)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(n){var t=this,i=t.movable;t.initial=i[t.axis];t.delta=n.location-t.initial;t.duration=typeof n.duration=="number"?n.duration:300;t.tick=t._easeProxy(n.ease);t.startDate=new Date;t.start()},_easeProxy:function(n){var t=this;return function(){t.movable.moveAxis(t.axis,n(t.timePassed(),t.initial,t.delta,t.duration))}}});u(vt,{easeOutExpo:function(n,t,i,r){return n==r?t+i:i*(-Math.pow(2,-10*n/r)+1)+t},easeOutBack:function(n,t,i,r,u){return u=1.70158,i*((n=n/r-1)*n*((u+1)*n+u)+1)+t}});r.Animation=it;r.Transition=vt;r.createEffect=e;r.box=function(t){t=n(t);var i=t.offset();return i.width=t.outerWidth(),i.height=t.outerHeight(),i};r.transformOrigin=function(n,t){var i=(n.left-t.left)*t.width/(t.width-n.width),r=(n.top-t.top)*t.height/(t.height-n.height);return{x:isNaN(i)?0:i,y:isNaN(r)?0:r}};r.fillScale=function(n,t){return Math.min(n.width/t.width,n.height/t.height)};r.fitScale=function(n,t){return Math.max(n.width/t.width,n.height/t.height)}}(window.kendo.jQuery),function(n){function f(n,t){if(!t)return n;n+"/"===t&&(n=t);var r=new RegExp("^"+t,"i");return r.test(n)||(n=t+"/"+n),i.protocol+"//"+(i.host+"/"+n).replace(/\/\/+/g,"/")}function a(n){return n?"#!":"#"}function v(n){var t=i.href;return n==="#!"&&t.indexOf("#")>-1&&t.indexOf("#!")<0?null:t.split(n)[1]||""}function o(n,t){return t.indexOf(n)===0?t.substr(n.length).replace(/\/\//g,"/"):t}function g(n){return n.replace(/^(#)?/,"#")}function nt(n){return n.replace(/^(#(!)?)?/,"#!")}var t=window.kendo,u="change",b="back",h="same",c=t.support,i=window.location,r=window.history,k=50,l=t.support.browser.msie,d=/^#*/,e=window.document,s=t.Class.extend({back:function(){l?setTimeout(function(){r.back()}):r.back()},forward:function(){l?setTimeout(function(){r.forward()}):r.forward()},length:function(){return r.length},replaceLocation:function(n){i.replace(n)}}),y=s.extend({init:function(n){this.root=n},navigate:function(n){r.pushState({},e.title,f(n,this.root))},replace:function(n){r.replaceState({},e.title,f(n,this.root))},normalize:function(n){return o(this.root,n)},current:function(){var n=i.pathname;return i.search&&(n+=i.search),o(this.root,n)},change:function(t){n(window).bind("popstate.kendo",t)},stop:function(){n(window).unbind("popstate.kendo")},normalizeCurrent:function(n){var t,u=n.root,o=i.pathname,s=v(a(n.hashBang));u===o+"/"&&(t=u);u===o&&s&&(t=f(s.replace(d,""),u));t&&r.pushState({},e.title,t)}}),p=s.extend({init:function(n){this._id=t.guid();this.prefix=a(n);this.fix=n?nt:g},navigate:function(n){i.hash=this.fix(n)},replace:function(n){this.replaceLocation(this.fix(n))},normalize:function(n){return n.indexOf(this.prefix)<0?n:n.split(this.prefix)[1]},change:function(t){if(c.hashChange)n(window).on("hashchange."+this._id,t);else this._interval=setInterval(t,k)},stop:function(){n(window).off("hashchange."+this._id);clearInterval(this._interval)},current:function(){return v(this.prefix)},normalizeCurrent:function(n){var r=i.pathname,t=n.root;return n.pushState&&t!==r?(this.replaceLocation(t+this.prefix+o(t,r)),!0):!1}}),w=t.Observable.extend({start:function(t){if(t=t||{},this.bind([u,b,h],t),!this._started){this._started=!0;t.root=t.root||"/";var i=this.createAdapter(t),r;i.normalizeCurrent(t)||(r=i.current(),n.extend(this,{adapter:i,root:t.root,historyLength:i.length(),current:r,locations:[r]}),i.change(n.proxy(this,"_checkUrl")))}},createAdapter:function(n){return c.pushState&&n.pushState?new y(n.root):new p(n.hashBang)},stop:function(){this._started&&(this.adapter.stop(),this.unbind(u),this._started=!1)},change:function(n){this.bind(u,n)},replace:function(n,t){this._navigate(n,t,function(t){t.replace(n);this.locations[this.locations.length-1]=this.current})},navigate:function(n,t){if(n==="#:back"){this.backCalled=!0;this.adapter.back();return}this._navigate(n,t,function(t){t.navigate(n);this.locations.push(this.current)})},_navigate:function(n,t,i){var r=this.adapter;if(n=r.normalize(n),this.current===n||this.current===decodeURIComponent(n)){this.trigger(h);return}(t||!this.trigger(u,{url:n}))&&(this.current=n,i.call(this,r),this.historyLength=r.length())},_checkUrl:function(){var t=this.adapter,n=t.current(),f=t.length(),e=this.historyLength===f,i=n===this.locations[this.locations.length-2]&&e,o=this.backCalled,r=this.current;if(n===null||this.current===n||this.current===decodeURIComponent(n))return!0;if(this.historyLength=f,this.backCalled=!1,this.current=n,i&&this.trigger("back",{url:r,to:n})){t.forward();this.current=r;return}if(this.trigger(u,{url:n,backButtonPressed:!o})){i?t.forward():(t.back(),this.historyLength--);this.current=r;return}i?this.locations.pop():this.locations.push(n)}});t.History=w;t.History.HistoryAdapter=s;t.History.HashAdapter=p;t.History.PushStateAdapter=y;t.absoluteURL=f;t.history=new w}(window.kendo.jQuery),function(){function v(n,t){return t?n:"([^/]+)"}function y(n,t){return new RegExp("^"+n.replace(a,"\\$&").replace(h,"(?:$1)?").replace(c,v).replace(l,"(.*?)")+"$",t?"i":"")}function s(n){return n.replace(/(\?.*)|(#.*)/g,"")}var n=window.kendo,t=n.history,u=n.Observable,f="init",e="routeMissing",i="change",o="back",r="same",h=/\((.*?)\)/g,c=/(\(\?)?:\w+/g,l=/\*\w+/g,a=/[\-{}\[\]+?.,\\\^$|#\s]/g,p=n.Class.extend({init:function(n,t,i){n instanceof RegExp||(n=y(n,i));this.route=n;this._callback=t},callback:function(t){var i,r=0,u,f=n.parseQueryStringParams(t);for(t=s(t),i=this.route.exec(t).slice(1),u=i.length;r<u;r++)typeof i[r]!="undefined"&&(i[r]=decodeURIComponent(i[r]));i.push(f);this._callback.apply(null,i)},worksWith:function(n){return this.route.test(s(n))?(this.callback(n),!0):!1}}),w=u.extend({init:function(n){n||(n={});u.fn.init.call(this);this.routes=[];this.pushState=n.pushState;this.hashBang=n.hashBang;this.root=n.root;this.ignoreCase=n.ignoreCase!==!1;this.bind([f,e,i,r],n)},destroy:function(){t.unbind(i,this._urlChangedProxy);t.unbind(r,this._sameProxy);t.unbind(o,this._backProxy);this.unbind()},start:function(){var n=this,e=function(){n._same()},r=function(t){n._back(t)},u=function(t){n._urlChanged(t)},i;t.start({same:e,change:u,back:r,pushState:n.pushState,hashBang:n.hashBang,root:n.root});i={url:t.current||"/",preventDefault:$.noop};n.trigger(f,i)||n._urlChanged(i);this._urlChangedProxy=u;this._backProxy=r},route:function(n,t){this.routes.push(new p(n,t,this.ignoreCase))},navigate:function(t,i){n.history.navigate(t,i)},replace:function(t,i){n.history.replace(t,i)},_back:function(n){this.trigger(o,{url:n.url,to:n.to})&&n.preventDefault()},_same:function(){this.trigger(r)},_urlChanged:function(t){var r=t.url;if(r||(r="/"),this.trigger(i,{url:t.url,params:n.parseQueryStringParams(t.url),backButtonPressed:t.backButtonPressed})){t.preventDefault();return}for(var u=0,f=this.routes,o,s=f.length;u<s;u++)if(o=f[u],o.worksWith(r))return;this.trigger(e,{url:r,params:n.parseQueryStringParams(r),backButtonPressed:t.backButtonPressed})&&t.preventDefault()}});n.Router=w}(),function(n,t){function e(r,f){for(var v=[],k=r.logic||"and",h,y,s,a,c,w,b=r.filters,l=0,p=b.length;l<p;l++)r=b[l],h=r.field,c=r.value,a=r.operator,r.filters?r=e(r,f):(w=r.ignoreCase,h=h.replace(/\./g,"/"),r=u[a],f&&(r=o[a]),r&&c!==t&&(y=n.type(c),y==="string"?(s="'{1}'",c=c.replace(/'/g,"''"),w===!0&&(h="tolower("+h+")")):s=y==="date"?f?"{1:yyyy-MM-ddTHH:mm:ss+00:00}":"datetime'{1:yyyy-MM-ddTHH:mm:ss}'":"{1}",r.length>3?r!=="substringof"?s="{0}({2},"+s+")":(s="{0}("+s+",{2})",a==="doesnotcontain"&&(f?(s="{0}({2},'{1}') eq -1",r="indexof"):s+=" eq false")):s="{2} {0} "+s,r=i.format(s,r,c,h))),v.push(r);return r=v.join(" "+k+" "),v.length>1&&(r="("+r+")"),r}var i=window.kendo,r=n.extend,u={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},o=r({},u,{contains:"contains"}),f={pageSize:n.noop,page:n.noop,filter:function(n,t,i){t&&(n.$filter=e(t,i))},sort:function(t,i){var r=n.map(i,function(n){var t=n.field.replace(/\./g,"/");return n.dir==="desc"&&(t+=" desc"),t}).join(",");r&&(t.$orderby=r)},skip:function(n,t){t&&(n.$skip=t)},take:function(n,t){t&&(n.$top=t)}},s={read:{dataType:"jsonp"}};r(!0,i.data,{schemas:{odata:{type:"json",data:function(n){return n.d.results||[n.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(n,t,r){var e,h,u,o;if(n=n||{},t=t||"read",o=(this.options||s)[t],o=o?o.dataType:"json",t==="read"){e={$inlinecount:"allpages"};o!="json"&&(e.$format="json");for(u in n)f[u]?f[u](e,n[u],r):e[u]=n[u]}else{if(o!=="json")throw new Error("Only json dataType can be used for "+t+" operation.");if(t!=="destroy"){for(u in n)h=n[u],typeof h=="number"&&(n[u]=h+"");e=i.stringify(n)}}return e}}}});r(!0,i.data,{schemas:{"odata-v4":{type:"json",data:function(n){return n.value?n.value:(delete n["odata.metadata"],[n])},total:function(n){return n["@odata.count"]}}},transports:{"odata-v4":{read:{cache:!0,dataType:"json"},update:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(n,t){var r=i.data.transports.odata.parameterMap(n,t,!0);return t=="read"&&(r.$count=!0,delete r.$inlinecount),r}}}})}(window.kendo.jQuery),function(n,t){var i=window.kendo,r=n.isArray,u=n.isPlainObject,o=n.map,s=n.each,f=n.extend,h=i.getter,c=i.Class,e=c.extend({init:function(n){var t=this,h=n.total,e=n.model,y=n.parse,c=n.errors,p=n.serialize,l=n.data,w,a,v,b;e&&(u(e)&&(w=n.modelBase||i.data.Model,e.fields&&s(e.fields,function(n,i){i=u(i)&&i.field?f(i,{field:t.getter(i.field)}):{field:t.getter(i)};e.fields[n]=i}),a=e.id,a&&(v={},v[t.xpathToMember(a,!0)]={field:t.getter(a)},e.fields=f(v,e.fields),e.id=t.xpathToMember(a)),e=w.define(e)),t.model=e);h&&(typeof h=="string"?(h=t.getter(h),t.total=function(n){return parseInt(h(n),10)}):typeof h=="function"&&(t.total=h));c&&(typeof c=="string"?(c=t.getter(c),t.errors=function(n){return c(n)||null}):typeof c=="function"&&(t.errors=c));l&&(typeof l=="string"?(l=t.xpathToMember(l),t.data=function(n){var i=t.evaluate(n,l),u;return(i=r(i)?i:[i],t.model&&e.fields)?(u=new t.model,o(i,function(n){if(n){var i={};for(var t in e.fields)i[t]=u._parse(t,e.fields[t].field(n));return i}})):i}):typeof l=="function"&&(t.data=l));typeof y=="function"&&(b=t.parse,t.parse=function(n){var i=y.call(t,n);return b.call(t,i)});typeof p=="function"&&(t.serialize=p)},total:function(n){return this.data(n).length},errors:function(n){return n?n.errors:null},serialize:function(n){return n},parseDOM:function(n){for(var f={},e,i,o,h,u,c,l=n.attributes,a=l.length,s=0;s<a;s++)c=l[s],f["@"+c.nodeName]=c.nodeValue;for(i=n.firstChild;i;i=i.nextSibling)o=i.nodeType,o===3||o===4?f["#text"]=i.nodeValue:o===1&&(e=this.parseDOM(i),h=i.nodeName,u=f[h],r(u)?u.push(e):u=u!==t?[u,e]:e,f[h]=u);return f},evaluate:function(n,t){for(var e=t.split("."),o,u,s,i,f;o=e.shift();)if(n=n[o],r(n)){for(u=[],t=e.join("."),f=0,s=n.length;f<s;f++)i=this.evaluate(n[f],t),i=r(i)?i:[i],u.push.apply(u,i);return u}return n},parse:function(t){var i,r,u={};return i=t.documentElement||n.parseXML(t).documentElement,r=this.parseDOM(i),u[i.nodeName]=r,u},xpathToMember:function(n,t){return n?(n=n.replace(/^\//,"").replace(/\//g,"."),n.indexOf("@")>=0)?n.replace(/\.?(@.*)/,t?"$1":'["$1"]'):n.indexOf("text()")>=0?n.replace(/(\.?text\(\))/,t?"#text":'["#text"]'):n:""},getter:function(n){return h(this.xpathToMember(n),!0)}});n.extend(!0,i.data,{XmlDataReader:e,readers:{xml:e}})}(window.kendo.jQuery),function(n,t){function ii(n,t,i,u){return function(f){var e={};for(var o in f)e[o]=f[o];e.field=u?i+"."+f.field:i;t==r&&n._notifyChange&&n._notifyChange(e);n.trigger(t,e)}}function wi(t,i){if(t===i)return!0;var r=n.type(t),f=n.type(i),u;if(r!==f)return!1;if(r==="date")return t.getTime()===i.getTime();if(r!=="object"&&r!=="array")return!1;for(u in t)if(!wi(t[u],i[u]))return!1;return!0}function lu(n,t){var i;for(var r in n)if((i=n[r],w(i)&&i.field&&i.field===t)||i===t)return i;return null}function u(n){this.data=n||[]}function ut(n,i){if(n){var r=typeof n===s?{field:n,dir:i}:n,u=l(r)?r:r!==t?[r]:[];return dr(u,function(n){return!!n.dir})}}function nr(n){var i,f,r,t,u=n.filters;if(u)for(i=0,f=u.length;i<f;i++)r=u[i],t=r.operator,t&&typeof t===s&&(r.operator=gi[t.toLowerCase()]||t),nr(r)}function yt(n){if(n&&!nt(n))return(l(n)||!n.filters)&&(n={logic:"and",filters:l(n)?n:[n]}),nr(n),n}function au(n){return l(n)?n:[n]}function ft(n,i){var r=typeof n===s?{field:n,dir:i}:n,u=l(r)?r:r!==t?[r]:[];return kt(u,function(n){return{field:n.field,dir:n.dir||"asc",aggregates:n.aggregates}})}function vu(n,t){return n&&n.getTime&&t&&t.getTime?n.getTime()===t.getTime():n===t}function yu(n,t,r,u,f,e){var h,c,s,l,o;for(t=t||[],l=t.length,h=0;h<l;h++)c=t[h],s=c.aggregate,o=c.field,n[o]=n[o]||{},e[o]=e[o]||{},e[o][s]=e[o][s]||{},n[o][s]=tr[s.toLowerCase()](n[o][s],r,i.accessor(o),u,f,e[o][s])}function a(n){return typeof n=="number"&&!isNaN(n)}function pt(n){return n&&n.getTime}function pu(n){for(var i=n.length,r=new Array(i),t=0;t<i;t++)r[t]=n[t].toJSON();return r}function wu(n,t,i,r,u){for(var e,f,o,s=0,h=n.length;s<h;s++){e=n[s];for(f in t)o=u[f],o&&o!==f&&(e[o]=t[f](e),delete e[f])}}function ur(n,t,i,r,u){for(var e,f,o,s=0,h=n.length;s<h;s++){e=n[s];for(f in t)e[f]=i._parse(f,t[f](e)),o=u[f],o&&o!==f&&delete e[o]}}function fr(n,t,i,r,u){for(var f,o,e=0,s=n.length;e<s;e++)f=n[e],o=r[f.field],o&&o!=f.field&&(f.field=o),f.value=i._parse(f.field,f.value),f.hasSubgroups?fr(f.items,t,i,r,u):ur(f.items,t,i,r,u)}function ri(n,t,i,r,u,f){return function(e){return e=n(e),e&&!nt(r)&&(lt.call(e)==="[object Array]"||e instanceof y||(e=[e]),i(e,r,new t,u,f)),e||[]}}function fi(n,t,i,r){for(var f,e=0,u,o;t.length&&r;)if(f=t[e],u=f.items,o=u.length,n&&n.field===f.field&&n.value===f.value?(n.hasSubgroups&&n.items.length?fi(n.items[n.items.length-1],f.items,i,r):(u=u.slice(i,i+r),n.items=n.items.concat(u)),t.splice(e--,1)):f.hasSubgroups&&u.length?fi(f,u,i,r):(u=u.slice(i,i+r),f.items=u,f.items.length||t.splice(e--,1)),u.length===0?i-=o:(i=0,r-=u.length),++e>=t.length)break;e<t.length&&t.splice(e,t.length-e)}function ei(n){for(var i=[],f,r,u,t=0,e=n.length;t<e;t++)if(u=n.at(t),u.hasSubgroups)i=i.concat(ei(u.items));else for(f=u.items,r=0;r<f.length;r++)i.push(f.at(r));return i}function er(n,t){var r,u,i;if(t)for(r=0,u=n.length;r<u;r++)i=n.at(r),i.hasSubgroups?er(i.items,t):i.items=new at(i.items,t)}function or(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i].hasSubgroups){if(or(n[i].items,t))return!0}else if(t(n[i].items,n[i]))return!0}function bu(n,t,i,r){for(var u=0;u<n.length;u++){if(n[u].data===t)break;if(sr(n[u].data,i,r))break}}function sr(n,t,i){for(var r=0,u=n.length;r<u;r++){if(n[r]&&n[r].hasSubgroups)return sr(n[r].items,t,i);if(n[r]===t||n[r]===i)return n[r]=i,!0}}function hr(n,i,r,u){for(var f,o,e=0,s=n.length;e<s;e++)if(f=n[e],f&&!(f instanceof u))if(f.hasSubgroups!==t)hr(f.items,i,r,u);else for(o=0;o<i.length;o++)if(i[o]===f){n[e]=i.at(o);bu(r,i,f,n[e]);break}}function cr(n,t){for(var r,i=0,u=n.length;i<u;i++)if(r=n.at(i),r.uid==t.uid)return n.splice(i,1),r}function oi(n,t){for(var i,u,r=n.length-1,f=0;r>=f;r--)u=n[r],i={value:t.get(u.field),field:u.field,items:i?[i]:[t],hasSubgroups:!!i,aggregates:{}};return i}function lr(n,t){return t?vr(n,function(n){return n.uid?n.uid==t.uid:n[t.idField]===t.id}):-1}function ar(n,t){return t?vr(n,function(n){return n.uid==t.uid}):-1}function vr(n,t){for(var i=0,r=n.length;i<r;i++)if(t(n[i]))return i;return-1}function yr(n,t){if(n&&!nt(n)){var i=n[t],r;return(r=w(i)?i.from||i.field||t:n[t]||t,v(r))?t:r}return t}function pr(n,t){var r,f,i={};for(var u in n)u!=="filters"&&(i[u]=n[u]);if(n.filters)for(i.filters=[],r=0,f=n.filters.length;r<f;r++)i.filters[r]=pr(n.filters[r],t);else i.field=yr(t.fields,i.field);return i}function wt(n,t){for(var o=[],i,u,f,r=0,e=n.length;r<e;r++){i={};u=n[r];for(f in u)i[f]=u[f];i.field=yr(t.fields,i.field);i.aggregates&&l(i.aggregates)&&(i.aggregates=wt(i.aggregates,t));o.push(i)}return o}function ku(t,i){for(var o=n(t)[0].children,h=[],e,c=i[0],l=i[1],u,r,f=0,s=o.length;f<s;f++)(e={},r=o[f],r.disabled)||(e[c.field]=r.text,u=r.attributes.value,u=u&&u.specified?r.value:r.text,e[l.field]=u,h.push(e));return h}function du(t,i){for(var s=n(t)[0].tBodies[0],h=s?s.rows:[],r,v=i.length,l=[],a,f,e,o,u=0,c=h.length;u<c;u++){for(f={},o=!0,a=h[u].cells,r=0;r<v;r++)e=a[r],e.nodeName.toLowerCase()!=="th"&&(o=!1,f[i[r].field]=e.innerHTML);o||l.push(f)}return l}function wr(n){return function(){var t=this._data,i=h.fn[n].apply(this,ct.call(arguments));return this._data!=t&&this._attachBubbleHandlers(),i}}function br(t,i){function c(n,t){return n.filter(t).add(n.find(t))}for(var l=n(t).children(),v=[],r,b=i[0].field,y=i[1]&&i[1].field,p=i[2]&&i[2].field,w=i[3]&&i[3].field,f,s,o,h,u,e=0,a=l.length;e<a;e++)r={_loaded:!0},f=l.eq(e),o=f[0].firstChild,u=f.children(),t=u.filter("ul"),u=u.filter(":not(ul)"),s=f.attr("data-id"),s&&(r.id=s),o&&(r[b]=o.nodeType==3?o.nodeValue:u.text()),y&&(r[y]=c(u,"a").attr("href")),w&&(r[w]=c(u,"img").attr("src")),p&&(h=c(u,".k-sprite").prop("className"),r[p]=h&&n.trim(h.replace("k-sprite",""))),t.length&&(r.items=br(t.eq(0),i)),f.attr("data-hasChildren")=="true"&&(r.hasChildren=!0),v.push(r);return v}var e=n.extend,c=n.proxy,w=n.isPlainObject,nt=n.isEmptyObject,l=n.isArray,dr=n.grep,bt=n.ajax,kt,dt=n.each,b=n.noop,i=window.kendo,v=i.isFunction,d=i.Observable,ot=i.Class,s="string",gt="function",li="create",ai="read",vi="update",yi="destroy",r="change",pi="sync",ni="get",g="error",it="requestStart",ti="progress",tt="requestEnd",gr=[li,ai,vi,yi],rt=function(n){return n},st=i.getter,ht=i.stringify,f=Math,nu=[].push,tu=[].join,iu=[].pop,ru=[].splice,uu=[].shift,ct=[].slice,fu=[].unshift,lt={}.toString,eu=i.support.stableSort,ou=/^\/Date\((.*?)\)\/$/,su=/(\r+|\n+)/g,hu=/(?=['\\])/g,y=d.extend({init:function(n,t){var i=this;i.type=t||o;d.fn.init.call(i);i.length=n.length;i.wrapAll(n,i)},at:function(n){return this[n]},toJSON:function(){for(var i=this.length,t,r=new Array(i),n=0;n<i;n++)t=this[n],t instanceof o&&(t=t.toJSON()),r[n]=t;return r},parent:b,wrapAll:function(n,t){var r=this,i,u,f=function(){return r};for(t=t||[],i=0,u=n.length;i<u;i++)t[i]=r.wrap(n[i],f);return t},wrap:function(n,t){var i=this,u;return n!==null&&lt.call(n)==="[object Object]"&&(u=n instanceof i.type||n instanceof p,u||(n=n instanceof o?n.toJSON():n,n=new i.type(n)),n.parent=t,n.bind(r,function(n){i.trigger(r,{field:n.field,node:n.node,index:n.index,items:n.items||[this],action:n.node?n.action||"itemchange":"itemchange"})})),n},push:function(){var i=this.length,n=this.wrapAll(arguments),t;return t=nu.apply(this,n),this.trigger(r,{action:"add",index:i,items:n}),t},slice:ct,sort:[].sort,join:tu,pop:function(){var n=this.length,t=iu.apply(this);return n&&this.trigger(r,{action:"remove",index:n-1,items:[t]}),t},splice:function(n,t,i){var e=this.wrapAll(ct.call(arguments,2)),u,f,o;if(u=ru.apply(this,[n,t].concat(e)),u.length)for(this.trigger(r,{action:"remove",index:n,items:u}),f=0,o=u.length;f<o;f++)u[f].children&&u[f].unbind(r);return i&&this.trigger(r,{action:"add",index:n,items:e}),u},shift:function(){var t=this.length,n=uu.apply(this);return t&&this.trigger(r,{action:"remove",index:0,items:[n]}),n},unshift:function(){var n=this.wrapAll(arguments),t;return t=fu.apply(this,n),this.trigger(r,{action:"add",index:0,items:n}),t},indexOf:function(n){for(var i=this,t=0,r=i.length;t<r;t++)if(i[t]===n)return t;return-1},forEach:function(n){for(var t=0,i=this.length;t<i;t++)n(this[t],t,this)},map:function(n){for(var t=0,i=[],r=this.length;t<r;t++)i[t]=n(this[t],t,this);return i},filter:function(n){for(var t=0,i=[],r,u=this.length;t<u;t++)r=this[t],n(r,t,this)&&(i[i.length]=r);return i},find:function(n){for(var t=0,i,r=this.length;t<r;t++)if(i=this[t],n(i,t,this))return i},every:function(n){for(var t=0,i,r=this.length;t<r;t++)if(i=this[t],!n(i,t,this))return!1;return!0},some:function(n){for(var t=0,i,r=this.length;t<r;t++)if(i=this[t],n(i,t,this))return!0;return!1},remove:function(n){var t=this.indexOf(n);t!==-1&&this.splice(t,1)},empty:function(){this.splice(0,this.length)}}),at=y.extend({init:function(n,t){d.fn.init.call(this);this.type=t||o;for(var i=0;i<n.length;i++)this[i]=n[i];this.length=i;this._parent=c(function(){return this},this)},at:function(n){var t=this[n];return t instanceof this.type?t.parent=this._parent:t=this[n]=this.wrap(t,this._parent),t}}),o=d.extend({init:function(n){var u=this,t,r,f=function(){return u};d.fn.init.call(this);for(r in n)t=n[r],typeof t=="object"&&t&&!t.getTime&&r.charAt(0)!="_"&&(t=u.wrap(t,r,f)),u[r]=t;u.uid=i.guid()},shouldSerialize:function(n){return this.hasOwnProperty(n)&&n!=="_events"&&typeof this[n]!==gt&&n!=="uid"},forEach:function(n){for(var t in this)this.shouldSerialize(t)&&n(this[t],t)},toJSON:function(){var i={},n;for(var t in this)this.shouldSerialize(t)&&(n=this[t],(n instanceof o||n instanceof y)&&(n=n.toJSON()),i[t]=n);return i},get:function(n){var t=this;return t.trigger(ni,{field:n}),n==="this"?t:i.getter(n,!0)(t)},_set:function(n,t){var s=this,f=n.indexOf(".")>=0,r,u,e;if(f)for(r=n.split("."),u="";r.length>1;){if(u+=r.shift(),e=i.getter(u,!0)(s),e instanceof o)return e.set(r.join("."),t),f;u+="."}return i.setter(n)(s,t),f},set:function(n,t){var u=this,f=n.indexOf(".")>=0,e=i.getter(n,!0)(u);e!==t&&(u.trigger("set",{field:n,value:t})||(f||(t=u.wrap(t,n,function(){return u})),(!u._set(n,t)||n.indexOf("(")>=0||n.indexOf("[")>=0)&&u.trigger(r,{field:n})))},parent:b,wrap:function(n,t,i){var s=this,u=lt.call(n),f,e;return n!=null&&(u==="[object Object]"||u==="[object Array]")&&(f=n instanceof y,e=n instanceof h,u!=="[object Object]"||e||f?(u==="[object Array]"||f||e)&&(f||e||(n=new y(n)),n.parent()!=i()&&n.bind(r,ii(s,r,t,!1))):(n instanceof o||(n=new o(n)),n.parent()!=i()&&(n.bind(ni,ii(s,ni,t,!0)),n.bind(r,ii(s,r,t,!0)))),n.parent=i),n}}),bi={number:function(n){return i.parseFloat(n)},date:function(n){return i.parseDate(n)},boolean:function(n){return typeof n===s?n.toLowerCase()==="true":n!=null?!!n:n},string:function(n){return n!=null?n+"":n},"default":function(n){return n}},cu={string:"",number:0,date:new Date,boolean:!1,"default":""},p=o.extend({init:function(i){var r=this,u,f;if((!i||n.isEmptyObject(i))&&(i=n.extend({},r.defaults,i),r._initializers))for(u=0;u<r._initializers.length;u++)f=r._initializers[u],i[f]=r.defaults[f]();o.fn.init.call(r,i);r.dirty=!1;r.idField&&(r.id=r.get(r.idField),r.id===t&&(r.id=r._defaultId))},shouldSerialize:function(n){return o.fn.shouldSerialize.call(this,n)&&n!=="uid"&&!(this.idField!=="id"&&n==="id")&&n!=="dirty"&&n!=="_accessors"},_parse:function(n,t){var u=this,f=n,r=u.fields||{},i;return n=r[n],n||(n=lu(r,f)),n&&(i=n.parse,!i&&n.type&&(i=bi[n.type.toLowerCase()])),i?i(t):t},_notifyChange:function(n){var t=n.action;(t=="add"||t=="remove")&&(this.dirty=!0)},editable:function(n){return n=(this.fields||{})[n],n?n.editable!==!1:!0},set:function(n,t,i){var r=this;r.editable(n)&&(t=r._parse(n,t),wi(t,r.get(n))||(r.dirty=!0,o.fn.set.call(r,n,t,i)))},accept:function(n){var t=this,u=function(){return t},i,r;for(i in n)r=n[i],i.charAt(0)!="_"&&(r=t.wrap(n[i],i,u)),t._set(i,r);t.idField&&(t.id=t.get(t.idField));t.dirty=!1},isNew:function(){return this.id===this._defaultId}}),vt,ki,di,gi,tr,ui,h,si,hi,k,ci,kr;p.define=function(n,i){i===t&&(i=n,n=p);var o,r=e({defaults:{}},i),f,u,v,h,l,b,y={},c,a=r.id,w=[];if(a&&(r.idField=a),r.id&&delete r.id,a&&(r.defaults[a]=r._defaultId=""),lt.call(r.fields)==="[object Array]"){for(l=0,b=r.fields.length;l<b;l++)u=r.fields[l],typeof u===s?y[u]={}:u.field&&(y[u.field]=u);r.fields=y}for(f in r.fields)u=r.fields[f],v=u.type||"default",h=null,c=f,f=typeof u.field===s?u.field:f,u.nullable||(h=r.defaults[c!==f?c:f]=u.defaultValue!==t?u.defaultValue:cu[v.toLowerCase()],typeof h=="function"&&w.push(f)),i.id===f&&(r._defaultId=h),r.defaults[c!==f?c:f]=h,u.parse=u.parse||bi[v];return w.length>0&&(r._initializers=w),o=n.extend(r),o.define=function(n){return p.define(o,n)},r.fields&&(o.fields=r.fields,o.idField=r.idField),o};vt={selector:function(n){return v(n)?n:st(n)},compare:function(n){var t=this.selector(n);return function(n,i){return(n=t(n),i=t(i),n==null&&i==null)?0:n==null?-1:i==null?1:n.localeCompare?n.localeCompare(i):n>i?1:n<i?-1:0}},create:function(n){var t=n.compare||this.compare(n.field);return n.dir=="desc"?function(n,i){return t(i,n,!0)}:t},combine:function(n){return function(t,i){for(var u=n[0](t,i),r=1,f=n.length;r<f;r++)u=u||n[r](t,i);return u}}};ki=e({},vt,{asc:function(n){var t=this.selector(n);return function(n,i){var r=t(n),u=t(i);return(r&&r.getTime&&u&&u.getTime&&(r=r.getTime(),u=u.getTime()),r===u)?n.__position-i.__position:r==null?-1:u==null?1:r.localeCompare?r.localeCompare(u):r>u?1:-1}},desc:function(n){var t=this.selector(n);return function(n,i){var u=t(n),r=t(i);return(u&&u.getTime&&r&&r.getTime&&(u=u.getTime(),r=r.getTime()),u===r)?n.__position-i.__position:u==null?1:r==null?-1:r.localeCompare?r.localeCompare(u):u<r?1:-1}},create:function(n){return this[n.dir](n.field)}});kt=function(n,t){for(var r=n.length,u=new Array(r),i=0;i<r;i++)u[i]=t(n[i],i,n);return u};di=function(){function t(n){return n.replace(hu,"\\").replace(su,"")}function n(n,i,r,u){var f;return r!=null&&(typeof r===s&&(r=t(r),f=ou.exec(r),f?r=new Date(+f[1]):u?(r="'"+r.toLowerCase()+"'",i="("+i+" || '').toLowerCase()"):r="'"+r+"'"),r.getTime&&(i="("+i+"?"+i+".getTime():"+i+")",r=r.getTime())),i+" "+n+" "+r}return{eq:function(t,i,r){return n("==",t,i,r)},neq:function(t,i,r){return n("!=",t,i,r)},gt:function(t,i,r){return n(">",t,i,r)},gte:function(t,i,r){return n(">=",t,i,r)},lt:function(t,i,r){return n("<",t,i,r)},lte:function(t,i,r){return n("<=",t,i,r)},startswith:function(n,i,r){return r&&(n="("+n+" || '').toLowerCase()",i&&(i=i.toLowerCase())),i&&(i=t(i)),n+".lastIndexOf('"+i+"', 0) == 0"},endswith:function(n,i,r){return r&&(n="("+n+" || '').toLowerCase()",i&&(i=i.toLowerCase())),i&&(i=t(i)),n+".indexOf('"+i+"', "+n+".length - "+(i||"").length+") >= 0"},contains:function(n,i,r){return r&&(n="("+n+" || '').toLowerCase()",i&&(i=i.toLowerCase())),i&&(i=t(i)),n+".indexOf('"+i+"') >= 0"},doesnotcontain:function(n,i,r){return r&&(n="("+n+" || '').toLowerCase()",i&&(i=i.toLowerCase())),i&&(i=t(i)),n+".indexOf('"+i+"') == -1"}}}();u.filterExpr=function(n){for(var l=[],r,f,e=[],o=[],h,c,v=n.filters,s=0,a=v.length;s<a;s++)r=v[s],h=r.field,c=r.operator,r.filters?(f=u.filterExpr(r),r=f.expression.replace(/__o\[(\d+)\]/g,function(n,t){return t=+t,"__o["+(o.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(n,t){return t=+t,"__f["+(e.length+t)+"]"}),o.push.apply(o,f.operators),e.push.apply(e,f.fields)):(typeof h===gt?(f="__f["+e.length+"](d)",e.push(h)):f=i.expr(h),typeof c===gt?(r="__o["+o.length+"]("+f+", "+r.value+")",o.push(c)):r=di[(c||"eq").toLowerCase()](f,r.value,r.ignoreCase!==t?r.ignoreCase:!0)),l.push(r);return{expression:"("+l.join({and:" && ",or:" || "}[n.logic])+")",fields:e,operators:o}};gi={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};u.normalizeFilter=yt;u.prototype={toArray:function(){return this.data},range:function(n,t){return new u(this.data.slice(n,n+t))},skip:function(n){return new u(this.data.slice(n))},take:function(n){return new u(this.data.slice(0,n))},select:function(n){return new u(kt(this.data,n))},order:function(n,t){var i={dir:t};return n&&(n.compare?i.compare=n.compare:i.field=n),new u(this.data.slice(0).sort(vt.create(i)))},orderBy:function(n){return this.order(n,"asc")},orderByDescending:function(n){return this.order(n,"desc")},sort:function(n,t,i){var r,f,u=ut(n,t),e=[];if(i=i||vt,u.length){for(r=0,f=u.length;r<f;r++)e.push(i.create(u[r]));return this.orderBy({compare:i.combine(e)})}return this},filter:function(n){var t,r,s,i,h,c=this.data,f,e,l=[],o;if(n=yt(n),!n||n.filters.length===0)return this;for(i=u.filterExpr(n),f=i.fields,e=i.operators,h=o=new Function("d, __f, __o","return "+i.expression),(f.length||e.length)&&(o=function(n){return h(n,f,e)}),t=0,s=c.length;t<s;t++)r=c[t],o(r)&&l.push(r);return new u(l)},group:function(n,t){n=ft(n||[]);t=t||this.data;var f=this,i=new u(f.data),r;return n.length>0&&(r=n[0],i=i.groupBy(r).select(function(i){var f=new u(t).filter([{field:i.field,operator:"eq",value:i.value,ignoreCase:!1}]);return{field:i.field,value:i.value,items:n.length>1?new u(i.items).group(n.slice(1),f.toArray()).toArray():i.items,hasSubgroups:n.length>1,aggregates:f.aggregate(r.aggregates)}})),i},groupBy:function(n){if(nt(n)||!this.data.length)return new u([]);for(var t=n.field,o=this._sortForGrouping(t,n.dir||"asc"),c=i.accessor(t),s,r=c.get(o[0],t),f={field:t,value:r,items:[]},h,a=[f],e=0,l=o.length;e<l;e++)s=o[e],h=c.get(s,t),vu(r,h)||(r=h,f={field:t,value:r,items:[]},a.push(f)),f.items.push(s);return new u(a)},_sortForGrouping:function(n,t){var i,f,r=this.data;if(!eu){for(i=0,f=r.length;i<f;i++)r[i].__position=i;for(r=new u(r).sort(n,t,ki).toArray(),i=0,f=r.length;i<f;i++)delete r[i].__position;return r}return this.sort(n,t).toArray()},aggregate:function(n){var t,i,r={},u={};if(n&&n.length)for(t=0,i=this.data.length;t<i;t++)yu(r,n,this.data[t],t,i,u);return r}};tr={sum:function(n,t,i){var r=i.get(t);return a(n)?a(r)&&(n+=r):n=r,n},count:function(n){return(n||0)+1},average:function(n,i,r,u,f,e){var o=r.get(i);return e.count===t&&(e.count=0),a(n)?a(o)&&(n+=o):n=o,a(o)&&e.count++,u==f-1&&a(n)&&(n=n/e.count),n},max:function(n,t,i){var r=i.get(t);return a(n)||pt(n)||(n=r),n<r&&(a(r)||pt(r))&&(n=r),n},min:function(n,t,i){var r=i.get(t);return a(n)||pt(n)||(n=r),n>r&&(a(r)||pt(r))&&(n=r),n}};u.process=function(n,i){i=i||{};var r=new u(n),f=i.group,e=ft(f||[]).concat(ut(i.sort||[])),o,s=i.filterCallback,h=i.filter,c=i.skip,l=i.take;return h&&(r=r.filter(h),s&&(r=s(r)),o=r.toArray().length),e&&(r=r.sort(e),f&&(n=r.toArray())),c!==t&&l!==t&&(r=r.range(c,l)),f&&(r=r.group(f,n)),{total:o,data:r.toArray()}};var ir=ot.extend({init:function(n){this.data=n.data},read:function(n){n.success(this.data)},update:function(n){n.success(n.data)},create:function(n){n.success(n.data)},destroy:function(n){n.success(n.data)}}),rr=ot.extend({init:function(n){var t=this,i;n=t.options=e({},t.options,n);dt(gr,function(t,i){typeof n[i]===s&&(n[i]={url:n[i]})});t.cache=n.cache?et.create(n.cache):{find:b,add:b};i=n.parameterMap;v(n.push)&&(t.push=n.push);t.push||(t.push=rt);t.parameterMap=v(i)?i:function(n){var t={};return dt(n,function(n,r){n in i&&(n=i[n],w(n)&&(r=n.value(r),n=n.key));t[n]=r}),t}},options:{parameterMap:rt},create:function(n){return bt(this.setup(n,li))},read:function(i){var f=this,r,o,u,e=f.cache;i=f.setup(i,ai);r=i.success||b;o=i.error||b;u=e.find(i.data);u!==t?r(u):(i.success=function(n){e.add(i.data,n);r(n)},n.ajax(i))},update:function(n){return bt(this.setup(n,vi))},destroy:function(n){return bt(this.setup(n,yi))},setup:function(n,t){n=n||{};var u=this,r,i=u.options[t],f=v(i.data)?i.data(n.data):i.data;return n=e(!0,{},i,n),r=e(!0,{},f,n.data),n.data=u.parameterMap(r,t),v(n.url)&&(n.url=n.url(r)),n}}),et=ot.extend({init:function(){this._store={}},add:function(n,i){n!==t&&(this._store[ht(n)]=i)},find:function(n){return this._store[ht(n)]},clear:function(){this._store={}},remove:function(n){delete this._store[ht(n)]}});et.create=function(n){var t={inmemory:function(){return new et}};return w(n)&&v(n.find)?n:n===!0?new et:t[n]()};ui=ot.extend({init:function(n){var t=this,h,u,i,v,f;n=n||{};for(h in n)u=n[h],t[h]=typeof u===s?st(u):u;if(v=n.modelBase||p,w(t.model)&&(t.model=i=v.define(t.model)),f=c(t.data,t),t._dataAccessFunction=f,t.model){var b=c(t.groups,t),k=c(t.serialize,t),e={},l={},y={},o={},a=!1,r;i=t.model;i.fields&&(dt(i.fields,function(n,t){var i;r=n;w(t)&&t.field?r=t.field:typeof t===s&&(r=t);w(t)&&t.from&&(i=t.from);a=a||i&&i!==n||r!==n;l[n]=st(i||r);y[n]=st(n);e[i||r]=n;o[n]=i||r}),!n.serialize&&a&&(t.serialize=ri(k,i,wu,y,e,o)));t._dataAccessFunction=f;t.data=ri(f,i,ur,l,e,o);t.groups=ri(b,i,fr,l,e,o)}},errors:function(n){return n?n.errors:null},parse:rt,data:rt,total:function(n){return n.length},groups:rt,aggregates:function(){return{}},serialize:function(n){return n}});h=d.extend({init:function(n){var u=this,s,o,f;n&&(o=n.data);n=u.options=e({},u.options,n);u._map={};u._prefetch={};u._data=[];u._pristineData=[];u._ranges=[];u._view=[];u._pristineTotal=0;u._destroyed=[];u._pageSize=n.pageSize;u._page=n.page||(n.pageSize?1:t);u._sort=ut(n.sort);u._filter=yt(n.filter);u._group=ft(n.group);u._aggregate=n.aggregate;u._total=n.total;u._shouldDetachObservableParents=!0;d.fn.init.call(u);u.transport=si.create(n,o);v(u.transport.push)&&u.transport.push({pushCreate:c(u._pushCreate,u),pushUpdate:c(u._pushUpdate,u),pushDestroy:c(u._pushDestroy,u)});n.offlineStorage!=null&&(typeof n.offlineStorage=="string"?(f=n.offlineStorage,u._storage={getItem:function(){return JSON.parse(localStorage.getItem(f))},setItem:function(n){localStorage.setItem(f,ht(n))}}):u._storage=n.offlineStorage);u.reader=new i.data.readers[n.schema.type||"json"](n.schema);s=u.reader.model||{};u._detachObservableParents();u._data=u._observe(u._data);u._online=!0;u.bind(["push",g,r,it,pi,tt,ti],n)},options:{data:null,schema:{modelBase:p},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},online:function(n){if(n!==t)this._online!=n&&(this._online=n,n&&this.sync());else return this._online},offlineData:function(n){return this.options.offlineStorage==null?null:n!==t?this._storage.setItem(n):this._storage.getItem()||{}},_isServerGrouped:function(){var n=this.group()||[];return this.options.serverGrouping&&n.length},_pushCreate:function(n){this._push(n,"pushCreate")},_pushUpdate:function(n){this._push(n,"pushUpdate")},_pushDestroy:function(n){this._push(n,"pushDestroy")},_push:function(n,t){var i=this._readData(n);i||(i=n);this[t](i)},_flatData:function(n,t){if(n){if(this._isServerGrouped())return ei(n);if(!t)for(var i=0;i<n.length;i++)n.at(i)}return n},parent:b,get:function(n){for(var i=this._flatData(this._data),t=0,r=i.length;t<r;t++)if(i[t].id==n)return i[t]},getByUid:function(n){var t,r,i=this._flatData(this._data);if(i)for(t=0,r=i.length;t<r;t++)if(i[t].uid==n)return i[t]},indexOf:function(n){return ar(this._data,n)},at:function(n){return this._data.at(n)},data:function(n){var i=this,r;if(n!==t)i._detachObservableParents(),i._data=this._observe(n),i._pristineData=n.slice(0),i._storeData(),i._ranges=[],i.trigger("reset"),i._addRange(i._data),i._total=i._data.length,i._pristineTotal=i._total,i._process(i._data);else{if(i._data)for(r=0;r<i._data.length;r++)i._data.at(r);return i._data}},view:function(n){if(n===t)return this._view;this._view=this._observeView(n)},_observeView:function(n){return hr(n,this._data,this._ranges,this.reader.model||o),new at(n,this.reader.model)},flatView:function(){var n=this.group()||[];return n.length?ei(this._view):this._view},add:function(n){return this.insert(this._data.length,n)},_createNewModel:function(n){return this.reader.model?new this.reader.model(n):n instanceof o?n:new o(n)},insert:function(n,t){return t||(t=n,n=0),t instanceof p||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(n,0,oi(this.group(),t)):this._data.splice(n,0,t),t},pushCreate:function(n){var t,f,i,e,u,r;l(n)||(n=[n]);t=[];f=this.options.autoSync;this.options.autoSync=!1;try{for(i=0;i<n.length;i++)e=n[i],u=this.add(e),t.push(u),r=u.toJSON(),this._isServerGrouped()&&(r=oi(this.group(),r)),this._pristineData.push(r)}finally{this.options.autoSync=f}t.length&&this.trigger("push",{type:"create",items:t})},pushUpdate:function(n){var i,r;for(l(n)||(n=[n]),i=[],r=0;r<n.length;r++){var u=n[r],f=this._createNewModel(u),t=this.get(f.id);t?(i.push(t),t.accept(u),t.trigger("change"),this._updatePristineForModel(t,u)):this.pushCreate(u)}i.length&&this.trigger("push",{type:"update",items:i})},pushDestroy:function(n){var t=this._removeItems(n);t.length&&this.trigger("push",{type:"destroy",items:t})},_removeItems:function(n){var i,r,t;l(n)||(n=[n]);i=[];r=this.options.autoSync;this.options.autoSync=!1;try{for(t=0;t<n.length;t++){var e=n[t],u=this._createNewModel(e),f=!1;this._eachItem(this._data,function(n){for(var r,t=0;t<n.length;t++)if(r=n.at(t),r.id===u.id){i.push(r);n.splice(t,1);f=!0;break}});f&&(this._removePristineForModel(u),this._destroyed.pop())}}finally{this.options.autoSync=r}return i},remove:function(n){var t,i=this,r=i._isServerGrouped();return this._eachItem(i._data,function(u){return t=cr(u,n),t&&r?(t.isNew&&t.isNew()||i._destroyed.push(t),!0):void 0}),this._removeModelFromRanges(n),this._updateRangesLength(),n},sync:function(){var t=this,r,e,o=[],s=[],h=t._destroyed,u=t._flatData(t._data),f,i;if(t.online()){if(!t.reader.model)return;for(r=0,e=u.length;r<e;r++)u[r].isNew()?o.push(u[r]):u[r].dirty&&s.push(u[r]);i=[];i.push.apply(i,t._send("create",o));i.push.apply(i,t._send("update",s));i.push.apply(i,t._send("destroy",h));f=n.when.apply(null,i).then(function(){for(var n=0,i=arguments.length;n<i;n++)t._accept(arguments[n]);t._storeData(!0);t._change({action:"sync"});t.trigger(pi)})}else t._storeData(!0),t._change({action:"sync"}),f=n.Deferred().resolve().promise();return f},cancelChanges:function(n){var t=this;n instanceof i.data.Model?t._cancelModel(n):(t._destroyed=[],t._detachObservableParents(),t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t._pristineTotal),t._change())},hasChanges:function(){var n,i,t=this._data;if(this._destroyed.length)return!0;for(n=0,i=t.length;n<i;n++)if(t[n].isNew()||t[n].dirty)return!0;return!1},_accept:function(t){var r=this,f=t.models,i=t.response,u=0,s=r._isServerGrouped(),h=r._pristineData,e=t.type,o;if(r.trigger(tt,{response:i,type:e}),i&&!nt(i)){if(i=r.reader.parse(i),r._handleCustomErrors(i))return;i=r.reader.data(i);l(i)||(i=[i])}else i=n.map(f,function(n){return n.toJSON()});for(e==="destroy"&&(r._destroyed=[]),u=0,o=f.length;u<o;u++)e!=="destroy"?(f[u].accept(i[u]),e==="create"?h.push(s?oi(r.group(),f[u]):i[u]):e==="update"&&r._updatePristineForModel(f[u],i[u])):r._removePristineForModel(f[u])},_updatePristineForModel:function(n,t){this._executeOnPristineForModel(n,function(n,r){i.deepExtend(r[n],t)})},_executeOnPristineForModel:function(n,t){this._eachPristineItem(function(i){var r=lr(i,n);if(r>-1)return t(r,i),!0})},_removePristineForModel:function(n){this._executeOnPristineForModel(n,function(n,t){t.splice(n,1)})},_readData:function(n){var t=this._isServerGrouped()?this.reader.groups:this.reader.data;return t.call(this.reader,n)},_eachPristineItem:function(n){this._eachItem(this._pristineData,n)},_eachItem:function(n,t){n&&n.length&&(this._isServerGrouped()?or(n,t):t(n))},_pristineForModel:function(n){var i,t,r=function(r){return t=lr(r,n),t>-1?(i=r[t],!0):void 0};return this._eachPristineItem(r),i},_cancelModel:function(n){var t=this._pristineForModel(n);this._eachItem(this._data,function(i){var r=ar(i,n);r>=0&&(t&&(!n.isNew()||t.__state__)?i[r].accept(t):i.splice(r,1))})},_promise:function(t,i,r){var u=this;return n.Deferred(function(n){u.trigger(it,{type:r});u.transport[r].call(u.transport,e({success:function(t){n.resolve({response:t,models:i,type:r})},error:function(t,i,r){n.reject(t);u.error(t,i,r)}},t))}).promise()},_send:function(n,t){var r=this,i,f,u=[],e=r.reader.serialize(pu(t));if(r.options.batch)t.length&&u.push(r._promise({data:{models:e}},t,n));else for(i=0,f=t.length;i<f;i++)u.push(r._promise({data:e[i]},[t[i]],n));return u},read:function(t){var i=this,u=i._params(t),r=n.Deferred();return i._queueRequest(u,function(){i.trigger(it,{type:"read"})?(i._dequeueRequest(),r.resolve()):(i.trigger(ti),i._ranges=[],i.trigger("reset"),i.online()?i.transport.read({data:u,success:function(n){i.success(n);r.resolve()},error:function(){var n=ct.call(arguments);i.error.apply(i,n);r.reject.apply(r,n)}}):i.options.offlineStorage!=null&&(i.success(i.offlineData()),r.resolve()))}),r.promise()},_readAggregates:function(n){return this.reader.aggregates(n)},success:function(n){var t=this,e=t.options,u,i,r,f;if(t.trigger(tt,{response:n,type:"read"}),t.online()){if(n=t.reader.parse(n),t._handleCustomErrors(n)){t._dequeueRequest();return}t._total=t.reader.total(n);t._aggregate&&e.serverAggregates&&(t._aggregateResult=t._readAggregates(n));n=t._readData(n)}else{for(n=t._readData(n),u=[],i=0;i<n.length;i++)r=n[i],f=r.__state__,f=="destroy"?this._destroyed.push(this._createNewModel(r)):u.push(r);n=u;t._total=n.length}t._pristineTotal=t._total;t._pristineData=n.slice(0);t._detachObservableParents();t._data=t._observe(n);t.options.offlineStorage!=null&&t._eachItem(t._data,function(n){for(var i,t=0;t<n.length;t++)i=n.at(t),i.__state__=="update"&&(i.dirty=!0)});t._storeData();t._addRange(t._data);t._process(t._data);t._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var n=0;n<this._data.length;n++)this._data[n].parent&&(this._data[n].parent=b)},_storeData:function(n){function u(n){for(var t,i,o=[],r=0;r<n.length;r++)t=n.at(r),i=t.toJSON(),f&&t.items?i.items=u(t.items):(i.uid=t.uid,e&&(t.isNew()?i.__state__="create":t.dirty&&(i.__state__="update"))),o.push(i);return o}var f=this._isServerGrouped(),e=this.reader.model,t,i,r;if(this.options.offlineStorage!=null){for(t=u(this._data),i=0;i<this._destroyed.length;i++)r=this._destroyed[i].toJSON(),r.__state__="destroy",t.push(r);this.offlineData(t);n&&(this._pristineData=t)}},_addRange:function(n){var t=this,i=t._skip||0,r=i+t._flatData(n,!0).length;t._ranges.push({start:i,end:r,data:n});t._ranges.sort(function(n,t){return n.start-t.start})},error:function(n,t,i){this._dequeueRequest();this.trigger(tt,{});this.trigger(g,{xhr:n,status:t,errorThrown:i})},_params:function(n){var t=this,i=e({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},n);return t.options.serverPaging||(delete i.take,delete i.skip,delete i.page,delete i.pageSize),t.options.serverGrouping?t.reader.model&&i.group&&(i.group=wt(i.group,t.reader.model)):delete i.group,t.options.serverFiltering?t.reader.model&&i.filter&&(i.filter=pr(i.filter,t.reader.model)):delete i.filter,t.options.serverSorting?t.reader.model&&i.sort&&(i.sort=wt(i.sort,t.reader.model)):delete i.sort,t.options.serverAggregates?t.reader.model&&i.aggregate&&(i.aggregate=wt(i.aggregate,t.reader.model)):delete i.aggregate,i},_queueRequest:function(n,i){var r=this;r._requestInProgress?r._pending={callback:c(i,r),options:n}:(r._requestInProgress=!0,r._pending=t,i())},_dequeueRequest:function(){var n=this;n._requestInProgress=!1;n._pending&&n._queueRequest(n._pending.options,n._pending.callback)},_handleCustomErrors:function(n){if(this.reader.errors){var t=this.reader.errors(n);if(t)return this.trigger(g,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_observe:function(n){var t=this,i=t.reader.model,u=!1,f;return t._shouldDetachObservableParents=!0,i&&n.length&&(u=!(n[0]instanceof i)),n instanceof y?(t._shouldDetachObservableParents=!1,u&&(n.type=t.reader.model,n.wrapAll(n,n))):(f=t.pageSize()?at:y,n=new f(n,t.reader.model),n.parent=function(){return t.parent()}),t._isServerGrouped()&&er(n,i),t._changeHandler&&t._data&&t._data instanceof y?t._data.unbind(r,t._changeHandler):t._changeHandler=c(t._change,t),n.bind(r,t._changeHandler)},_change:function(n){var t=this,u,f,i=n?n.action:"",r;if(i==="remove")for(u=0,f=n.items.length;u<f;u++)n.items[u].isNew&&n.items[u].isNew()||t._destroyed.push(n.items[u]);t.options.autoSync&&(i==="add"||i==="remove"||i==="itemchange")?t.sync():(r=parseInt(t._total,10),a(t._total)||(r=parseInt(t._pristineTotal,10)),i==="add"?r+=n.items.length:i==="remove"?r-=n.items.length:i==="itemchange"||i==="sync"||t.options.serverPaging?i==="sync"&&(r=t._pristineTotal=parseInt(t._total,10)):r=t._pristineTotal,t._total=r,t._process(t._data,n))},_calculateAggregates:function(n,t){t=t||{};var i=new u(n),f=t.aggregate,r=t.filter;return r&&(i=i.filter(r)),i.aggregate(f)},_process:function(n,i){var u=this,f={},e;u.options.serverPaging!==!0&&(f.skip=u._skip,f.take=u._take||u._pageSize,f.skip===t&&u._page!==t&&u._pageSize!==t&&(f.skip=(u._page-1)*u._pageSize));u.options.serverSorting!==!0&&(f.sort=u._sort);u.options.serverFiltering!==!0&&(f.filter=u._filter);u.options.serverGrouping!==!0&&(f.group=u._group);u.options.serverAggregates!==!0&&(f.aggregate=u._aggregate,u._aggregateResult=u._calculateAggregates(n,f));e=u._queryProcess(n,f);u.view(e.data);e.total===t||u.options.serverFiltering||(u._total=e.total);i=i||{};i.items=i.items||u._view;u.trigger(r,i)},_queryProcess:function(n,t){return u.process(n,t)},_mergeState:function(n){var i=this;return n!==t&&(i._pageSize=n.pageSize,i._page=n.page,i._sort=n.sort,i._filter=n.filter,i._group=n.group,i._aggregate=n.aggregate,i._skip=n.skip,i._take=n.take,i._skip===t&&(i._skip=i.skip(),n.skip=i.skip()),i._take===t&&i._pageSize!==t&&(i._take=i._pageSize,n.take=i._take),n.sort&&(i._sort=n.sort=ut(n.sort)),n.filter&&(i._filter=n.filter=yt(n.filter)),n.group&&(i._group=n.group=ft(n.group)),n.aggregate&&(i._aggregate=n.aggregate=au(n.aggregate))),n},query:function(i){var u,f=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;return f||(this._data===t||this._data.length===0)&&!this._destroyed.length?this.read(this._mergeState(i)):(this.trigger(it,{type:"read"})||(this.trigger(ti),u=this._queryProcess(this._data,this._mergeState(i)),this.options.serverFiltering||(this._total=u.total!==t?u.total:this._data.length),this._aggregateResult=this._calculateAggregates(this._data,i),this.view(u.data),this.trigger(tt,{}),this.trigger(r,{items:u.data})),n.Deferred().resolve().promise())},fetch:function(n){return this._query().then(c(n,this))},_query:function(n){var t=this;return t.query(e({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},n))},next:function(n){var t=this,i=t.page(),r=t.total();if(n=n||{},i&&(!r||!(i+1>t.totalPages())))return t._skip=i*t.take(),i+=1,n.page=i,t._query(n),i},prev:function(n){var t=this,i=t.page();if(n=n||{},i&&i!==1)return t._skip=t._skip-t.take(),i-=1,n.page=i,t._query(n),i},page:function(n){var i=this,r;if(n!==t){n=f.max(f.min(f.max(n,1),i.totalPages()),1);i._query({page:n});return}return r=i.skip(),r!==t?f.round((r||0)/(i.take()||1))+1:t},pageSize:function(n){var i=this;if(n!==t){i._query({pageSize:n,page:1});return}return i.take()},sort:function(n){var i=this;if(n!==t){i._query({sort:n});return}return i._sort},filter:function(n){var i=this;if(n===t)return i._filter;i._query({filter:n,page:1})},group:function(n){var i=this;if(n!==t){i._query({group:n});return}return i._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(n){var i=this;if(n!==t){i._query({aggregate:n});return}return i._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var n=this,t=n.pageSize()||n.total();return f.ceil((n.total()||0)/t)},inRange:function(n,t){var i=this,r=f.min(n+t,i.total());return!i.options.serverPaging&&i._data.length>0?!0:i._findRange(n,r).length>0},lastRange:function(){var n=this._ranges;return n[n.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var n=this._ranges;return n.length&&n[0].data.length&&n[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},range:function(n,i){n=f.min(n||0,this.total());var r=this,e=f.max(f.floor(n/i),0)*i,u=f.min(e+i,r.total()),o;if(r._skipRequestsInProgress=!1,o=r._findRange(n,f.min(n+i,r.total())),o.length){r._skipRequestsInProgress=!0;r._pending=t;r._skip=n>r.skip()?f.min(u,(r.totalPages()-1)*r.take()):e;r._take=i;var s=r.options.serverPaging,h=r.options.serverSorting,c=r.options.serverFiltering,l=r.options.serverAggregates;try{r.options.serverPaging=!0;r._isServerGrouped()||r.group()&&r.group().length||(r.options.serverSorting=!0);r.options.serverFiltering=!0;r.options.serverPaging=!0;r.options.serverAggregates=!0;s&&(r._detachObservableParents(),r._data=o=r._observe(o));r._process(o)}finally{r.options.serverPaging=s;r.options.serverSorting=h;r.options.serverFiltering=c;r.options.serverAggregates=l}return}i!==t&&(r._rangeExists(e,u)?e<n&&r.prefetch(u,i,function(){r.range(n,i)}):r.prefetch(e,i,function(){n>e&&u<r.total()&&!r._rangeExists(u,f.min(u+i,r.total()))?r.prefetch(u,i,function(){r.range(n,i)}):r.range(n,i)}))},_findRange:function(n,i){for(var u=this,y=u._ranges,r,p=[],h,c,o,w,l,a,s=u.options,d=s.serverSorting||s.serverPaging||s.serverFiltering||s.serverGrouping||s.serverAggregates,v,f,k,e=0,b=y.length;e<b;e++)if(r=y[e],n>=r.start&&n<=r.end){for(f=0,h=e;h<b;h++)if(r=y[h],v=u._flatData(r.data,!0),v.length&&n+f>=r.start&&(w=r.data,l=r.end,d||(k=ft(u.group()||[]).concat(ut(u.sort()||[])),a=u._queryProcess(r.data,{sort:k,filter:u.filter()}),v=w=a.data,a.total!==t&&(l=a.total)),c=0,n+f>r.start&&(c=n+f-r.start),o=v.length,l>i&&(o=o-(l-i)),f+=o-c,p=u._mergeGroups(p,w,c,o),i<=r.end&&f==i-n))return p;break}return[]},_mergeGroups:function(n,t,i,r){if(this._isServerGrouped()){var u=t.toJSON(),f;return n.length&&(f=n[n.length-1]),fi(f,u,i,r),n.concat(u)}return n.concat(t.slice(i,r))},skip:function(){var n=this;return n._skip===t?n._page!==t?(n._page-1)*(n.take()||1):t:n._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(n,t,i){var u=this;return function(f){var h=!1,e={start:n,end:t,data:[]},o,c,s;if(u._dequeueRequest(),u.trigger(tt,{response:f,type:"read"}),f=u.reader.parse(f),s=u._readData(f),s.length){for(o=0,c=u._ranges.length;o<c;o++)if(u._ranges[o].start===n){h=!0;e=u._ranges[o];break}h||u._ranges.push(e)}e.data=u._observe(s);e.end=e.start+u._flatData(e.data,!0).length;u._ranges.sort(function(n,t){return n.start-t.start});u._total=u.reader.total(f);u._skipRequestsInProgress||(i&&s.length?i():u.trigger(r,{}))}},prefetch:function(n,t,i){var r=this,u=f.min(n+t,r.total()),e={take:t,skip:n,page:n/t+1,pageSize:t,sort:r._sort,filter:r._filter,group:r._group,aggregate:r._aggregate};r._rangeExists(n,u)?i&&i():(clearTimeout(r._timeout),r._timeout=setTimeout(function(){r._queueRequest(e,function(){r.trigger(it,{type:"read"})?r._dequeueRequest():r.transport.read({data:r._params(e),success:r._prefetchSuccessHandler(n,u,i)})})},100))},_rangeExists:function(n,t){for(var f=this,r=f._ranges,i=0,u=r.length;i<u;i++)if(r[i].start<=n&&r[i].end>=t)return!0;return!1},_removeModelFromRanges:function(n){for(var i,r,u,t=0,f=this._ranges.length;t<f;t++)if(u=this._ranges[t],this._eachItem(u.data,function(t){i=cr(t,n);i&&(r=!0)}),r)break},_updateRangesLength:function(){for(var r=0,n,t,i=0,u=this._ranges.length;i<u;i++)n=this._ranges[i],n.start=n.start-r,t=this._flatData(n.data,!0).length,r=n.end-t,n.end=n.start+t}});si={};si.create=function(n,t){var u,r=n.transport;return r?(r.read=typeof r.read===s?{url:r.read}:r.read,n.type&&(i.data.transports=i.data.transports||{},i.data.schemas=i.data.schemas||{},i.data.transports[n.type]&&!w(i.data.transports[n.type])?u=new i.data.transports[n.type](e(r,{data:t})):r=e(!0,{},i.data.transports[n.type],r),n.schema=e(!0,{},i.data.schemas[n.type],n.schema)),u||(u=v(r.read)?r:new rr(r))):u=new ir({data:n.data||[]}),u};h.create=function(n){(l(n)||n instanceof y)&&(n={data:n});var t=n||{},u=t.data,r=t.fields,s=t.table,a=t.select,f,v,c={},o;if(u||!r||t.transport||(s?u=du(s,r):a&&(u=ku(a,r))),i.data.Model&&r&&(!t.schema||!t.schema.model)){for(f=0,v=r.length;f<v;f++)o=r[f],o.type&&(c[o.field]=o);nt(c)||(t.schema=e(!0,t.schema,{model:{fields:c}}))}return t.data=u,s=null,t.table=null,t instanceof h?t:new h(t)};hi=p.define({id:"id",init:function(n){var t=this,r=t.hasChildren||n&&n.hasChildren,f="items",u={};i.data.Model.fn.init.call(t,n);typeof t.children===s&&(f=t.children);u={schema:{data:f,model:{hasChildren:r,id:t.idField,fields:t.fields}}};typeof t.children!==s&&e(u,t.children);u.data=n;r||(r=u.schema.data);typeof r===s&&(r=i.getter(r));v(r)&&(t.hasChildren=!!r.call(t,t));t._childrenOptions=u;t.hasChildren&&t._initChildren();t._loaded=!!(n&&(n[f]||n._loaded))},_initChildren:function(){var n=this,t,i,u;n.children instanceof k||(t=n.children=new k(n._childrenOptions),i=t.transport,u=i.parameterMap,i.parameterMap=function(t,i){return t[n.idField||"id"]=n.id,u&&(t=u(t,i)),t},t.parent=function(){return n},t.bind(r,function(t){t.node=t.node||n;n.trigger(r,t)}),t.bind(g,function(t){var i=n.parent();i&&(t.node=t.node||n,i.trigger(g,t))}),n._updateChildrenField())},append:function(n){this._initChildren();this.loaded(!0);this.children.add(n)},hasChildren:!1,level:function(){for(var n=this.parentNode(),t=0;n&&n.parentNode;)t++,n=n.parentNode?n.parentNode():null;return t},_updateChildrenField:function(){var n=this._childrenOptions.schema.data;this[n||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0;this._updateChildrenField()},load:function(){var i={},u="_query",n;if(this.hasChildren){this._initChildren();n=this.children;i[this.idField||"id"]=this.id;this._loaded||(n._data=t,u="read");n.one(r,c(this._childrenLoaded,this));n[u](i)}else this.loaded(!0)},parentNode:function(){var n=this.parent();return n.parent()},loaded:function(n){if(n!==t)this._loaded=n;else return this._loaded},shouldSerialize:function(n){return p.fn.shouldSerialize.call(this,n)&&n!=="children"&&n!=="_loaded"&&n!=="hasChildren"&&n!=="_childrenOptions"}});k=h.extend({init:function(n){var t=hi.define({children:n});h.fn.init.call(this,e(!0,{},{schema:{modelBase:t,model:t}},n));this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var n=this;n._data.bind(g,function(t){n.trigger(g,t)})},remove:function(n){var t=n.parentNode(),i=this,r;return t&&t._initChildren&&(i=t.children),r=h.fn.remove.call(i,n),t&&!i.data().length&&(t.hasChildren=!1),r},success:wr("success"),data:wr("data"),insert:function(n,t){var i=this.parent();return i&&i._initChildren&&(i.hasChildren=!0,i._initChildren()),h.fn.insert.call(this,n,t)},_find:function(n,t){var r,e,i,u,f;if(i=h.fn[n].call(this,t),i)return i;if(u=this._flatData(this._data),u)for(r=0,e=u.length;r<e;r++)if((f=u[r].children,f instanceof k)&&(i=f[n](t),i))return i},get:function(n){return this._find("get",n)},getByUid:function(n){return this._find("getByUid",n)}});k.create=function(n){n=n&&n.push?{data:n}:n;var t=n||{},i=t.data,r=t.fields,u=t.list;return i&&i._dataSource?i._dataSource:(i||!r||t.transport||u&&(i=br(u,r)),t.data=i,t instanceof k?t:new k(t))};ci=i.Observable.extend({init:function(n,t,r){i.Observable.fn.init.call(this);this._prefetching=!1;this.dataSource=n;this.prefetch=!r;var u=this;n.bind("change",function(){u._change()});n.bind("reset",function(){u._reset()});this._syncWithDataSource();this.setViewSize(t)},setViewSize:function(n){this.viewSize=n;this._recalculate()},at:function(n){var t=this.pageSize,i=!0;if(n>=this.total()){this.trigger("endreached",{index:n});return}return this.useRanges?this.useRanges?((n<this.dataOffset||n>=this.skip+t)&&(i=this.range(Math.floor(n/t)*t)),n===this.prefetchThreshold&&this._prefetch(),n===this.midPageThreshold?this.range(this.nextMidRange,!0):n===this.nextPageThreshold?this.range(this.nextFullRange):n===this.pullBackThreshold&&(this.offset===this.skip?this.range(this.previousMidRange):this.range(this.previousFullRange)),i?this.dataSource.at(n-this.dataOffset):(this.trigger("endreached",{index:n}),null)):void 0:this.dataSource.view()[n]},indexOf:function(n){return this.dataSource.data().indexOf(n)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var n=this,t=n.pageSize,i=n.skip-n.viewSize+t,r=f.max(f.floor(i/t),0)*t;this.offset=i;this.dataSource.prefetch(r,t,function(){n._goToRange(i,!0)})},range:function(n,t){if(this.offset===n)return!0;var r=this,i=this.pageSize,u=f.max(f.floor(n/i),0)*i,e=this.dataSource;return(t&&(u+=i),e.inRange(n,i))?(this.offset=n,this._recalculate(),this._goToRange(n),!0):this.prefetch?(e.prefetch(u,i,function(){r.offset=n;r._recalculate();r._goToRange(n,!0)}),!1):!0},syncDataSource:function(){var n=this.offset;this.offset=null;this.range(n)},destroy:function(){this.unbind()},_prefetch:function(){var i=this,n=this.pageSize,t=this.skip+n,r=this.dataSource;r.inRange(t,n)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:t,take:n}),r.prefetch(t,n,function(){i._prefetching=!1;i.trigger("prefetched",{skip:t,take:n})}))},_goToRange:function(n,t){this.offset===n&&(this.dataOffset=n,this._expanding=t,this.dataSource.range(n,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var n=this.dataSource;this.length=this.useRanges?n.lastRange().end:n.view().length;this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset}));this.trigger("resize");this._expanding&&this.trigger("expand");delete this._expanding},_syncWithDataSource:function(){var n=this.dataSource;this._firstItemUid=n.firstItemUid();this.dataOffset=this.offset=n.skip()||0;this.pageSize=n.pageSize();this.useRanges=n.options.serverPaging},_recalculate:function(){var t=this.pageSize,r=this.offset,i=this.viewSize,n=Math.ceil(r/t)*t;this.skip=n;this.midPageThreshold=n+t-1;this.nextPageThreshold=n+i-1;this.prefetchThreshold=n+Math.floor(t/3*2);this.pullBackThreshold=this.offset-1;this.nextMidRange=n+t-i;this.nextFullRange=n;this.previousMidRange=r-i;this.previousFullRange=n-t}});kr=i.Observable.extend({init:function(n,t){var r=this;i.Observable.fn.init.call(r);this.dataSource=n;this.batchSize=t;this._total=0;this.buffer=new ci(n,t*3);this.buffer.bind({endreached:function(n){r.trigger("endreached",{index:n.index})},prefetching:function(n){r.trigger("prefetching",{skip:n.skip,take:n.take})},prefetched:function(n){r.trigger("prefetched",{skip:n.skip,take:n.take})},reset:function(){r._total=0;r.trigger("reset")},resize:function(){r._total=Math.ceil(this.length/r.batchSize);r.trigger("resize",{total:r.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(n){var i=this.buffer,f=n*this.batchSize,o=this.batchSize,e=[],u,r;for(i.offset>f&&i.at(i.offset-1),r=0;r<o;r++){if(u=i.at(f+r),u===t)break;e.push(u)}return e},total:function(){return this._total},destroy:function(){this.buffer.destroy();this.unbind()}});e(!0,i.data,{readers:{json:ui},Query:u,DataSource:h,HierarchicalDataSource:k,Node:hi,ObservableObject:o,ObservableArray:y,LazyObservableArray:at,LocalTransport:ir,RemoteTransport:rr,Cache:et,DataReader:ui,Model:p,Buffer:ci,BatchBuffer:kr})}(window.kendo.jQuery),function(n,t){function k(t,u,f){return r.extend({init:function(n,t,i){var u=this;r.fn.init.call(u,n.element[0],t,i);u.widget=n;u._dataBinding=h(u.dataBinding,u);u._dataBound=h(u.dataBound,u);u._itemChange=h(u.itemChange,u)},itemChange:function(n){l(n.item[0],n.data,this._ns(n.ns),[n.data].concat(this.bindings[t]._parents()))},dataBinding:function(n){for(var u=this.widget,r=n.removedItems||u.items(),t=0,i=r.length;t<i;t++)p(r[t])},_ns:function(t){t=t||i.ui;var r=[i.ui,i.dataviz.ui,i.mobile.ui];return r.splice(n.inArray(t,r),1),r.unshift(t),i.rolesFromNamespaces(r)},dataBound:function(n){var i,f,e=this.widget,o=n.addedItems||e.items(),s=e[u],r,h,c=s.group()||[];if(o.length)for(r=n.addedDataItems||s.flatView(),h=this.bindings[t]._parents(),i=0,f=r.length;i<f;i++)l(o[i],r[i],this._ns(n.ns),[r[i]].concat(h))},refresh:function(n){var o=this,r,e=o.widget;n=n||{};n.action||(o.destroy(),e.bind("dataBinding",o._dataBinding),e.bind("dataBound",o._dataBound),e.bind("itemChange",o._itemChange),r=o.bindings[t].get(),e[u]instanceof i.data.DataSource&&e[u]!=r&&(r instanceof i.data.DataSource?e[f](r):r&&r._dataSource?e[f](r._dataSource):e[u].data(r)))},destroy:function(){var n=this.widget;n.unbind("dataBinding",this._dataBinding);n.unbind("dataBound",this._dataBound);n.unbind("itemChange",this._itemChange)}})}function vt(n,t){var r=i.initWidget(n,{},t);if(r)return new at(r)}function et(n){var e={},i,o,r,u,s,t,f;for(f=n.match(ut),i=0,o=f.length;i<o;i++)r=f[i],u=r.indexOf(":"),s=r.substring(0,u),t=r.substring(u+1),t.charAt(0)=="{"&&(t=et(t)),e[s]=t;return e}function y(n,t,i){var r,u={};for(r in n)u[r]=new i(t,n[r]);return u}function l(n,t,r,u){var w=n.getAttribute("data-"+i.ns+"role"),s,e=n.getAttribute("data-"+i.ns+"bind"),v=n.children,p=[],b=!0,o,a={},h;if(u=u||[t],(w||e)&&st(n),w&&(h=vt(n,r)),e&&(e=et(e.replace(ft,"")),h||(a=i.parseOptions(n,{textField:"",valueField:"",template:"",valueUpdate:f,valuePrimitive:!1,autoBind:!0}),a.roles=r,h=new rt(n,a)),h.source=t,o=y(e,u,c),a.template&&(o.template=new lt(u,"",a.template)),o.click&&(e.events=e.events||{},e.events.click=e.click,o.click.destroy(),delete o.click),o.source&&(b=!1),e.attr&&(o.attr=y(e.attr,u,c)),e.style&&(o.style=y(e.style,u,c)),e.events&&(o.events=y(e.events,u,ct)),h.bind(o)),h&&(n.kendoBindingTarget=h),b&&v){for(s=0;s<v.length;s++)p[s]=v[s];for(s=0;s<p.length;s++)l(p[s],t,r,u)}}function ot(t,r){var u,e,f,o=i.rolesFromNamespaces([].slice.call(arguments,2));for(r=i.observable(r),t=n(t),u=0,e=t.length;u<e;u++)f=t[u],f.nodeType===1&&l(f,r,o)}function st(n){var t=n.kendoBindingTarget;t&&(t.destroy(),tt?delete n.kendoBindingTarget:n.removeAttribute?n.removeAttribute("kendoBindingTarget"):n.kendoBindingTarget=null)}function p(n){st(n);ht(n)}function ht(n){var i=n.children,t,r;if(i)for(t=0,r=i.length;t<r;t++)p(i[t])}function yt(t){var i,r;for(t=n(t),i=0,r=t.length;i<r;i++)p(t[i])}function pt(n,t){var i=n.element,r=i[0].kendoBindingTarget;r&&ot(i,r.source,t)}var i=window.kendo,wt=i.support.browser,w=i.Observable,s=i.data.ObservableObject,o=i.data.ObservableArray,d={}.toString,u={},bt=Array.prototype.slice,g=i.Class,b,h=n.proxy,e="value",v="source",nt="events",a="checked",tt=!0,f="change",ut,ft;(function(){var n=document.createElement("a");n.innerText!==t?b="innerText":n.textContent!==t&&(b="textContent");try{delete n.test}catch(i){tt=!1}})();var c=w.extend({init:function(n,t){var i=this;w.fn.init.call(i);i.source=n[0];i.parents=n;i.path=t;i.dependencies={};i.dependencies[t]=!0;i.observable=i.source instanceof w;i._access=function(n){i.dependencies[n.field]=!0};i.observable&&(i._change=function(n){i.change(n)},i.source.bind(f,i._change))},_parents:function(){var t=this.parents,i=this.get(),r;return i&&typeof i.parent=="function"&&(r=i.parent(),n.inArray(r,t)<0&&(t=[r].concat(t))),t},change:function(n){var r,t,u=n.field,i=this;if(i.path==="this")i.trigger(f,n);else for(r in i.dependencies)if(r.indexOf(u)===0&&(t=r.charAt(u.length),!t||t==="."||t==="[")){i.trigger(f,n);break}},start:function(n){n.bind("get",this._access)},stop:function(n){n.unbind("get",this._access)},get:function(){var i=this,n=i.source,e=0,u=i.path,r=n;if(!i.observable)return r;for(i.start(i.source),r=n.get(u);r===t&&n;)n=i.parents[++e],n instanceof s&&(r=n.get(u));if(r===t)for(n=i.source;r===t&&n;)n=n.parent(),n instanceof s&&(r=n.get(u));return typeof r=="function"&&(e=u.lastIndexOf("."),e>0&&(n=n.get(u.substring(0,e))),i.start(n),r=n!==i.source?r.call(n,i.source):r.call(n),i.stop(n)),n&&n!==i.source&&(i.currentSource=n,n.unbind(f,i._change).bind(f,i._change)),i.stop(i.source),r},set:function(n){var t=this.currentSource||this.source,r=i.getter(this.path)(t);typeof r=="function"?t!==this.source?r.call(t,this.source,n):r.call(t,n):t.set(this.path,n)},destroy:function(){this.observable&&(this.source.unbind(f,this._change),this.currentSource&&this.currentSource.unbind(f,this._change));this.unbind()}}),ct=c.extend({get:function(){for(var n=this.source,i=this.path,r=0,t=n.get(i);!t&&n;)n=this.parents[++r],n instanceof s&&(t=n.get(i));return h(t,n)}}),lt=c.extend({init:function(n,t,i){var r=this;c.fn.init.call(r,n,t);r.template=i},render:function(n){var t;return this.start(this.source),t=i.render(this.template,n),this.stop(this.source),t}}),r=g.extend({init:function(n,t,i){this.element=n;this.bindings=t;this.options=i},bind:function(n,t){var i=this;n=t?n[t]:n;n.bind(f,function(n){i.refresh(t||n)});i.refresh(t)},destroy:function(){}});u.attr=r.extend({refresh:function(n){this.element.setAttribute(n,this.bindings.attr[n].get())}});u.style=r.extend({refresh:function(n){this.element.style[n]=this.bindings.style[n].get()||""}});u.enabled=r.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}});u.readonly=r.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}});u.disabled=r.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}});u.events=r.extend({init:function(n,t,i){r.fn.init.call(this,n,t,i);this.handlers={}},refresh:function(t){var r=n(this.element),u=this.bindings.events[t],i=this.handlers[t];i&&r.off(t,i);i=this.handlers[t]=u.get();r.on(t,u.source,i)},destroy:function(){var i=n(this.element);for(var t in this.handlers)i.off(t,this.handlers[t])}});u.text=r.extend({refresh:function(){var n=this.bindings.text.get();n==null&&(n="");this.element[b]=n}});u.visible=r.extend({refresh:function(){this.element.style.display=this.bindings.visible.get()?"":"none"}});u.invisible=r.extend({refresh:function(){this.element.style.display=this.bindings.invisible.get()?"none":""}});u.html=r.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}});u.value=r.extend({init:function(t,i,u){r.fn.init.call(this,t,i,u);this._change=h(this.change,this);this.eventName=u.valueUpdate||f;n(this.element).on(this.eventName,this._change);this._initChange=!1},change:function(){this._initChange=this.eventName!=f;var n=this.element.value,t=this.element.type;t=="date"?n=i.parseDate(n,"yyyy-MM-dd"):t=="datetime-local"?n=i.parseDate(n,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]):t=="number"&&(n=i.parseFloat(n));this.bindings[e].set(n);this._initChange=!1},refresh:function(){var n,t;this._initChange||(n=this.bindings[e].get(),n==null&&(n=""),t=this.element.type,t=="date"?n=i.toString(n,"yyyy-MM-dd"):t=="datetime-local"&&(n=i.toString(n,"yyyy-MM-ddTHH:mm:ss")),this.element.value=n);this._initChange=!1},destroy:function(){n(this.element).off(this.eventName,this._change)}});u.source=r.extend({init:function(n,t,u){r.fn.init.call(this,n,t,u);var f=this.bindings.source.get();f instanceof i.data.DataSource&&u.autoBind!==!1&&f.fetch()},refresh:function(n){var t=this,r=t.bindings.source.get();r instanceof o||r instanceof i.data.DataSource?(n=n||{},n.action=="add"?t.add(n.index,n.items):n.action=="remove"?t.remove(n.index,n.items):n.action!="itemchange"&&t.render()):t.render()},container:function(){var n=this.element;return n.nodeName.toLowerCase()=="table"&&(n.tBodies[0]||n.appendChild(document.createElement("tbody")),n=n.tBodies[0]),n},template:function(){var n=this.options,t=n.template,r=this.container().nodeName.toLowerCase();return t||(t=r=="select"?n.valueField||n.textField?i.format('<option value="#:{0}#">#:{1}#<\/option>',n.valueField||n.textField,n.textField||n.valueField):"<option>#:data#<\/option>":r=="tbody"?"<tr><td>#:data#<\/td><\/tr>":r=="ul"||r=="ol"?"<li>#:data#<\/li>":"#:data#",t=i.template(t)),t},add:function(t,r){var f=this.container(),s,u,h,e,o=f.cloneNode(!1),c=f.children[t];if(n(o).html(i.render(this.template(),r)),o.children.length)for(s=this.bindings.source._parents(),u=0,h=r.length;u<h;u++)e=o.children[0],f.insertBefore(e,c||null),l(e,r[u],this.options.roles,[r[u]].concat(s))},remove:function(n,t){for(var u=this.container(),r,i=0;i<t.length;i++)r=u.children[n],p(r),u.removeChild(r)},render:function(){var t=this.bindings.source.get(),f,r,e,u=this.container(),s=this.template();if(t instanceof i.data.DataSource&&(t=t.view()),t instanceof o||d.call(t)==="[object Array]"||(t=[t]),this.bindings.template){if(ht(u),n(u).html(this.bindings.template.render(t)),u.children.length)for(f=this.bindings.source._parents(),r=0,e=t.length;r<e;r++)l(u.children[r],t[r],this.options.roles,[t[r]].concat(f))}else n(u).html(i.render(s,t))}});u.input={checked:r.extend({init:function(t,i,u){r.fn.init.call(this,t,i,u);this._change=h(this.change,this);n(this.element).change(this._change)},change:function(){var r=this.element,n=this.value(),t,i;r.type=="radio"?this.bindings[a].set(n):r.type=="checkbox"&&(t=this.bindings[a].get(),t instanceof o?(n=this.element.value,n!=="on"&&n!=="off"&&(i=t.indexOf(n),i>-1?t.splice(i,1):t.push(n))):this.bindings[a].set(n))},refresh:function(){var n=this.bindings[a].get(),i=n,t=this.element;t.type=="checkbox"?(i instanceof o&&(n=this.element.value,i.indexOf(n)>=0&&(n=!0)),t.checked=n===!0):t.type=="radio"&&n!=null&&t.value===n.toString()&&(t.checked=!0)},value:function(){var n=this.element,t=n.value;return n.type=="checkbox"&&(t=n.checked),t},destroy:function(){n(this.element).off(f,this._change)}})};u.select={value:r.extend({init:function(t,i,u){r.fn.init.call(this,t,i,u);this._change=h(this.change,this);n(this.element).change(this._change)},change:function(){for(var u=[],v=this.element,f,l=this.options.valueField||this.options.textField,y=this.options.valuePrimitive,h,c,n,r=0,a=v.options.length;r<a;r++)h=v.options[r],h.selected&&(n=h.attributes.value,n=n&&n.specified?h.value:h.text,u.push(n));if(l)for(f=this.bindings.source.get(),f instanceof i.data.DataSource&&(f=f.view()),c=0;c<u.length;c++)for(r=0,a=f.length;r<a;r++)if(f[r].get(l)==u[c]){u[c]=f[r];break}n=this.bindings[e].get();n instanceof o?n.splice.apply(n,[0,n.length].concat(u)):!y&&(n instanceof s||n===null||n===t||!l)?this.bindings[e].set(u[0]):this.bindings[e].set(u[0].get(l))},refresh:function(){var t,h=this.element,i=h.options,n=this.bindings[e].get(),r=n,c=this.options.valueField||this.options.textField,l=!1,u,f;for(r instanceof o||(r=new o([n])),h.selectedIndex=-1,f=0;f<r.length;f++)for(n=r[f],c&&n instanceof s&&(n=n.get(c)),t=0;t<i.length;t++)u=i[t].value,u===""&&n!==""&&(u=i[t].text),u==n&&(i[t].selected=!0,l=!0)},destroy:function(){n(this.element).off(f,this._change)}})};u.widget={events:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i);this.widget=n;this.handlers={}},refresh:function(n){var i=this.bindings.events[n],t=this.handlers[n];t&&this.widget.unbind(n,t);t=i.get();this.handlers[n]=function(n){n.data=i.source;t(n);n.data===i.source&&delete n.data};this.widget.bind(n,this.handlers[n])},destroy:function(){for(var n in this.handlers)this.widget.unbind(n,this.handlers[n])}}),checked:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i);this.widget=n;this._change=h(this.change,this);this.widget.bind(f,this._change)},change:function(){this.bindings[a].set(this.value())},refresh:function(){this.widget.check(this.bindings[a].get()===!0)},value:function(){var t=this.element,n=t.value;return(n=="on"||n=="off")&&(n=t.checked),n},destroy:function(){this.widget.unbind(f,this._change)}}),visible:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i);this.widget=n},refresh:function(){var n=this.bindings.visible.get();this.widget.wrapper[0].style.display=n?"":"none"}}),invisible:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i);this.widget=n},refresh:function(){var n=this.bindings.invisible.get();this.widget.wrapper[0].style.display=n?"none":""}}),enabled:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i);this.widget=n},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:r.extend({init:function(n,t,i){r.fn.init.call(this,n.element[0],t,i);this.widget=n},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:k("source","dataSource","setDataSource"),value:r.extend({init:function(t,i,u){r.fn.init.call(this,t.element[0],i,u);this.widget=t;this._change=n.proxy(this.change,this);this.widget.first(f,this._change);var e=this.bindings.value.get();this._valueIsObservableObject=!u.valuePrimitive&&(e==null||e instanceof s);this._valueIsObservableArray=e instanceof o;this._initChange=!1},change:function(){var n=this.widget.value(),f=this.options.dataValueField||this.options.dataTextField,c=d.call(n)==="[object Array]",h=this._valueIsObservableObject,u,l,t=[],e,o,s,a,r;if(this._initChange=!0,f)if(this.bindings.source&&(r=this.bindings.source.get()),n===""&&(h||this.options.valuePrimitive))n=null;else{for((!r||r instanceof i.data.DataSource)&&(r=this.widget.dataSource.view()),c&&(l=n.length,t=n.slice(0)),s=0,a=r.length;s<a;s++)if(e=r[s],o=e.get(f),c){for(u=0;u<l;u++)if(o==t[u]){t[u]=e;break}}else if(o==n){n=h?e:o;break}t[0]&&(n=this._valueIsObservableArray?t:h||!f?t[0]:t[0].get(f))}this.bindings.value.set(n);this._initChange=!1},refresh:function(){if(!this._initChange){var r=this.options.dataValueField||this.options.dataTextField,n=this.bindings.value.get(),i=0,u,f=[];if(n===t&&(n=null),r)if(n instanceof o){for(u=n.length;i<u;i++)f[i]=n[i].get(r);n=f}else n instanceof s&&(n=n.get(r));this.widget.value(n)}this._initChange=!1},destroy:function(){this.widget.unbind(f,this._change)}}),gantt:{dependencies:k("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:r.extend({init:function(t,i,u){r.fn.init.call(this,t.element[0],i,u);this.widget=t;this._change=n.proxy(this.change,this);this.widget.first(f,this._change);this._initChange=!1},change:function(){var i=this,t=i.bindings[e].get(),a=i.options.valuePrimitive,n=a?i.widget.value():i.widget.dataItems(),v=this.options.dataValueField||this.options.dataTextField;if(n=n.slice(0),i._initChange=!0,t instanceof o){for(var h=[],y=n.length,s=0,u=0,r=t[s],c=!1,p,f,l;r;){for(l=!1,u=0;u<y;u++)if(a?c=n[u]==r:(f=n[u],f=f.get?f.get(v):f,c=f==(r.get?r.get(v):r)),c){n.splice(u,1);y-=1;l=!0;break}l?s+=1:(h.push(r),it(t,s,1),p=s);r=t[s]}it(t,t.length,0,n);h.length&&t.trigger("change",{action:"remove",items:h,index:p});n.length&&t.trigger("change",{action:"add",items:n,index:t.length-1})}else i.bindings[e].set(n);i._initChange=!1},refresh:function(){if(!this._initChange){var u=this.options.dataValueField||this.options.dataTextField,n=this.bindings.value.get(),i=0,f,e=[],r;if(n===t&&(n=null),u)if(n instanceof o){for(f=n.length;i<f;i++)r=n[i],e[i]=r.get?r.get(u):r;n=e}else n instanceof s&&(n=n.get(u));this.widget.value(n)}},destroy:function(){this.widget.unbind(f,this._change)}})},scheduler:{source:k("source","dataSource","setDataSource").extend({dataBound:function(n){var t,u,r=this.widget,f=r.view(),e=n.addedItems||r.items(),o=r.dataSource,h=o.group()||[],i,s;if(e.length)for(i=n.addedDataItems||o.expand(f.startDate(),f.endDate()),s=this.bindings.source._parents(),t=0,u=i.length;t<u;t++)l(e[t],i[t],this._ns(n.ns),[i[t]].concat(s))}})}};var it=function(n,t,i,r){r=r||[];i=i||0;var f=r.length,s=n.length,o=[].slice.call(n,t+i),e=o.length,u;if(f){for(f=t+f,u=0;t<f;t++)n[t]=r[u],u++;n.length=f}else if(i)for(n.length=t,i+=t;t<i;)delete n[--i];if(e){for(e=t+e,u=0;t<e;t++)n[t]=o[u],u++;n.length=e}for(t=n.length;t<s;)delete n[t],t++},rt=g.extend({init:function(n,t){this.target=n;this.options=t;this.toDestroy=[]},bind:function(n){var s=this.target.nodeName.toLowerCase(),t,r,f,o,i=u[s]||{};for(t in n)t==e?r=!0:t==v?f=!0:t==nt?o=!0:this.applyBinding(t,n,i);f&&this.applyBinding(v,n,i);r&&this.applyBinding(e,n,i);o&&this.applyBinding(nt,n,i)},applyBinding:function(n,t,i){var r=i[n]||u[n],e=this.toDestroy,o,f=t[n];if(r)if(r=new r(this.target,t,this.options),e.push(r),f instanceof c)r.bind(f),e.push(f);else for(o in f)r.bind(f,o),e.push(f[o]);else if(n!=="template")throw new Error("The "+n+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element");},destroy:function(){for(var i=this.toDestroy,n=0,t=i.length;n<t;n++)i[n].destroy()}}),at=rt.extend({bind:function(n){var t=this,i,f=!1,o=!1,r=u.widget[t.target.options.name.toLowerCase()]||{};for(i in n)i==e?f=!0:i==v?o=!0:t.applyBinding(i,n,r);o&&t.applyBinding(v,n,r);f&&t.applyBinding(e,n,r)},applyBinding:function(n,t,i){var r=i[n]||u.widget[n],e=this.toDestroy,o,f=t[n];if(r)if(r=new r(this.target,t,this.target.options),e.push(r),f instanceof c)r.bind(f),e.push(f);else for(o in f)r.bind(f,o),e.push(f[o]);else throw new Error("The "+n+" binding is not supported by the "+this.target.options.name+" widget");}});ut=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g;ft=/\s/g;i.unbind=yt;i.bind=ot;i.data.binders=u;i.data.Binder=r;i.notify=pt;i.observable=function(n){return n instanceof s||(n=new s(n)),n};i.observableHierarchy=function(n){function r(n){for(var i,t=0;t<n.length;t++)n[t]._initChildren(),i=n[t].children,i.fetch(),n[t].items=i.data(),r(n[t].items)}var t=i.data.HierarchicalDataSource.create(n);return t.fetch(),r(t.data()),t._data._dataSource=t,t._data}}(window.kendo.jQuery),function(n){function k(n){if(!n)return{};var t=n.match(b)||[];return{type:t[1],direction:t[3],reverse:t[5]==="reverse"}}var t=window.kendo,i=t.Observable,l="SCRIPT",u="init",f="show",e="hide",o="transitionStart",s="transitionEnd",a="attach",v="detach",y=/unrecognized expression/,r=i.extend({init:function(n,r){var h=this;r=r||{};i.fn.init.call(h);h.content=n;h.id=t.guid();h.tagName=r.tagName||"div";h.model=r.model;h._wrap=r.wrap!==!1;this._evalTemplate=r.evalTemplate||!1;h._fragments={};h.bind([u,f,e,o,s],r)},render:function(i){var r=this,e=!r.element;return e&&(r.element=r._createElement()),i&&n(i).append(r.element),e&&(t.bind(r.element,r.model),r.trigger(u)),i&&(r._eachFragment(a),r.trigger(f)),r.element},clone:function(){return new h(this)},triggerBeforeShow:function(){return!0},showStart:function(){this.element.css("display","")},showEnd:function(){},hideStart:function(){},hideEnd:function(){this.hide()},beforeTransition:function(n){this.trigger(o,{type:n})},afterTransition:function(n){this.trigger(s,{type:n})},hide:function(){this._eachFragment(v);this.element.detach();this.trigger(e)},destroy:function(){var n=this.element;n&&(t.unbind(n),t.destroy(n),n.remove())},fragments:function(t){n.extend(this._fragments,t)},_eachFragment:function(n){for(var t in this._fragments)this._fragments[t][n](this,t)},_createElement:function(){var r=this,f="<"+r.tagName+" />",u,i;try{i=n(document.getElementById(r.content)||r.content);i[0].tagName===l&&(i=i.html())}catch(e){y.test(e.message)&&(i=r.content)}return typeof i=="string"?(i=i.replace(/^\s+|\s+$/g,""),r._evalTemplate&&(i=t.template(i)(r.model||{})),u=n(f).append(i),r._wrap||(u=u.contents())):(u=i,r._wrap&&(u=u.wrapAll(f).parent())),u}}),h=t.Class.extend({init:function(t){n.extend(this,{element:t.element.clone(!0),transition:t.transition,id:t.id});t.element.parent().append(this.element)},hideStart:n.noop,hideEnd:function(){this.element.remove()},beforeTransition:n.noop,afterTransition:n.noop}),p=r.extend({init:function(n,t){r.fn.init.call(this,n,t);this.containers={}},container:function(n){var t=this.containers[n];return t||(t=this._createContainer(n),this.containers[n]=t),t},showIn:function(n,t,i){this.container(n).show(t,i)},_createContainer:function(n){var t=this.render(),i=t.find(n),r;if(!i.length&&t.is(n))if(t.is(n))i=t;else throw new Error("can't find a container with the specified "+n+" selector");return r=new c(i),r.bind("accepted",function(n){n.view.render(i)}),r}}),w=r.extend({attach:function(n,t){n.element.find(t).replaceWith(this.render())},detach:function(){}}),b=/^(\w+)(:(\w+))?( (\w+))?$/,c=i.extend({init:function(n){i.fn.init.call(this);this.container=n;this.history=[];this.view=null;this.running=!1},after:function(){this.running=!1;this.trigger("complete",{view:this.view});this.trigger("after")},end:function(){this.view.showEnd();this.previous.hideEnd();this.after()},show:function(n,i,r){if(!n.triggerBeforeShow())return this.trigger("after"),!1;r=r||n.id;var u=this,f=n===u.view?n.clone():u.view,e=u.history,c=e[e.length-2]||{},h=c.id===r,o=i||(h?e[e.length-1].transition:n.transition),s=k(o);return(u.running&&u.effect.stop(),o==="none"&&(o=null),u.trigger("accepted",{view:n}),u.view=n,u.previous=f,u.running=!0,h?e.pop():e.push({id:r,transition:o}),!f)?(n.showStart(),n.showEnd(),u.after(),!0):(f.hideStart(),o&&t.effects.enabled?(n.element.addClass("k-fx-hidden"),n.showStart(),h&&!i&&(s.reverse=!s.reverse),u.effect=t.fx(n.element).replace(f.element,s.type).beforeTransition(function(){n.beforeTransition("show");f.beforeTransition("hide")}).afterTransition(function(){n.afterTransition("show");f.afterTransition("hide")}).direction(s.direction).setReverse(s.reverse),u.effect.run().then(function(){u.end()})):(n.showStart(),u.end()),!0)}});t.ViewContainer=c;t.Fragment=w;t.Layout=p;t.View=r;t.ViewClone=h}(window.kendo.jQuery),function(){kendo.data.transports.signalr=kendo.data.RemoteTransport.extend({init:function(n){var r=n&&n.signalr?n.signalr:{},i=r.promise,t;if(!i)throw new Error('The "promise" option must be set.');if(typeof i.done!="function"||typeof i.fail!="function")throw new Error('The "promise" option must be a Promise.');if(this.promise=i,t=r.hub,!t)throw new Error('The "hub" option must be set.');if(typeof t.on!="function"||typeof t.invoke!="function")throw new Error('The "hub" option is not a valid SignalR hub proxy.');this.hub=t;kendo.data.RemoteTransport.fn.init.call(this,n)},push:function(n){var t=this.options.signalr.client||{};if(t.create)this.hub.on(t.create,n.pushCreate);if(t.update)this.hub.on(t.update,n.pushUpdate);if(t.destroy)this.hub.on(t.destroy,n.pushDestroy)},_crud:function(n,t){var f=this.hub,i=this.options.signalr.server,r,u;if(!i||!i[t])throw new Error(kendo.format('The "server.{0}" option must be set.',t));r=[i[t]];u=this.parameterMap(n.data,t);$.isEmptyObject(u)||r.push(u);this.promise.done(function(){f.invoke.apply(f,r).done(n.success).fail(n.error)})},read:function(n){this._crud(n,"read")},create:function(n){this._crud(n,"create")},update:function(n){this._crud(n,"update")},destroy:function(n){this._crud(n,"destroy")}})}(),function(n){function rt(n,t){var i=n.x.location,r=n.y.location,u=t.x.location,f=t.y.location,e=i-u,o=r-f;return{center:{x:(i+u)/2,y:(r+f)/2},distance:Math.sqrt(e*e+o*o)}}function h(n){var t=[],r=n.originalEvent,f=n.currentTarget,e=0,s,o,u;if(n.api)t.push({id:2,event:n,target:n.target,currentTarget:n.target,location:n,type:"api"});else if(n.type.match(/touch/))for(o=r?r.changedTouches:[],s=o.length;e<s;e++)u=o[e],t.push({location:u,event:n,target:u.target,currentTarget:f,id:u.identifier,type:"touch"});else i.pointers||i.msPointers?t.push({location:r,event:n,target:n.target,currentTarget:f,id:r.pointerId,type:"pointer"}):t.push({id:1,event:n,target:n.target,currentTarget:f,location:n,type:"mouse"});return t}function ft(n){for(var r=t.eventMap.up.split(" "),i=0,u=r.length;i<u;i++)n(r[i])}var t=window.kendo,i=t.support,et=window.document,c=t.Class,l=t.Observable,u=n.now,f=n.extend,a=i.mobileOS,ot=a&&a.android,v=800,y=i.browser.msie?5:0,p="press",w="hold",b="select",k="start",e="move",o="end",d="cancel",s="tap",g="release",st="gesturestart",nt="gesturechange",tt="gestureend",it="gesturetap",ht={api:0,touch:0,mouse:9,pointer:9},ut=c.extend({init:function(n,t){var i=this;i.axis=n;i._updateLocationData(t);i.startLocation=i.location;i.velocity=i.delta=0;i.timeStamp=u()},move:function(n){var t=this,i=n["page"+t.axis],r=u(),f=r-t.timeStamp||1;(i||!ot)&&(t.delta=i-t.location,t._updateLocationData(n),t.initialDelta=i-t.startLocation,t.velocity=t.delta/f,t.timeStamp=r)},_updateLocationData:function(n){var t=this,i=t.axis;t.location=n["page"+i];t.client=n["client"+i];t.screen=n["screen"+i]}}),ct=c.extend({init:function(n,t,i){f(this,{x:new ut("X",i.location),y:new ut("Y",i.location),type:i.type,threshold:n.threshold||ht[i.type],userEvents:n,target:t,currentTarget:i.currentTarget,initialTouch:i.target,id:i.id,pressEvent:i,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(n.proxy(this,"_hold"),this.userEvents.minHold);this._trigger(p,this.pressEvent)},_hold:function(){this._trigger(w,this.pressEvent)},move:function(n){var t=this;if(!t._finished){if(t.x.move(n.location),t.y.move(n.location),!t._moved){if(t._withinIgnoreThreshold())return;if(r.current&&r.current!==t.userEvents)return t.dispose();t._start(n)}t._finished||t._trigger(e,n)}},end:function(n){var t=this;(t.endTime=u(),t._finished)||(t._finished=!0,t._trigger(g,n),t._moved?t._trigger(o,n):t._trigger(s,n),clearTimeout(t._holdTimeout),t.dispose())},dispose:function(){var i=this.userEvents,t=i.touches;this._finished=!0;this.pressEvent=null;clearTimeout(this._holdTimeout);t.splice(n.inArray(this,t),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(n){clearTimeout(this._holdTimeout);this.startTime=u();this._moved=!0;this._trigger(k,n)},_trigger:function(n,t){var i=this,r=t.event,u={touch:i,x:i.x,y:i.y,target:i.target,event:r};i.userEvents.notify(n,u)&&r.preventDefault()},_withinIgnoreThreshold:function(){var n=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(n*n+t*t)<=this.threshold}}),r=l.extend({init:function(r,u){var h=this,a,c=t.guid(),rt,ut;u=u||{};a=h.filter=u.filter;h.threshold=u.threshold||y;h.minHold=u.minHold||v;h.touches=[];h._maxTouches=u.multiTouch?2:1;h.allowSelection=u.allowSelection;h.captureUpIfMoved=u.captureUpIfMoved;h.eventNS=c;r=n(r).handler(h);l.fn.init.call(h);f(h,{element:r,surface:u.global&&!i.touch?n(et.documentElement):n(u.surface||r),stopPropagation:u.stopPropagation,pressed:!1});h.surface.handler(h).on(t.applyEventMap("move",c),"_move").on(t.applyEventMap("up cancel",c),"_end");r.on(t.applyEventMap("down",c),a,"_start");if((i.pointers||i.msPointers)&&r.css("-ms-touch-action","pinch-zoom double-tap-zoom"),u.preventDragEvent)r.on(t.applyEventMap("dragstart",c),t.preventDefault);r.on(t.applyEventMap("mousedown",c),a,{root:r},"_select");h.captureUpIfMoved&&i.eventCapture&&(rt=h.surface[0],ut=n.proxy(h.preventIfMoving,h),ft(function(n){rt.addEventListener(n,ut,!0)}));h.bind([p,w,s,k,e,o,g,d,st,nt,tt,it,b],u)},preventIfMoving:function(n){this._isMoved()&&n.preventDefault()},destroy:function(){var n=this,t;n._destroyed||(n._destroyed=!0,n.captureUpIfMoved&&i.eventCapture&&(t=n.surface[0],ft(function(i){t.removeEventListener(i,n.preventIfMoving)})),n.element.kendoDestroy(n.eventNS),n.surface.kendoDestroy(n.eventNS),n.element.removeData("handler"),n.surface.removeData("handler"),n._disposeAll(),n.unbind(),delete n.surface,delete n.element,delete n.currentTarget)},capture:function(){r.current=this},cancel:function(){this._disposeAll();this.trigger(d)},notify:function(n,t){var r=this,i=r.touches;if(this._isMultiTouch()){switch(n){case e:n=nt;break;case o:n=tt;break;case s:n=it}f(t,{touches:i},rt(i[0],i[1]))}return this.trigger(n,f(t,{type:n}))},press:function(n,t,i){this._apiCall("_start",n,t,i)},move:function(n,t){this._apiCall("_move",n,t)},end:function(n,t){this._apiCall("_end",n,t)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var n=this.touches;n.length>0;)n.pop().dispose()},_isMoved:function(){return n.grep(this.touches,function(n){return n.isMoved()}).length},_select:function(n){(!this.allowSelection||this.trigger(b,{event:n}))&&n.preventDefault()},_start:function(t){var i=this,f=0,c=i.filter,e,o=h(t),l=o.length,u,s=t.which;if((!s||!(s>1))&&!i._maxTouchesReached())for(r.current=null,i.currentTarget=t.currentTarget,i.stopPropagation&&t.stopPropagation();f<l;f++){if(i._maxTouchesReached())break;(u=o[f],e=c?n(u.currentTarget):i.element,e.length)&&(u=new ct(i,e,u),i.touches.push(u),u.press(),i._isMultiTouch()&&i.notify("gesturestart",{}))}},_move:function(n){this._eachTouch("move",n)},_end:function(n){this._eachTouch("end",n)},_eachTouch:function(n,t){for(var c=this,e={},o=h(t),s=c.touches,r,u,f,i=0;i<s.length;i++)r=s[i],e[r.id]=r;for(i=0;i<o.length;i++)u=o[i],f=e[u.id],f&&f[n](u)},_apiCall:function(t,i,r,u){this[t]({api:!0,pageX:i,pageY:r,clientX:i,clientY:r,target:n(u||this.element)[0],stopPropagation:n.noop,preventDefault:n.noop})}});r.defaultThreshold=function(n){y=n};r.minHold=function(n){v=n};t.getTouches=h;t.touchDelta=rt;t.UserEvents=r}(window.kendo.jQuery),function(n,t){function wt(t,i){try{return n.contains(t,i)||t==i}catch(r){return!1}}function y(n,t){return parseInt(n.css(t),10)||0}function ot(n,t){return Math.min(Math.max(n,t.min),t.max)}function st(n,t){var i=b(n),r=i.left+y(n,"borderLeftWidth")+y(n,"paddingLeft"),u=i.top+y(n,"borderTopWidth")+y(n,"paddingTop"),f=r+n.width()-t.outerWidth(!0),e=u+n.height()-t.outerHeight(!0);return{x:{min:r,max:f},y:{min:u,max:e}}}function bt(n,i,r){for(var f,e,u=0,o=i&&i.length,s=r&&r.length;n&&n.parentNode;){for(u=0;u<o;u++)if(f=i[u],f.element[0]===n)return{target:f,targetElement:n};for(u=0;u<s;u++)if(e=r[u],p.matchesSelector.call(n,e.options.filter))return{target:e,targetElement:n};n=n.parentNode}return t}var i=window.kendo,p=i.support,w=window.document,yt=i.Class,o=i.ui.Widget,e=i.Observable,pt=i.UserEvents,u=n.proxy,r=n.extend,b=i.getOffset,a={},s={},h={},f,k=i.elementUnderCursor,nt="keyup",l="change",tt="dragstart",it="hold",rt="drag",ut="dragend",ft="dragcancel",d="dragenter",v="dragleave",et="drop",kt=e.extend({init:function(t,r){var f=this,o=t[0];f.capture=!1;o.addEventListener?(n.each(i.eventMap.down.split(" "),function(){o.addEventListener(this,u(f._press,f),!0)}),n.each(i.eventMap.up.split(" "),function(){o.addEventListener(this,u(f._release,f),!0)})):(n.each(i.eventMap.down.split(" "),function(){o.attachEvent(this,u(f._press,f))}),n.each(i.eventMap.up.split(" "),function(){o.attachEvent(this,u(f._release,f))}));e.fn.init.call(f);f.bind(["press","release"],r||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(n){var t=this;t.trigger("press");t.capture&&n.preventDefault()},_release:function(n){var t=this;t.trigger("release");t.capture&&(n.preventDefault(),t.cancelCapture())}}),ht=e.extend({init:function(t){var i=this;e.fn.init.call(i);i.forcedEnabled=!1;n.extend(i,t);i.scale=1;i.horizontal?(i.measure="offsetWidth",i.scrollSize="scrollWidth",i.axis="x"):(i.measure="offsetHeight",i.scrollSize="scrollHeight",i.axis="y")},makeVirtual:function(){n.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(n,t){(this._virtualMin!==n||this._virtualMax!==t)&&(this._virtualMin=n,this._virtualMax=t,this.update())},outOfBounds:function(n){return n>this.max||n<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(n){this.scale=n},update:function(n){var t=this,u=t.virtual?t._virtualMax:t.getTotal(),r=u*t.scale,i=t.getSize();u!==0&&(t.max=t.virtual?-t._virtualMin:0,t.size=i,t.total=r,t.min=Math.min(t.max,i-r),t.minScale=i/u,t.centerOffset=(r-i)/2,t.enabled=t.forcedEnabled||r>i,n||t.trigger(l,t))}}),dt=e.extend({init:function(n){var t=this;e.fn.init.call(t);t.x=new ht(r({horizontal:!0},n));t.y=new ht(r({horizontal:!1},n));t.container=n.container;t.forcedMinScale=n.minScale;t.maxScale=n.maxScale||100;t.bind(l,n)},rescale:function(n){this.x.rescale(n);this.y.rescale(n);this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var n=this;n.x.update();n.y.update();n.enabled=n.x.enabled||n.y.enabled;n.minScale=n.forcedMinScale||Math.min(n.x.minScale,n.y.minScale);n.fitScale=Math.max(n.x.minScale,n.y.minScale);n.trigger(l)}}),ct=e.extend({init:function(n){var t=this;r(t,n);e.fn.init.call(t)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(n){var t=this,i=t.dimension,r=t.axis,u=t.movable,f=u[r]+n;i.enabled&&((f<i.min&&n<0||f>i.max&&n>0)&&(n*=t.resistance),u.translateAxis(r,n),t.trigger(l,t))}}),gt=yt.extend({init:function(n){var t=this,u,f,e,i;r(t,{elastic:!0},n);e=t.elastic?.5:0;i=t.movable;t.x=u=new ct({axis:"x",dimension:t.dimensions.x,resistance:e,movable:i});t.y=f=new ct({axis:"y",dimension:t.dimensions.y,resistance:e,movable:i});t.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(n){t.gesture=n;t.offset=t.dimensions.container.offset()},gesturechange:function(n){var h=t.gesture,c=h.center,l=n.center,r=n.distance/h.distance,v=t.dimensions.minScale,a=t.dimensions.maxScale,e,o,s;i.scale<=v&&r<1&&(r+=(1-r)*.8);i.scale*r>=a&&(r=a/i.scale);o=i.x+t.offset.left;s=i.y+t.offset.top;e={x:(o-c.x)*r+l.x-o,y:(s-c.y)*r+l.y-s};i.scaleWith(r);u.dragMove(e.x);f.dragMove(e.y);t.dimensions.rescale(i.scale);t.gesture=n;n.preventDefault()},move:function(n){n.event.target.tagName.match(/textarea|input/i)||(u.dimension.enabled||f.dimension.enabled?(u.dragMove(n.x.delta),f.dragMove(n.y.delta),n.preventDefault()):n.touch.skip())},end:function(n){n.preventDefault()}})}}),ni=p.transitions.prefix+"Transform",g,lt,c,at,vt;g=p.hasHW3D?function(n,t,i){return"translate3d("+n+"px,"+t+"px,0) scale("+i+")"}:function(n,t,i){return"translate("+n+"px,"+t+"px) scale("+i+")"};lt=e.extend({init:function(t){var i=this;e.fn.init.call(i);i.element=n(t);i.element[0].style.webkitTransformOrigin="left top";i.x=0;i.y=0;i.scale=1;i._saveCoordinates(g(i.x,i.y,i.scale))},translateAxis:function(n,t){this[n]+=t;this.refresh()},scaleTo:function(n){this.scale=n;this.refresh()},scaleWith:function(n){this.scale*=n;this.refresh()},translate:function(n){this.x+=n.x;this.y+=n.y;this.refresh()},moveAxis:function(n,t){this[n]=t;this.refresh()},moveTo:function(n){r(this,n);this.refresh()},refresh:function(){var n=this,r=n.x,u=n.y,t;n.round&&(r=Math.round(r),u=Math.round(u));t=g(r,u,n.scale);t!=n.coordinates&&(i.support.browser.msie&&i.support.browser.version<10?(n.element[0].style.position="absolute",n.element[0].style.left=n.x+"px",n.element[0].style.top=n.y+"px"):n.element[0].style[ni]=t,n._saveCoordinates(t),n.trigger(l))},_saveCoordinates:function(n){this.coordinates=n}});c=o.extend({init:function(n,t){var i=this,r;o.fn.init.call(i,n,t);r=i.options.group;r in s?s[r].push(i):s[r]=[i]},events:[d,v,et],options:{name:"DropTarget",group:"default"},destroy:function(){var i=this.options.group,t=s[i]||h[i],n;if(t.length>1){for(o.fn.destroy.call(this),n=0;n<t.length;n++)if(t[n]==this){t.splice(n,1);break}}else c.destroyGroup(i)},_trigger:function(n,t){var i=this,u=a[i.options.group];if(u)return i.trigger(n,r({},t.event,{draggable:u,dropTarget:t.dropTarget}))},_over:function(n){this._trigger(d,n)},_out:function(n){this._trigger(v,n)},_drop:function(n){var t=this,i=a[t.options.group];i&&(i.dropped=!t._trigger(et,n))}});c.destroyGroup=function(n){var t=s[n]||h[n],i;if(t){for(i=0;i<t.length;i++)o.fn.destroy.call(t[i]);t.length=0;delete s[n];delete h[n]}};c._cache=s;at=c.extend({init:function(n,t){var i=this,r;o.fn.init.call(i,n,t);r=i.options.group;r in h?h[r].push(i):h[r]=[i]},options:{name:"DropTargetArea",group:"default",filter:null}});vt=o.extend({init:function(n,t){var i=this;o.fn.init.call(i,n,t);i._activated=!1;i.userEvents=new pt(i.element,{global:!0,allowSelection:!0,filter:i.options.filter,threshold:i.options.distance,start:u(i._start,i),hold:u(i._hold,i),move:u(i._drag,i),end:u(i._end,i),cancel:u(i._cancel,i),select:u(i._select,i)});i._afterEndHandler=u(i._afterEnd,i);i._captureEscape=u(i._captureEscape,i)},events:[it,tt,rt,ut,ft],options:{name:"Draggable",distance:i.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(n){var t=this;n.keyCode===i.keys.ESC&&(t._trigger(ft,{event:n}),t.userEvents.cancel())},_updateHint:function(t){var r=this,i,o=r.options,u=r.boundaries,e=o.axis,f=r.options.cursorOffset;f?i={left:t.x.location+f.left,top:t.y.location+f.top}:(r.hintOffset.left+=t.x.delta,r.hintOffset.top+=t.y.delta,i=n.extend({},r.hintOffset));u&&(i.top=ot(i.top,u.y),i.left=ot(i.left,u.x));e==="x"?delete i.top:e==="y"&&delete i.left;r.hint.css(i)},_shouldIgnoreTarget:function(t){var i=this.options.ignore;return i&&n(t).is(i)},_select:function(n){this._shouldIgnoreTarget(n.event.target)||n.preventDefault()},_start:function(t){var r=this,u=r.options,o=u.container,f=u.hint,e;if(this._shouldIgnoreTarget(t.touch.initialTouch)||u.holdToDrag&&!r._activated){r.userEvents.cancel();return}r.currentTarget=t.target;r.currentTargetOffset=b(r.currentTarget);f&&(r.hint&&r.hint.stop(!0,!0).remove(),r.hint=i.isFunction(f)?n(f.call(r,r.currentTarget)):f,e=b(r.currentTarget),r.hintOffset=e,r.hint.css({position:"absolute",zIndex:2e4,left:e.left,top:e.top}).appendTo(w.body),r.angular("compile",function(){return r.hint.removeAttr("ng-repeat"),{elements:r.hint.get(),scopeFrom:t.target}}));a[u.group]=r;r.dropped=!1;o&&(r.boundaries=st(o,r.hint));r._trigger(tt,t)&&(r.userEvents.cancel(),r._afterEnd());r.userEvents.capture();n(w).on(nt,r._captureEscape)},_hold:function(n){this.currentTarget=n.target;this._trigger(it,n)?this.userEvents.cancel():this._activated=!0},_drag:function(t){var i=this;t.preventDefault();i._withDropTarget(t,function(i,u){if(!i){f&&(f._trigger(v,r(t,{dropTarget:n(f.targetElement)})),f=null);return}if(f){if(u===f.targetElement)return;f._trigger(v,r(t,{dropTarget:n(f.targetElement)}))}i._trigger(d,r(t,{dropTarget:n(u)}));f=r(i,{targetElement:u})});i._trigger(rt,r(t,{dropTarget:f}));i.hint&&i._updateHint(t)},_end:function(t){var i=this;i._withDropTarget(t,function(i,u){i&&(i._drop(r({},t,{dropTarget:n(u)})),f=null)});i._trigger(ut,t);i._cancel(t.event)},_cancel:function(){var n=this;n._activated=!1;n.hint&&!n.dropped?setTimeout(function(){n.hint.stop(!0,!0).animate(n.currentTargetOffset,"fast",n._afterEndHandler)},0):n._afterEnd()},_trigger:function(n,t){var i=this;return i.trigger(n,r({},t.event,{x:t.x,y:t.y,currentTarget:i.currentTarget,dropTarget:t.dropTarget}))},_withDropTarget:function(n,t){var r=this,i,u,o=r.options,f=s[o.group],e=h[o.group];(f&&f.length||e&&e.length)&&(i=k(n),r.hint&&wt(r.hint[0],i)&&(r.hint.hide(),i=k(n),i||(i=k(n)),r.hint.show()),u=bt(i,f,e),u?t(u.target,u.targetElement):t())},destroy:function(){var n=this;o.fn.destroy.call(n);n._afterEnd();n.userEvents.destroy();n.currentTarget=null},_afterEnd:function(){var t=this;t.hint&&t.hint.remove();delete a[t.options.group];t.trigger("destroy");n(w).off(nt,t._captureEscape)}});i.ui.plugin(c);i.ui.plugin(at);i.ui.plugin(vt);i.TapCapture=kt;i.containerBoundaries=st;r(i.ui,{Pane:gt,PaneDimensions:dt,Movable:lt})}(window.kendo.jQuery),function(n,t){var i=window.kendo,d=i.mobile,l=i.effects,a=d.ui,r=n.proxy,f=n.extend,o=a.Widget,g=i.Class,v=i.ui.Movable,nt=i.ui.Pane,tt=i.ui.PaneDimensions,y=l.Transition,e=l.Animation,u=Math.abs,it=500,rt=.7,ut=.96,ft=10,p=55,w=.5,b=5,h="km-scroller-release",c="km-scroller-refresh",s="change",k="scroll",et=2,ot=e.extend({init:function(n){var t=this;e.fn.init.call(t);f(t,n);t.userEvents.bind("gestureend",r(t.start,t));t.tapCapture.bind("press",r(t.cancel,t))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var n=this.movable;n.scaleWith(1.1);this.dimensions.rescale(n.scale)},onEnd:function(){var n=this.movable;n.scaleTo(this.dimensions.minScale);this.dimensions.rescale(n.scale)}}),st=e.extend({init:function(n){var t=this;e.fn.init.call(t);f(t,n,{transition:new y({axis:n.axis,movable:n.movable,onEnd:function(){t._end()}})});t.tapCapture.bind("press",function(){t.cancel()});t.userEvents.bind("end",r(t.start,t));t.userEvents.bind("gestureend",r(t.start,t));t.userEvents.bind("tap",r(t.onEnd,t))},onCancel:function(){this.transition.cancel()},freeze:function(n){var t=this;t.cancel();t._moveTo(n)},onEnd:function(){var n=this;n.paneAxis.outOfBounds()?n._snapBack():n._end()},done:function(){return u(this.velocity)<1},start:function(n){var t=this,i;t.dimension.enabled&&(t.paneAxis.outOfBounds()?t._snapBack():(i=n.touch.id===et?0:n.touch[t.axis].velocity,t.velocity=Math.max(Math.min(i*t.velocityMultiplier,p),-p),t.tapCapture.captureNext(),e.fn.start.call(t)))},tick:function(){var n=this,i=n.dimension,r=n.paneAxis.outOfBounds()?w:n.friction,u=n.velocity*=r,t=n.movable[n.axis]+u;!n.elastic&&i.outOfBounds(t)&&(t=Math.max(Math.min(t,i.max),i.min),n.velocity=0);n.movable.moveAxis(n.axis,t)},_end:function(){this.tapCapture.cancelCapture();this.end()},_snapBack:function(){var n=this,t=n.dimension,i=n.movable[n.axis]>t.max?t.max:t.min;n._moveTo(i)},_moveTo:function(n){this.transition.moveTo({location:n,duration:it,ease:y.easeOutExpo})}}),ht=e.extend({init:function(n){var t=this;i.effects.Animation.fn.init.call(this);f(t,n,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates();this.moveTo(this.origin)},done:function(){return u(this.offset.y)<b&&u(this.offset.x)<b},onEnd:function(){this.moveTo(this.destination);this.callback&&this.callback.call()},setCoordinates:function(n,t){this.offset={};this.origin=n;this.destination=t},setCallback:function(n){n&&i.isFunction(n)?this.callback=n:n=t},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4};this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),ct=g.extend({init:function(t){var i=this,e=t.axis==="x",u=n('<div class="km-touch-scrollbar km-'+(e?"horizontal":"vertical")+'-scrollbar" />');f(i,t,{element:u,elementSize:0,movable:new v(u),scrollMovable:t.movable,alwaysVisible:t.alwaysVisible,size:e?"width":"height"});i.scrollMovable.bind(s,r(i.refresh,i));i.container.append(u);t.alwaysVisible&&i.show()},refresh:function(){var n=this,f=n.axis,e=n.dimension,r=e.size,o=n.scrollMovable,u=r/e.total,t=Math.round(-o[f]*u),i=Math.round(r*u);u>=1?this.element.css("display","none"):this.element.css("display","");t+i>r?i=r-t:t<0&&(i+=t,t=0);n.elementSize!=i&&(n.element.css(n.size,i+"px"),n.elementSize=i);n.movable.moveAxis(f,t)},show:function(){this.element.css({opacity:rt,visibility:"visible"})},hide:function(){this.alwaysVisible||this.element.css({opacity:0})}}),lt=o.extend({init:function(t,e){var h=this;if(o.fn.init.call(h,t,e),t=h.element,h._native=h.options.useNative&&i.support.hasNativeScrolling,h._native){t.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>');f(h,{scrollElement:t,fixedContainer:t.children().first()});return}t.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var y=t.children().eq(1),p=new i.TapCapture(t),l=new v(y),c=new tt({element:y,container:t,forcedEnabled:h.options.zoom}),w=this.options.avoidScrolling,a=new i.UserEvents(t,{allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:h.options.zoom,start:function(t){c.refresh();var i=u(t.x.velocity),r=u(t.y.velocity),f=i*2>=r,e=n.contains(h.fixedContainer[0],t.event.target),o=r*2>=i;!e&&!w(t)&&h.enabled&&(c.x.enabled&&f||c.y.enabled&&o)?a.capture():a.cancel()}}),b=new nt({movable:l,dimensions:c,userEvents:a,elastic:h.options.elastic}),d=new ot({movable:l,dimensions:c,userEvents:a,tapCapture:p}),g=new ht({moveTo:function(n){h.scrollTo(n.x,n.y)}});if(l.bind(s,function(){h.scrollTop=-l.y;h.scrollLeft=-l.x;h.trigger(k,{scrollTop:h.scrollTop,scrollLeft:h.scrollLeft})}),h.options.mousewheelScrolling)t.on("DOMMouseScroll mousewheel",r(this,"_wheelScroll"));f(h,{movable:l,dimensions:c,zoomSnapBack:d,animatedScroller:g,userEvents:a,pane:b,tapCapture:p,pulled:!1,enabled:!0,scrollElement:y,scrollTop:0,scrollLeft:0,fixedContainer:t.children().first()});h._initAxis("x");h._initAxis("y");h._wheelEnd=function(){h._wheel=!1;h.userEvents.end(0,h._wheelY)};c.refresh();h.options.pullToRefresh&&h._initPullToRefresh()},_wheelScroll:function(n){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY));clearTimeout(this._wheelTimeout);this._wheelTimeout=setTimeout(this._wheelEnd,50);var t=i.wheelDeltaY(n);t&&(this._wheelY+=t,this.userEvents.move(0,this._wheelY));n.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(n,t){this.dimensions.y.virtualSize(n,t)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:["pull",k,"resize"],_resize:function(){this._native||this.contentResized()},setOptions:function(n){var t=this;o.fn.setOptions.call(t,n);n.pullToRefresh&&t._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},contentResized:function(){this.dimensions.refresh();this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min);this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},zoomOut:function(){var n=this.dimensions;n.refresh();this._scale(n.fitScale);this.movable.moveTo(n.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(n,t){this._native?(this.scrollElement.scrollLeft(u(n)),this.scrollElement.scrollTop(u(t))):(this.dimensions.refresh(),this.movable.moveTo({x:n,y:t}))},animatedScrollTo:function(n,t,i){var r,u;this._native?this.scrollTo(n,t):(r={x:this.movable.x,y:this.movable.y},u={x:n,y:t},this.animatedScroller.setCoordinates(r,u),this.animatedScroller.setCallback(i),this.animatedScroller.start())},pullHandled:function(){var n=this;n.refreshHint.removeClass(c);n.hintContainer.html(n.pullTemplate({}));n.yinertia.onEnd();n.xinertia.onEnd();n.userEvents.cancel()},destroy:function(){o.fn.destroy.call(this);this.userEvents&&this.userEvents.destroy()},_scale:function(n){this.dimensions.rescale(n);this.movable.scaleTo(n)},_initPullToRefresh:function(){var n=this;n.dimensions.y.forceEnabled();n.pullTemplate=i.template(n.options.messages.pullTemplate);n.releaseTemplate=i.template(n.options.messages.releaseTemplate);n.refreshTemplate=i.template(n.options.messages.refreshTemplate);n.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"><\/span><span class="km-loading-left"><\/span><span class="km-loading-right"><\/span><span class="km-template">'+n.pullTemplate({})+"<\/span><\/span>");n.refreshHint=n.scrollElement.children().first();n.hintContainer=n.refreshHint.children(".km-template");n.pane.y.bind("change",r(n._paneChange,n));n.userEvents.bind("end",r(n._dragEnd,n))},_dragEnd:function(){var n=this;n.pulled&&(n.pulled=!1,n.refreshHint.removeClass(h).addClass(c),n.hintContainer.html(n.refreshTemplate({})),n.yinertia.freeze(n.options.pullOffset/2),n.trigger("pull"))},_paneChange:function(){var n=this;n.movable.y/w>n.options.pullOffset?n.pulled||(n.pulled=!0,n.refreshHint.removeClass(c).addClass(h),n.hintContainer.html(n.releaseTemplate({}))):n.pulled&&(n.pulled=!1,n.refreshHint.removeClass(h),n.hintContainer.html(n.pullTemplate({})))},_initAxis:function(n){var t=this,u=t.movable,i=t.dimensions[n],e=t.tapCapture,f=t.pane[n],r=new ct({axis:n,movable:u,dimension:i,container:t.element,alwaysVisible:t.options.visibleScrollHints});i.bind(s,function(){r.refresh()});f.bind(s,function(){r.show()});t[n+"inertia"]=new st({axis:n,paneAxis:f,movable:u,tapCapture:e,userEvents:t.userEvents,dimension:i,elastic:t.options.elastic,friction:t.options.friction||ut,velocityMultiplier:t.options.velocityMultiplier||ft,end:function(){r.hide();t.trigger("scrollEnd",{axis:n,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}})}});a.plugin(lt)}(window.kendo.jQuery),function(n){function y(t,i){return t===i||n.contains(t,i)}var t=window.kendo,rt=t.ui,p=rt.Widget,f=t.support,r=t.getOffset,at=t._activeElement,w="open",b="close",ut="deactivate",ft="activate",u="center",et="left",s="right",k="top",h="bottom",d="absolute",ot="hidden",c="body",g="location",e="position",st="visible",ht="effects",ct="k-state-active",l="k-state-border",vt=/k-state-border-(\w+)/,lt=".k-picker-wrap, .k-dropdown-wrap, .k-link",yt="down",nt=n(document.documentElement),tt=n(window),a="scroll",v="resize scroll",pt=f.transitions.css,wt=pt+"transform",i=n.extend,o=".kendoPopup",it=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],bt=p.extend({init:function(r,u){var f=this,e;u=u||{};u.isRtl&&(u.origin=u.origin||h+" "+s,u.position=u.position||k+" "+s);p.fn.init.call(f,r,u);r=f.element;u=f.options;f.collisions=u.collision?u.collision.split(" "):[];f.downEvent=t.applyEventMap(yt,t.guid());f.collisions.length===1&&f.collisions.push(f.collisions[0]);e=n(f.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])");u.appendTo=n(n(u.appendTo)[0]||e[0]||c);f.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!u.isRtl).css({position:d}).appendTo(u.appendTo).on("mouseenter"+o,function(){f._hovered=!0}).on("mouseleave"+o,function(){f._hovered=!1});if(f.wrapper=n(),u.animation===!1&&(u.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),i(u.animation.open,{complete:function(){f.wrapper.css({overflow:st});f._trigger(ft)}}),i(u.animation.close,{complete:function(){f._animationClose()}}),f._mousedownProxy=function(n){f._mousedown(n)},f._resizeProxy=function(n){f._resize(n)},u.toggleTarget)n(u.toggleTarget).on(u.toggleEvent+o,n.proxy(f.toggle,f))},events:[w,ft,b,ut],options:{name:"Popup",toggleEvent:"click",origin:h+" "+et,position:k+" "+et,anchor:c,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var i=this,o=i.options,r,u,f,e;i.wrapper.hide();r=i.wrapper.data(g);u=n(o.anchor);r&&i.wrapper.css(r);o.anchor!=c&&(f=((u.attr("class")||"").match(vt)||["","down"])[1],e=l+"-"+f,u.removeClass(e).children(lt).removeClass(ct).removeClass(e),i.element.removeClass(l+"-"+t.directions[f].reverse));i._closing=!1;i._trigger(ut)},destroy:function(){var i=this,r=i.options,u=i.element.off(o),f;p.fn.destroy.call(i);r.toggleTarget&&n(r.toggleTarget).off(o);r.modal||(nt.unbind(i.downEvent,i._mousedownProxy),i._scrollableParents().unbind(a,i._resizeProxy),tt.unbind(v,i._resizeProxy));t.destroy(i.element.children());u.removeData();r.appendTo[0]===document.body&&(f=u.parent(".k-animation-container"),f[0]?f.remove():u.remove())},open:function(r,u){var o=this,ut={isFixed:!isNaN(parseInt(u,10)),x:r,y:u},s=o.element,h=o.options,p="down",y,b,rt=n(h.anchor),ft=s[0]&&s.hasClass("km-widget"),g;if(!o.visible()){if(h.copyAnchorStyles&&(ft&&it[0]=="font-size"&&it.shift(),s.css(t.getComputedStyles(rt[0],it))),s.data("animating")||o._trigger(w))return;h.modal||(nt.unbind(o.downEvent,o._mousedownProxy).bind(o.downEvent,o._mousedownProxy),f.mobileOS.ios||f.mobileOS.android||(o._scrollableParents().unbind(a,o._resizeProxy).bind(a,o._resizeProxy),tt.unbind(v,o._resizeProxy).bind(v,o._resizeProxy)));o.wrapper=b=t.wrap(s,h.autosize).css({overflow:ot,display:"block",position:d});f.mobileOS.android&&b.css(wt,"translatez(0)");b.css(e);n(h.appendTo)[0]==document.body&&b.css(k,"-10000px");y=i(!0,{},h.animation.open);o.flipped=o._position(ut);y.effects=t.parseEffects(y.effects,o.flipped);p=y.effects.slideIn?y.effects.slideIn.direction:p;h.anchor!=c&&(g=l+"-"+p,s.addClass(l+"-"+t.directions[p].reverse),rt.addClass(g).children(lt).addClass(ct).addClass(g));s.data(ht,y.effects).kendoStop(!0).kendoAnimate(y)}},toggle:function(){var n=this;n[n.visible()?b:w]()},visible:function(){return this.element.is(":"+st)},close:function(r){var u=this,h=u.options,s,f,e,o;if(u.visible()){if(s=u.wrapper[0]?u.wrapper:t.wrap(u.element).hide(),u._closing||u._trigger(b))return;u.element.find(".k-popup").each(function(){var i=n(this),t=i.data("kendoPopup");t&&t.close(r)});nt.unbind(u.downEvent,u._mousedownProxy);u._scrollableParents().unbind(a,u._resizeProxy);tt.unbind(v,u._resizeProxy);r?f={hide:!0,effects:{}}:(f=i(!0,{},h.animation.close),e=u.element.data(ht),o=f.effects,!o&&!t.size(o)&&e&&t.size(e)&&(f.effects=e,f.reverse=!0),u._closing=!0);u.element.kendoStop(!0);s.css({overflow:ot});u.element.kendoAnimate(f)}},_trigger:function(n){return this.trigger(n,{type:n})},_resize:function(n){var t=this;n.type==="resize"?(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t._position();t._resizeTimeout=null},50)):t._hovered||y(t.element[0],at())||t.close()},_mousedown:function(i){var u=this,s=u.element[0],e=u.options,h=n(e.anchor)[0],o=e.toggleTarget,f=t.eventTarget(i),r=n(f).closest(".k-popup"),c=r.parent().parent(".km-shim").length;(r=r[0],c||!r||r===u.element[0])&&n(i.target).closest("a").data("rel")!=="popover"&&(y(s,f)||y(h,f)||o&&y(n(o)[0],f)||u.close())},_fit:function(n,t,i){var r=0;return n+t>i&&(r=i-(n+t)),n<0&&(r=-n),r},_flip:function(n,t,i,r,f,e,o){var s=0;return o=o||t,e!==f&&e!==u&&f!==u&&(n+o>r&&(s+=-(i+t)),n+s<0&&(s+=i+t)),s},_scrollableParents:function(){return n(this.options.anchor).parentsUntil("body").filter(function(n,i){var r=t.getComputedStyles(i,["overflow"]);return r.overflow!="visible"})},_position:function(t){var o=this,nt=o.element.css(e,""),u=o.wrapper,p=o.options,a=n(p.viewport),ht=a.offset(),c=n(p.anchor),tt=p.origin.toLowerCase().split(" "),it=p.position.toLowerCase().split(" "),w=o.collisions,v=f.zoomLevel(),b,rt,h,k=10002,ct=!!(a[0]==window&&window.innerWidth&&v<=1.02),ut=0,lt,ft,et,y,s,st;if(ft=ct?window.innerWidth:a.width(),et=ct?window.innerHeight:a.height(),b=c.parents().filter(u.siblings()),b[0])if(h=Math.max(Number(b.css("zIndex")),0),h)k=h+10;else for(rt=c.parentsUntil(b),lt=rt.length;ut<lt;ut++)h=Number(n(rt[ut]).css("zIndex")),h&&k<h&&(k=h+10);u.css("zIndex",k);t&&t.isFixed?u.css({left:t.x,top:t.y}):u.css(o._align(tt,it));var ot=r(u,e,c[0]===u.offsetParent()[0]),l=r(u),at=c.offsetParent().parent(".k-animation-container,.k-popup,.k-group");return at.length&&(ot=r(u,e,!0),l=r(u)),a[0]===window?(l.top-=window.pageYOffset||document.documentElement.scrollTop||0,l.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(l.top-=ht.top,l.left-=ht.left),o.wrapper.data(g)||u.data(g,i({},ot)),y=i({},l),s=i({},ot),w[0]==="fit"&&(s.top+=o._fit(y.top,u.outerHeight(),et/v)),w[1]==="fit"&&(s.left+=o._fit(y.left,u.outerWidth(),ft/v)),st=i({},s),w[0]==="flip"&&(s.top+=o._flip(y.top,nt.outerHeight(),c.outerHeight(),et/v,tt[0],it[0],u.outerHeight())),w[1]==="flip"&&(s.left+=o._flip(y.left,nt.outerWidth(),c.outerWidth(),ft/v,tt[1],it[1],u.outerWidth())),nt.css(e,d),u.css(s),s.left!=st.left||s.top!=st.top},_align:function(t,i){var c=this,v=c.wrapper,l=n(c.options.anchor),y=t[0],p=t[1],w=i[0],b=i[1],k=r(l),d=n(c.options.appendTo),a,g=v.outerWidth(),nt=v.outerHeight(),tt=l.outerWidth(),it=l.outerHeight(),f=k.top,e=k.left,o=Math.round;return d[0]!=document.body&&(a=r(d),f-=a.top,e-=a.left),y===h&&(f+=it),y===u&&(f+=o(it/2)),w===h&&(f-=nt),w===u&&(f-=o(nt/2)),p===s&&(e+=tt),p===u&&(e+=o(tt/2)),b===s&&(e-=g),b===u&&(e-=o(g/2)),{top:f,left:e}}});rt.plugin(bt)}(window.kendo.jQuery),function(n){function w(n){while(n.length)ot(n),n=n.parent()}function ot(n){var i=n.data(t.ns+"title");i&&(n.attr("title",i),n.removeData(t.ns+"title"))}function st(n){var i=n.attr("title");i&&(n.data(t.ns+"title",i),n.attr("title",""))}function b(n){while(n.length&&!n.is("body"))st(n),n=n.parent()}var t=window.kendo,u=t.ui.Widget,k=t.ui.Popup,d=t.isFunction,g=n.isPlainObject,s=n.extend,r=n.proxy,f=n(document),nt=t.isLocalUrl,h="_tt_active",c="aria-describedby",l="show",a="hide",v="error",e="contentLoad",y="requestStart",o="k-content-frame",tt='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close<\/a><\/div> #}#<div class="k-tooltip-content"><\/div>#if (callout){ #<div class="k-callout k-callout-#=dir#"><\/div>#}#<\/div>',it=t.template("<iframe frameborder='0' class='"+o+"' src='#= content.url #'>This page requires frames in order to show content<\/iframe>"),i=".kendoTooltip",rt={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},ut={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},p={bottom:"n",top:"s",left:"e",right:"w",center:"n"},ft={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},et=function(n){return n.target.data(t.ns+"title")},ht=u.extend({init:function(n,t){var f=this,e;u.fn.init.call(f,n,t);e=f.options.position.match(/left|right/)?"horizontal":"vertical";f.dimensions=ft[e];f._documentKeyDownHandler=r(f._documentKeyDown,f);f.element.on(f.options.showOn+i,f.options.filter,r(f._showOn,f)).on("mouseenter"+i,f.options.filter,r(f._mouseenter,f));if(this.options.autoHide)f.element.on("mouseleave"+i,f.options.filter,r(f._mouseleave,f))},options:{name:"Tooltip",filter:"",content:et,showAfter:100,callout:!0,position:"bottom",showOn:"mouseenter",autoHide:!0,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:!0}}},events:[l,a,e,v,y],_mouseenter:function(t){b(n(t.currentTarget))},_showOn:function(t){var i=this,r=n(t.currentTarget);i.options.showOn&&i.options.showOn.match(/click|focus/)?i._show(r):(clearTimeout(i.timeout),i.timeout=setTimeout(function(){i._show(r)},i.options.showAfter))},_appendContent:function(n){var f=this,r=f.options.content,u=f.content,h=f.options.iframe,s;if(g(r)&&r.url)if("iframe"in f.options||(h=!nt(r.url)),f.trigger(y,{options:r,target:n}),h){u.hide();s=u.find("."+o)[0];s?s.src=r.url||s.src:u.html(it({content:r}));u.find("."+o).off("load"+i).on("load"+i,function(){f.trigger(e);u.show()})}else u.empty(),t.ui.progress(u,!0),f._ajaxRequest(r);else r&&d(r)?(r=r({sender:this,target:n}),u.html(r||"")):u.html(r);f.angular("compile",function(){return{elements:u}})},_ajaxRequest:function(n){var i=this;jQuery.ajax(s({type:"GET",dataType:"html",cache:!1,error:function(n,r){t.ui.progress(i.content,!1);i.trigger(v,{status:r,xhr:n})},success:r(function(n){t.ui.progress(i.content,!1);i.content.html(n);i.trigger(e)},i)},n))},_documentKeyDown:function(n){n.keyCode===t.keys.ESC&&this.hide()},refresh:function(){var t=this,n=t.popup;n&&n.options.anchor&&t._appendContent(n.options.anchor)},hide:function(){this.popup&&this.popup.close()},show:function(n){n=n||this.element;b(n);this._show(n)},_show:function(n){var t=this,r=t.target();t.popup||t._initPopup();r&&r[0]!=n[0]&&(t.popup.close(),t.popup.element.kendoStop(!0,!0));r&&r[0]==n[0]||(t._appendContent(n),t.popup.options.anchor=n);t.popup.one("deactivate",function(){w(n);n.removeAttr(c);this.element.removeAttr("id").attr("aria-hidden",!0);f.off("keydown"+i,t._documentKeyDownHandler)});t.popup.open()},_initPopup:function(){var u=this,e=u.options,o=n(t.template(tt)({callout:e.callout&&e.position!=="center",dir:p[e.position],autoHide:e.autoHide}));if(u.popup=new k(o,s({activate:function(){var t=this.options.anchor,n=t[0].id||u.element[0].id;n&&(t.attr(c,n+h),this.element.attr("id",n+h));e.callout&&u._positionCallout();this.element.removeAttr("aria-hidden");f.on("keydown"+i,u._documentKeyDownHandler);u.trigger(l)},close:function(){u.trigger(a)},copyAnchorStyles:!1,animation:e.animation},rt[e.position])),o.css({width:e.width,height:e.height}),u.content=o.find(".k-tooltip-content"),u.arrow=o.find(".k-callout"),e.autoHide)o.on("mouseleave"+i,r(u._mouseleave,u));else o.on("click"+i,".k-tooltip-button",r(u._closeButtonClick,u))},_closeButtonClick:function(n){n.preventDefault();this.hide()},_mouseleave:function(t){if(this.popup){var r=n(t.currentTarget),i=r.offset(),u=t.pageX,f=t.pageY;if(i.right=i.left+r.outerWidth(),i.bottom=i.top+r.outerHeight(),u>i.left&&u<i.right&&f>i.top&&f<i.bottom)return;this.popup.close()}else w(n(t.currentTarget));clearTimeout(this.timeout)},_positionCallout:function(){var t=this,u=t.options.position,f=t.dimensions,i=f.offset,r=t.popup,e=r.options.anchor,o=n(e).offset(),s=parseInt(t.arrow.css("border-top-width"),10),h=n(r.element).offset(),c=p[r.flipped?ut[u]:u],l=o[i]-h[i]+n(e)[f.size]()/2-s;t.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+c).css(i,l)},target:function(){return this.popup?this.popup.options.anchor:null},destroy:function(){var n=this.popup;n&&(n.element.off(i),n.destroy());this.element.off(i);f.off("keydown"+i,this._documentKeyDownHandler);u.fn.destroy.call(this)}});t.ui.plugin(ht)}(window.kendo.jQuery),function(n,t,i){function s(n,o){var h,l;if(n==null||n=="none")return null;if(n instanceof c)return n;if(n=n.toLowerCase(),h=e.exec(n))return n=h[1]=="transparent"?new u(1,1,1,0):s(r.namedColors[h[1]],o),n.match=[h[1]],n;if((h=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i.exec(n))?l=new f(i(h[1],16),i(h[2],16),i(h[3],16),1):(h=/^#?([0-9a-f])([0-9a-f])([0-9a-f])/i.exec(n))?l=new f(i(h[1]+h[1],16),i(h[2]+h[2],16),i(h[3]+h[3],16),1):(h=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(n))?l=new f(i(h[1],10),i(h[2],10),i(h[3],10),1):(h=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(n))?l=new f(i(h[1],10),i(h[2],10),i(h[3],10),t(h[4])):(h=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(n))?l=new u(t(h[1])/100,t(h[2])/100,t(h[3])/100,1):(h=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(n))&&(l=new u(t(h[1])/100,t(h[2])/100,t(h[3])/100,t(h[4]))),l)l.match=h;else if(!o)throw new Error("Cannot parse color: "+n);return l}function h(n,t,i){for(i||(i="0"),n=n.toString(16);t>n.length;)n="0"+n;return n}var r=function(n){var t=this,f=r.formats,o,s,e,i,u;if(arguments.length===1)for(n=t.resolveColor(n),i=0;i<f.length;i++)o=f[i].re,s=f[i].process,e=o.exec(n),e&&(u=s(e),t.r=u[0],t.g=u[1],t.b=u[2]);else t.r=arguments[0],t.g=arguments[1],t.b=arguments[2];t.r=t.normalizeByte(t.r);t.g=t.normalizeByte(t.g);t.b=t.normalizeByte(t.b)},e,o;r.prototype={toHex:function(){var n=this,t=n.padDigit,i=n.r.toString(16),r=n.g.toString(16),u=n.b.toString(16);return"#"+t(i)+t(r)+t(u)},resolveColor:function(n){return n=n||"black",n.charAt(0)=="#"&&(n=n.substr(1,6)),n=n.replace(/ /g,""),n=n.toLowerCase(),r.namedColors[n]||n},normalizeByte:function(n){return n<0||isNaN(n)?0:n>255?255:n},padDigit:function(n){return n.length===1?"0"+n:n},brightness:function(n){var t=this,i=Math.round;return t.r=i(t.normalizeByte(t.r*n)),t.g=i(t.normalizeByte(t.g*n)),t.b=i(t.normalizeByte(t.b*n)),t},percBrightness:function(){var n=this;return Math.sqrt(.241*n.r*n.r+.691*n.g*n.g+.068*n.b*n.b)}};r.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(n){return[i(n[1],10),i(n[2],10),i(n[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(n){return[i(n[1],16),i(n[2],16),i(n[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(n){return[i(n[1]+n[1],16),i(n[2]+n[2],16),i(n[3]+n[3],16)]}}];r.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};e=["transparent"];for(o in r.namedColors)r.namedColors.hasOwnProperty(o)&&e.push(o);e=new RegExp("^("+e.join("|")+")(\\W|$)","i");var c=kendo.Class.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var n=this.toBytes();return"rgba("+n.r+", "+n.g+", "+n.b+", "+t((+this.a).toFixed(3))+")"},toDisplay:function(){return kendo.support.browser.msie&&kendo.support.browser.version<9?this.toCss():this.toCssRgba()},equals:function(n){return n===this||n!==null&&this.toCssRgba()==s(n).toCssRgba()},diff:function(n){if(n==null)return NaN;var t=this.toBytes();return n=n.toBytes(),Math.sqrt(Math.pow((t.r-n.r)*.3,2)+Math.pow((t.g-n.g)*.59,2)+Math.pow((t.b-n.b)*.11,2))},clone:function(){var n=this.toBytes();return n===this&&(n=new f(n.r,n.g,n.b,n.a)),n}}),u=c.extend({init:function(n,t,i,r){this.r=n;this.g=t;this.b=i;this.a=r},toHSV:function(){var s,n,t,i,e,o,r=this.r,u=this.g,f=this.b;return(s=Math.min(r,u,f),n=Math.max(r,u,f),o=n,t=n-s,t===0)?new l(0,0,o,this.a):(n!==0?(e=t/n,i=r==n?(u-f)/t:u==n?2+(f-r)/t:4+(r-u)/t,i*=60,i<0&&(i+=360)):(e=0,i=-1),new l(i,e,o,this.a))},toBytes:function(){return new f(this.r*255,this.g*255,this.b*255,this.a)}}),f=u.extend({init:function(n,t,i,r){this.r=Math.round(n);this.g=Math.round(t);this.b=Math.round(i);this.a=r},toRGB:function(){return new u(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return h(this.r,2)+h(this.g,2)+h(this.b,2)},toBytes:function(){return this}}),l=c.extend({init:function(n,t,i,r){this.h=n;this.s=t;this.v=i;this.a=r},toRGB:function(){var h=this.h,e=this.s,n=this.v,c,t,i,r,l,f,o,s;if(e===0)t=i=r=n;else{h/=60;c=Math.floor(h);l=h-c;f=n*(1-e);o=n*(1-e*l);s=n*(1-e*(1-l));switch(c){case 0:t=n;i=s;r=f;break;case 1:t=o;i=n;r=f;break;case 2:t=f;i=n;r=s;break;case 3:t=f;i=o;r=n;break;case 4:t=s;i=f;r=n;break;default:t=n;i=f;r=o}}return new u(t,i,r,this.a)},toBytes:function(){return this.toRGB().toBytes()}});r.fromBytes=function(n,t,i,r){return new f(n,t,i,r!=null?r:1)};r.fromRGB=function(n,t,i,r){return new u(n,t,i,r!=null?r:1)};r.fromHSV=function(n,t,i,r){return new l(n,t,i,r!=null?r:1)};kendo.Color=r;kendo.parseColor=s}(window.kendo.jQuery,parseFloat,parseInt),function(n){function r(n){return typeof n!==y}function p(n,i){var r=w(i);return t.round(n*r)/r}function w(n){return n?t.pow(10,n):1}function b(n,i,r){return t.max(t.min(n,r),i)}function k(n){return n*h}function d(n){return n/h}function g(n){return typeof n=="number"&&!isNaN(n)}function nt(n,t){return r(n)?n:t}function tt(n){return n*n}function c(n){var t=[];for(var i in n)t.push(i+n[i]);return t.sort().join("")}function l(n){for(var t=2166136261,i=0;i<n.length;++i)t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t^=n.charCodeAt(i);return t>>>0}function it(n){return l(c(n))}function o(n){for(var o=n.length,r=u,e=f,i=0;i<o;i++)e=t.max(e,n[i]),r=t.min(r,n[i]);return{min:r,max:e}}function rt(n){return o(n).min}function ut(n){return o(n).max}function ft(n){return s(n).min}function et(n){return s(n).max}function s(n){for(var i,r=u,e=f,o=0,s=n.length;o<s;o++)i=n[o],i!==null&&isFinite(i)&&(r=t.min(r,i),e=t.max(e,i));return{min:r===u?undefined:r,max:e===f?undefined:e}}function ot(n){if(n)return n[n.length-1]}function st(n,t){return n.push.apply(n,t),n}function ht(n){return i.template(n,{useWithBlock:!1,paramName:"d"})}function a(n,t){return r(t)&&t!==null?" "+n+"='"+t+"' ":""}function ct(n){for(var i="",t=0;t<n.length;t++)i+=a(n[t][0],n[t][1]);return i}function lt(n){for(var u,i="",t=0;t<n.length;t++)u=n[t][1],r(u)&&(i+=n[t][0]+":"+u+";");if(i!=="")return i}function at(n){return typeof n!="string"&&(n+="px"),n}function vt(n){var u=[],r,t;if(n)for(r=i.toHyphens(n).split("-"),t=0;t<r.length;t++)u.push("k-pos-"+r[t]);return u.join(" ")}function yt(n){return n===""||n===null||n==="none"||n==="transparent"||!r(n)}var t=Math,i=window.kendo,v=i.deepExtend,pt=i.dataviz,h=t.PI/180,u=Number.MAX_VALUE,f=-Number.MAX_VALUE,y="undefined",wt=n.inArray,bt=[].push,kt=[].pop,dt=[].splice,gt=[].shift,ni=[].slice,ti=[].unshift,e=Date.now;e||(e=function(){return(new Date).getTime()});v(i,{util:{MAX_NUM:u,MIN_NUM:f,append:st,arrayLimits:o,arrayMin:rt,arrayMax:ut,defined:r,deg:d,hashKey:l,hashObject:it,isNumber:g,isTransparent:yt,last:ot,limitValue:b,now:e,objectKey:c,round:p,rad:k,renderAttr:a,renderAllAttr:ct,renderPos:vt,renderSize:at,renderStyle:lt,renderTemplate:ht,sparseArrayLimits:s,sparseArrayMin:ft,sparseArrayMax:et,sqr:tt,valueOrDefault:nt}});i.dataviz.util=i.util}(window.kendo.jQuery),function(){function f(n){var o="",s,i,u,c,l,h,f,e=0;for(n=r(n);e<n.length;)s=n.charCodeAt(e++),i=n.charCodeAt(e++),u=n.charCodeAt(e++),c=s>>2,l=(s&3)<<4|i>>4,h=(i&15)<<2|u>>6,f=u&63,isNaN(i)?h=f=64:isNaN(u)&&(f=64),o=o+t.charAt(c)+t.charAt(l)+t.charAt(h)+t.charAt(f);return o}function r(t){var r,u,i;for(t=t.replace(/\r\n/g,"\n"),r="",u=0;u<t.length;u++)i=t.charCodeAt(u),i<128?r+=n(i):i<2048?(r+=n(192|i>>>6),r+=n(128|i&63)):i<65536&&(r+=n(224|i>>>12),r+=n(128|i>>>6&63),r+=n(128|i&63));return r}var i=window.kendo,u=i.deepExtend,n=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";u(i.util,{encodeBase64:f,encodeUTF8:r})}(window.kendo.jQuery),function(n){var i=Math,t=window.kendo,r=t.deepExtend,u=n.inArray,f={observers:function(){return this._observers=this._observers||[],this._observers},addObserver:function(n){return this._observers?this._observers.push(n):this._observers=[n],this},removeObserver:function(n){var t=this.observers(),i=u(n,t);return i!=-1&&t.splice(i,1),this},trigger:function(n,t){var r=this._observers,u,i;if(r&&!this._suspended)for(i=0;i<r.length;i++)u=r[i],u[n]&&u[n](t);return this},optionsChange:function(n){this.trigger("optionsChange",n)},geometryChange:function(n){this.trigger("geometryChange",n)},suspend:function(){return this._suspended=(this._suspended||0)+1,this},resume:function(){return this._suspended=i.max((this._suspended||0)-1,0),this},_observerField:function(n,t){this[n]&&this[n].removeObserver(this);this[n]=t;t.addObserver(this)}};r(t,{mixins:{ObserversMixin:f}})}(window.kendo.jQuery),function(n){function ut(n){return n===null?null:n instanceof w?n:new w(n)}function nt(n){return n&&h.isFunction(n.matrix)?n.matrix():n}function ft(n,t,r,u){var f=0,e=0;return u&&(f=i.atan2(u.c*r,u.a*t),u.b!==0&&(e=i.atan2(u.d*r,u.b*t))),{x:f,y:e}}function et(n,t){while(n<t)n+=90;return n}function k(n,t){for(var i,u,r=0;r<t.length;r++)i=t[r],u=i.charAt(0).toUpperCase()+i.substring(1,i.length),n["set"+u]=ot(i),n["get"+u]=st(i)}function ot(n){return function(t){return this[n]!==t&&(this[n]=t,this.geometryChange()),this}}function st(n){return function(){return this[n]}}function ht(n,t,r){n>t&&(t+=360);var u=i.abs(t-n);return r||(u=360-u),u}function d(n,t,r,f,e,o){var s=u((e-n)/r,3),h=u((o-t)/f,3);return u(g(i.atan2(h,s)))}function ct(n,r,u,f,e,s,h,c){var l,a,b,tt,k,v,g,y;if(r!==f){var et=u-n,it=f-r,p=o(e,2),w=o(s,2),rt=(w*et*(n+u)+p*it*(r+f))/(2*p*it),ot=rt-f,nt=-(et*w)/(p*it);k=1/p+o(nt,2)/w;v=2*(nt*ot/w-u/p);g=o(u,2)/p+o(ot,2)/w-1;y=i.sqrt(o(v,2)-4*k*g);l=(-v-y)/(2*k);a=rt+nt*l;b=(-v+y)/(2*k);tt=rt+nt*b}else if(n!==u)v=-2*f,g=o((u-n)*s/(2*e),2)+o(f,2)-o(s,2),y=i.sqrt(o(v,2)-4*g),l=b=(n+u)/2,a=(-v-y)/2,tt=(-v+y)/2;else return!1;var ut=d(l,a,e,s,n,r),ft=d(l,a,e,s,u,f),st=ht(ut,ft,c);return(h&&st<=180||!h&&st>180)&&(l=b,a=tt,ut=d(l,a,e,s,n,r),ft=d(l,a,e,s,u,f)),{center:new t(l,a),startAngle:ut,endAngle:ft}}var i=Math,o=i.pow,lt=n.inArray,h=window.kendo,l=h.Class,a=h.deepExtend,p=h.mixins.ObserversMixin,s=h.util,c=s.defined,v=s.rad,g=s.deg,u=s.round,tt=i.PI/2,it=s.MIN_NUM,rt=s.MAX_NUM,t=l.extend({init:function(n,t){this.x=n||0;this.y=t||0},equals:function(n){return n&&n.x===this.x&&n.y===this.y},clone:function(){return new t(this.x,this.y)},rotate:function(n,t){return this.transform(ut().rotate(n,t))},translate:function(n,t){return this.x+=n,this.y+=t,this.geometryChange(),this},translateWith:function(n){return this.translate(n.x,n.y)},move:function(n,t){return this.x=this.y=0,this.translate(n,t)},scale:function(n,t){return c(t)||(t=n),this.x*=n,this.y*=t,this.geometryChange(),this},scaleCopy:function(n,t){return this.clone().scale(n,t)},transform:function(n){var t=nt(n),i=this.x,r=this.y;return this.x=t.a*i+t.c*r+t.e,this.y=t.b*i+t.d*r+t.f,this.geometryChange(),this},transformCopy:function(n){var t=this.clone();return n&&t.transform(n),t},distanceTo:function(n){var t=this.x-n.x,r=this.y-n.y;return i.sqrt(t*t+r*r)},round:function(n){return this.x=u(this.x,n),this.y=u(this.y,n),this.geometryChange(),this},toArray:function(n){var t=c(n),i=t?u(this.x,n):this.x,r=t?u(this.y,n):this.y;return[i,r]}}),f,e,b,y,r,w;k(t.fn,["x","y"]);a(t.fn,p);t.fn.toString=function(n,t){var i=this.x,r=this.y;return c(n)&&(i=u(i,n),r=u(r,n)),t=t||" ",i+t+r};t.create=function(n,i){if(c(n))return n instanceof t?n:arguments.length===1&&n.length===2?new t(n[0],n[1]):new t(n,i)};t.min=function(){for(var f,n=s.MAX_NUM,r=s.MAX_NUM,u=0;u<arguments.length;u++)f=arguments[u],n=i.min(f.x,n),r=i.min(f.y,r);return new t(n,r)};t.max=function(){for(var f,n=s.MIN_NUM,r=s.MIN_NUM,u=0;u<arguments.length;u++)f=arguments[u],n=i.max(f.x,n),r=i.max(f.y,r);return new t(n,r)};t.minPoint=function(){return new t(it,it)};t.maxPoint=function(){return new t(rt,rt)};t.ZERO=new t(0,0);f=l.extend({init:function(n,t){this.width=n||0;this.height=t||0},equals:function(n){return n&&n.width===this.width&&n.height===this.height},clone:function(){return new f(this.width,this.height)},toArray:function(n){var t=c(n),i=t?u(this.width,n):this.width,r=t?u(this.height,n):this.height;return[i,r]}});k(f.fn,["width","height"]);a(f.fn,p);f.create=function(n,t){if(c(n))return n instanceof f?n:arguments.length===1&&n.length===2?new f(n[0],n[1]):new f(n,t)};f.ZERO=new f(0,0);e=l.extend({init:function(n,i){this.setOrigin(n||new t);this.setSize(i||new f)},clone:function(){return new e(this.origin.clone(),this.size.clone())},equals:function(n){return n&&n.origin.equals(this.origin)&&n.size.equals(this.size)},setOrigin:function(n){return this._observerField("origin",t.create(n)),this.geometryChange(),this},getOrigin:function(){return this.origin},setSize:function(n){return this._observerField("size",f.create(n)),this.geometryChange(),this},getSize:function(){return this.size},width:function(){return this.size.width},height:function(){return this.size.height},topLeft:function(){return this.origin.clone()},bottomRight:function(){return this.origin.clone().translate(this.width(),this.height())},topRight:function(){return this.origin.clone().translate(this.width(),0)},bottomLeft:function(){return this.origin.clone().translate(0,this.height())},center:function(){return this.origin.clone().translate(this.width()/2,this.height()/2)},bbox:function(n){var t=this.topLeft().transformCopy(n),i=this.topRight().transformCopy(n),r=this.bottomRight().transformCopy(n),u=this.bottomLeft().transformCopy(n);return e.fromPoints(t,i,r,u)}});a(e.fn,p);e.fromPoints=function(){var n=t.min.apply(this,arguments),i=t.max.apply(this,arguments),r=new f(i.x-n.x,i.y-n.y);return new e(n,r)};e.union=function(n,i){return e.fromPoints(t.min(n.topLeft(),i.topLeft()),t.max(n.bottomRight(),i.bottomRight()))};e.intersect=function(n,r){return n={left:n.topLeft().x,top:n.topLeft().y,right:n.bottomRight().x,bottom:n.bottomRight().y},r={left:r.topLeft().x,top:r.topLeft().y,right:r.bottomRight().x,bottom:r.bottomRight().y},n.left<=r.right&&r.left<=n.right&&n.top<=r.bottom&&r.top<=n.bottom?e.fromPoints(new t(i.max(n.left,r.left),i.max(n.top,r.top)),new t(i.min(n.right,r.right),i.min(n.bottom,r.bottom))):void 0};b=l.extend({init:function(n,i){this.setCenter(n||new t);this.setRadius(i||0)},setCenter:function(n){return this._observerField("center",t.create(n)),this.geometryChange(),this},getCenter:function(){return this.center},equals:function(n){return n&&n.center.equals(this.center)&&n.radius===this.radius},clone:function(){return new b(this.center.clone(),this.radius)},pointAt:function(n){return this._pointAt(v(n))},bbox:function(n){for(var r=t.maxPoint(),u=t.minPoint(),f=ft(this.center,this.radius,this.radius,n),i=0;i<4;i++){var s=this._pointAt(f.x+i*tt).transformCopy(n),h=this._pointAt(f.y+i*tt).transformCopy(n),o=new t(s.x,h.y);r=t.min(r,o);u=t.max(u,o)}return e.fromPoints(r,u)},_pointAt:function(n){var r=this.center,u=this.radius;return new t(r.x-u*i.cos(n),r.y-u*i.sin(n))}});k(b.fn,["radius"]);a(b.fn,p);y=l.extend({init:function(n,i){this.setCenter(n||new t);i=i||{};this.radiusX=i.radiusX;this.radiusY=i.radiusY||i.radiusX;this.startAngle=i.startAngle;this.endAngle=i.endAngle;this.anticlockwise=i.anticlockwise||!1},clone:function(){return new y(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})},setCenter:function(n){return this._observerField("center",t.create(n)),this.geometryChange(),this},getCenter:function(){return this.center},MAX_INTERVAL:45,pointAt:function(n){var r=this.center,u=v(n);return new t(r.x+this.radiusX*i.cos(u),r.y+this.radiusY*i.sin(u))},curvePoints:function(){for(var r,n,u=this.startAngle,a=this.endAngle,c=this.anticlockwise?-1:1,f=[this.pointAt(u)],t=u,e=this._arcInterval(),o=e.endAngle-e.startAngle,s=i.ceil(o/this.MAX_INTERVAL),l=o/s,h=1;h<=s;h++)r=t+c*l,n=this._intervalCurvePoints(t,r),f.push(n.cp1,n.cp2,n.p2),t=r;return f},bbox:function(n){for(var i=this,l=i._arcInterval(),s=l.startAngle,r=l.endAngle,a=ft(this.center,this.radiusX,this.radiusY,n),w=g(a.x),b=g(a.y),u=i.pointAt(s).transformCopy(n),v=i.pointAt(r).transformCopy(n),h=t.min(u,v),c=t.max(u,v),f=et(w,s),o=et(b,s),y,p;f<r||o<r;)f<r&&(y=i.pointAt(f).transformCopy(n),f+=90),o<r&&(p=i.pointAt(o).transformCopy(n),o+=90),u=new t(y.x,p.y),h=t.min(h,u),c=t.max(c,u);return e.fromPoints(h,c)},_arcInterval:function(){var t=this.startAngle,n=this.endAngle,i=this.anticlockwise,r;return i&&(r=t,t=n,n=r),(t>n||i&&t===n)&&(n+=360),{startAngle:t,endAngle:n}},_intervalCurvePoints:function(n,i){var r=this,f=r.pointAt(n),e=r.pointAt(i),o=r._derivativeAt(n),s=r._derivativeAt(i),u=(v(i)-v(n))/3,h=new t(f.x+u*o.x,f.y+u*o.y),c=new t(e.x-u*s.x,e.y-u*s.y);return{p1:f,cp1:h,cp2:c,p2:e}},_derivativeAt:function(n){var r=this,u=v(n);return new t(-r.radiusX*i.sin(u),r.radiusY*i.cos(u))}});k(y.fn,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]);a(y.fn,p);y.fromPoints=function(n,t,i,r,u,f){var e=ct(n.x,n.y,t.x,t.y,i,r,u,f);return new y(e.center,{startAngle:e.startAngle,endAngle:e.endAngle,radiusX:i,radiusY:r,anticlockwise:f===0})};r=l.extend({init:function(n,t,i,r,u,f){this.a=n||0;this.b=t||0;this.c=i||0;this.d=r||0;this.e=u||0;this.f=f||0},multiplyCopy:function(n){return new r(this.a*n.a+this.c*n.b,this.b*n.a+this.d*n.b,this.a*n.c+this.c*n.d,this.b*n.c+this.d*n.d,this.a*n.e+this.c*n.f+this.e,this.b*n.e+this.d*n.f+this.f)},clone:function(){return new r(this.a,this.b,this.c,this.d,this.e,this.f)},equals:function(n){return n?this.a===n.a&&this.b===n.b&&this.c===n.c&&this.d===n.d&&this.e===n.e&&this.f===n.f:!1},round:function(n){return this.a=u(this.a,n),this.b=u(this.b,n),this.c=u(this.c,n),this.d=u(this.d,n),this.e=u(this.e,n),this.f=u(this.f,n),this},toArray:function(n){var i=[this.a,this.b,this.c,this.d,this.e,this.f],t;if(c(n))for(t=0;t<i.length;t++)i[t]=u(i[t],n);return i}});r.fn.toString=function(n,t){return this.toArray(n).join(t||",")};r.translate=function(n,t){return new r(1,0,0,1,n,t)};r.unit=function(){return new r(1,0,0,1,0,0)};r.rotate=function(n,t,u){var f=new r;return f.a=i.cos(v(n)),f.b=i.sin(v(n)),f.c=-f.b,f.d=f.a,f.e=t-t*f.a+u*f.b||0,f.f=u-u*f.a-t*f.b||0,f};r.scale=function(n,t){return new r(n,0,0,t,0,0)};r.IDENTITY=r.unit();w=l.extend({init:function(n){this._matrix=n||r.unit()},clone:function(){return new w(this._matrix.clone())},equals:function(n){return n&&n._matrix.equals(this._matrix)},_optionsChange:function(){this.optionsChange({field:"transform",value:this})},translate:function(n,t){return this._matrix=this._matrix.multiplyCopy(r.translate(n,t)),this._optionsChange(),this},scale:function(n,i,u){return c(i)||(i=n),u&&(u=t.create(u),this._matrix=this._matrix.multiplyCopy(r.translate(u.x,u.y))),this._matrix=this._matrix.multiplyCopy(r.scale(n,i)),u&&(this._matrix=this._matrix.multiplyCopy(r.translate(-u.x,-u.y))),this._optionsChange(),this},rotate:function(n,i){return i=t.create(i)||t.ZERO,this._matrix=this._matrix.multiplyCopy(r.rotate(n,i.x,i.y)),this._optionsChange(),this},multiply:function(n){var t=nt(n);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this},matrix:function(){return this._matrix}});a(w.fn,p);a(h,{geometry:{Arc:y,Circle:b,Matrix:r,Point:t,Rect:e,Size:f,Transformation:w,transform:ut,toMatrix:nt}});h.dataviz.geometry=h.geometry}(window.kendo.jQuery),function(n){var v=document,u=n.noop,c=Object.prototype.toString,t=window.kendo,f=t.Class,o=t.ui.Widget,e=t.deepExtend,l=t.util,a=l.defined,s=t.Observable.extend({init:function(i,r){t.Observable.fn.init.call(this);this.options=e({},this.options,r);this.bind(this.events,this.options);this._click=this._handler("click");this._mouseenter=this._handler("mouseenter");this._mouseleave=this._handler("mouseleave");this.element=n(i);this.options.width&&this.element.css("width",this.options.width);this.options.height&&this.element.css("height",this.options.height)},options:{},events:["click","mouseenter","mouseleave","resize"],draw:u,clear:u,destroy:u,resize:o.fn.resize,size:o.fn.size,getSize:function(){return{width:this.element.width(),height:this.element.height()}},setSize:function(n){this.element.css({width:n.width,height:n.height});this._size=n;this._resize()},eventTarget:function(t){for(var i=n(t.touch?t.touch.initialTouch:t.target),r;!r&&i.length>0;){if(r=i[0]._kendoNode,i.is(this.element)||i.length===0)break;i=i.parent()}if(r)return r.srcElement},_resize:u,_handler:function(n){var t=this;return function(i){var r=t.eventTarget(i);r&&t.trigger(n,{element:r,originalEvent:i})}}}),h,i,r;s.create=function(n,t){return r.current.create(n,t)};h=f.extend({init:function(n){this.childNodes=[];this.parent=null;n&&(this.srcElement=n,this.observe())},destroy:function(){var t,n;for(this.srcElement&&this.srcElement.removeObserver(this),t=this.childNodes,n=0;n<t.length;n++)this.childNodes[n].destroy();this.parent=null},load:u,observe:function(){this.srcElement&&this.srcElement.addObserver(this)},append:function(n){this.childNodes.push(n);n.parent=this},insertAt:function(n,t){this.childNodes.splice(t,0,n);n.parent=this},remove:function(n,t){for(var r=n+t,i=n;i<r;i++)this.childNodes[i].removeSelf();this.childNodes.splice(n,t)},removeSelf:function(){this.clear();this.destroy()},clear:function(){this.remove(0,this.childNodes.length)},invalidate:function(){this.parent&&this.parent.invalidate()},geometryChange:function(){this.invalidate()},optionsChange:function(){this.invalidate()},childrenChange:function(n){n.action==="add"?this.load(n.items,n.index):n.action==="remove"&&this.remove(n.index,n.items.length);this.invalidate()}});i=f.extend({init:function(n,t){var i,r;this.prefix=t||"";for(i in n)r=n[i],r=this._wrap(r,i),this[i]=r},get:function(n){return t.getter(n,!0)(this)},set:function(n,i){var u=t.getter(n,!0)(this),r;u!==i&&(r=this._set(n,this._wrap(i,n)),r||this.optionsChange({field:this.prefix+n,value:i}))},_set:function(n,r){var o=n.indexOf(".")>=0,e,f,u;if(o)for(e=n.split("."),f="";e.length>1;){if(f+=e.shift(),u=t.getter(f,!0)(this),u||(u=new i({},f+"."),u.addObserver(this),this[f]=u),u instanceof i)return u.set(e.join("."),r),o;f+="."}return this._clear(n),t.setter(n)(this,r),o},_clear:function(n){var i=t.getter(n,!0)(this);i&&i.removeObserver&&i.removeObserver(this)},_wrap:function(n,t){var r=c.call(n);return n!==null&&a(n)&&r==="[object Object]"&&(n instanceof i||n instanceof f||(n=new i(n,this.prefix+t+".")),n.addObserver(this)),n}});e(i.fn,t.mixins.ObserversMixin);r=function(){this._items=[]};r.prototype={register:function(n,t,i){var r=this._items,u=r[0],f={name:n,type:t,order:i};!u||i<u.order?r.unshift(f):r.push(f)},create:function(n,i){var u=this._items,f=u[0],e,r;if(i&&i.type)for(e=i.type.toLowerCase(),r=0;r<u.length;r++)if(u[r].name===e){f=u[r];break}if(f)return new f.type(n,i);t.logToConsole("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG, VML and Canvas. User agent: "+navigator.userAgent+"\n- The Kendo UI scripts are not fully loaded")}};r.current=new r;e(t,{drawing:{DASH_ARRAYS:{dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},Color:t.Color,BaseNode:h,OptionsStore:i,Surface:s,SurfaceFactory:r}});t.dataviz.drawing=t.drawing}(window.kendo.jQuery),function(){var t=window.kendo,i=t.deepExtend,n=t.util.defined,r="gradient",u={extend:function(n){n.fill=this.fill;n.stroke=this.stroke},fill:function(t,i){var u=this.options,f;return n(t)?(t&&t.nodeType!=r?(f={color:t},n(i)&&(f.opacity=i),u.set("fill",f)):u.set("fill",t),this):u.get("fill")},stroke:function(t,i,r){return n(t)?(this.options.set("stroke.color",t),n(i)&&this.options.set("stroke.width",i),n(r)&&this.options.set("stroke.opacity",r),this):this.options.get("stroke")}},f={extend:function(n,t){n.traverse=function(n){for(var i,u=this[t],r=0;r<u.length;r++)i=u[r],i.traverse?i.traverse(n):n(i);return this}}};i(t.drawing,{mixins:{Paintable:u,Traversable:f}})}(window.kendo.jQuery),function(n){function c(n,i){return t.current.measure(n,i)}var o=document,i=window.kendo,f=i.Class,s=i.deepExtend,u=i.util,h=u.defined,r=1,e=f.extend({init:function(n){this._size=n;this._length=0;this._map={}},put:function(n,t){var i=this,u=i._map,r={key:n,value:t};u[n]=r;i._head?(i._tail.newer=r,r.older=i._tail,i._tail=r):i._head=i._tail=r;i._length>=i._size?(u[i._head.key]=null,i._head=i._head.newer,i._head.older=null):i._length++},get:function(n){var i=this,t=i._map[n];if(t)return t===i._head&&t!==i._tail&&(i._head=t.newer,i._head.older=null),t!==i._tail&&(t.older&&(t.older.newer=t.newer,t.newer.older=t.older),t.older=i._tail,t.newer=null,i._tail.newer=t,i._tail=t),t.value}}),t=f.extend({init:function(){this._cache=new e(1e3)},measure:function(n,t){var v=u.objectKey(t),c=u.hashKey(n+v),l=this._cache.get(c),e,s;if(l)return l;var f={width:0,height:0,baseline:0},i=this._measureBox,a=this._baselineMarker.cloneNode(!1);for(e in t)s=t[e],h(s)&&(i.style[e]=s);return i.innerHTML=n,i.appendChild(a),o.body.appendChild(i),(n+"").length&&(f.width=i.offsetWidth-r,f.height=i.offsetHeight,f.baseline=a.offsetTop+r),this._cache.put(c,f),i.parentNode.removeChild(i),f}});t.fn._baselineMarker=n("<div class='k-baseline-marker' style='display: inline-block; vertical-align: baseline;width: "+r+"px; height: "+r+"px;overflow: hidden;' />")[0];t.fn._measureBox=n("<div style='position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space:nowrap !important;' />")[0];t.current=new t;s(i.drawing,{util:{TextMetrics:t,LRUCache:e,measureText:c}})}(window.kendo.jQuery),function(n){function rt(n,t,i){for(var u,f,r,e=0;e<n.length;e++)u=n[e],u.visible()&&(f=t?u.bbox(i):u.rawBBox(),f&&(r=r?l.union(r,f):f));return r}function bt(n,t,i){for(var u,f,r,e=0;e<n.length;e++)u=n[e],u.visible()&&(f=t?u.clippedBBox(i):u.rawBBox(),f&&(r=r?l.union(r,f):f));return r}function lt(n,t){n.origin.x-=t;n.origin.y-=t;n.size.width+=t*2;n.size.height+=t*2}function at(n,t){for(var i=0;i<t.length;i++)n[t[i]]=oi(t[i])}function oi(n){var i="_"+n;return function(n){return t(n)?(this._observerField(i,n),this.geometryChange(),this):this[i]}}function ut(n,t){for(var i=0;i<t.length;i++)n[t[i]]=si(t[i])}function si(n){var i="_"+n;return function(n){return t(n)?(this._observerField(i,f.create(n)),this.geometryChange(),this):this[i]}}function hi(n,t){for(var i=0;i<t.length;i++)n[t[i]]=ci(t[i])}function ci(n){return function(i){return t(i)?(this.options.set(n,i),this):this.options.get(n)}}var o=window.kendo,b=o.Class,y=o.deepExtend,r=o.geometry,f=r.Point,l=r.Rect,kt=r.Size,dt=r.Matrix,a=r.toMatrix,s=o.drawing,vt=s.OptionsStore,h=Math,g=h.pow,p=o.util,gt=p.append,yt=p.arrayLimits,t=p.defined,c=p.last,ni=p.valueOrDefault,k=o.mixins.ObserversMixin,ti=n.inArray,ii=[].push,ri=[].pop,ui=[].splice,fi=[].shift,pt=[].slice,ei=[].unshift,i=b.extend({nodeType:"Element",init:function(n){this._initOptions(n)},_initOptions:function(n){n=n||{};var i=n.transform,t=n.clip;i&&(n.transform=r.transform(i));t&&!t.id&&(t.id=o.guid());this.options=new vt(n);this.options.addObserver(this)},transform:function(n){if(t(n))this.options.set("transform",r.transform(n));else return this.options.get("transform")},parentTransform:function(){for(var n=this,i,t;n.parent;)n=n.parent,i=n.transform(),i&&(t=i.matrix().multiplyCopy(t||dt.unit()));if(t)return r.transform(t)},currentTransform:function(n){var e=this.transform(),u=a(e),i,f;return t(n)||(n=this.parentTransform()),i=a(n),f=u&&i?i.multiplyCopy(u):u||i,f?r.transform(f):void 0},visible:function(n){return t(n)?(this.options.set("visible",n),this):this.options.get("visible")!==!1},clip:function(n){var i=this.options;return t(n)?(n&&!n.id&&(n.id=o.guid()),i.set("clip",n),this):i.get("clip")},opacity:function(n){return t(n)?(this.options.set("opacity",n),this):ni(this.options.get("opacity"),1)},clippedBBox:function(n){var t=this._clippedBBox(n),i;if(t)return i=this.clip(),i?l.intersect(t,i.bbox(n)):t},_clippedBBox:function(n){return this.bbox(n)}}),d,ft,nt,tt,it,et,w,u,ot,st,e,wt,v,ht,ct;y(i.fn,k);d=b.extend({init:function(n){n=n||[];this.length=0;this._splice(0,n.length,n)},elements:function(n){return n?(this._splice(0,this.length,n),this._change(),this):this.slice(0)},push:function(){var n=arguments,t=ii.apply(this,n);return this._add(n),t},slice:pt,pop:function(){var t=this.length,n=ri.apply(this);return t&&this._remove([n]),n},splice:function(n,t){var i=pt.call(arguments,2),r=this._splice(n,t,i);return this._change(),r},shift:function(){var t=this.length,n=fi.apply(this);return t&&this._remove([n]),n},unshift:function(){var n=arguments,t=ei.apply(this,n);return this._add(n),t},indexOf:function(n){for(var i=this,t=0,r=i.length;t<r;t++)if(i[t]===n)return t;return-1},_splice:function(n,t,i){var r=ui.apply(this,[n,t].concat(i));return this._clearObserver(r),this._setObserver(i),r},_add:function(n){this._setObserver(n);this._change()},_remove:function(n){this._clearObserver(n);this._change()},_setObserver:function(n){for(var t=0;t<n.length;t++)n[t].addObserver(this)},_clearObserver:function(n){for(var t=0;t<n.length;t++)n[t].removeObserver(this)},_change:function(){}});y(d.fn,k);ft=i.extend({nodeType:"Group",init:function(n){i.fn.init.call(this,n);this.children=[]},childrenChange:function(n,t,i){this.trigger("childrenChange",{action:n,items:t,index:i})},append:function(){return gt(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this},insertAt:function(n,t){return this.children.splice(t,0,n),n.parent=this,this.childrenChange("add",[n],t),this},remove:function(n){var t=ti(n,this.children);return t>=0&&(this.children.splice(t,1),n.parent=null,this.childrenChange("remove",[n],t)),this},removeAt:function(n){if(0<=n&&n<this.children.length){var t=this.children[n];this.children.splice(n,1);t.parent=null;this.childrenChange("remove",[t],n)}return this},clear:function(){var n=this.children;return this.children=[],this._reparent(n,null),this.childrenChange("remove",n,0),this},bbox:function(n){return rt(this.children,!0,this.currentTransform(n))},rawBBox:function(){return rt(this.children,!1)},_clippedBBox:function(n){return bt(this.children,this.currentTransform(n))},currentTransform:function(n){return i.fn.currentTransform.call(this,n)||null},_reparent:function(n,t){for(var u,i,r=0;r<n.length;r++)u=n[r],i=u.parent,i&&i!=this&&i.remove&&i.remove(u),u.parent=t}});s.mixins.Traversable.extend(ft.fn,"children");nt=i.extend({nodeType:"Text",init:function(n,u,f){i.fn.init.call(this,f);this.content(n);this.position(u||new r.Point);this.options.font||(this.options.font="12px sans-serif");t(this.options.fill)||this.fill("#000")},content:function(n){return t(n)?(this.options.set("content",n),this):this.options.get("content")},measure:function(){return s.util.measureText(this.content(),{font:this.options.get("font")})},rect:function(){var n=this.measure(),t=this.position().clone();return new r.Rect(t,[n.width,n.height])},bbox:function(n){var t=a(this.currentTransform(n));return this.rect().bbox(t)},rawBBox:function(){return this.rect().bbox()}});s.mixins.Paintable.extend(nt.fn);ut(nt.fn,["position"]);tt=i.extend({nodeType:"Circle",init:function(n,u){i.fn.init.call(this,u);this.geometry(n||new r.Circle);t(this.options.stroke)||this.stroke("#000")},bbox:function(n){var r=a(this.currentTransform(n)),t=this._geometry.bbox(r),i=this.options.get("stroke.width");return i&&lt(t,i/2),t},rawBBox:function(){return this._geometry.bbox()}});s.mixins.Paintable.extend(tt.fn);at(tt.fn,["geometry"]);it=i.extend({nodeType:"Arc",init:function(n,u){i.fn.init.call(this,u);this.geometry(n||new r.Arc);t(this.options.stroke)||this.stroke("#000")},bbox:function(n){var r=a(this.currentTransform(n)),t=this.geometry().bbox(r),i=this.options.get("stroke.width");return i&&lt(t,i/2),t},rawBBox:function(){return this.geometry().bbox()},toPath:function(){var i=new u,n=this.geometry().curvePoints(),t;if(n.length>0)for(i.moveTo(n[0].x,n[0].y),t=1;t<n.length;t+=3)i.curveTo(n[t],n[t+1],n[t+2]);return i}});s.mixins.Paintable.extend(it.fn);at(it.fn,["geometry"]);et=d.extend({_change:function(){this.geometryChange()}});w=b.extend({init:function(n,t,i){this.anchor(n||new f);this.controlIn(t);this.controlOut(i)},bboxTo:function(n,t){var i=this.anchor().transformCopy(t),r=n.anchor().transformCopy(t);return this.controlOut()&&n.controlIn()?this._curveBoundingBox(i,this.controlOut().transformCopy(t),n.controlIn().transformCopy(t),r):this._lineBoundingBox(i,r)},_lineBoundingBox:function(n,t){return l.fromPoints(n,t)},_curveBoundingBox:function(n,t,i,r){var u=[n,t,i,r],e=this._curveExtremesFor(u,"x"),o=this._curveExtremesFor(u,"y"),s=yt([e.min,e.max,n.x,r.x]),h=yt([o.min,o.max,n.y,r.y]);return l.fromPoints(new f(s.min,h.min),new f(s.max,h.max))},_curveExtremesFor:function(n,t){var i=this._curveExtremes(n[0][t],n[1][t],n[2][t],n[3][t]);return{min:this._calculateCurveAt(i.min,t,n),max:this._calculateCurveAt(i.max,t,n)}},_calculateCurveAt:function(n,t,i){var r=1-n;return g(r,3)*i[0][t]+3*g(r,2)*n*i[1][t]+3*g(n,2)*r*i[2][t]+g(n,3)*i[3][t]},_curveExtremes:function(n,t,i,r){var o=n-3*t+3*i-r,u=-2*(n-2*t+i),a=n-t,l=h.sqrt(u*u-4*o*a),s=0,c=1,f,e;return o===0?u!==0&&(s=c=-a/u):isNaN(l)||(s=(-u+l)/(2*o),c=(-u-l)/(2*o)),f=h.max(h.min(s,c),0),(f<0||f>1)&&(f=0),e=h.min(h.max(s,c),1),(e>1||e<0)&&(e=1),{min:f,max:e}}});ut(w.fn,["anchor","controlIn","controlOut"]);y(w.fn,k);u=i.extend({nodeType:"Path",init:function(n){i.fn.init.call(this,n);this.segments=new et;this.segments.addObserver(this);t(this.options.stroke)||(this.stroke("#000"),t(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))},moveTo:function(n,t){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(n,t),this},lineTo:function(n,i){var r=t(i)?new f(n,i):n,u=new w(r);return this.segments.push(u),this},curveTo:function(n,t,i){if(this.segments.length>0){var r=c(this.segments),u=new w(i,t);this.suspend();r.controlOut(n);this.resume();this.segments.push(u)}return this},arc:function(n,t,i,u,e){if(this.segments.length>0){var l=c(this.segments),o=l.anchor(),s=p.rad(n),a=new f(o.x-i*h.cos(s),o.y-u*h.sin(s)),v=new r.Arc(a,{startAngle:n,endAngle:t,radiusX:i,radiusY:u,anticlockwise:e});this._addArcSegments(v)}return this},arcTo:function(n,t,i,u,f){if(this.segments.length>0){var e=c(this.segments),o=e.anchor(),s=r.Arc.fromPoints(o,n,t,i,u,f);this._addArcSegments(s)}return this},_addArcSegments:function(n){var i,t;for(this.suspend(),i=n.curvePoints(),t=1;t<i.length;t+=3)this.curveTo(i[t],i[t+1],i[t+2]);this.resume();this.geometryChange()},close:function(){return this.options.closed=!0,this.geometryChange(),this},bbox:function(n){var r=a(this.currentTransform(n)),t=this._bbox(r),i=this.options.get("stroke.width");return i&&lt(t,i/2),t},rawBBox:function(){return this._bbox()},_bbox:function(n){var r=this.segments,u=r.length,t,e,i,f;if(u===1)e=r[0].anchor().transformCopy(n),t=new l(e,kt.ZERO);else if(u>0)for(i=1;i<u;i++)f=r[i-1].bboxTo(r[i],n),t=t?l.union(t,f):f;return t}});s.mixins.Paintable.extend(u.fn);u.fromRect=function(n,t){return new u(t).moveTo(n.topLeft()).lineTo(n.topRight()).lineTo(n.bottomRight()).lineTo(n.bottomLeft()).close()};u.fromPoints=function(n,t){var r,i,e;if(n){for(r=new u(t),i=0;i<n.length;i++)e=f.create(n[i]),e&&(i===0?r.moveTo(e):r.lineTo(e));return r}};u.fromArc=function(n,t){var i=new u(t),r=n.startAngle,f=n.pointAt(r);return i.moveTo(f.x,f.y),i.arc(r,n.endAngle,n.radiusX,n.radiusY,n.anticlockwise),i};ot=i.extend({nodeType:"MultiPath",init:function(n){i.fn.init.call(this,n);this.paths=new et;this.paths.addObserver(this);t(this.options.stroke)||this.stroke("#000")},moveTo:function(n,t){var i=new u;return i.moveTo(n,t),this.paths.push(i),this},lineTo:function(n,t){return this.paths.length>0&&c(this.paths).lineTo(n,t),this},curveTo:function(n,t,i){return this.paths.length>0&&c(this.paths).curveTo(n,t,i),this},arc:function(n,t,i,r,u){return this.paths.length>0&&c(this.paths).arc(n,t,i,r,u),this},arcTo:function(n,t,i,r,u){return this.paths.length>0&&c(this.paths).arcTo(n,t,i,r,u),this},close:function(){return this.paths.length>0&&c(this.paths).close(),this},bbox:function(n){return rt(this.paths,!0,this.currentTransform(n))},rawBBox:function(){return rt(this.paths,!1)},_clippedBBox:function(n){return bt(this.paths,this.currentTransform(n))}});s.mixins.Paintable.extend(ot.fn);st=i.extend({nodeType:"Image",init:function(n,t,u){i.fn.init.call(this,u);this.src(n);this.rect(t||new r.Rect)},src:function(n){return t(n)?(this.options.set("src",n),this):this.options.get("src")},bbox:function(n){var t=a(this.currentTransform(n));return this._rect.bbox(t)},rawBBox:function(){return this._rect.bbox()}});at(st.fn,["rect"]);e=b.extend({init:function(n,i,r){this.options=new vt({offset:n,color:i,opacity:t(r)?r:1});this.options.addObserver(this)}});hi(e.fn,["offset","color","opacity"]);y(e.fn,k);e.create=function(n){if(t(n))return n instanceof e?n:n.length>1?new e(n[0],n[1],n[2]):new e(n.offset,n.color,n.opacity)};wt=d.extend({_change:function(){this.optionsChange({field:"stops"})}});v=b.extend({nodeType:"gradient",init:function(n){this.stops=new wt(this._createStops(n.stops));this.stops.addObserver(this);this._userSpace=n.userSpace;this.id=o.guid()},userSpace:function(n){return t(n)?(this._userSpace=n,this.optionsChange(),this):this._userSpace},_createStops:function(n){var i=[],t;for(n=n||[],t=0;t<n.length;t++)i.push(e.create(n[t]));return i},addStop:function(n,t,i){this.stops.push(new e(n,t,i))},removeStop:function(n){var t=this.stops.indexOf(n);t>=0&&this.stops.splice(t,1)}});y(v.fn,k,{optionsChange:function(n){this.trigger("optionsChange",{field:"gradient"+(n?"."+n.field:""),value:this})},geometryChange:function(){this.optionsChange()}});ht=v.extend({init:function(n){n=n||{};v.fn.init.call(this,n);this.start(n.start||new f);this.end(n.end||new f(1,0))}});ut(ht.fn,["start","end"]);ct=v.extend({init:function(n){n=n||{};v.fn.init.call(this,n);this.center(n.center||new f);this._radius=t(n.radius)?n.radius:1;this._fallbackFill=n.fallbackFill},radius:function(n){return t(n)?(this._radius=n,this.geometryChange(),this):this._radius},fallbackFill:function(n){return t(n)?(this._fallbackFill=n,this.optionsChange(),this):this._fallbackFill}});ut(ct.fn,["center"]);y(s,{Arc:it,Circle:tt,Element:i,ElementsArray:d,Gradient:v,GradientStop:e,Group:ft,Image:st,LinearGradient:ht,MultiPath:ot,Path:u,RadialGradient:ct,Segment:w,Text:nt})}(window.kendo.jQuery),function(n){function d(n){var t=[];return n.replace(b,function(n,i){t.push(parseFloat(i))}),t}function h(n,t,i){for(var u=t?0:1,r=0;r<n.length;r+=2)n.splice(r+u,0,i)}function c(n,t){if(n&&t)return t.scaleCopy(2).translate(-n.x,-n.y)}function l(n,t,i){var r=1/3;return t=t.clone().scale(2/3),{controlOut:t.clone().translateWith(n.scaleCopy(r)),controlIn:t.translateWith(i.scaleCopy(r))}}var i=window.kendo,f=i.drawing,a=i.geometry,v=i.Class,t=a.Point,y=i.deepExtend,p=n.trim,e=i.util,g=e.deg,r=e.last,nt=e.round,w=/([a-z]{1})([^a-z]*)(z)?/gi,b=/[,\s]?(-?(?:\d+\.)?\d+)/g,o="m",k="z",u=v.extend({parse:function(n,i){var h=this,u=new f.MultiPath(i),r=new t,e;return n.replace(w,function(n,t,i,f){var h=t.toLowerCase(),l=h===t,c=d(p(i));if(h===o&&(l?(r.x+=c[0],r.y+=c[1]):(r.x=c[0],r.y=c[1]),u.moveTo(r.x,r.y),c.length>2&&(h="l",c.splice(0,2))),s[h])s[h](u,{parameters:c,position:r,isRelative:l,previousCommand:e}),f&&f.toLowerCase()===k&&u.close();else if(h!==o)throw new Error("Error while parsing SVG path. Unsupported command: "+h);e=h}),u}}),s={l:function(n,i){for(var r,f=i.parameters,e=i.position,u=0;u<f.length;u+=2)r=new t(f[u],f[u+1]),i.isRelative&&r.translateWith(e),n.lineTo(r.x,r.y),e.x=r.x,e.y=r.y},c:function(n,i){for(var u=i.parameters,f=i.position,o,s,e,r=0;r<u.length;r+=6)o=new t(u[r],u[r+1]),s=new t(u[r+2],u[r+3]),e=new t(u[r+4],u[r+5]),i.isRelative&&(s.translateWith(f),o.translateWith(f),e.translateWith(f)),n.curveTo(o,s,e),f.x=e.x,f.y=e.y},v:function(n,t){var i=t.isRelative?0:t.position.x;h(t.parameters,!0,i);this.l(n,t)},h:function(n,t){var i=t.isRelative?0:t.position.y;h(t.parameters,!1,i);this.l(n,t)},a:function(n,i){for(var u=i.parameters,e=i.position,r=0;r<u.length;r+=7){var o=u[r],s=u[r+1],h=u[r+3],c=u[r+4],f=new t(u[r+5],u[r+6]);i.isRelative&&f.translateWith(e);n.arcTo(f,o,s,h,c);e.x=f.x;e.y=f.y}},s:function(n,i){var e=i.parameters,f=i.position,l=i.previousCommand,a,o,s,h,u;for((l=="s"||l=="c")&&(h=r(r(n.paths).segments).controlIn()),u=0;u<e.length;u+=4)s=new t(e[u],e[u+1]),o=new t(e[u+2],e[u+3]),i.isRelative&&(s.translateWith(f),o.translateWith(f)),a=h?c(h,f):f.clone(),h=s,n.curveTo(a,s,o),f.x=o.x,f.y=o.y},q:function(n,i){for(var f=i.parameters,e=i.position,o,r,s,u=0;u<f.length;u+=4)s=new t(f[u],f[u+1]),r=new t(f[u+2],f[u+3]),i.isRelative&&(s.translateWith(e),r.translateWith(e)),o=l(e,s,r),n.curveTo(o.controlOut,o.controlIn,r),e.x=r.x,e.y=r.y},t:function(n,i){var s=i.parameters,u=i.position,a=i.previousCommand,h,e,f,v,o;for((a=="q"||a=="t")&&(v=r(r(n.paths).segments),e=v.controlIn().clone().translateWith(u.scaleCopy(-1/3)).scale(3/2)),o=0;o<s.length;o+=2)f=new t(s[o],s[o+1]),i.isRelative&&f.translateWith(u),e=e?c(e,u):u.clone(),h=l(u,e,f),n.curveTo(h.controlOut,h.controlIn,f),u.x=f.x,u.y=f.y}};u.current=new u;f.Path.parse=function(n,t){return u.current.parse(n,t)};y(f,{PathParser:u})}(window.kendo.jQuery),function(n){function fi(n){var t;try{t=n.getScreenCTM?n.getScreenCTM():null}catch(f){}if(t){var i=-t.e%1,r=-t.f%1,u=n.style;(i!==0||r!==0)&&(u.left=i+"px",u.top=r+"px")}}function ei(){var r=document.getElementsByTagName("base")[0],t="",n=document.location.href,i=n.indexOf("#");return r&&!u.support.browser.msie&&(i!==-1&&(n=n.substring(0,i)),t=n),t}function wt(n){return"url("+ei()+"#"+n+")"}function bt(n){var i=new d({encodeText:!0}),u=n.clippedBBox(),r,t,e;return u&&(r=u.getOrigin(),t=new f.Group,t.transform(gt.transform().translate(-r.x,-r.y)),t.children.push(n),n=t),i.load([n]),e="<?xml version='1.0' ?><svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+c+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+i.render()+"<\/svg>",i.destroy(),e}function oi(t,i){var r=bt(t);return i&&i.raw||(r="data:image/svg+xml;base64,"+e.encodeBase64(r)),n.Deferred().resolve(r).promise()}function kt(n,t){return n=="clip"||n=="fill"&&(!t||t.nodeType==b)}function nt(n){if(!n||!n.indexOf||n.indexOf("&")<0)return n;var t=nt._element;return t.innerHTML=n,t.textContent||t.innerText}var a=document,u=window.kendo,dt=u.deepExtend,gt=u.geometry,f=u.drawing,o=f.BaseNode,e=u.util,h=e.defined,tt=e.isTransparent,w=e.renderAttr,s=e.renderAllAttr,si=e.renderSize,i=e.renderTemplate,ni=n.inArray,ti="butt",ii=f.DASH_ARRAYS,b="gradient",v="none",y=".kendo",it="solid",k=" ",c="http://www.w3.org/2000/svg",p="transform",ri="undefined",rt=f.Surface.extend({init:function(n,t){f.Surface.fn.init.call(this,n,t);this._root=new d(this.options);g(this.element[0],this._template(this));this._rootElement=this.element[0].firstElementChild;fi(this._rootElement);this._root.attachTo(this._rootElement);this.element.on("click"+y,this._click);this.element.on("mouseover"+y,this._mouseenter);this.element.on("mouseout"+y,this._mouseleave);this.resize()},type:"svg",destroy:function(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,this.element.off(y));f.Surface.fn.destroy.call(this)},translate:function(n){var t=u.format("{0} {1} {2} {3}",Math.round(n.x),Math.round(n.y),this._size.width,this._size.height);this._offset=n;this._rootElement.setAttribute("viewBox",t)},draw:function(n){this._root.load([n])},clear:function(){this._root.clear()},svg:function(){return"<?xml version='1.0' ?>"+this._template(this)},_resize:function(){this._offset&&this.translate(this._offset)},_template:i("<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+c+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>#= d._root.render() #<\/svg>")}),t=o.extend({init:function(n){o.fn.init.call(this,n);this.definitions={}},destroy:function(){this.element&&(this.element._kendoNode=null,this.element=null);this.clearDefinitions();o.fn.destroy.call(this)},load:function(n,t){for(var e=this,o=e.element,i,r,u,f=0;f<n.length;f++)r=n[f],u=r.children,i=new ui[r.nodeType](r),h(t)?e.insertAt(i,t):e.append(i),i.createDefinitions(),u&&u.length>0&&i.load(u),o&&i.attachTo(o,t)},root:function(){for(var n=this;n.parent;)n=n.parent;return n},attachTo:function(n,t){var r=a.createElement("div"),i;g(r,"<svg xmlns='"+c+"' version='1.1'>"+this.render()+"<\/svg>");i=r.firstChild.firstChild;i&&(h(t)?n.insertBefore(i,n.childNodes[t]):n.appendChild(i),this.setElement(i))},setElement:function(n){var i=this.childNodes,r,t;for(this.element&&(this.element._kendoNode=null),this.element=n,this.element._kendoNode=this,t=0;t<i.length;t++)r=n.childNodes[t],i[t].setElement(r)},clear:function(){var t,n;for(this.clearDefinitions(),this.element&&(this.element.innerHTML=""),t=this.childNodes,n=0;n<t.length;n++)t[n].destroy();this.childNodes=[]},removeSelf:function(){this.element&&(this.element.parentNode.removeChild(this.element),this.element=null);o.fn.removeSelf.call(this)},template:i("#= d.renderChildren() #"),render:function(){return this.template(this)},renderChildren:function(){for(var t=this.childNodes,i="",n=0;n<t.length;n++)i+=t[n].render();return i},optionsChange:function(n){var t=n.field,i=n.value;t==="visible"?this.css("display",i?"":v):l[t]&&kt(t,i)?this.updateDefinition(t,i):t==="opacity"&&this.attr("opacity",i);o.fn.optionsChange.call(this,n)},attr:function(n,t){this.element&&this.element.setAttribute(n,t)},allAttr:function(n){for(var t=0;t<n.length;t++)this.attr(n[t][0],n[t][1])},css:function(n,t){this.element&&(this.element.style[n]=t)},allCss:function(n){for(var t=0;t<n.length;t++)this.css(n[t][0],n[t][1])},removeAttr:function(n){this.element&&this.element.removeAttribute(n)},mapTransform:function(n){var t=[];return n&&t.push([p,"matrix("+n.matrix().toString(6)+")"]),t},renderTransform:function(){return s(this.mapTransform(this.srcElement.transform()))},transformChange:function(n){n?this.allAttr(this.mapTransform(n)):this.removeAttr(p)},mapStyle:function(){var n=this.srcElement.options,t=[["cursor",n.cursor]];return n.visible===!1&&t.push(["display",v]),t},renderStyle:function(){return w("style",e.renderStyle(this.mapStyle()))},renderOpacity:function(){return w("opacity",this.srcElement.options.opacity)},createDefinitions:function(){var i=this.srcElement,r=this.definitions,n,t,u,f;if(i){u=i.options;for(t in l)n=u.get(t),n&&kt(t,n)&&(r[t]=n,f=!0);f&&this.definitionChange({action:"add",definitions:r})}},definitionChange:function(n){this.parent&&this.parent.definitionChange(n)},updateDefinition:function(n,t){var r=this.definitions,u=r[n],f=l[n],i={};u&&(i[n]=u,this.definitionChange({action:"remove",definitions:i}),delete r[n]);t?(i[n]=t,this.definitionChange({action:"add",definitions:i}),r[n]=t,this.attr(f,wt(t.id))):u&&this.removeAttr(f)},clearDefinitions:function(){var n=this.definitions;for(var t in n){this.definitionChange({action:"remove",definitions:n});this.definitions={};break}},renderDefinitions:function(){return s(this.mapDefinitions())},mapDefinitions:function(){var n=this.definitions,t=[];for(var i in n)t.push([l[i],wt(n[i].id)]);return t}}),d=t.extend({init:function(n){t.fn.init.call(this);this.options=n;this.defs=new ut},attachTo:function(n){this.element=n;this.defs.attachTo(n.firstElementChild)},clear:function(){o.fn.clear.call(this)},template:i("#=d.defs.render()##= d.renderChildren() #"),definitionChange:function(n){this.defs.definitionChange(n)}}),ut=t.extend({init:function(){t.fn.init.call(this);this.definitionMap={}},attachTo:function(n){this.element=n},template:i("<defs>#= d.renderChildren()#<\/defs>"),definitionChange:function(n){var t=n.definitions,i=n.action;i=="add"?this.addDefinitions(t):i=="remove"&&this.removeDefinitions(t)},createDefinition:function(n,t){var i;return n=="clip"?i=ft:n=="fill"&&(t instanceof f.LinearGradient?i=yt:t instanceof f.RadialGradient&&(i=pt)),new i(t)},addDefinitions:function(n){for(var t in n)this.addDefinition(t,n[t])},addDefinition:function(n,t){var u=this.definitionMap,f=t.id,e=this.element,i,r;r=u[f];r?r.count++:(i=this.createDefinition(n,t),u[f]={element:i,count:1},this.append(i),e&&i.attachTo(this.element))},removeDefinitions:function(n){for(var t in n)this.removeDefinition(n[t])},removeDefinition:function(n){var i=this.definitionMap,r=n.id,t;t=i[r];t&&(t.count--,t.count===0&&(this.remove(ni(t.element,this.childNodes),1),delete i[r]))}}),ft=t.extend({init:function(n){t.fn.init.call(this);this.srcElement=n;this.id=n.id;this.load([n])},template:i("<clipPath id='#=d.id#'>#= d.renderChildren()#<\/clipPath>")}),et=t.extend({template:i("<g#= d.renderTransform() + d.renderStyle() + d.renderOpacity() + d.renderDefinitions()#>#= d.renderChildren() #<\/g>"),optionsChange:function(n){n.field==p&&this.transformChange(n.value);t.fn.optionsChange.call(this,n)}}),r=t.extend({geometryChange:function(){this.attr("d",this.renderData());this.invalidate()},optionsChange:function(n){switch(n.field){case"fill":n.value?this.allAttr(this.mapFill(n.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:n.value}));break;case"stroke":n.value?this.allAttr(this.mapStroke(n.value)):this.removeAttr("stroke");break;case p:this.transformChange(n.value);break;default:var i=this.attributeMap[n.field];i&&this.attr(i,n.value)}t.fn.optionsChange.call(this,n)},attributeMap:{"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},content:function(){this.element&&(this.element.textContent=this.srcElement.content())},renderData:function(){return this.printPath(this.srcElement)},printPath:function(n){var i=n.segments,e=i.length,r,f,u,o,t;if(e>0){for(r=[],t=1;t<e;t++)u=this.segmentType(i[t-1],i[t]),u!==o&&(o=u,r.push(u)),u==="L"?r.push(this.printPoints(i[t].anchor())):r.push(this.printPoints(i[t-1].controlOut(),i[t].controlIn(),i[t].anchor()));return f="M"+this.printPoints(i[0].anchor())+k+r.join(k),n.options.closed&&(f+="Z"),f}},printPoints:function(){for(var t=arguments,r=t.length,i=[],n=0;n<r;n++)i.push(t[n].toString(3));return i.join(k)},segmentType:function(n,t){return n.controlOut()&&t.controlIn()?"C":"L"},mapStroke:function(n){var t=[];return n&&!tt(n.color)?(t.push(["stroke",n.color]),t.push(["stroke-width",n.width]),t.push(["stroke-linecap",this.renderLinecap(n)]),t.push(["stroke-linejoin",n.lineJoin]),h(n.opacity)&&t.push(["stroke-opacity",n.opacity]),h(n.dashType)&&t.push(["stroke-dasharray",this.renderDashType(n)])):t.push(["stroke",v]),t},renderStroke:function(){return s(this.mapStroke(this.srcElement.options.stroke))},renderDashType:function(n){var f=n.width||1,i=n.dashType,r,u,t;if(i&&i!=it){for(r=ii[i.toLowerCase()],u=[],t=0;t<r.length;t++)u.push(r[t]*f);return u.join(" ")}},renderLinecap:function(n){var t=n.dashType,i=n.lineCap;return t&&t!=it?ti:i},mapFill:function(n){var t=[];return n&&n.nodeType==b||(n&&!tt(n.color)?(t.push(["fill",n.color]),h(n.opacity)&&t.push(["fill-opacity",n.opacity])):t.push(["fill",v])),t},renderFill:function(){return s(this.mapFill(this.srcElement.options.fill))},template:i("<path #= d.renderStyle() # #= d.renderOpacity() # #= kendo.util.renderAttr('d', d.renderData()) # #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() #><\/path>")}),ot=r.extend({renderData:function(){return this.printPath(this.srcElement.toPath())}}),st=r.extend({renderData:function(){var t=this.srcElement.paths,i,n;if(t.length>0){for(i=[],n=0;n<t.length;n++)i.push(this.printPath(t[n]));return i.join(" ")}}}),ht=r.extend({geometryChange:function(){var n=this.center();this.attr("cx",n.x);this.attr("cy",n.y);this.attr("r",this.radius());this.invalidate()},center:function(){return this.srcElement.geometry().center},radius:function(){return this.srcElement.geometry().radius},template:i("<circle #= d.renderStyle() # #= d.renderOpacity() # cx='#= d.center().x #' cy='#= d.center().y #' r='#= d.radius() #' #= d.renderStroke() # #= d.renderFill() # #= d.renderDefinitions() # #= d.renderTransform() # ><\/circle>")}),ct=r.extend({geometryChange:function(){var n=this.pos();this.attr("x",n.x);this.attr("y",n.y);this.invalidate()},optionsChange:function(n){n.field==="font"?(this.attr("style",e.renderStyle(this.mapStyle())),this.geometryChange()):n.field==="content"&&r.fn.content.call(this,this.srcElement.content());r.fn.optionsChange.call(this,n)},mapStyle:function(){var t=r.fn.mapStyle.call(this),n=this.srcElement.options.font,i=this.root().options;return i&&i.encodeText&&(n=u.htmlEncode(n)),t.push(["font",n]),t},pos:function(){var n=this.srcElement.position(),t=this.srcElement.measure();return n.clone().setY(n.y+t.baseline)},content:function(){var n=this.srcElement.content(),t=this.root().options;return t&&t.encodeText&&(n=nt(n),n=u.htmlEncode(n)),n},template:i("<text #= d.renderStyle() # #= d.renderOpacity() # x='#= this.pos().x #' y='#= this.pos().y #' #= d.renderStroke() # #= d.renderTransform() # #= d.renderDefinitions() # #= d.renderFill() #><tspan>#= d.content() #<\/tspan><\/text>")}),lt=r.extend({geometryChange:function(){this.allAttr(this.mapPosition());this.invalidate()},optionsChange:function(n){n.field==="src"&&this.allAttr(this.mapSource());r.fn.optionsChange.call(this,n)},mapPosition:function(){var n=this.srcElement.rect(),t=n.topLeft();return[["x",t.x],["y",t.y],["width",n.width()+"px"],["height",n.height()+"px"]]},renderPosition:function(){return s(this.mapPosition())},mapSource:function(){return[["xlink:href",this.srcElement.src()]]},renderSource:function(){return s(this.mapSource())},template:i("<image preserveAspectRatio='none' #= d.renderStyle() # #= d.renderTransform()# #= d.renderOpacity() # #= d.renderPosition() # #= d.renderSource() # #= d.renderDefinitions()#><\/image>")}),at=t.extend({template:i("<stop #=d.renderOffset()# #=d.renderStyle()# />"),renderOffset:function(){return w("offset",this.srcElement.offset())},mapStyle:function(){var n=this.srcElement;return[["stop-color",n.color()],["stop-opacity",n.opacity()]]},optionsChange:function(n){n.field=="offset"?this.attr(n.field,n.value):(n.field=="color"||n.field=="opacity")&&this.css("stop-"+n.field,n.value)}}),vt=t.extend({init:function(n){t.fn.init.call(this,n);this.id=n.id;this.loadStops()},loadStops:function(){for(var u=this.srcElement,i=u.stops,r=this.element,t,n=0;n<i.length;n++)t=new at(i[n]),this.append(t),r&&t.attachTo(r)},optionsChange:function(n){n.field=="gradient.stops"?(o.fn.clear.call(this),this.loadStops()):n.field==b&&this.allAttr(this.mapCoordinates())},renderCoordinates:function(){return s(this.mapCoordinates())},mapSpace:function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}}),yt=vt.extend({template:i("<linearGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#<\/linearGradient>"),mapCoordinates:function(){var n=this.srcElement,t=n.start(),i=n.end();return[["x1",t.x],["y1",t.y],["x2",i.x],["y2",i.y],this.mapSpace()]}}),pt=vt.extend({template:i("<radialGradient id='#=d.id#' #=d.renderCoordinates()#>#= d.renderChildren()#<\/radialGradient>"),mapCoordinates:function(){var n=this.srcElement,t=n.center(),i=n.radius();return[["cx",t.x],["cy",t.y],["r",i],this.mapSpace()]}}),ui={Group:et,Text:ct,Path:r,MultiPath:st,Circle:ht,Arc:ot,Image:lt},g=function(n,t){n.innerHTML=t},l;(function(){var t="<svg xmlns='"+c+"'><\/svg>",n=a.createElement("div"),i=typeof DOMParser!=ri;n.innerHTML=t;i&&n.firstChild.namespaceURI!=c&&(g=function(n,t){var i=new DOMParser,r=i.parseFromString(t,"text/xml"),u=a.adoptNode(r.documentElement);n.innerHTML="";n.appendChild(u)})})();nt._element=document.createElement("span");l={clip:"clip-path",fill:"fill"};u.support.svg=function(){return a.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}();u.support.svg&&f.SurfaceFactory.current.register("svg",rt,10);dt(f,{exportSVG:oi,svg:{ArcNode:ot,CircleNode:ht,ClipNode:ft,DefinitionNode:ut,GradientStopNode:at,GroupNode:et,ImageNode:lt,LinearGradientNode:yt,MultiPathNode:st,Node:t,PathNode:r,RadialGradientNode:pt,RootNode:d,Surface:rt,TextNode:ct,_exportGroup:bt}})}(window.kendo.jQuery),function(n){function et(t,r){var e={width:"800px",height:"600px",cors:"Anonymous"},o=t.clippedBBox(),h,u,l,a,f,v;return o&&(h=o.getOrigin(),u=new i.Group,u.transform(it.transform().translate(-h.x,-h.y)),u.children.push(t),t=u,l=o.getSize(),e.width=l.width+"px",e.height=l.height+"px"),r=c(e,r),a=n("<div />").css({display:"none",width:r.width,height:r.height}).appendTo(document.body),f=new s(a,r),f.draw(t),v=f.image(),v.always(function(){f.destroy();a.remove()}),v}function ot(n,t){for(var f,i,u=0;u<t.length;u++)i=t[u],f=r.parseColor(i.color()),f.a*=i.opacity(),n.addColorStop(i.offset(),f.toCssRgba())}var st=n.noop,g=document,r=window.kendo,c=r.deepExtend,f=r.util,l=f.defined,a=f.isTransparent,nt=f.renderTemplate,tt=f.valueOrDefault,it=r.geometry,i=r.drawing,e=i.BaseNode,rt="butt",ut=i.DASH_ARRAYS,ft=1e3/60,v="solid",s=i.Surface.extend({init:function(t,r){i.Surface.fn.init.call(this,t,r);this.element[0].innerHTML=this._template(this);var u=this.element[0].firstElementChild;u.width=n(t).width();u.height=n(t).height();this._rootElement=u;this._root=new o(u)},destroy:function(){i.Surface.fn.destroy.call(this);this._root&&(this._root.destroy(),this._root=null)},type:"canvas",draw:function(n){this._root.load([n],undefined,this.options.cors)},clear:function(){this._root.clear()},image:function(){var i=this._root,u=this._rootElement,r=[],t;return i.traverse(function(n){n.loading&&r.push(n.loading)}),t=n.Deferred(),n.when.apply(n,r).done(function(){i._invalidate();try{var n=u.toDataURL();t.resolve(n)}catch(r){t.reject(r)}}).fail(function(n){t.reject(n)}),t.promise()},_resize:function(){this._rootElement.width=this._size.width;this._rootElement.height=this._size.height;this._root.invalidate()},_template:nt("<canvas style='width: 100%; height: 100%;'><\/canvas>")}),h=e.extend({init:function(n){e.fn.init.call(this,n);n&&this.initClip()},initClip:function(){var n=this.srcElement.clip();n&&(this.clip=n,n.addObserver(this))},clear:function(){this.srcElement&&this.srcElement.removeObserver(this);this.clearClip();e.fn.clear.call(this)},clearClip:function(){this.clip&&(this.clip.removeObserver(this),delete this.clip)},setClip:function(n){this.clip&&(n.beginPath(),t.fn.renderPoints(n,this.clip),n.clip())},optionsChange:function(n){n.field=="clip"&&(this.clearClip(),this.initClip());e.fn.optionsChange.call(this,n)},setTransform:function(n){if(this.srcElement){var t=this.srcElement.transform();t&&n.transform.apply(n,t.matrix().toArray(6))}},load:function(n,t,i){for(var o=this,r,u,f,e=0;e<n.length;e++)u=n[e],f=u.children,r=new d[u.nodeType](u,i),f&&f.length>0&&r.load(f,t,i),l(t)?o.insertAt(r,t):o.append(r);o.invalidate()},setOpacity:function(n){if(this.srcElement){var t=this.srcElement.opacity();l(t)&&this.globalAlpha(n,t)}},globalAlpha:function(n,t){t&&n.globalAlpha&&(t*=n.globalAlpha);n.globalAlpha=t}}),u=h.extend({renderTo:function(n){var i=this.childNodes,t;for(n.save(),this.setTransform(n),this.setClip(n),this.setOpacity(n),t=0;t<i.length;t++)i[t].renderTo(n);n.restore()}}),o,d;i.mixins.Traversable.extend(u.fn,"childNodes");o=u.extend({init:function(t){u.fn.init.call(this);this.canvas=t;this.ctx=t.getContext("2d");this.invalidate=r.throttle(n.proxy(this._invalidate,this),ft)},destroy:function(){u.fn.destroy.call(this);this.canvas=null;this.ctx=null},_invalidate:function(){this.ctx&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx))}});i.mixins.Traversable.extend(o.fn,"childNodes");var t=h.extend({renderTo:function(n){n.save();this.setTransform(n);this.setClip(n);this.setOpacity(n);n.beginPath();this.renderPoints(n,this.srcElement);this.setLineDash(n);this.setLineCap(n);this.setLineJoin(n);this.setFill(n);this.setStroke(n);n.restore()},setFill:function(n){var t=this.srcElement.options.fill,i=!1;return t&&(t.nodeType=="gradient"?(this.setGradientFill(n,t),i=!0):a(t.color)||(n.fillStyle=t.color,n.save(),this.globalAlpha(n,t.opacity),n.fill(),n.restore(),i=!0)),i},setGradientFill:function(n,t){var u=this.srcElement.rawBBox(),f,e,o,r;t instanceof i.LinearGradient?(e=t.start(),o=t.end(),f=n.createLinearGradient(e.x,e.y,o.x,o.y)):t instanceof i.RadialGradient&&(r=t.center(),f=n.createRadialGradient(r.x,r.y,0,r.x,r.y,t.radius()));ot(f,t.stops);n.save();t.userSpace()||n.transform(u.width(),0,0,u.height(),u.origin.x,u.origin.y);n.fillStyle=f;n.fill();n.restore()},setStroke:function(n){var t=this.srcElement.options.stroke;if(t&&!a(t.color))return n.strokeStyle=t.color,n.lineWidth=tt(t.width,1),n.save(),this.globalAlpha(n,t.opacity),n.stroke(),n.restore(),!0},dashType:function(){var n=this.srcElement.options.stroke;if(n&&n.dashType)return n.dashType.toLowerCase()},setLineDash:function(n){var i=this.dashType(),t;i&&i!=v&&(t=ut[i],n.setLineDash?n.setLineDash(t):(n.mozDash=t,n.webkitLineDash=t))},setLineCap:function(n){var i=this.dashType(),t=this.srcElement.options.stroke;i&&i!==v?n.lineCap=rt:t&&t.lineCap&&(n.lineCap=t.lineCap)},setLineJoin:function(n){var t=this.srcElement.options.stroke;t&&t.lineJoin&&(n.lineJoin=t.lineJoin)},renderPoints:function(n,t){var r=t.segments,u,i,f;if(r.length!==0){for(u=r[0],i=u.anchor(),n.moveTo(i.x,i.y),f=1;f<r.length;f++){u=r[f];i=u.anchor();var s=r[f-1],e=s.controlOut(),o=u.controlIn();e&&o?n.bezierCurveTo(e.x,e.y,o.x,o.y,i.x,i.y):n.lineTo(i.x,i.y)}t.options.closed&&n.closePath()}}}),y=t.extend({renderPoints:function(n){for(var r=this.srcElement.paths,i=0;i<r.length;i++)t.fn.renderPoints(n,r[i])}}),p=t.extend({renderPoints:function(n){var t=this.srcElement.geometry(),i=t.center,r=t.radius;n.arc(i.x,i.y,r,0,Math.PI*2)}}),w=t.extend({renderPoints:function(n){var i=this.srcElement.toPath();t.fn.renderPoints.call(this,n,i)}}),b=t.extend({renderTo:function(n){var t=this.srcElement,i=t.position(),r=t.measure();n.save();this.setTransform(n);this.setClip(n);this.setOpacity(n);n.beginPath();n.font=t.options.font;this.setFill(n)&&n.fillText(t.content(),i.x,i.y+r.baseline);this.setStroke(n)&&(this.setLineDash(n),n.strokeText(t.content(),i.x,i.y+r.baseline));n.restore()}}),k=t.extend({init:function(i,r){var u,f;t.fn.init.call(this,i);this.onLoad=n.proxy(this.onLoad,this);this.onError=n.proxy(this.onError,this);u=this.img=new Image;r&&(u.crossOrigin=r);u.onload=this.onLoad;u.onerror=this.onError;f=u.src=i.src();(u.complete||u.complete===undefined)&&(u.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",u.src=f);this.loading=n.Deferred()},renderTo:function(n){this.loading.state()==="resolved"&&(n.save(),this.setTransform(n),this.setClip(n),this.drawImage(n),n.restore())},optionsChange:function(i){i.field==="src"?(this.loading=n.Deferred(),this.img.src=this.srcElement.src()):t.fn.optionsChange.call(this,i)},onLoad:function(){this.loading.resolve();this.invalidate()},onError:function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))},drawImage:function(n){var t=this.srcElement.rect(),i=t.topLeft();n.drawImage(this.img,i.x,i.y,t.width(),t.height())}});d={Group:u,Text:b,Path:t,MultiPath:y,Circle:p,Arc:w,Image:k};r.support.canvas=function(){return!!g.createElement("canvas").getContext}();r.support.canvas&&i.SurfaceFactory.current.register("canvas",s,20);c(r.drawing,{exportImage:et,canvas:{ArcNode:w,CircleNode:p,GroupNode:u,ImageNode:k,MultiPathNode:y,Node:h,PathNode:t,RootNode:o,Surface:s,TextNode:b}})}(window.kendo.jQuery),function(n){function wi(){if(e.namespaces&&!e.namespaces.kvml){e.namespaces.add("kvml","urn:schemas-microsoft-com:vml");var n=e.styleSheets.length>30?e.styleSheets[0]:e.createStyleSheet();n.addRule(".kvml","behavior:url(#default#VML)")}}function o(n){var t=e.createElement("kvml:"+n);return t.className="kvml",t}function k(n){for(var r=n.length,i=[],t=0;t<r;t++)i.push(n[t].scaleCopy(a).toString(0,","));return i.join(" ")}function nt(n,t){var r=n.segments,o=r.length,u,e,f,s,i;if(o>0){for(u=[],i=1;i<o;i++)f=bi(r[i-1],r[i]),f!==s&&(s=f,u.push(f)),f==="l"?u.push(k([r[i].anchor()])):u.push(k([r[i-1].controlOut(),r[i].controlIn(),r[i].anchor()]));return e="m "+k([r[0].anchor()])+" "+u.join(" "),n.options.closed&&(e+=" x"),t!==!0&&(e+=" e"),e}}function bi(n,t){return n.controlOut()&&t.controlIn()?"c":"l"}function li(n){return n.indexOf("fill")===0||n.indexOf(ft)===0}function et(n,t){return n?ai(n,t.color(),t.opacity()):ai(t.color(),"#fff",1-t.opacity())}function ai(n,t,i){var r=new rt(n),u=new rt(t),f=ot(r.r,u.r,i),e=ot(r.g,u.g,i),o=ot(r.b,u.b,i);return new rt(f,e,o).toHex()}function ot(n,t,i){return d.round(i*t+(1-i)*n)}var e=document,d=Math,tt=d.atan2,ht=d.sqrt,i=window.kendo,vi=i.deepExtend,ct=n.noop,u=i.drawing,p=u.BaseNode,it=i.geometry,lt=it.toMatrix,rt=i.Color,s=i.util,at=s.isTransparent,w=s.defined,vt=s.deg,ki=s.renderTemplate,b=s.round,h=s.valueOrDefault,ut="none",g=".kendo",a=100,yt=a*a,ft="gradient",v=4,pt=u.Surface.extend({init:function(n,t){u.Surface.fn.init.call(this,n,t);wi();this.element.empty();this._root=new wt;this._root.attachTo(this.element[0]);this.element.on("click"+g,this._click);this.element.on("mouseover"+g,this._mouseenter);this.element.on("mouseout"+g,this._mouseleave)},type:"vml",destroy:function(){this._root&&(this._root.destroy(),this._root=null,this.element.off(g));u.Surface.fn.destroy.call(this)},draw:function(n){this._root.load([n],undefined,null)},clear:function(){this._root.clear()}}),t=p.extend({init:function(n){p.fn.init.call(this,n);this.createElement();this.attachReference()},observe:ct,destroy:function(){this.element&&(this.element._kendoNode=null,this.element=null);p.fn.destroy.call(this)},clear:function(){var t,n;for(this.element&&(this.element.innerHTML=""),t=this.childNodes,n=0;n<t.length;n++)t[n].destroy();this.childNodes=[]},removeSelf:function(){this.element&&(this.element.parentNode.removeChild(this.element),this.element=null);p.fn.removeSelf.call(this)},createElement:function(){this.element=e.createElement("div")},attachReference:function(){this.element._kendoNode=this},load:function(n,t,i,r){var f;for(r=h(r,1),this.srcElement&&(r*=h(this.srcElement.options.opacity,1)),f=0;f<n.length;f++){var u=n[f],o=u.children,s=u.currentTransform(i),c=r*h(u.options.opacity,1),e=new pi[u.nodeType](u,s,c);o&&o.length>0&&e.load(o,t,s,r);w(t)?this.insertAt(e,t):this.append(e);e.attachTo(this.element,t)}},attachTo:function(n,t){w(t)?n.insertBefore(this.element,n.children[t]||null):n.appendChild(this.element)},optionsChange:function(n){n.field=="visible"&&this.css("display",n.value!==!1?"":ut)},setStyle:function(){this.allCss(this.mapStyle())},mapStyle:function(){var n=[];return this.srcElement&&this.srcElement.options.visible===!1&&n.push(["display",ut]),n},mapOpacityTo:function(n,t){var i=h(this.opacity,1);i*=h(t,1);n.push(["opacity",i])},attr:function(n,t){this.element&&(this.element[n]=t)},allAttr:function(n){for(var t=0;t<n.length;t++)this.attr(n[t][0],n[t][1])},css:function(n,t){this.element&&(this.element.style[n]=t)},allCss:function(n){for(var t=0;t<n.length;t++)this.css(n[t][0],n[t][1])}}),wt=t.extend({createElement:function(){t.fn.createElement.call(this);this.allCss([["width","100%"],["height","100%"],["position","relative"],["visibility","visible"]])},attachReference:ct}),yi=i.Class.extend({init:function(n,t){this.srcElement=n;this.observer=t;n.addObserver(this)},geometryChange:function(){this.observer.optionsChange({field:"clip",value:this.srcElement})},clear:function(){this.srcElement.removeObserver(this)}}),f=t.extend({init:function(n){t.fn.init.call(this,n);n&&this.initClip()},observe:function(){p.fn.observe.call(this)},mapStyle:function(){var n=t.fn.mapStyle.call(this);return this.srcElement&&this.srcElement.clip()&&n.push(["clip",this.clipRect()]),n},optionsChange:function(n){n.field=="clip"&&(this.clearClip(),this.initClip(),this.setClip());t.fn.optionsChange.call(this,n)},clear:function(){this.clearClip();t.fn.clear.call(this)},initClip:function(){this.srcElement.clip()&&(this.clip=new yi(this.srcElement.clip(),this),this.clip.observer=this)},clearClip:function(){this.clip&&(this.clip.clear(),this.clip=null,this.css("clip",this.clipRect()))},setClip:function(){this.clip&&this.css("clip",this.clipRect())},clipRect:function(){var n=st,t=this.srcElement.clip();if(t){var r=this.clipBBox(t),u=r.topLeft(),f=r.bottomRight();n=i.format("rect({0}px {1}px {2}px {3}px)",u.y,f.x,f.y,u.x)}return n},clipBBox:function(n){var t=this.srcElement.rawBBox().topLeft(),i=n.rawBBox();return i.origin.translate(-t.x,-t.y),i}}),bt=f.extend({createElement:function(){t.fn.createElement.call(this);this.setStyle()},attachTo:function(n,i){this.css("display",ut);t.fn.attachTo.call(this,n,i);this.srcElement.options.visible!==!1&&this.css("display","")},_attachTo:function(n){var t=document.createDocumentFragment();t.appendChild(this.element);n.appendChild(t)},mapStyle:function(){var n=f.fn.mapStyle.call(this);return n.push(["position","absolute"]),n.push(["white-space","nowrap"]),n},optionsChange:function(n){n.field==="transform"&&this.refreshTransform();n.field==="opacity"&&this.refreshOpacity();f.fn.optionsChange.call(this,n)},refreshTransform:function(n){var r=this.srcElement.currentTransform(n),i=this.childNodes,u=i.length,t;for(this.setClip(),t=0;t<u;t++)i[t].refreshTransform(r)},currentOpacity:function(){var n=h(this.srcElement.options.opacity,1);return this.parent&&this.parent.currentOpacity&&(n*=this.parent.currentOpacity()),n},refreshOpacity:function(){for(var t=this.childNodes,i=t.length,r=this.currentOpacity(),n=0;n<i;n++)t[n].refreshOpacity(r)},initClip:function(){if(f.fn.initClip.call(this),this.clip){var n=this.clip.srcElement.bbox(this.srcElement.currentTransform());n&&(this.css("width",n.width()+n.origin.x),this.css("height",n.height()+n.origin.y))}},clipBBox:function(n){return n.bbox(this.srcElement.currentTransform())},clearClip:function(){f.fn.clearClip.call(this)}}),kt=t.extend({init:function(n,i){this.opacity=i;t.fn.init.call(this,n)},createElement:function(){this.element=o("stroke");this.setOpacity()},optionsChange:function(n){n.field.indexOf("stroke")===0&&this.setStroke()},refreshOpacity:function(n){this.opacity=n;this.setStroke()},setStroke:function(){this.allAttr(this.mapStroke())},setOpacity:function(){this.setStroke()},mapStroke:function(){var n=this.srcElement.options.stroke,t=[],i;return n&&!at(n.color)&&n.width!==0?(t.push(["on","true"]),t.push(["color",n.color]),t.push(["weight",(n.width||1)+"px"]),this.mapOpacityTo(t,n.opacity),w(n.dashType)&&t.push(["dashstyle",n.dashType]),w(n.lineJoin)&&t.push(["joinstyle",n.lineJoin]),w(n.lineCap)&&(i=n.lineCap.toLowerCase(),i==="butt"&&(i=i==="butt"?"flat":i),t.push(["endcap",i]))):t.push(["on","false"]),t}}),dt=t.extend({init:function(n,i,r){this.opacity=r;t.fn.init.call(this,n)},createElement:function(){this.element=o("fill");this.setFill()},optionsChange:function(n){li(n.field)&&this.setFill()},refreshOpacity:function(n){this.opacity=n;this.setOpacity()},setFill:function(){this.allAttr(this.mapFill())},setOpacity:function(){this.setFill()},attr:function(n,t){var i=this.element,r;if(i){for(r=n.split(".");r.length>1;)i=i[r.shift()];i[r[0]]=t}},mapFill:function(){var n=this.srcElement.fill(),t=[["on","false"]];return n&&(n.nodeType==ft?t=this.mapGradient(n):at(n.color)||(t=this.mapFillColor(n))),t},mapFillColor:function(n){var t=[["on","true"],["color",n.color]];return this.mapOpacityTo(t,n.opacity),t},mapGradient:function(n){var i=this.srcElement.options,t=i.fallbackFill||n.fallbackFill&&n.fallbackFill();return n instanceof u.LinearGradient?this.mapLinearGradient(n):n instanceof u.RadialGradient&&n.supportVML?this.mapRadialGradient(n):t?this.mapFillColor(t):[["on","false"]]},mapLinearGradient:function(n){var t=n.start(),i=n.end(),f=n.stops,u=s.deg(tt(i.y-t.y,i.x-t.x)),r=[["on","true"],["type",ft],["focus",0],["method","none"],["angle",270-u]];return this.addColors(r),r},mapRadialGradient:function(n){var t=this.srcElement.rawBBox(),i=n.center(),e=n.stops,u=(i.x-t.origin.x)/t.width(),f=(i.y-t.origin.y)/t.height(),r=[["on","true"],["type","gradienttitle"],["focus","100%"],["focusposition",u+" "+f],["method","none"]];return this.addColors(r),r},addColors:function(n){for(var f=this.srcElement.options,e=[],t=f.fill.stops,i=f.baseColor,o=this.element.colors?"colors.value":"colors",s=et(i,t[0]),h=et(i,t[t.length-1]),r,u=0;u<t.length;u++)r=t[u],e.push(d.round(r.offset()*100)+"% "+et(i,r));n.push([o,e.join(",")],["color",s],["color2",h])}}),y=t.extend({init:function(n,i){this.transform=i;t.fn.init.call(this,n)},createElement:function(){this.element=o("skew");this.setTransform()},optionsChange:function(n){n.field==="transform"&&this.refresh(this.srcElement.currentTransform())},refresh:function(n){this.transform=n;this.setTransform()},transformOrigin:function(){return"-0.5,-0.5"},setTransform:function(){this.allAttr(this.mapTransform())},mapTransform:function(){var i=this.transform,t=[],n=lt(i);return n?(n.round(v),t.push(["on","true"],["matrix",[n.a,n.c,n.b,n.d,0,0].join(",")],["offset",n.e+"px,"+n.f+"px"],["origin",this.transformOrigin()])):t.push(["on","false"]),t}}),c=f.extend({init:function(n,t,i){this.fill=this.createFillNode(n,t,i);this.stroke=new kt(n,i);this.transform=this.createTransformNode(n,t);f.fn.init.call(this,n)},attachTo:function(n,i){this.fill.attachTo(this.element);this.stroke.attachTo(this.element);this.transform.attachTo(this.element);t.fn.attachTo.call(this,n,i)},createFillNode:function(n,t,i){return new dt(n,t,i)},createTransformNode:function(n,t){return new y(n,t)},createElement:function(){this.element=o("shape");this.setCoordsize();this.setStyle()},optionsChange:function(n){li(n.field)?this.fill.optionsChange(n):n.field.indexOf("stroke")===0?this.stroke.optionsChange(n):n.field==="transform"?this.transform.optionsChange(n):n.field==="opacity"&&(this.fill.setOpacity(),this.stroke.setOpacity());f.fn.optionsChange.call(this,n)},refreshTransform:function(n){this.transform.refresh(this.srcElement.currentTransform(n))},refreshOpacity:function(n){n*=h(this.srcElement.options.opacity,1);this.fill.refreshOpacity(n);this.stroke.refreshOpacity(n)},mapStyle:function(n,t){var i=f.fn.mapStyle.call(this),r;return n&&t||(n=t=a),i.push(["position","absolute"],["width",n+"px"],["height",t+"px"]),r=this.srcElement.options.cursor,r&&i.push(["cursor",r]),i},setCoordsize:function(){this.allAttr([["coordorigin","0 0"],["coordsize",yt+" "+yt]])}}),l=t.extend({createElement:function(){this.element=o("path");this.setPathData()},geometryChange:function(){this.setPathData()},setPathData:function(){this.attr("v",this.renderData())},renderData:function(){return nt(this.srcElement)}}),r=c.extend({init:function(n,t,i){this.pathData=this.createDataNode(n);c.fn.init.call(this,n,t,i)},attachTo:function(n,t){this.pathData.attachTo(this.element);c.fn.attachTo.call(this,n,t)},createDataNode:function(n){return new l(n)},geometryChange:function(){this.pathData.geometryChange();c.fn.geometryChange.call(this)}}),gt=l.extend({renderData:function(){var t=this.srcElement.paths,i,n,r;if(t.length>0){for(i=[],n=0;n<t.length;n++)r=n<t.length-1,i.push(nt(t[n],r));return i.join(" ")}}}),ni=r.extend({createDataNode:function(n){return new gt(n)}}),ti=y.extend({transformOrigin:function(){var n=this.srcElement.geometry().bbox(),t=n.center(),i=-t.x/n.width(),r=-t.y/n.height();return i+","+r}}),ii=c.extend({createElement:function(){this.element=o("oval");this.setStyle()},createTransformNode:function(n,t){return new ti(n,t)},geometryChange:function(){c.fn.geometryChange.call(this);this.setStyle();this.refreshTransform()},mapStyle:function(){var t=this.srcElement.geometry(),n=t.radius,i=t.center,r=n*2,u=c.fn.mapStyle.call(this,r,r);return u.push(["left",i.x-n+"px"],["top",i.y-n+"px"]),u}}),ri=l.extend({renderData:function(){return nt(this.srcElement.toPath())}}),ui=r.extend({createDataNode:function(n){return new ri(n)}}),fi=l.extend({createElement:function(){l.fn.createElement.call(this);this.attr("textpathok",!0)},renderData:function(){var n=this.srcElement.rect(),t=n.center();return"m "+k([new it.Point(n.topLeft().x,t.y)])+" l "+k([new it.Point(n.bottomRight().x,t.y)])}}),ei=t.extend({createElement:function(){this.element=o("textpath");this.attr("on",!0);this.attr("fitpath",!1);this.setStyle();this.setString()},optionsChange:function(n){n.field==="content"?this.setString():this.setStyle();t.fn.optionsChange.call(this,n)},mapStyle:function(){return[["font",this.srcElement.options.font]]},setString:function(){this.attr("string",this.srcElement.content())}}),oi=r.extend({init:function(n,t,i){this.path=new ei(n);r.fn.init.call(this,n,t,i)},createDataNode:function(n){return new fi(n)},attachTo:function(n,t){this.path.attachTo(this.element);r.fn.attachTo.call(this,n,t)},optionsChange:function(n){(n.field==="font"||n.field==="content")&&(this.path.optionsChange(n),this.pathData.geometryChange(n));r.fn.optionsChange.call(this,n)}}),si=l.extend({renderData:function(){var n=this.srcElement.rect(),t=(new u.Path).moveTo(n.topLeft()).lineTo(n.topRight()).lineTo(n.bottomRight()).lineTo(n.bottomLeft()).close();return nt(t)}}),hi=y.extend({init:function(n,t,i){this.opacity=i;y.fn.init.call(this,n,t)},createElement:function(){this.element=o("fill");this.attr("type","frame");this.attr("rotate",!0);this.setOpacity();this.setSrc();this.setTransform()},optionsChange:function(n){n.field==="src"&&this.setSrc();y.fn.optionsChange.call(this,n)},geometryChange:function(){this.refresh()},refreshOpacity:function(n){this.opacity=n;this.setOpacity()},setOpacity:function(){var n=[];this.mapOpacityTo(n,this.srcElement.options.opacity);this.allAttr(n)},setSrc:function(){this.attr("src",this.srcElement.src())},mapTransform:function(){var l=this.srcElement,h=l.rawBBox(),e=h.center(),i=a/2,t=a,r,u,o=h.width()/t,s=h.height()/t,f=0,y=this.transform,k,d,c;if(y){var n=lt(y),p=ht(n.a*n.a+n.b*n.b),w=ht(n.c*n.c+n.d*n.d);o*=p;s*=w;k=vt(tt(n.b,n.d));d=vt(tt(-n.c,n.a));f=(k+d)/2;f!==0?(c=l.bbox().center(),r=(c.x-i)/t,u=(c.y-i)/t):(r=(e.x*p+n.e-i)/t,u=(e.y*w+n.f-i)/t)}else r=(e.x-i)/t,u=(e.y-i)/t;return o=b(o,v),s=b(s,v),r=b(r,v),u=b(u,v),f=b(f,v),[["size",o+","+s],["position",r+","+u],["angle",f]]}}),ci=r.extend({createFillNode:function(n,t,i){return new hi(n,t,i)},createDataNode:function(n){return new si(n)},optionsChange:function(n){(n.field==="src"||n.field==="transform")&&this.fill.optionsChange(n);r.fn.optionsChange.call(this,n)},geometryChange:function(){this.fill.geometryChange();r.fn.geometryChange.call(this)},refreshTransform:function(n){r.fn.refreshTransform.call(this,n);this.fill.refresh(this.srcElement.currentTransform(n))}}),pi={Group:bt,Text:oi,Path:r,MultiPath:ni,Circle:ii,Arc:ui,Image:ci},st;i.support.vml=function(){var n=i.support.browser;return n.msie&&n.version<9}();st="inherit";i.support.browser.msie&&i.support.browser.version<8&&(st="rect(auto auto auto auto)");i.support.vml&&u.SurfaceFactory.current.register("vml",pt,30);vi(u,{vml:{ArcDataNode:ri,ArcNode:ui,CircleTransformNode:ti,CircleNode:ii,FillNode:dt,GroupNode:bt,ImageNode:ci,ImageFillNode:hi,ImagePathDataNode:si,MultiPathDataNode:gt,MultiPathNode:ni,Node:t,PathDataNode:l,PathNode:r,RootNode:wt,StrokeNode:kt,Surface:pt,TextNode:oi,TextPathNode:ei,TextPathDataNode:fi,TransformNode:y}})}(window.kendo.jQuery),function(n,t,i){"use strict";function w(){function n(){for(var r,u,e=0;e<arguments.length;++e)if(r=arguments[e],r===i)throw new Error("Cannot output undefined to PDF");else if(r instanceof d)r.beforeRender(n),r.render(n);else if(st(r))dt(r,n);else if(kt(r))gt(r,n);else if(typeof r=="number"){if(isNaN(r))throw new Error("Cannot output NaN to PDF");u=r.toFixed(7);u.indexOf(".")>=0&&(u=u.replace(/\.?0+$/,""));u=="-0"&&(u="0");t.writeString(u)}else/string|boolean/.test(typeof r)?t.writeString(r+""):typeof r.get=="function"?t.write(r.get()):typeof r=="object"&&(r?n(new f(r)):t.writeString("null"))}var u=0,t=c();return n.writeData=function(n){t.write(n)},n.withIndent=function(t){++u;t(n);--u},n.indent=function(){n(r,ot("",u*2,"  "));n.apply(null,arguments)},n.offset=function(){return t.offset()},n.toString=function(){throw new Error("FIX CALLER");},n.get=function(){return t.get()},n.stream=function(){return t},n}function yt(n,t){var i=n.beforeRender,r=n.render;n.beforeRender=function(){};n.render=function(n){n(t," 0 R")};n.renderFull=function(u){n._offset=u.offset();u(t," 0 obj ");i.call(n,u);r.call(n,u);u(" endobj")}}function rt(n){function c(t,i){return n&&n[t]!=null?n[t]:i}var o=this,u=w(),k=0,l=[],i,t,y,p,b,a;if(o.getOption=c,o.attach=function(n){return l.indexOf(n)<0&&(yt(n,++k),l.push(n)),n},o.FONTS={},o.IMAGES={},i=c("paperSize",it.a4),typeof i=="string"&&(i=it[i.toLowerCase()],i==null))throw new Error("Unknown paper size");i[0]=v(i[0]);i[1]=v(i[1]);c("landscape",!1)&&(i=[Math.max(i[0],i[1]),Math.min(i[0],i[1])]);t=c("margin");t&&(t.left=v(t.left,0),t.top=v(t.top,0),t.right=v(t.right,0),t.bottom=v(t.bottom,0),c("addMargin")&&(i[0]+=t.left+t.right,i[1]+=t.top+t.bottom));y=i[0];p=i[1];t&&(y-=t.left+t.right,p-=t.top+t.bottom);b=o.attach(new ri);a=o.attach(new ui([0,0,i[0],i[1]]));b.setPages(a);o.addPage=function(){var r=new h(w(),null,!0),n=new at(o,{Contents:o.attach(r),Parent:a});return n._content=r,a.addPage(o.attach(n)),n.transform(1,0,0,-1,0,i[1]),t&&(n.translate(t.left,t.top),n.rect(0,0,y,p),n.clip()),n};o.render=function(){var n,t;for(u("%PDF-1.4",r,"%ÂÁÚÏÎ",r,r),n=0;n<l.length;++n)l[n].renderFull(u),u(r,r);for(t=u.offset(),u("xref",r,0," ",l.length+1,r),u("0000000000 65535 f ",r),n=0;n<l.length;++n)u(e(l[n]._offset,10)," 00000 n ",r);return u(r),u("trailer",r),u(new f({Size:l.length+1,Root:b,Info:new f({Producer:new s("Kendo UI PDF Generator"),Title:new s(c("title","")),Author:new s(c("author","")),Subject:new s(c("subject","")),Keywords:new s(c("keywords","")),Creator:new s(c("creator","Kendo UI PDF Generator")),CreationDate:c("date",new Date)})}),r,r),u("startxref",r,t,r),u("%%EOF",r),u.stream().offset(0)}}function pt(t,i){function u(){n.console&&(n.console.error?n.console.error("Cannot load URL: %s",t):n.console.log("Cannot load URL: %s",t));i(null)}var r=new XMLHttpRequest;r.open("GET",t,!0);l&&(r.responseType="arraybuffer");r.onload=function(){r.status==200||r.status==304?l?i(new Uint8Array(r.response)):i(new VBArray(r.responseBody).toArray()):u()};r.onerror=u;r.send(null)}function wt(n,t){var i=b[n];i?t(i):pt(n,function(i){if(i==null)throw new Error("Cannot load font from "+n);else{var r=new nt.pdf.TTFFont(i);b[n]=r;t(r)}})}function bt(n,t){var r=y[n];r?t(r):(r=new Image,r.onload=function(){var e=document.createElement("canvas"),h,a,l,f,s;e.width=r.width;e.height=r.height;h=e.getContext("2d");h.drawImage(r,0,0);try{a=h.getImageData(0,0,r.width,r.height)}catch(w){return t(y[n]="TAINTED")}for(var v=!1,o=c(),p=c(),i=a.data,u=0;u<i.length;)o.writeByte(i[u++]),o.writeByte(i[u++]),o.writeByte(i[u++]),l=i[u++],l<255&&(v=!0),p.writeByte(l);v?r=new ei(r.width,r.height,o,p):(f=e.toDataURL("image/jpeg"),f=f.substr(f.indexOf(";base64,")+8),s=c(),s.writeBase64(f),s.offset(0),r=new fi(r.width,r.height,s));t(y[n]=r)},r.onerror=function(){t(y[n]="TAINTED")},r.crossOrigin="Anonymous",r.src=n,(r.complete||r.complete===i)&&(r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",r.src=n))}function ut(n){return function(t,i){var r=t.length,u=r;if(r===0)return i();while(u-->0)n(t[u],function(){--r==0&&i()})}}function ot(n,t,i){while(n.length<t)n=i+n;return n}function e(n,t){return ot(n+"",t,"0")}function k(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function kt(n){return n instanceof Date}function dt(n,t){t("[");n.length>0&&t.withIndent(function(){for(var i=0;i<n.length;++i)i>0&&i%8==0?t.indent(n[i]):t(" ",n[i])});t(" ]")}function gt(n,t){t("(D:",e(n.getUTCFullYear(),4),e(n.getUTCMonth()+1,2),e(n.getUTCDate(),2),e(n.getUTCHours(),2),e(n.getUTCMinutes(),2),e(n.getUTCSeconds(),2),"Z)")}function ht(n){return n*(72/25.4)}function ni(n){return ht(n*10)}function ti(n){return n*72}function v(n,i){var r,u;if(typeof n=="number")return n;if(typeof n=="string"&&(r=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(n),r&&(u=t(r[1]),!isNaN(u))))return r[2]=="pt"?u:{mm:ht,cm:ni,"in":ti}[r[2]](u);if(i!=null)return i;throw new Error("Can't parse unit: "+n);}function d(){}function o(n,t,i){i||(i=d);n.prototype=new i;for(var r in t)k(t,r)&&(n.prototype[r]=t[r]);return n}function u(n){return k(g,n)?g[n]:g[n]=new ct(n)}function fi(n,t,i){this.asStream=function(){var r=new h(i,{Type:u("XObject"),Subtype:u("Image"),Width:n,Height:t,BitsPerComponent:8,ColorSpace:u("DeviceRGB"),Filter:u("DCTDecode")});return r._resourceName=u("I"+ ++a),r}}function ei(n,t,i,r){this.asStream=function(f){var o=new h(r,{Type:u("XObject"),Subtype:u("Image"),Width:n,Height:t,BitsPerComponent:8,ColorSpace:u("DeviceGray")},!0),e=new h(i,{Type:u("XObject"),Subtype:u("Image"),Width:n,Height:t,BitsPerComponent:8,ColorSpace:u("DeviceRGB"),SMask:f.attach(o)},!0);return e._resourceName=u("I"+ ++a),e}}function hi(n){function c(n){return n.length==1?n[0]:{FunctionType:3,Functions:n,Domain:[0,1],Bounds:f,Encode:s}}for(var u=!1,e=[],o=[],f=[],s=[],r=1;r<n.length;++r){var l=n[r-1],h=n[r],t=l.color,i=h.color;o.push({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[t.r,t.g,t.b],C1:[i.r,i.g,i.b]});e.push({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[t.a],C1:[i.a]});(t.a<1||i.a<1)&&(u=!0);f.push(h.offset);s.push(0,1)}return f.pop(),{hasAlpha:u,colors:c(o),opacities:u?c(e):null}}function ci(n,t,i){var e=t.type=="radial",r=hi(t.stops),o=e?[t.start.x,t.start.y,t.start.r,t.end.x,t.end.y,t.end.r]:[t.start.x,t.start.y,t.end.x,t.end.y],s={Type:u("Shading"),ShadingType:e?3:2,ColorSpace:u("DeviceRGB"),Coords:o,Domain:[0,1],Function:r.colors,Extend:[!0,!0]},c=r.hasAlpha?{Type:u("ExtGState"),AIS:!1,CA:1,ca:1,SMask:{Type:u("Mask"),S:u("Luminosity"),G:n.attach(new h("/a0 gs /s0 sh",{Type:u("XObject"),Subtype:u("Form"),FormType:1,BBox:t.userSpace?[i.left,i.top+i.height,i.left+i.width,i.top]:[0,1,1,0],Group:{Type:u("Group"),S:u("Transparency"),CS:u("DeviceGray"),I:!0},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:u("DeviceGray"),Coords:o,Domain:[0,1],ShadingType:e?3:2,Function:r.opacities,Extend:[!0,!0]}}}}))}}:null;return{hasAlpha:r.hasAlpha,shading:new f(s),opacity:new f(c)}}function c(n){function g(){return t>=i}function u(){return t<i?n[t++]:0}function r(r){c(t);n[t++]=r&255;t>i&&(i=t)}function f(){return u()<<8|u()}function e(n){r(n>>8);r(n)}function nt(){var n=f();return n>=32768?n-65536:n}function it(n){e(n<0?n+65536:n)}function s(){return f()*65536+f()}function h(n){e(n>>>16&65535);e(n&65535)}function y(){var n=s();return n>=2147483648?n-4294967296:n}function p(n){h(n<0?n+4294967296:n)}function rt(){return s()/65536}function ut(n){h(Math.round(n*65536))}function ft(){return y()/65536}function et(n){p(Math.round(n*65536))}function w(n){return b(n,u)}function ot(n){return String.fromCharCode.apply(String,w(n))}function o(n){for(var t=0;t<n.length;++t)r(n.charCodeAt(t))}function b(n,t){for(var r=new Array(n),i=0;i<n;++i)r[i]=t();return r}var t=0,i=0,k;n==null?n=l?new Uint8Array(256):[]:i=n.length;var c=l?function(t){if(t>=n.length){var i=new Uint8Array(Math.max(t+256,n.length*2));i.set(n,0);n=i}}:function(){},a=l?function(){return new Uint8Array(n.buffer,0,i)}:function(){return n},v=l?function(r){if(typeof r=="string")return o(r);var u=r.length;c(t+u);n.set(r,t);t+=u;t>i&&(i=t)}:function(n){if(typeof n=="string")return o(n);for(var t=0;t<n.length;++t)r(n[t])},d=l?function(t,i){if(n.buffer.slice)return new Uint8Array(n.buffer.slice(t,t+i));var r=new Uint8Array(i);return r.set(new Uint8Array(n.buffer,t,i)),r}:function(t,i){return n.slice(t,t+i)};return k={eof:g,readByte:u,writeByte:r,readShort:f,writeShort:e,readLong:s,writeLong:h,readFixed:rt,writeFixed:ut,readShort_:nt,writeShort_:it,readLong_:y,writeLong_:p,readFixed_:ft,writeFixed_:et,read:w,write:v,readString:ot,writeString:o,times:b,get:a,slice:d,offset:function(n){return n!=null?(t=n,k):t},skip:function(n){t+=n},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!");},length:function(){return i},saveExcursion:function(n){var i=t;try{return n()}finally{t=i}},writeBase64:function(n){window.atob?o(window.atob(n)):v(tt.decode(n))},base64:function(){return tt.encode(a())}}}function li(n){return n.replace(/^\s*(['"])(.*)\1\s*$/,"$2")}function ai(n){var t=/^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i.exec(n),i;return t?(i=t[8]?parseInt(t[8],10):12,{italic:t[2]&&t[2].toLowerCase()=="italic",variant:t[4],bold:t[6]&&/bold|700/i.test(t[6]),fontSize:i,lineHeight:t[12]?t[12]=="normal"?i:parseInt(t[12],10):null,fontFamily:t[14].split(/\s*,\s*/g).map(li)}):{fontSize:12,fontFamily:"sans-serif"}}function vi(n){function f(t){return n.bold&&(t+="|bold"),n.italic&&(t+="|italic"),t.toLowerCase()}var i=n.fontFamily,u,t,r;if(i instanceof Array){for(r=0;r<i.length;++r)if(u=f(i[r]),t=p[u],t)return t}else t=p[i.toLowerCase()];return t||(t="Times-Roman"),t}function vt(n,t){if(arguments.length==1)for(var i in n)vt(i,n[i]);else n=n.toLowerCase(),p[n]=t}function yi(n,t){var e=n[0],o=n[1],s=n[2],h=n[3],c=n[4],l=n[5],i=t[0],r=t[1],u=t[2],f=t[3],a=t[4],v=t[5];return[e*i+o*u,e*r+o*f,s*i+h*u,s*r+h*f,c*i+l*u+a,c*r+l*f+v]}function pi(n){return n[0]===1&&n[1]===0&&n[2]===0&&n[3]===1&&n[4]===0&&n[5]===0}var nt=n.kendo,l=!!n.Uint8Array,r="\n",a=0,tt=function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function(t){for(var i=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=0,s=i.length,u=[];r<s;){var h=n.indexOf(i.charAt(r++)),e=n.indexOf(i.charAt(r++)),f=n.indexOf(i.charAt(r++)),o=n.indexOf(i.charAt(r++)),c=h<<2|e>>>4,l=(e&15)<<4|f>>>2,a=(f&3)<<6|o;u.push(c);f!=64&&u.push(l);o!=64&&u.push(a)}return u},encode:function(t){for(var i=0,r=t.length,f="";i<r;){var e=t[i++],o=t[i++],s=t[i++],c=e>>>2,l=(e&3)<<4|o>>>4,h=(o&15)<<2|s>>>6,u=s&63;i-r==2?h=u=64:i-r==1&&(u=64);f+=n.charAt(c)+n.charAt(l)+n.charAt(h)+n.charAt(u)}return f}}}(),it={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]},b={"Times-Roman":!0,"Times-Bold":!0,"Times-Italic":!0,"Times-BoldItalic":!0,Helvetica:!0,"Helvetica-Bold":!0,"Helvetica-Oblique":!0,"Helvetica-BoldOblique":!0,Courier:!0,"Courier-Bold":!0,"Courier-Oblique":!0,"Courier-BoldOblique":!0,Symbol:!0,ZapfDingbats:!0},y={},ft=ut(wt),et=ut(bt),st,at,p;rt.prototype={loadFonts:ft,loadImages:et,getFont:function(n){var t=this.FONTS[n];if(!t){if(t=b[n],!t)throw new Error("Font "+n+" has not been loaded");t=t===!0?this.attach(new oi(n)):this.attach(new lt(this,t));this.FONTS[n]=t}return t},getImage:function(n){var t=this.IMAGES[n];if(!t){if(t=y[n],!t)throw new Error("Image "+n+" has not been loaded");if(t==="TAINTED")return null;t=this.IMAGES[n]=this.attach(t.asStream(this))}return t},getOpacityGS:function(n,i){var e=t(n).toFixed(3),s,r,o;return n=t(e),e+=i?"S":"F",s=this._opacityGSCache||(this._opacityGSCache={}),r=s[e],r||(o={Type:u("ExtGState")},i?o.CA=n:o.ca=n,r=this.attach(new f(o)),r._resourceName=u("GS"+ ++a),s[e]=r),r},dict:function(n){return new f(n)},name:function(n){return u(n)},stream:function(n,t){return new h(t,n)}};st=Array.isArray||function(n){return n instanceof Array};d.prototype.beforeRender=function(){};var s=o(function(n){this.value=n},{render:function(n){for(var i="",r=this.escape(),t=0;t<r.length;++t)i+=String.fromCharCode(r.charCodeAt(t)&255);n("(",i,")")},escape:function(){return this.value.replace(/([\(\)\\])/g,"\\$1")},toString:function(){return this.value}}),ii=o(function(n){this.value=n},{render:function(n){n("<");for(var t=0;t<this.value.length;++t)n(e(this.value.charCodeAt(t).toString(16),4));n(">")}},s),ct=o(function(n){this.name=n},{render:function(n){n("/"+this.escape())},escape:function(){return this.name.replace(/[^\x21-\x7E]/g,function(n){return"#"+e(n.charCodeAt(0).toString(16),2)})},toString:function(){return this.name}}),g={};ct.get=u;var f=o(function(n){this.props=n},{render:function(n){var t=this.props,i=!0;n("<<");n.withIndent(function(){for(var r in t)k(t,r)&&!/^_/.test(r)&&(i=!1,n.indent(u(r)," ",t[r]))});i||n.indent();n(">>")}}),h=o(function(n,t,i){if(typeof n=="string"){var r=c();r.write(n);n=r}this.data=n;this.props=t||{};this.compress=i},{render:function(t){var e=this.data.get(),i=this.props;this.compress&&n.pako&&typeof n.pako.deflate=="function"&&(i.Filter?i.Filter instanceof Array||(i.Filter=[i.Filter]):i.Filter=[],i.Filter.unshift(u("FlateDecode")),e=n.pako.deflate(e));i.Length=e.length;t(new f(i)," stream",r);t.writeData(e);t(r,"endstream")}}),ri=o(function(n){n=this.props=n||{};n.Type=u("Catalog")},{setPages:function(n){this.props.Pages=n}},f),ui=o(function(n){this.props={Type:u("Pages"),Kids:[],Count:0,MediaBox:n}},{addPage:function(n){this.props.Kids.push(n);this.props.Count++}},f);var oi=o(function(n){this.props={Type:u("Font"),Subtype:u("Type1"),BaseFont:u(n)};this._resourceName=u("F"+ ++a)},{encodeText:function(n){return new s(n+"")}},f),lt=o(function(n,t,i){var f,r;i=this.props=i||{};i.Type=u("Font");i.Subtype=u("Type0");i.Encoding=u("Identity-H");this._pdf=n;this._font=t;this._sub=t.makeSubset();this._resourceName=u("F"+ ++a);f=t.head;this.name=t.psName;r=this.scale=t.scale;this.bbox=[f.xMin*r,f.yMin*r,f.xMax*r,f.yMax*r];this.italicAngle=t.post.italicAngle;this.ascent=t.ascent*r;this.descent=t.descent*r;this.lineGap=t.lineGap*r;this.capHeight=t.os2.capHeight||this.ascent;this.xHeight=t.os2.xHeight||0;this.stemV=0;this.familyClass=(t.os2.familyClass||0)>>8;this.isSerif=this.familyClass>=1&&this.familyClass<=7;this.isScript=this.familyClass==10;this.flags=(t.post.isFixedPitch?1:0)|(this.isSerif?2:0)|(this.isScript?8:0)|(this.italicAngle!==0?64:0)|32},{encodeText:function(n){return new ii(this._sub.encodeText(n+""))},beforeRender:function(){var n=this,g=n._font,t=n._sub,l=t.render(),b=new h(c(l),{Length1:l.length},!0),k=n._pdf.attach(new f({Type:u("FontDescriptor"),FontName:u(n._sub.psName),FontBBox:n.bbox,Flags:n.flags,StemV:n.stemV,ItalicAngle:n.italicAngle,Ascent:n.ascent,Descent:n.descent,CapHeight:n.capHeight,XHeight:n.xHeight,FontFile2:n._pdf.attach(b)})),d=t.ncid2ogid,r=t.firstChar,e=t.lastChar,a=[],y,i,p,o;(function v(t,i){if(t<=e){var r=d[t];r==null?v(t+1):(i||a.push(t,i=[]),i.push(n._font.widthOfGlyph(r)),v(t+1,i))}})(r);y=new f({Type:u("Font"),Subtype:u("CIDFontType2"),BaseFont:u(n._sub.psName),CIDSystemInfo:new f({Registry:new s("Adobe"),Ordering:new s("Identity"),Supplement:0}),FontDescriptor:k,FirstChar:r,LastChar:e,DW:Math.round(n._font.widthOfGlyph(0)),W:a,CIDToGIDMap:n._pdf.attach(n._makeCidToGidMap())});i=n.props;i.BaseFont=u(n._sub.psName);i.DescendantFonts=[n._pdf.attach(y)];p=new si(r,e,t.subset);o=new h(w(),null,!0);o.data(p);i.ToUnicode=n._pdf.attach(o)},_makeCidToGidMap:function(){return new h(c(this._sub.cidToGidMap()),null,!0)}},f),si=o(function(n,t,i){this.firstChar=n;this.lastChar=t;this.map=i},{render:function(n){n.indent("/CIDInit /ProcSet findresource begin");n.indent("12 dict begin");n.indent("begincmap");n.indent("/CIDSystemInfo <<");n.indent("  /Registry (Adobe)");n.indent("  /Ordering (UCS)");n.indent("  /Supplement 0");n.indent(">> def");n.indent("/CMapName /Adobe-Identity-UCS def");n.indent("/CMapType 2 def");n.indent("1 begincodespacerange");n.indent("  <0000><ffff>");n.indent("endcodespacerange");var t=this;n.indent(t.lastChar-t.firstChar+1," beginbfchar");n.withIndent(function(){for(var r,i=t.firstChar;i<=t.lastChar;++i)r=t.map[i],n.indent("<",e(i.toString(16),4),">","<",e(r.toString(16),4),">")});n.indent("endbfchar");n.indent("endcmap");n.indent("CMapName currentdict /CMap defineresource pop");n.indent("end");n.indent("end")}});at=o(function(n,t){this._pdf=n;this._rcount=0;this._textMode=!1;this._fontResources={};this._gsResources={};this._xResources={};this._patResources={};this._shResources={};this._opacity=1;this._matrix=[1,0,0,1,0,0];this._font=null;this._fontSize=null;this._contextStack=[];t=this.props=t||{};t.Type=u("Page");t.ProcSet=[u("PDF"),u("Text"),u("ImageB"),u("ImageC"),u("ImageI")];t.Resources=new f({Font:new f(this._fontResources),ExtGState:new f(this._gsResources),XObject:new f(this._xResources),Pattern:new f(this._patResources),Shading:new f(this._shResources)})},{_out:function(){this._content.data.apply(null,arguments)},transform:function(n,t,i,u,f,e){pi(arguments)||(this._matrix=yi(this._matrix,arguments),this._out(n," ",t," ",i," ",u," ",f," ",e," cm"),this._out(r))},translate:function(n,t){this.transform(1,0,0,1,n,t)},scale:function(n,t){this.transform(n,0,0,t,0,0)},rotate:function(n){var t=Math.cos(n),i=Math.sin(n);this.transform(t,i,-i,t,0,0)},beginText:function(){this._textMode=!0;this._out("BT",r)},endText:function(){this._textMode=!1;this._out("ET",r)},_requireTextMode:function(){if(!this._textMode)throw new Error("Text mode required; call page.beginText() first");},_requireFont:function(){if(!this._font)throw new Error("No font selected; call page.setFont() first");},setFont:function(n,t){this._requireTextMode();n==null?n=this._font:n instanceof lt||(n=this._pdf.getFont(n));t==null&&(t=this._fontSize);this._fontResources[n._resourceName]=n;this._font=n;this._fontSize=t;this._out(n._resourceName," ",t," Tf",r)},setTextLeading:function(n){this._requireTextMode();this._out(n," TL",r)},setTextRenderingMode:function(n){this._requireTextMode();this._out(n," Tr",r)},showText:function(n){this._requireFont();this._out(this._font.encodeText(n)," Tj",r)},showTextNL:function(n){this._requireFont();this._out(this._font.encodeText(n)," '",r)},setStrokeColor:function(n,t,i){this._out(n," ",t," ",i," RG",r)},setOpacity:function(n){this.setFillOpacity(n);this.setStrokeOpacity(n);this._opacity*=n},setStrokeOpacity:function(n){if(n<1){var t=this._pdf.getOpacityGS(this._opacity*n,!0);this._gsResources[t._resourceName]=t;this._out(t._resourceName," gs",r)}},setFillColor:function(n,t,i){this._out(n," ",t," ",i," rg",r)},setFillOpacity:function(n){if(n<1){var t=this._pdf.getOpacityGS(this._opacity*n,!1);this._gsResources[t._resourceName]=t;this._out(t._resourceName," gs",r)}},gradient:function(n,t){this.save();this.rect(t.left,t.top,t.width,t.height);this.clip();n.userSpace||this.transform(t.width,0,0,t.height,t.left,t.top);var i=ci(this._pdf,n,t),u,f;u="S"+ ++a;this._shResources[u]=this._pdf.attach(i.shading);i.hasAlpha&&(f="O"+ ++a,this._gsResources[f]=this._pdf.attach(i.opacity),this._out("/"+f+" gs "));this._out("/"+u+" sh",r);this.restore()},setDashPattern:function(n,t){this._out(n," ",t," d",r)},setLineWidth:function(n){this._out(n," w",r)},setLineCap:function(n){this._out(n," J",r)},setLineJoin:function(n){this._out(n," j",r)},setMitterLimit:function(n){this._out(n," M",r)},save:function(){this._contextStack.push(this._context());this._out("q",r)},restore:function(){this._out("Q",r);this._context(this._contextStack.pop())},moveTo:function(n,t){this._out(n," ",t," m",r)},lineTo:function(n,t){this._out(n," ",t," l",r)},bezier:function(n,t,i,u,f,e){this._out(n," ",t," ",i," ",u," ",f," ",e," c",r)},bezier1:function(n,t,i,u){this._out(n," ",t," ",i," ",u," y",r)},bezier2:function(n,t,i,u){this._out(n," ",t," ",i," ",u," v",r)},close:function(){this._out("h",r)},rect:function(n,t,i,u){this._out(n," ",t," ",i," ",u," re",r)},ellipse:function(n,t,i,r){function u(t){return n+t}function f(n){return t+n}var e=.55228474983079356;this.moveTo(u(0),f(r));this.bezier(u(i*e),f(r),u(i),f(r*e),u(i),f(0));this.bezier(u(i),f(-r*e),u(i*e),f(-r),u(0),f(-r));this.bezier(u(-i*e),f(-r),u(-i),f(-r*e),u(-i),f(0));this.bezier(u(-i),f(r*e),u(-i*e),f(r),u(0),f(r))},circle:function(n,t,i){this.ellipse(n,t,i,i)},stroke:function(){this._out("S",r)},nop:function(){this._out("n",r)},clip:function(){this._out("W n",r)},closeStroke:function(){this._out("s",r)},fill:function(){this._out("f",r)},fillStroke:function(){this._out("B",r)},drawImage:function(n){var t=this._pdf.getImage(n);t&&(this._xResources[t._resourceName]=t,this._out(t._resourceName," Do",r))},comment:function(n){var t=this;n.split(/\r?\n/g).forEach(function(n){t._out("% ",n,r)})},_context:function(n){if(n!=null)this._opacity=n.opacity,this._matrix=n.matrix;else return{opacity:this._opacity,matrix:this._matrix}}},f);p={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique"};nt.pdf={Document:rt,BinaryStream:c,defineFont:vt,parseFontDef:ai,getFontURL:vi,loadFonts:ft,loadImages:et,TEXT_RENDERING_MODE:{fill:0,stroke:1,fillAndStroke:2,invisible:3,fillAndClip:4,strokeAndClip:5,fillStrokeClip:6,clip:7}}}(this,parseFloat),function(n){"use strict";function r(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function u(n){return Object.keys(n).sort(function(n,t){return n-t}).map(parseFloat)}function e(n){var r,t,i;for(this.raw=n,this.scalerType=n.readLong(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),r=this.tables={},t=0;t<this.tableCount;++t)i={tag:n.readString(4),checksum:n.readLong(),offset:n.readLong(),length:n.readLong()},r[i.tag]=i}function i(n){function t(n,t){this.definition=t;this.length=t.length;this.offset=t.offset;this.file=n;this.rawData=n.raw;this.parse(n.raw)}t.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)};for(var i in n)r(n,i)&&(t[i]=t.prototype[i]=n[i]);return t}function g(){for(var t="",i=s+"",n=0;n<i.length;++n)t+=String.fromCharCode(i.charCodeAt(n)- -17);return++s,t}function h(n){this.font=n;this.subset={};this.unicodes={};this.ogid2ngid={0:0};this.ngid2ogid={0:0};this.ncid2ogid={};this.next=this.firstChar=1;this.nextGid=1;this.psName=g()+"+"+this.font.psName}function c(n,i){var u=this,r=u.contents=t(n),s,e,f,o;if(r.readString(4)=="ttcf"){if(!i)throw new Error("Must specify a name for TTC files");for(s=r.readLong(),e=r.readLong(),f=0;f<e;++f)if(o=r.readLong(),r.saveExcursion(function(){r.offset(o);u.parse()}),u.psName==i)return;throw new Error("Font "+i+" not found in collection");}else r.offset(0),u.parse()}var f=n.kendo.pdf,t=f.BinaryStream;e.prototype={readTable:function(n,t){var i=this.tables[n];if(!i)throw new Error("Table "+n+" not found in directory");return this[n]=i.table=new t(this,i)},render:function(n){var o=Object.keys(n).length,h=Math.pow(2,Math.floor(Math.log(o)/Math.LN2)),c=h*16,y=Math.floor(Math.log(h)/Math.LN2),p=o*16-c,i=t(),f,e,a,v;i.writeLong(this.scalerType);i.writeShort(o);i.writeShort(c);i.writeShort(y);i.writeShort(p);var w=o*16,u=i.offset()+w,l=null,s=t();for(f in n)if(r(n,f))for(e=n[f],i.writeString(f),i.writeLong(this.checksum(e)),i.writeLong(u),i.writeLong(e.length),s.write(e),f=="head"&&(l=u),u+=e.length;u%4;)s.writeByte(0),u++;return i.write(s.get()),a=this.checksum(i.get()),v=2981146554-a,i.offset(l+8),i.writeLong(v),i.get()},checksum:function(n){n=t(n);for(var i=0;!n.eof();)i+=n.readLong();return i&4294967295}};var l=i({parse:function(n){n.offset(this.offset);this.version=n.readLong();this.revision=n.readLong();this.checkSumAdjustment=n.readLong();this.magicNumber=n.readLong();this.flags=n.readShort();this.unitsPerEm=n.readShort();this.created=n.read(8);this.modified=n.read(8);this.xMin=n.readShort_();this.yMin=n.readShort_();this.xMax=n.readShort_();this.yMax=n.readShort_();this.macStyle=n.readShort();this.lowestRecPPEM=n.readShort();this.fontDirectionHint=n.readShort_();this.indexToLocFormat=n.readShort_();this.glyphDataFormat=n.readShort_()},render:function(n){var i=t();return i.writeLong(this.version),i.writeLong(this.revision),i.writeLong(0),i.writeLong(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.write(this.created),i.write(this.modified),i.writeShort_(this.xMin),i.writeShort_(this.yMin),i.writeShort_(this.xMax),i.writeShort_(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort_(this.fontDirectionHint),i.writeShort_(n),i.writeShort_(this.glyphDataFormat),i.get()}}),a=i({parse:function(n){n.offset(this.offset);var t=this.file.head.indexToLocFormat;this.offsets=t===0?n.times(this.length/2,function(){return 2*n.readShort()}):n.times(this.length/4,n.readLong)},offsetOf:function(n){return this.offsets[n]},lengthOf:function(n){return this.offsets[n+1]-this.offsets[n]},render:function(n){for(var r=t(),u=n[n.length-1]>65535,i=0;i<n.length;++i)u?r.writeLong(n[i]):r.writeShort(n[i]/2);return{format:u?1:0,table:r.get()}}}),v=i({parse:function(n){n.offset(this.offset);this.version=n.readLong();this.ascent=n.readShort_();this.descent=n.readShort_();this.lineGap=n.readShort_();this.advanceWidthMax=n.readShort();this.minLeftSideBearing=n.readShort_();this.minRightSideBearing=n.readShort_();this.xMaxExtent=n.readShort_();this.caretSlopeRise=n.readShort_();this.caretSlopeRun=n.readShort_();this.caretOffset=n.readShort_();n.skip(8);this.metricDataFormat=n.readShort_();this.numOfLongHorMetrics=n.readShort()},render:function(n){var i=t();return i.writeLong(this.version),i.writeShort_(this.ascent),i.writeShort_(this.descent),i.writeShort_(this.lineGap),i.writeShort(this.advanceWidthMax),i.writeShort_(this.minLeftSideBearing),i.writeShort_(this.minRightSideBearing),i.writeShort_(this.xMaxExtent),i.writeShort_(this.caretSlopeRise),i.writeShort_(this.caretSlopeRun),i.writeShort_(this.caretOffset),i.write([0,0,0,0,0,0,0,0]),i.writeShort_(this.metricDataFormat),i.writeShort(n.length),i.get()}}),y=i({parse:function(n){n.offset(this.offset);this.version=n.readLong();this.numGlyphs=n.readShort();this.maxPoints=n.readShort();this.maxContours=n.readShort();this.maxComponentPoints=n.readShort();this.maxComponentContours=n.readShort();this.maxZones=n.readShort();this.maxTwilightPoints=n.readShort();this.maxStorage=n.readShort();this.maxFunctionDefs=n.readShort();this.maxInstructionDefs=n.readShort();this.maxStackElements=n.readShort();this.maxSizeOfInstructions=n.readShort();this.maxComponentElements=n.readShort();this.maxComponentDepth=n.readShort()},render:function(n){var i=t();return i.writeLong(this.version),i.writeShort(n.length),i.writeShort(this.maxPoints),i.writeShort(this.maxContours),i.writeShort(this.maxComponentPoints),i.writeShort(this.maxComponentContours),i.writeShort(this.maxZones),i.writeShort(this.maxTwilightPoints),i.writeShort(this.maxStorage),i.writeShort(this.maxFunctionDefs),i.writeShort(this.maxInstructionDefs),i.writeShort(this.maxStackElements),i.writeShort(this.maxSizeOfInstructions),i.writeShort(this.maxComponentElements),i.writeShort(this.maxComponentDepth),i.get()}}),p=i({parse:function(n){var t,i,r;n.offset(this.offset);t=this.file;i=t.hhea;this.metrics=n.times(i.numOfLongHorMetrics,function(){return{advance:n.readShort(),lsb:n.readShort_()}});r=t.maxp.numGlyphs-t.hhea.numOfLongHorMetrics;this.leftSideBearings=n.times(r,n.readShort_)},forGlyph:function(n){var t=this.metrics,i=t.length;return n<i?t[n]:{advance:t[i-1].advance,lsb:this.leftSideBearings[n-i]}},render:function(n){for(var u,i=t(),r=0;r<n.length;++r)u=this.forGlyph(n[r]),i.writeShort(u.advance),i.writeShort_(u.lsb);return i.get()}}),w=function(){function n(n){this.raw=n}function u(n){var i,r,t;for(this.raw=n,i=this.glyphIds=[],r=this.idOffsets=[];;){if(t=n.readShort(),r.push(n.offset()),i.push(n.readShort()),!(t&o))break;n.skip(t&f?4:2);t&h?n.skip(8):t&s?n.skip(4):t&e&&n.skip(2)}}n.prototype={compound:!1,render:function(){return this.raw.get()}};var f=1,e=8,o=32,s=64,h=128;return u.prototype={compound:!0,render:function(n){for(var u,r=t(this.raw.get()),i=0;i<this.glyphIds.length;++i)u=this.glyphIds[i],r.offset(this.idOffsets[i]),r.writeShort(n[u]);return r.get()}},i({parse:function(){this.cache={}},glyphFor:function(i){var o=this.cache,s,h;if(r(o,i))return o[i];if(s=this.file.loca,h=s.lengthOf(i),h===0)return o[i]=null;var l=this.rawData,a=this.offset+s.offsetOf(i),f=t(l.slice(a,h)),c=f.readShort_(),v=f.readShort_(),y=f.readShort_(),p=f.readShort_(),w=f.readShort_(),e=o[i]=c==-1?new u(f):new n(f);return e.numberOfContours=c,e.xMin=v,e.yMin=y,e.xMax=p,e.yMax=w,e},render:function(n,i,r){for(var s,o,u=t(),f=[],e=0;e<i.length;++e)s=i[e],o=n[s],f.push(u.offset()),o&&u.write(o.render(r));return f.push(u.offset()),{table:u.get(),offsets:f}}})}(),b=function(){function n(n,t){this.text=n;this.length=n.length;this.platformID=t.platformID;this.platformSpecificID=t.platformSpecificID;this.languageID=t.languageID;this.nameID=t.nameID}return i({parse:function(t){var u,i,e;t.offset(this.offset);var h=t.readShort(),o=t.readShort(),s=this.offset+t.readShort(),f=t.times(o,function(){return{platformID:t.readShort(),platformSpecificID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:t.readShort()+s}}),r=this.strings={};for(u=0;u<f.length;++u)i=f[u],t.offset(i.offset),e=t.readString(i.length),r[i.nameID]||(r[i.nameID]=[]),r[i.nameID].push(new n(e,i));this.postscriptEntry=r[6][0];this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},render:function(i){var o=this.strings,c=0,f,u,s,l,h,e;for(f in o)r(o,f)&&(c+=o[f].length);u=t();s=t();u.writeShort(0);u.writeShort(c);u.writeShort(6+12*c);for(f in o)if(r(o,f))for(l=f==6?[new n(i,this.postscriptEntry)]:o[f],h=0;h<l.length;++h)e=l[h],u.writeShort(e.platformID),u.writeShort(e.platformSpecificID),u.writeShort(e.languageID),u.writeShort(e.nameID),u.writeShort(e.length),u.writeShort(s.offset()),s.writeString(e.text);return u.write(s.get()),u.get()}})}(),k=function(){var n=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g);return i({parse:function(n){var t,i;n.offset(this.offset);this.format=n.readLong();this.italicAngle=n.readFixed_();this.underlinePosition=n.readShort_();this.underlineThickness=n.readShort_();this.isFixedPitch=n.readLong();this.minMemType42=n.readLong();this.maxMemType42=n.readLong();this.minMemType1=n.readLong();this.maxMemType1=n.readLong();switch(this.format){case 131072:for(t=n.readShort(),this.glyphNameIndex=n.times(t,n.readShort),this.names=[],i=this.offset+this.length;n.offset()<i;)this.names.push(n.readString(n.readByte()));break;case 151552:t=n.readShort();this.offsets=n.read(t);break;case 262144:this.map=n.times(this.file.maxp.numGlyphs,n.readShort)}},glyphFor:function(t){switch(this.format){case 65536:return n[t]||".notdef";case 131072:var i=this.glyphNameIndex[t];return i<n.length?n[i]:this.names[i-n.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[t]||65535}},render:function(i){var u,e,f,r;if(this.format==196608)return this.raw();for(u=t(this.rawData.slice(this.offset,32)),u.writeLong(131072),u.offset(32),e=[],f=[],r=0;r<i.length;++r){var h=i[r],o=this.glyphFor(h),s=n.indexOf(o);s>=0?e.push(s):(e.push(n.length+f.length),f.push(o))}for(u.writeShort(i.length),r=0;r<e.length;++r)u.writeShort(e[r]);for(r=0;r<f.length;++r)u.writeByte(f[r].length),u.writeString(f[r]);return u.get()}})}(),o=function(){function n(n,t){var i=this;i.platformID=n.readShort();i.platformSpecificID=n.readShort();i.offset=t+n.readLong();n.saveExcursion(function(){var t,r,o,e,c,u,f,l;n.offset(i.offset);i.format=n.readShort();i.length=n.readShort();i.language=n.readShort();i.isUnicode=i.platformID==3&&i.platformSpecificID==1&&i.format==4||i.platformID===0&&i.format==4;i.codeMap={};switch(i.format){case 0:for(t=0;t<256;++t)i.codeMap[t]=n.readByte();break;case 4:r=n.readShort()/2;n.skip(6);o=n.times(r,n.readShort);n.skip(2);var a=n.times(r,n.readShort),s=n.times(r,n.readShort_),h=n.times(r,n.readShort),v=(i.length+i.offset-n.offset())/2,y=n.times(v,n.readShort);for(t=0;t<r;++t)for(e=a[t],c=o[t],u=e;u<=c;++u)h[t]===0?f=u+s[t]:(l=h[t]/2-(r-t)+(u-e),f=y[l]||0,f!==0&&(f+=s[t])),i.codeMap[u]=f&65535}})}function r(n,i){function w(t){return i[n[t]]}for(var o,it,k,p,r,d=u(n),s=[],h=[],e=null,g=null,f=0;f<d.length;++f){var l=d[f],rt=w(l),nt=rt-l;(e==null||nt!==g)&&(e&&h.push(e),s.push(l),g=nt);e=l}e&&h.push(e);h.push(65535);s.push(65535);var c=s.length,tt=c*2,b=2*Math.pow(2,Math.floor(Math.log(c)/Math.LN2)),ut=Math.log(b/2)/Math.LN2,ft=tt-b,a=[],v=[],y=[];for(f=0;f<c;++f){if(o=s[f],it=h[f],o==65535){a.push(0);v.push(0);break}if(k=w(o),o-k>=32768)for(a.push(0),v.push(2*(y.length+c-f)),p=o;p<=it;++p)y.push(w(p));else a.push(k-o),v.push(0)}return r=t(),r.writeShort(3),r.writeShort(1),r.writeLong(12),r.writeShort(4),r.writeShort(16+c*8+y.length*2),r.writeShort(0),r.writeShort(tt),r.writeShort(b),r.writeShort(ut),r.writeShort(ft),h.forEach(r.writeShort),r.writeShort(0),s.forEach(r.writeShort),a.forEach(r.writeShort_),v.forEach(r.writeShort),y.forEach(r.writeShort),r.get()}return i({parse:function(t){var i=this,r=i.offset,u;t.offset(r);i.version=t.readShort();u=t.readShort();i.unicodeEntry=null;i.tables=t.times(u,function(){var u=new n(t,r);return u.isUnicode&&(i.unicodeEntry=u),u})},render:function(n,i){var u=t();return u.writeShort(0),u.writeShort(1),u.write(r(n,i)),u.get()},getUnicodeEntry:function(){if(!this.unicodeEntry)throw new Error("Font doesn't have an Unicode encoding");return this.unicodeEntry}})}(),d=i({parse:function(n){n.offset(this.offset);this.version=n.readShort();this.averageCharWidth=n.readShort_();this.weightClass=n.readShort();this.widthClass=n.readShort();this.type=n.readShort();this.ySubscriptXSize=n.readShort_();this.ySubscriptYSize=n.readShort_();this.ySubscriptXOffset=n.readShort_();this.ySubscriptYOffset=n.readShort_();this.ySuperscriptXSize=n.readShort_();this.ySuperscriptYSize=n.readShort_();this.ySuperscriptXOffset=n.readShort_();this.ySuperscriptYOffset=n.readShort_();this.yStrikeoutSize=n.readShort_();this.yStrikeoutPosition=n.readShort_();this.familyClass=n.readShort_();this.panose=n.times(10,n.readByte);this.charRange=n.times(4,n.readLong);this.vendorID=n.readString(4);this.selection=n.readShort();this.firstCharIndex=n.readShort();this.lastCharIndex=n.readShort();this.version>0&&(this.ascent=n.readShort_(),this.descent=n.readShort_(),this.lineGap=n.readShort_(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=n.times(2,n.readLong),this.version>1&&(this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()))},render:function(){return this.raw()}}),s=1e5;h.prototype={use:function(n){var t,u,r,i,f;if(typeof n=="string"){for(u="",r=0;r<n.length;++r)t=this.use(n.charCodeAt(r)),u+=String.fromCharCode(t);return u}return t=this.unicodes[n],t||(t=this.next++,this.subset[t]=n,this.unicodes[n]=t,i=this.font.cmap.getUnicodeEntry().codeMap[n],i&&(this.ncid2ogid[t]=i,this.ogid2ngid[i]==null&&(f=this.nextGid++,this.ogid2ngid[i]=f,this.ngid2ogid[f]=i))),t},encodeText:function(n){return this.use(n)},glyphIds:function(){return u(this.ogid2ngid)},glyphsFor:function(n,t){var i,r,u;for(t||(t={}),i=0;i<n.length;++i)r=n[i],t[r]||(u=t[r]=this.font.glyf.glyphFor(r),u&&u.compound&&this.glyphsFor(u.glyphIds,t));return t},render:function(){var f=this.glyphsFor(this.glyphIds()),t,e,c;for(t in f)r(f,t)&&(t=parseInt(t,10),this.ogid2ngid[t]==null&&(e=this.nextGid++,this.ogid2ngid[t]=e,this.ngid2ogid[e]=t));var l=u(this.ngid2ogid),i=l.map(function(n){return this.ngid2ogid[n]},this),n=this.font,s=n.glyf.render(f,i,this.ogid2ngid),h=n.loca.render(s.offsets);return this.lastChar=this.next-1,c={cmap:o.render(this.ncid2ogid,this.ogid2ngid),glyf:s.table,loca:h.table,hmtx:n.hmtx.render(i),hhea:n.hhea.render(i),maxp:n.maxp.render(i),post:n.post.render(i),name:n.name.render(this.psName),head:n.head.render(h.format),"OS/2":n.os2.render()},this.font.directory.render(c)},cidToGidMap:function(){for(var u,f,n=t(),r=0,i=this.firstChar;i<this.next;++i){while(r<i)n.writeShort(0),r++;u=this.ncid2ogid[i];u?(f=this.ogid2ngid[u],n.writeShort(f)):n.writeShort(0);r++}return n.get()}};c.prototype={parse:function(){var n=this.directory=new e(this.contents);this.head=n.readTable("head",l);this.loca=n.readTable("loca",a);this.hhea=n.readTable("hhea",v);this.maxp=n.readTable("maxp",y);this.hmtx=n.readTable("hmtx",p);this.glyf=n.readTable("glyf",w);this.name=n.readTable("name",b);this.post=n.readTable("post",k);this.cmap=n.readTable("cmap",o);this.os2=n.readTable("OS/2",d);this.psName=this.name.postscriptName;this.ascent=this.os2.ascent||this.hhea.ascent;this.descent=this.os2.descent||this.hhea.descent;this.lineGap=this.os2.lineGap||this.hhea.lineGap;this.scale=1e3/this.head.unitsPerEm},widthOfGlyph:function(n){return this.hmtx.forGlyph(n).advance*this.scale},makeSubset:function(){return new h(this)}};f.TTFFont=c}(this),function(n){n.PDFMixin={extend:function(n){n.events.push("pdfExport");n.options.pdf=this.options;n.saveAsPDF=this.saveAsPDF},options:{fileName:"Export.pdf",proxyURL:"",paperSize:"auto",landscape:!1,margin:null,title:null,author:null,subject:null,keywords:null,creator:"Kendo UI PDF Generator",date:null},saveAsPDF:function(){if(!this.trigger("pdfExport")){var t=this.options.pdf;n.drawing.drawDOM(this.wrapper[0]).then(function(i){return n.drawing.exportPDF(i,t)}).done(function(i){n.saveAs({dataURI:i,fileName:t.fileName,proxyURL:t.proxyURL,forceProxy:t.forceProxy})})}}}}(kendo),function(n,t){"use strict";function r(){if(!n.pdf)throw new Error("kendo.pdf.js is not loaded");return n.pdf}function o(n,t){function u(n,t){return h.pdf&&h.pdf[n]!=null?h.pdf[n]:t}function a(){var e,h,l,a,s,o,p;--y>0||(e=u("paperSize","auto"),h=!1,e=="auto"&&(c?(l=c.getSize(),e=[l.width,l.height],h=!0,a=c.getOrigin(),s=new i.Group,s.transform(new f.Matrix(1,0,0,1,-a.x,-a.y)),s.append(n),n=s):e="A4"),o=new(r().Document)({paperSize:e,landscape:u("landscape",!1),margin:u("margin"),addMargin:h,title:u("title"),author:u("author"),subject:u("subject"),keywords:u("keywords"),creator:u("creator"),date:u("date")}),p=o.addPage(),v(n,p,o),t(o.render(),o,p))}var e=[],o=[],h=n.options,l=ct(n),c=l.bbox,y;n=l.root;n.traverse(function(n){s({Image:function(n){o.indexOf(n.src())<0&&o.push(n.src())},Text:function(n){var i=r().parseFontDef(n.options.font),t=r().getFontURL(i);e.indexOf(t)<0&&e.push(t)}},n)});y=2;r().loadFonts(e,a);r().loadImages(o,a)}function l(n,t){o(n,function(n){t("data:application/pdf;base64,"+n.base64())})}function a(n,t){o(n,function(n){t(new Blob([n.get()],{type:"application/pdf"}))})}function k(t,i,r,u){window.Blob&&!n.support.browser.safari?a(t,function(t){n.saveAs({dataURI:t,fileName:i});u&&u(t)}):l(t,function(t){n.saveAs({dataURI:t,fileName:i,proxyURL:r});u&&u(t)})}function s(n,t){var i=n[t.nodeType];return i?i.call.apply(i,arguments):t}function v(n,t,i){var f,u,r;n.DEBUG&&t.comment(n.DEBUG);f=n.transform();u=n.opacity();t.save();u!=null&&u<1&&t.setOpacity(u);d(n,t,i);g(n,t,i);nt(n,t,i);f&&(r=f.matrix(),t.transform(r.a,r.b,r.c,r.d,r.e,r.f));s({Path:it,MultiPath:rt,Circle:ut,Arc:ft,Text:et,Image:st,Group:ot},n,t,i);t.restore()}function d(n,t){var r=n.stroke&&n.stroke(),i,u,f,e,o,s;if(r){if(i=r.color,i){if(i=c(i),i==null)return;t.setStrokeColor(i.r,i.g,i.b);i.a!=1&&t.setStrokeOpacity(i.a)}if(u=r.width,u!=null){if(u===0)return;t.setLineWidth(u)}f=r.dashType;f&&t.setDashPattern(p[f],0);e=r.lineCap;e&&t.setLineCap(w[e]);o=r.lineJoin;o&&t.setLineJoin(b[o]);s=r.opacity;s!=null&&t.setStrokeOpacity(s)}}function g(n,t){var u=n.fill&&n.fill(),r,f;if(u&&!(u instanceof i.Gradient)){if(r=u.color,r){if(r=c(r),r==null)return;t.setFillColor(r.r,r.g,r.b);r.a!=1&&t.setFillOpacity(r.a)}f=u.opacity;f!=null&&t.setFillOpacity(f)}}function nt(n,t,i){var r=n.clip();r&&(h(r,t,i),t.clip())}function u(n){return n&&(n instanceof i.Gradient||n.color&&!/^(none|transparent)$/i.test(n.color)&&(n.width==null||n.width>0)&&(n.opacity==null||n.opacity>0))}function y(n,t,r,u){var f=n.fill();if(f instanceof i.Gradient){if(u?t.stroke():t.nop(),!(f instanceof i.LinearGradient)){window.console&&window.console.log&&window.console.log("Radial gradients are not yet supported in PDF output.");return}var h={x:f.start().x,y:f.start().y},l={x:f.end().x,y:f.end().y},a={type:"linear",start:h,end:l,userSpace:f.userSpace(),stops:f.stops.elements().map(function(n){var t=n.offset(),i;return t=/%$/.test(t)?parseFloat(t)/100:parseFloat(t),i=c(n.color()),i.a*=n.opacity(),{offset:t,color:i}})},e=n.rawBBox(),o=e.topLeft(),s=e.getSize();return e={left:o.x,top:o.y,width:s.width,height:s.height},t.gradient(a,e),!0}}function e(n,t,i){u(n.fill())&&u(n.stroke())?y(n,t,i,!0)||t.fillStroke():u(n.fill())?y(n,t,i,!1)||t.fill():u(n.stroke())?t.stroke():t.nop()}function tt(n,t){var u=n.segments,i,r,f;if(u.length==4&&n.options.closed){for(i=[],r=0;r<u.length;++r){if(u[r].controlIn())return!1;i[r]=u[r].anchor()}if(f=i[0].y==i[1].y&&i[1].x==i[2].x&&i[2].y==i[3].y&&i[3].x==i[0].x||i[0].x==i[1].x&&i[1].y==i[2].y&&i[2].x==i[3].x&&i[3].y==i[0].y,f)return t.rect(i[0].x,i[0].y,i[2].x-i[0].x,i[2].y-i[0].y),!0}}function h(n,t,i){var s=n.segments,h,u,f,r,e,o;if(s.length!==0&&!tt(n,t,i)){for(u=0;u<s.length;++u)f=s[u],r=f.anchor(),h?(e=h.controlOut(),o=f.controlIn(),e&&o?t.bezier(e.x,e.y,o.x,o.y,r.x,r.y):t.lineTo(r.x,r.y)):t.moveTo(r.x,r.y),h=f;n.options.closed&&t.close()}}function it(n,t,i){h(n,t,i);e(n,t,i)}function rt(n,t,i){for(var u=n.paths,r=0;r<u.length;++r)h(u[r],t,i);e(n,t,i)}function ut(n,t,i){var r=n.geometry();t.circle(r.center.x,r.center.y,r.radius);e(n,t,i)}function ft(n,t,i){var r=n.geometry().curvePoints(),u;for(t.moveTo(r[0].x,r[0].y),u=1;u<r.length;)t.bezier(r[u].x,r[u++].y,r[u].x,r[u++].y,r[u].x,r[u++].y);e(n,t,i)}function et(n,t){var u=r().parseFontDef(n.options.font),f=n._position,i;n.fill()&&n.stroke()?i=r().TEXT_RENDERING_MODE.fillAndStroke:n.fill()?i=r().TEXT_RENDERING_MODE.fill:n.stroke()&&(i=r().TEXT_RENDERING_MODE.stroke);t.transform(1,0,0,-1,f.x,f.y+u.fontSize);t.beginText();t.setFont(r().getFontURL(u),u.fontSize);t.setTextRenderingMode(i);t.showText(n.content());t.endText()}function ot(n,t,i){for(var u=n.children,r=0;r<u.length;++r)v(u[r],t,i)}function st(n,t){var f=n.src(),r=n.rect(),u=r.getOrigin(),i=r.getSize();t.transform(i.width,0,0,-i.height,u.x,u.y+i.height);t.drawImage(f)}function ht(n,r){var u=t.Deferred();return n.options.set("pdf",r),i.pdf.toDataURL(n,u.resolve),u.promise()}function c(t){var i=n.parseColor(t,!0);return i?i.toRGB():null}function ct(n){function t(n){return c=!0,n}function o(n){return n.visible()&&n.opacity()>0&&(u(n.fill())||u(n.stroke()))}function l(n){for(var i,r=[],t=0;t<n.length;++t)i=a(n[t]),i!=null&&r.push(i);return r}function v(n,t){var u=r,o=e,i;n.transform()&&(e=e.multiplyCopy(n.transform().matrix()));i=n.clip();i&&(i=i.bbox(),i&&(i=i.bbox(e),r=r?f.Rect.intersect(r,i):i));try{return t()}finally{r=u;e=o}}function y(n){if(r==null)return!1;var t=n.rawBBox().bbox(e);return r&&t&&(t=f.Rect.intersect(t,r)),t}function a(r){if(!(r instanceof i.Group||r instanceof i.MultiPath)){var u=y(r);if(!u)return t(null);h=h?f.Rect.union(h,u):u}return s({Path:function(n){return n.segments.length===0||!o(n)?t(null):n},MultiPath:function(n){if(!o(n))return t(null);var r=new i.MultiPath(n.options);return(r.paths=l(n.paths),r.paths.length===0)?t(null):r},Circle:function(n){return o(n)?n:t(null)},Arc:function(n){return o(n)?n:t(null)},Text:function(n){return!/\S/.test(n.content())||!o(n)?t(null):n},Image:function(n){return(n.visible()&&n.opacity()>0)?n:t(null)},Group:function(r){return v(r,function(){var u=new i.Group(r.options);return(u.children=l(r.children),r!==n&&u.children.length===0)?t(null):u})}},r)}var r=!1,e=f.Matrix.unit(),h=null,c;do c=!1,n=a(n);while(n&&c);return{root:n,bbox:h}}var i=n.drawing,f=n.geometry,lt=i.Color,p={dash:[4],dashDot:[4,2,1,2],dot:[1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2],solid:[]},w={butt:0,round:1,square:2},b={miter:0,round:1,bevel:2};n.deepExtend(i,{exportPDF:ht,pdf:{toDataURL:l,toBlob:a,saveAs:k,toStream:o}})}(window.kendo,window.kendo.jQuery),function(n,t,i){"use strict";function v(n){function r(i){return f=i.exec(n.substr(t))}function s(n){return n.replace(/^\s+|\s+$/g,"")}for(var e=[],u=0,t=0,o=0,i=!1,f;t<n.length;)r(/^\s+/)?t+=f[0].length:r(/^[\(\[\{]/)?(o++,t++):r(/^[\)\]\}]/)?(o--,t++):!i&&r(/^[\"\']/)?(i=f[0],t++):i=="'"&&r(/^\\\'/)?t+=2:i=='"'&&r(/^\\\"/)?t+=2:i=="'"&&r(/^\'/)?(i=!1,t++):i=='"'&&r(/^\"/)?(i=!1,t++):r(/^\s*,\s*/)?(!i&&!o&&t>u&&(e.push(s(n.substring(u,t))),u=t+f[0].length),t+=f[0].length):t++;return u<t&&e.push(s(n.substring(u,t))),e}function it(n,t){var i=kendo.parseColor(n);return i&&(i=i.toRGB(),t?i=i.toCssRgba():i.a===0&&(i=null)),i}function lt(n,t){function e(n){p[n]||(p[n]=!0,i.push(n))}function f(){--u<=0&&t()}var i=[],u;(function s(n){var i=rt(r(o(n),"background-image")),t;for(/^img$/i.test(n.tagName)&&e(n.src),i&&e(i),t=n.firstChild;t;t=t.nextSibling)t.nodeType==1&&s(t)})(n);u=i.length;u===0&&f();i.forEach(function(n){var t=p[n]=new Image;t.onload=f;t.onerror=function(){p[n]=null;f()};t.src=n;(t.complete||t.complete===undefined)&&(t.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",t.src=n)})}function rt(n){var t=/^\s*url\((['"]?)(.*?)\1\)\s*$/i.exec(n);if(t)return t[2]}function at(n,t,i){var f,e;u=Object.create(u);u[n.tagName.toLowerCase()]={element:n,style:t};f=r(t,"text-decoration");f&&f!="none"&&(e=r(t,"color"),f.split(/\s+/g).forEach(function(n){u[n]||(u[n]=e)}));yt(n)&&(u._stackingContext={element:n,group:i})}function vt(){u=Object.getPrototypeOf(u)}function ut(n){if(u._clipbox!=null){var t=n.bbox(u._matrix);u._clipbox=u._clipbox?h.Rect.intersect(u._clipbox,t):t}}function yt(n){function t(n){return r(i,n)}var i=o(n);if(t("transform")!="none"||t("position")!="static"&&t("z-index")!="auto"||t("opacity")<1)return!0}function o(n){return window.getComputedStyle(n)}function r(n,t){return n.getPropertyValue(t)||e.webkit&&n.getPropertyValue("-webkit-"+t)||e.firefox&&n.getPropertyValue("-moz-"+t)||e.opera&&n.getPropertyValue("-o-"+t)||e.msie&&n.getPropertyValue("-ms-"+t)}function g(n,t,i,r){n.setProperty(t,i,r);e.webkit?n.setProperty("-webkit-"+t,i,r):e.firefox?n.setProperty("-moz-"+t,i,r):e.opera?n.setProperty("-o-"+t,i,r):e.msie&&(n.setProperty("-ms-"+t,i,r),t="ms"+t.replace(/(^|-)([a-z])/g,function(n,t,i){return t+i.toUpperCase()}),n[t]=i)}function s(n,i){return i="border-"+i,{width:t(r(n,i+"-width")),style:r(n,i+"-style"),color:it(r(n,i+"-color"),!0)}}function pt(n,t){var i=n.style.cssText,r=t();return n.style.cssText=i,r}function c(n,i){var u=r(n,"border-"+i+"-radius").split(/\s+/g).map(t);return u.length==1&&u.push(u[0]),a({x:u[0],y:u[1]})}function wt(n){var t=n.getBoundingClientRect();return t=l(t,"border-*-width",n),l(t,"padding-*",n)}function l(n,i,u){var f,e,s,h,c;return typeof i=="string"?(f=o(u),e=t(r(f,i.replace("*","top"))),s=t(r(f,i.replace("*","right"))),h=t(r(f,i.replace("*","bottom"))),c=t(r(f,i.replace("*","left")))):typeof i=="number"&&(e=s=h=c=i),{top:n.top+e,right:n.right-s,bottom:n.bottom-h,left:n.left+c,width:n.right-n.left-s-c,height:n.bottom-n.top-h-e}}function bt(n){var f=r(n,"transform"),i,u;return f=="none"?null:(i=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(f),i?(u=r(n,"transform-origin"),i=i[1].split(/\s*,\s*/g).map(t),u=u.split(/\s+/g).map(t),{matrix:i,origin:u}):void 0)}function ft(n){return 180*n/i.PI%360}function kt(n){var r=t(n);return/grad$/.test(n)?i.PI*r/200:/rad$/.test(n)?r:/turn$/.test(n)?i.PI*r*2:/deg$/.test(n)?i.PI*r/180:void 0}function b(n,t){return t=new h.Matrix(t[0],t[1],t[2],t[3],t[4],t[5]),n.transform(t),t}function k(n,t){n.clip(t)}function y(n,t,i,r){for(var u=new h.Arc([t,i],r).curvePoints(),f=1;f<u.length;)n.curveTo(u[f++],u[f++],u[f++])}function a(n){return(n.x<=0||n.y<=0)&&(n.x=n.y=0),n}function nt(n,i,u){var f=o(n),e=c(f,"top-left"),h=c(f,"top-right"),l=c(f,"bottom-left"),a=c(f,"bottom-right");if(u=="padding"||u=="content"){var v=s(f,"top"),y=s(f,"right"),p=s(f,"bottom"),w=s(f,"left");if(e.x-=w.width,e.y-=v.width,h.x-=y.width,h.y-=v.width,a.x-=y.width,a.y-=p.width,l.x-=w.width,l.y-=p.width,u=="content"){var b=t(r(f,"padding-top")),k=t(r(f,"padding-right")),d=t(r(f,"padding-bottom")),g=t(r(f,"padding-left"));e.x-=g;e.y-=b;h.x-=k;h.y-=b;a.x-=k;a.y-=d;l.x-=g;l.y-=d}}return typeof u=="number"&&(e.x-=u,e.y-=u,h.x-=u,h.y-=u,a.x-=u,a.y-=u,l.x-=u,l.y-=u),et(i,e,h,a,l)}function et(n,t,i,r,u){var e=new f.Path({fill:null,stroke:null});return a(t),a(i),a(r),a(u),e.moveTo(n.left,n.top+t.y),t.x&&y(e,n.left+t.x,n.top+t.y,{startAngle:-180,endAngle:-90,radiusX:t.x,radiusY:t.y}),e.lineTo(n.right-i.x,n.top),i.x&&y(e,n.right-i.x,n.top+i.y,{startAngle:-90,endAngle:0,radiusX:i.x,radiusY:i.y}),e.lineTo(n.right,n.bottom-r.y),r.x&&y(e,n.right-r.x,n.bottom-r.y,{startAngle:0,endAngle:90,radiusX:r.x,radiusY:r.y}),e.lineTo(n.left+u.x,n.bottom),u.x&&y(e,n.left+u.x,n.bottom-u.y,{startAngle:90,endAngle:180,radiusX:u.x,radiusY:u.y}),e.close()}function ot(n,w){function si(t){var i,f,e;if(/^td$/i.test(n.tagName)&&(i=u.table,i&&r(i.style,"border-collapse")=="collapse")){if(f=s(i.style,"left").width,e=s(i.style,"top").width,f===0&&e===0)return t;var o=i.element.getBoundingClientRect(),c=i.element.rows[0].cells[0],h=c.getBoundingClientRect();if(h.top==o.top||h.left==o.left)return ct.call(t).map(function(n){return{left:n.left+f,top:n.top+e,right:n.right+f,bottom:n.bottom+e,height:n.height,width:n.width}})}return t}function ri(n,t,r,u,e,o,s,h){function v(t,u,e){var h=i.PI/2*t/(t+r),o={x:u.x-t,y:u.y-r},s=new f.Path({fill:{color:n},stroke:null}).moveTo(0,0);b(s,e);y(s,0,u.y,{startAngle:-90,endAngle:-ft(h),radiusX:u.x,radiusY:u.y});o.x>0&&o.y>0?(s.lineTo(o.x*i.cos(h),u.y-o.y*i.sin(h)),y(s,0,u.y,{startAngle:-ft(h),endAngle:-90,radiusX:o.x,radiusY:o.y,anticlockwise:!0})):o.x>0?s.lineTo(o.x,r).lineTo(0,r):s.lineTo(o.x,r).lineTo(o.x,0);c.append(s.close())}if(!(r<=0)){var l,c=new f.Group;b(c,h);w.append(c);a(o);a(s);l=new f.Path({fill:{color:n},stroke:null});c.append(l);l.moveTo(o.x?i.max(o.x,u):0,0).lineTo(t-(s.x?i.max(s.x,e):0),0).lineTo(t-i.max(s.x,e),r).lineTo(i.max(o.x,u),r).close();o.x&&v(u,o,[-1,0,0,1,o.x,0]);s.x&&v(e,s,[1,0,0,1,t-s.x,0])}}function hi(n){var i=new f.Group,r,u,e,o,s,h,t;for(k(i,et(n,yt,pt,bt,wt)),w.append(i),ti&&(r=new f.Path({fill:{color:ti.toCssRgba()},stroke:null}),r.moveTo(n.left,n.top).lineTo(n.right,n.top).lineTo(n.right,n.bottom).lineTo(n.left,n.bottom).close(),i.append(r)),t=oi.length;--t>=0;)u=oi[t],e=ui[t]||ui[ui.length-1],o=ii[t]||ii[ii.length-1],s=fi[t]||fi[fi.length-1],h=ei[t]||ei[ei.length-1],ci(i,n,u,e,o,s,h)}function ci(i,r,u,e,o,s,c){function w(i,r,u,f,a){function b(){while(v.origin.x>r.left)v.origin.x-=u}function k(){while(v.origin.y>r.top)v.origin.y-=f}function d(){while(v.origin.x<r.right)a(i,v.clone()),v.origin.x+=u}var nt=u/f,p=r,w,y,v,g;if(s=="content-box"?(p=l(p,"border-*-width",n),p=l(p,"padding-*",n)):s=="padding-box"&&(p=l(p,"border-*-width",n)),/^\s*auto(\s+auto)?\s*$/.test(c)||(w=c.split(/\s+/g),u=/%$/.test(w[0])?p.width*t(w[0])/100:t(w[0]),f=w.length==1||w[1]=="auto"?u/nt:/%$/.test(w[1])?p.height*t(w[1])/100:t(w[1])),y=(o+"").split(/\s+/),y.length==1&&(y[1]="50%"),y[0]=/%$/.test(y[0])?t(y[0])/100*(p.width-u):t(y[0]),y[1]=/%$/.test(y[1])?t(y[1])/100*(p.height-f):t(y[1]),v=new h.Rect([p.left+y[0],p.top+y[1]],[u,f]),e=="no-repeat")a(i,v);else if(e=="repeat-x")b(),d();else if(e=="repeat-y")for(k();v.origin.y<r.bottom;)a(i,v.clone()),v.origin.y+=f;else if(e=="repeat")for(b(),k(),g=v.origin.clone();v.origin.y<r.bottom;)v.origin.x=g.x,d(),v.origin.y+=f}var v,a,y;u&&u!="none"&&(/^url\(\"data:image\/svg/i.test(u)||(v=rt(u),v?(a=p[v],a&&a.width>0&&a.height>0&&w(i,r,a.width,a.height,function(n,t){n.append(new f.Image(v,t))})):(y=tt(u),y&&w(i,r,r.width,r.height,dt(y)))))}function li(t,i,r){function u(n){return{x:n.y,y:n.x}}var e,o,s;if(t.width!==0&&t.height!==0&&(hi(t),e=ht.width>0&&(i&&kt=="ltr"||r&&kt=="rtl"),o=ot.width>0&&(r&&kt=="ltr"||i&&kt=="rtl"),d.width!==0||ht.width!==0||ot.width!==0||st.width!==0)){if(1){if(d.color==ot.color&&d.color==st.color&&d.color==ht.color&&d.width==ot.width&&d.width==st.width&&d.width==ht.width&&e&&o){t=l(t,d.width/2);s=nt(n,t,d.width/2);s.options.stroke={color:d.color,width:d.width};w.append(s);return}if(yt.x===0&&pt.x===0&&bt.x===0&&wt.x===0&&d.width<2&&ht.width<2&&ot.width<2&&st.width<2){d.width>0&&w.append(new f.Path({stroke:{width:d.width,color:d.color}}).moveTo(t.left,t.top+d.width/2).lineTo(t.right,t.top+d.width/2));st.width>0&&w.append(new f.Path({stroke:{width:st.width,color:st.color}}).moveTo(t.left,t.bottom-st.width/2).lineTo(t.right,t.bottom-st.width/2));e&&w.append(new f.Path({stroke:{width:ht.width,color:ht.color}}).moveTo(t.left+ht.width/2,t.top).lineTo(t.left+ht.width/2,t.bottom));o&&w.append(new f.Path({stroke:{width:ot.width,color:ot.color}}).moveTo(t.right-ot.width/2,t.top).lineTo(t.right-ot.width/2,t.bottom));return}}ri(d.color,t.width,d.width,ht.width,ot.width,yt,pt,[1,0,0,1,t.left,t.top]);ri(st.color,t.width,st.width,ot.width,ht.width,bt,wt,[-1,0,0,-1,t.right,t.bottom]);ri(ht.color,t.height,ht.width,st.width,d.width,u(wt),u(yt),[0,-1,1,0,t.left,t.bottom]);ri(ot.color,t.height,ot.width,d.width,st.width,u(pt),u(bt),[0,1,-1,0,t.right,t.top])}}var g=o(n),d=s(g,"top"),ot=s(g,"right"),st=s(g,"bottom"),ht=s(g,"left"),yt=c(g,"top-left"),pt=c(g,"top-right"),wt=c(g,"bottom-left"),bt=c(g,"bottom-right"),kt=r(g,"direction"),ti=r(g,"background-color"),lt,at,vt;ti=it(ti);var oi=v(r(g,"background-image")),ui=v(r(g,"background-repeat")),ii=v(r(g,"background-position")),fi=v(r(g,"background-origin")),ei=v(r(g,"background-size"));for(e.msie&&e.version<10&&(ii=v(n.currentStyle.backgroundPosition)),lt=l(n.getBoundingClientRect(),"border-*-width",n),function(){var l=r(g,"clip"),u=/^\s*rect\((.*)\)\s*$/.exec(l);if(u){var n=u[1].split(/[ ,]+/g),e=n[0]=="auto"?lt.top:t(n[0])+lt.top,o=n[1]=="auto"?lt.right:t(n[1])+lt.left,s=n[2]=="auto"?lt.bottom:t(n[2])+lt.top,h=n[3]=="auto"?lt.left:t(n[3])+lt.left,i=new f.Group,c=(new f.Path).moveTo(h,e).lineTo(o,e).lineTo(o,s).lineTo(h,s).close();k(i,c);w.append(i);w=i;ut(c)}}(),at=n.getClientRects(),at.length==1&&(at=[n.getBoundingClientRect()]),at=si(at),vt=0;vt<at.length;++vt)li(at[vt],vt===0,vt==at.length-1);return function(){function t(){var i=nt(n,lt,"padding"),t=new f.Group;k(t,i);w.append(t);w=t;ut(i)}/^(hidden|auto|scroll)/.test(r(g,"overflow"))?t():/^(hidden|auto|scroll)/.test(r(g,"overflow-x"))?t():/^(hidden|auto|scroll)/.test(r(g,"overflow-y"))&&t()}(),gt(n,w)||ni(n,w),w}function dt(n){return function(r,u){var o=u.width(),s=u.height(),nt=u.topLeft(),e;switch(n.type){case"linear":e=n.angle!=null?n.angle:i.PI;switch(n.to){case"top":e=0;break;case"left":e=-i.PI/2;break;case"bottom":e=i.PI;break;case"right":e=i.PI/2;break;case"top left":case"left top":e=-i.atan2(s,o);break;case"top right":case"right top":e=i.atan2(s,o);break;case"bottom left":case"left bottom":e=i.PI+i.atan2(s,o);break;case"bottom right":case"right bottom":e=i.PI-i.atan2(s,o)}n.reverse&&(e-=i.PI);e%=2*i.PI;e<0&&(e+=2*i.PI);var b=i.abs(o*i.sin(e))+i.abs(s*i.cos(e)),v=i.atan(o*i.tan(e)/s),y=i.sin(v),p=i.cos(v),w=i.abs(y)+i.abs(p),h=w/2*y,c=w/2*p;e>i.PI/2&&e<=3*i.PI/2&&(h=-h,c=-c);var l=[],a=0,k=n.stops.map(function(i,r){var u=i.percent,f;return u?u=t(u)/100:i.length?u=t(i.length)/b:r===0?u=0:r==n.stops.length-1&&(u=1),f={color:i.color.toCssRgba(),offset:u},u!=null?(a=u,l.forEach(function(n,t){var i=n.stop;i.offset=n.left+(a-n.left)*(t+1)/(l.length+1)}),l=[]):l.push({left:a,stop:f}),f}),d=[.5-h,.5+c],g=[.5+h,.5-c];r.append(f.Path.fromRect(u).stroke(null).fill(new f.LinearGradient({start:d,end:g,stops:k,userSpace:!1})));break;case"radial":window.console&&window.console.log&&window.console.log("Radial gradients are not yet supported in HTML renderer")}}}function gt(t,i){var r,o,u,e;if(t.getAttribute(kendo.attr("role"))&&(r=kendo.widgetInstance(n(t)),r&&(r.exportDOMVisual||r.exportVisual)))return o=r.exportDOMVisual?r.exportDOMVisual():r.exportVisual(),u=new f.Group,u.children.push(o),e=t.getBoundingClientRect(),u.transform(h.transform().translate(e.left,e.top)),i.append(u),!0}function st(n,t,i){var r=wt(n),e=new h.Rect([r.left,r.top],[r.width,r.height]),u=new f.Image(t,e);k(u,nt(n,r,"content"));i.append(u)}function d(n,i){var e=o(n),s=o(i),u=t(r(e,"z-index")),f=t(r(s,"z-index")),h=r(e,"position"),c=r(s,"position");return isNaN(u)&&isNaN(f)?/static|absolute/.test(h)&&/static|absolute/.test(c)?0:h=="static"?-1:c=="static"?1:0:isNaN(u)?f===0?0:f>0?-1:1:isNaN(f)?u===0?0:u>0?1:-1:t(u)-t(f)}function ni(n,t){var i;switch(n.tagName.toLowerCase()){case"img":st(n,n.src,t);break;case"canvas":try{st(n,n.toDataURL("image/jpeg"),t)}catch(v){}break;case"textarea":case"input":break;default:var f=[],e=[],s=[],h=[];for(i=n.firstChild;i;i=i.nextSibling)switch(i.nodeType){case 3:/\S/.test(i.data)&&ti(n,i,t);break;case 1:var u=o(i),c=r(u,"display"),l=r(u,"float"),a=r(u,"position");a!="static"?h.push(i):c!="inline"?l!="none"?e.push(i):f.push(i):s.push(i)}f.sort(d).forEach(function(n){w(n,t)});e.sort(d).forEach(function(n){w(n,t)});s.sort(d).forEach(function(n){w(n,t)});h.sort(d).forEach(function(n){w(n,t)})}}function ti(n,i,s){function nt(){for(var n,t,r;!/\S/.test(p.charAt(l));){if(l>=w)return!0;l++}for(a.setStart(i,l),n=0;++l<=w;)if(++n,a.setEnd(i,l),n>1&&(g&&/\s/.test(p.charAt(l-1))||a.getClientRects().length>1)){a.setEnd(i,--l);break}t=a.getClientRects()[0];r=a.toString().replace(/\s+$/,"");tt(r,t)}function tt(n,t){var i,r,u;n=n.replace(/[\r\n ]+/g," ");e.msie&&!isNaN(y)&&(i=f.util.measureText(n,{font:b}),r=(t.top+t.bottom-i.height)/2,t={top:r,right:t.right,bottom:r+i.height,left:t.left,height:i.height,width:t.right-t.left});u=new f.Text(n,new h.Point(t.left,t.top),{font:b,fill:{color:k}});s.append(u);it(t)}function it(n){function t(t,i){if(t){var r=v/12,u=new f.Path({stroke:{width:r,color:t}});i-=r;u.moveTo(n.left,i).lineTo(n.right,i);s.append(u)}}t(u.underline,n.bottom);t(u["line-through"],n.bottom-n.height/2.7);t(u.overline,n.top)}var c=o(n),k;if(!(t(r(c,"text-indent"))<-500)){var p=i.data,a=n.ownerDocument.createRange(),d=r(c,"text-align"),g=d=="justify",l=0,w=/\S\s*$/.exec(i.data).index+1;var v=r(c,"font-size"),y=r(c,"line-height"),b=[r(c,"font-style"),r(c,"font-variant"),r(c,"font-weight"),v,r(c,"font-family")].join(" ");if(v=t(v),y=t(y),v!==0)for(k=r(c,"color");!nt(););}}function ii(n,t){for(var r,o=u._stackingContext.group,e=o.children,i=0;i<e.length;++i)if(e[i]._dom_zIndex!=null&&e[i]._dom_zIndex>t)break;return r=new f.Group,o.insertAt(r,i),r._dom_zIndex=t,u._clipbox&&r.clip(f.Path.fromRect(u._clipbox)),r}function w(i,e){var c,s,l;if(!/^(style|script|link|meta|iframe|svg)$/i.test(i.tagName)&&u._clipbox!=null){var h=o(i),a=t(r(h,"opacity")),v=r(h,"visibility"),y=r(h,"display");a!==0&&v!="hidden"&&y!="none"&&(c=bt(h),l=r(h,"z-index"),(c||a<1)&&l=="auto"&&(l=0),l!="auto"?s=ii(e,l):(s=new f.Group,e.append(s)),s.DEBUG=n(i).data("debug"),a<1&&s.opacity(a*s.opacity()),at(i,h,s),c?pt(i,function(){g(i.style,"transform","none","important");g(i.style,"transition","none","important");r(h,"position")=="static"&&g(i.style,"position","relative","important");var t=i.getBoundingClientRect(),f=t.left+c.origin[0],e=t.top+c.origin[1],n=[1,0,0,1,-f,-e];n=ht(n,c.matrix);n=ht(n,[1,0,0,1,f,e]);n=b(s,n);u._matrix=u._matrix.multiplyCopy(n);ot(i,s)}):ot(i,s),vt())}}function ht(n,t){var e=n[0],o=n[1],s=n[2],h=n[3],c=n[4],l=n[5],i=t[0],r=t[1],u=t[2],f=t[3],a=t[4],v=t[5];return[e*i+o*u,e*r+o*f,s*i+h*u,s*r+h*f,c*i+l*u+a,c*r+l*f+v]}var f=kendo.drawing,h=kendo.geometry,ct=Array.prototype.slice,e=kendo.support.browser,p={},u,tt;f.drawDOM=function(t){var i=n.Deferred();return t=n(t)[0],t?lt(t,function(){var n=new f.Group,r=t.getBoundingClientRect();b(n,[1,0,0,1,-r.left,-r.top]);u._clipbox=!1;u._matrix=h.Matrix.unit();u._stackingContext={element:t,group:n};w(t,n);i.resolve(n)}):i.reject("No element to export"),i.promise()};u={};tt=function(){var r=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/,t=/^([-0-9.]+%)/,u=/^([-0-9.]+px)/,i=/^(left|right|top|bottom|to|center)\W/,f=/^([-0-9.]+(deg|grad|rad|turn))/,e=/^(\s+)/,o=/^(\()/,s=/^(\))/,n=/^(,)/;return function(h){function v(){var n=e.exec(h);n&&(h=h.substr(n[1].length))}function c(n){v();var t=n.exec(h);if(t)return h=h.substr(t[1].length),t[1]}function y(){var n=kendo.parseColor(h,!0),i,r;if(n)return h=h.substr(n.match[0].length),n=n.toRGB(),(i=c(u))||(r=c(t)),{color:n,length:i,percent:r}}function p(r){var l,u,e,k=[],v=!1,p,w,b;if(c(o)){for(l=c(f),l?(l=kt(l),c(n)):(u=c(i),u=="to"?u=c(i):u&&/^-/.test(r)&&(v=!0),e=c(i),c(n)),/-moz-/.test(r)&&l==null&&u==null&&(p=c(t),w=c(t),v=!0,p=="0%"?u="left":p=="100%"&&(u="right"),w=="0%"?e="top":w=="100%"&&(e="bottom"),c(n));h&&!c(s);){if(b=y(),!b)break;k.push(b);c(n)}return{type:"linear",angle:l,to:u&&e?u+" "+e:u?u:e?e:null,stops:k,reverse:v,orig:a}}}var a=h,l=c(r);if(l)return p(l)}}();return}(window.kendo.jQuery,parseFloat,Math),function(n){var h=document,u=n.noop,t=window.kendo,o=t.Class,r=t.util,s=t.animationFrame,f=t.deepExtend,e=o.extend({init:function(n,t){var i=this;i.options=f({},i.options,t);i.element=n},options:{duration:500,easing:"swing"},setup:u,step:u,play:function(){var t=this,u=t.options,o=n.easing[u.easing],i=u.duration,f=u.delay||0,e=r.now()+f,h=e+i;i===0?(t.step(1),t.abort()):setTimeout(function(){var n=function(){if(!t._stopped){var u=r.now(),f=r.limitValue(u-e,0,i),c=f/i,l=o(c,f,0,1,i);t.step(l);u<h?s(n):t.abort()}};n()},f)},abort:function(){this._stopped=!0},destroy:function(){this.abort()}}),i=function(){this._items=[]};i.prototype={register:function(n,t){this._items.push({name:n,type:t})},create:function(n,t){var r=this._items,u,f,i;if(t&&t.type)for(f=t.type.toLowerCase(),i=0;i<r.length;i++)if(r[i].name.toLowerCase()===f){u=r[i];break}if(u)return new u.type(n,t)}};i.current=new i;e.create=function(n,t,r){return i.current.create(n,t,r)};f(t.drawing,{Animation:e,AnimationFactory:i})}(window.kendo.jQuery,Math),function(n){function it(n,t){var i={top:0,right:0,bottom:0,left:0};return t=t||0,typeof n=="number"?i[y]=i[k]=i[w]=i[v]=n:(i[y]=n[y]||t,i[k]=n[k]||t,i[w]=n[w]||t,i[v]=n[v]||t),i}function er(n,t){var f=n.tickX,e=n.tickY,r=n.position,u=new i.Path({stroke:{width:t.width,color:t.color}});return n.vertical?u.moveTo(f,r).lineTo(f+t.size,r):u.moveTo(r,e).lineTo(r,e+t.size),ri(u),u}function or(n,t){var f=n.lineStart,e=n.lineEnd,r=n.position,u=new i.Path({stroke:{width:t.width,color:t.color,dashType:t.dashType}});return n.vertical?u.moveTo(f,r).lineTo(e,r):u.moveTo(r,f).lineTo(r,e),ri(u),u}function si(n,i){var u=r(i-n,h-1);if(u===0){if(i===0)return.1;u=t.abs(i)}var e=t.pow(10,t.floor(t.log(u)/t.log(10))),f=r(u/e,h),o=1;return o=f<1.904762?.2:f<4.761904?.5:f<9.523809?1:2,r(e*o,h)}function yt(n,i,r,u,f){var e=f*ht;return new c(r+(n-r)*t.cos(e)+(i-u)*t.sin(e),u-(n-r)*t.sin(e)+(i-u)*t.cos(e))}function lr(i,r){if(i.x1==r.x1&&i.y1==r.y1&&i.x2==r.x2&&i.y2==r.y2)return r;var e=t.min(i.x1,r.x1),o=t.max(i.x1,r.x1),s=t.min(i.x2,r.x2),a=t.max(i.x2,r.x2),h=t.min(i.y1,r.y1),c=t.max(i.y1,r.y1),l=t.min(i.y2,r.y2),v=t.max(i.y2,r.y2),f=[];return f[0]=u(o,h,s,c),f[1]=u(e,c,o,l),f[2]=u(s,c,a,l),f[3]=u(o,l,s,v),i.x1==e&&i.y1==h||r.x1==e&&r.y1==h?(f[4]=u(e,h,o,c),f[5]=u(s,l,a,v)):(f[4]=u(s,h,a,c),f[5]=u(e,l,o,v)),n.grep(f,function(n){return n.height()>0&&n.width()>0})[0]}function ut(n,t){return ui(n,t)!=-1}function hi(n,i){return r(t.ceil(n/i)*i,h)}function ci(n,i){return r(t.floor(n/i)*i,h)}function r(n,i){var r=t.pow(10,i||0);return t.round(n*r)/r}function nt(n,i){return t.log(n)/t.log(i)}function ar(n,i,u){var f=r(t.abs(n%i),h),e=i*(1-u);return f===0||f>e}function fu(n,t,i){return r(n+(t-n)*i,b)}function eu(n,t){return n-t}function vr(n,t){return n.match(di)?p.format.apply(this,arguments):p.toString(t,n)}function yr(n,t){return-n.x*t.y+n.y*t.x<0}function ou(n,t){return n&&t?n.getTime()-t.getTime():0}function su(n){var u=n.originalEvent,i=0;return u.wheelDelta&&(i=-u.wheelDelta/120,i=i>0?t.ceil(i):t.floor(i)),u.detail&&(i=r(u.detail/3)),i}function li(n){if(!n||!n.indexOf||n.indexOf("&")<0)return n;var t=li._element;return t.innerHTML=n,t.textContent||t.innerText}function pr(n,t){return n>=t.min&&n<=t.max}function ri(n){if(!p.support.vml)for(var t=0;t<n.segments.length;t++)n.segments[t].anchor().round(0).translate(.5,.5);return n}function hu(n){for(var o=this,r=n.stops,u=n.innerRadius/n.radius*100,e=r.length,i,f=[],t=0;t<e;t++)i=s({},r[t]),i.offset=(i.offset*(100-u)+u)/100,f.push(i);return f}var wr=document,p=window.kendo,et=p.util,br=et.append,l=et.defined,ot=et.last,cu=et.limitValue,lt=et.valueOrDefault,st=p.dataviz,g=st.geometry,i=st.drawing,kr=i.util.measureText,ai=g.Matrix,vi=p.Class,yi=p.template,lu=n.map,dr=n.noop,ui=n.inArray,gr=n.trim,t=Math,s=p.deepExtend,pi="axisLabelClick",tt="#000",w="bottom",d="center",b=3,pt="circle",nu="cross",wi="12px sans-serif",bi=400,h=6,ki=600,ht=t.PI/180,di=/\{\d+:?/,wt="height",bt=1e5,gi="inside",v="left",fi=Number.MAX_VALUE,ei=-Number.MAX_VALUE,kt="none",nr="noteClick",tr="noteHover",dt="outside",gt="radial",k="right",y="top",tu="triangle",ni="width",o="#fff",f="x",e="y",ir=.2,c=function(n,t){var i=this;if(!(i instanceof c))return new c(n,t);i.x=n||0;i.y=t||0},u,ti,cr,ii;c.fn=c.prototype={clone:function(){var n=this;return new c(n.x,n.y)},equals:function(n){return n&&n.x===this.x&&n.y===this.y},rotate:function(n,i){var u=this,o=i*ht,s=t.cos(o),h=t.sin(o),f=n.x,e=n.y,c=u.x,l=u.y;return u.x=r(f+(c-f)*s+(l-e)*h,b),u.y=r(e+(l-e)*s-(c-f)*h,b),u},multiply:function(n){var t=this;return t.x*=n,t.y*=n,t},distanceTo:function(n){var i=this.x-n.x,r=this.y-n.y;return t.sqrt(i*i+r*r)}};c.onCircle=function(n,i,r){return i*=ht,new c(n.x-r*t.cos(i),n.y-r*t.sin(i))};u=function(n,t,i,r){var f=this;if(!(f instanceof u))return new u(n,t,i,r);f.x1=n||0;f.x2=i||0;f.y1=t||0;f.y2=r||0};u.fn=u.prototype={width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1},translate:function(n,t){var i=this;return i.x1+=n,i.x2+=n,i.y1+=t,i.y2+=t,i},move:function(n,t){var i=this,r=i.height(),u=i.width();return l(n)&&(i.x1=n,i.x2=i.x1+u),l(t)&&(i.y1=t,i.y2=i.y1+r),i},wrap:function(n){var i=this;return i.x1=t.min(i.x1,n.x1),i.y1=t.min(i.y1,n.y1),i.x2=t.max(i.x2,n.x2),i.y2=t.max(i.y2,n.y2),i},wrapPoint:function(n){return this.wrap(new u(n.x,n.y,n.x,n.y)),this},snapTo:function(n,t){var i=this;return t!=f&&t||(i.x1=n.x1,i.x2=n.x2),t!=e&&t||(i.y1=n.y1,i.y2=n.y2),i},alignTo:function(n,t){var i=this,s=i.height(),h=i.width(),r=t==y||t==w?e:f,c=r==e?s:h,u,o;return t===d?(u=n.center(),o=i.center(),i.x1+=u.x-o.x,i.y1+=u.y-o.y):i[r+1]=t===y||t===v?n[r+1]-c:n[r+2],i.x2=i.x1+h,i.y2=i.y1+s,i},shrink:function(n,t){var i=this;return i.x2-=n,i.y2-=t,i},expand:function(n,t){return this.shrink(-n,-t),this},pad:function(n){var t=this,i=it(n);return t.x1-=i.left,t.x2+=i.right,t.y1-=i.top,t.y2+=i.bottom,t},unpad:function(n){var i=this,t=it(n);return t.left=-t.left,t.top=-t.top,t.right=-t.right,t.bottom=-t.bottom,i.pad(t)},clone:function(){var n=this;return new u(n.x1,n.y1,n.x2,n.y2)},center:function(){var n=this;return new c(n.x1+n.width()/2,n.y1+n.height()/2)},containsPoint:function(n){var t=this;return n.x>=t.x1&&n.x<=t.x2&&n.y>=t.y1&&n.y<=t.y2},points:function(){var n=this;return[new c(n.x1,n.y1),new c(n.x2,n.y1),new c(n.x2,n.y2),new c(n.x1,n.y2)]},getHash:function(){var n=this;return[n.x1,n.y1,n.x2,n.y2].join(",")},overlaps:function(n){return!(n.y2<this.y1||this.y2<n.y1||n.x2<this.x1||this.x2<n.x1)},rotate:function(n){var i=this,r=i.width(),u=i.height(),l=i.center(),f=l.x,e=l.y,o=yt(0,0,f,e,n),s=yt(r,0,f,e,n),h=yt(r,u,f,e,n),c=yt(0,u,f,e,n);return r=t.max(o.x,s.x,h.x,c.x)-t.min(o.x,s.x,h.x,c.x),u=t.max(o.y,s.y,h.y,c.y)-t.min(o.y,s.y,h.y,c.y),i.x2=i.x1+r,i.y2=i.y1+u,i},toRect:function(){return new g.Rect([this.x1,this.y1],[this.width(),this.height()])}};var ft=vi.extend({init:function(n,t,i,r,u){var f=this;f.c=n;f.ir=t;f.r=i;f.startAngle=r;f.angle=u},clone:function(){var n=this;return new ft(n.c,n.ir,n.r,n.startAngle,n.angle)},middle:function(){return this.startAngle+this.angle/2},radius:function(n,t){var i=this;return t?i.ir=n:i.r=n,i},point:function(n,i){var u=this,f=n*ht,o=t.cos(f),s=t.sin(f),e=i?u.ir:u.r,h=r(u.c.x-o*e,b),l=r(u.c.y-s*e,b);return new c(h,l)},adjacentBox:function(n,i,r){var c=this.clone().expand(n),f=c.middle(),l=c.point(f),a=i/2,v=r/2,e=l.x-a,o=l.y-v,s=t.sin(f*ht),h=t.cos(f*ht);return t.abs(s)<.9&&(e+=a*-h/t.abs(h)),t.abs(h)<.9&&(o+=v*-s/t.abs(s)),new u(e,o,e+i,o+r)},containsPoint:function(n){var t=this,i=t.c,o=t.ir,s=t.r,y=t.startAngle,p=t.startAngle+t.angle,u=n.x-i.x,f=n.y-i.y,e=new c(u,f),h=t.point(y),l=new c(h.x-i.x,h.y-i.y),a=t.point(p),w=new c(a.x-i.x,a.y-i.y),v=r(u*u+f*f,b);return(l.equals(e)||yr(l,e))&&!yr(w,e)&&v>=o*o&&v<=s*s},getBBox:function(){for(var t=this,i=new u(fi,fi,ei,ei),f=r(t.startAngle%360),o=r((f+t.angle)%360),a=t.ir,n=[0,90,180,270,f,o].sort(eu),s=ui(f,n),h=ui(o,n),l,c=f==o?n:s<h?n.slice(s,h+1):[].concat(n.slice(0,h+1),n.slice(s,n.length)),e=0;e<c.length;e++)l=t.point(c[e]),i.wrapPoint(l),i.wrapPoint(l,a);return a||i.wrapPoint(t.c),i},expand:function(n){return this.r+=n,this}}),rr=ft.extend({init:function(n,t,i,r){ft.fn.init.call(this,n,0,t,i,r)},expand:function(n){return ft.fn.expand.call(this,n)},clone:function(){var n=this;return new rr(n.c,n.r,n.startAngle,n.angle)},radius:function(n){return ft.fn.radius.call(this,n)},point:function(n){return ft.fn.point.call(this,n)}}),at=function(){};at.fn=at.prototype={createRing:function(n,r){var o=n.startAngle+180,s=n.angle+o,h=new g.Point(n.c.x,n.c.y),l=t.max(n.r,0),u=t.max(n.ir,0),f=new g.Arc(h,{startAngle:o,endAngle:s,radiusX:l,radiusY:l}),e=i.Path.fromArc(f,r).close(),c;return u?(f.radiusX=f.radiusY=u,c=f.pointAt(s),e.lineTo(c.x,c.y),e.arc(s,o,u,u,!0)):e.lineTo(h.x,h.y),e}};at.current=new at;var a=vi.extend({init:function(n){var t=this;t.children=[];t.options=s({},t.options,n)},reflow:function(n){for(var u=this,f=u.children,t,r,i=0;i<f.length;i++)r=f[i],r.reflow(n),t=t?t.wrap(r.box):r.box.clone();u.box=t||n},destroy:function(){var t=this,i=t.children,r=t.getRoot(),n;for(this.animation&&this.animation.destroy(),n=0;n<i.length;n++)i[n].destroy()},getRoot:function(){var n=this.parent;return n?n.getRoot():null},translateChildren:function(n,t){for(var u=this,r=u.children,f=r.length,i=0;i<f;i++)r[i].box.translate(n,t)},append:function(){br(this.children,arguments);for(var n=0;n<arguments.length;n++)arguments[n].parent=this},renderVisual:function(){var t,n;if(this.options.visible!==!1){for(this.createVisual(),this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual)),t=this.children,n=0;n<t.length;n++)t[n].renderVisual();this.createAnimation();this.renderComplete()}},createVisual:function(){this.visual=new st.drawing.Group({zIndex:this.options.zIndex,visible:lt(this.options.visible,!0)})},createAnimation:function(){this.visual&&(this.animation=i.Animation.create(this.visual,this.options.animation))},appendVisual:function(n){n.chartElement||(n.chartElement=this);n.options.noclip?this.getRoot().visual.append(n):l(n.options.zIndex)?this.stackRoot().stackVisual(n):this.visual?this.visual.append(n):this.parent.appendVisual(n)},stackRoot:function(){return this.parent?this.parent.stackRoot():this},stackVisual:function(n){for(var r,u,f=n.options.zIndex||0,i=this.visual.children,t=0;t<i.length;t++)if(r=i[t],u=lt(r.options.zIndex,0),u>f)break;this.visual.insertAt(n,t)},traverse:function(n){for(var t,r=this.children,i=0;i<r.length;i++)t=r[i],n(t),t.traverse&&t.traverse(n)},closest:function(n){for(var t=this,i=!1;t&&!i;)i=n(t),i||(t=t.parent);if(i)return t},renderComplete:n.noop,toggleHighlight:function(n){var t=this._highlight,i=this.options.highlight;this.createHighlight&&(!i||i.visible!==!1)&&(t||(t=this._highlight=this.createHighlight({fill:{color:o,opacity:.2},stroke:{color:o,width:1,opacity:.2}}),this.appendVisual(t)),t.visible(n))},createGradientOverlay:function(n,t,r){var u=new i.Path(s({stroke:{color:kt},fill:this.createGradient(r),closed:n.options.closed},t));return u.segments.elements(n.segments.elements()),u},createGradient:function(n){if(this.parent)return this.parent.createGradient(n)}}),iu=a.extend({init:function(n){var t=this;t.modelMap={};t.gradients={};a.fn.init.call(t,n)},options:{width:ki,height:bi,background:o,border:{color:tt,width:0},margin:it(5),zIndex:-2},reflow:function(){var i=this,r=i.options,f=i.children,t=new u(0,0,r.width,r.height),n;for(i.box=t.unpad(r.margin),n=0;n<f.length;n++)f[n].reflow(t),t=lr(t,f[n].box)},createVisual:function(){this.visual=new i.Group;this.createBackground()},createBackground:function(){var t=this.options,n=t.border||{},r=this.box.clone().pad(t.margin).unpad(n.width),u=i.Path.fromRect(r.toRect(),{stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType},fill:{color:t.background,opacity:t.opacity},zIndex:-10});this.visual.append(u)},getRoot:function(){return this},createGradient:function(n){var u=this.gradients,f=et.objectKey(n),e=st.Gradients[n.gradient],t,r;return u[f]?t=u[f]:(r=s({},e,n),e.type=="linear"?t=new i.LinearGradient(r):(n.innerRadius&&(r.stops=hu(r)),t=new i.RadialGradient(r),t.supportVML=e.supportVML!==!1),u[f]=t),t}}),rt=a.extend({options:{align:v,vAlign:y,margin:{},padding:{},border:{color:tt,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0},reflow:function(n){function d(){t.align(n,f,r.align);t.align(n,e,r.vAlign);t.paddingBox=o.clone().unpad(s).unpad(c)}var t=this,o,i,r=t.options,v=r.width,y=r.height,p=v&&y,b=r.shrinkToFit,s=it(r.margin),h=it(r.padding),c=r.border.width,k=t.children,l,w;for(i=n.clone(),p&&(i.x2=i.x1+v,i.y2=i.y1+y),b&&i.unpad(s).unpad(c).unpad(h),a.fn.reflow.call(t,i),o=p?t.box=u(0,0,v,y):t.box,b&&p?(d(),i=t.contentBox=t.paddingBox.clone().unpad(h)):(i=t.contentBox=o.clone(),o.pad(h).pad(c).pad(s),d()),t.translateChildren(o.x1-i.x1+s.left+c+h.left,o.y1-i.y1+s.top+c+h.top),l=0;l<k.length;l++)w=k[l],w.reflow(w.box)},align:function(n,t,i){var h=this,r=h.box,u=t+1,e=t+2,s=t===f?ni:wt,o=r[s]();ut(i,[v,y])?(r[u]=n[u],r[e]=r[u]+o):ut(i,[k,w])?(r[e]=n[e],r[u]=r[e]-o):i==d&&(r[u]=n[u]+(n[s]()-o)/2,r[e]=r[u]+o)},hasBox:function(){var n=this.options;return n.border.width||n.background},createVisual:function(){a.fn.createVisual.call(this);var n=this.options;n.visible&&this.hasBox()&&this.visual.append(i.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()))},visualStyle:function(){var i=this,n=i.options,t=n.border||{};return{stroke:{width:t.width,color:t.color,opacity:lt(t.opacity,n.opacity),dashType:t.dashType},fill:{color:n.background,opacity:n.opacity},cursor:n.cursor}}}),ur=a.extend({init:function(n,t){var i=this;a.fn.init.call(i,t);i.content=n;i.reflow(u())},options:{font:wi,color:tt,align:v,vAlign:""},reflow:function(n){var t=this,r=t.options,i;i=r.size=kr(t.content,{font:r.font});t.baseline=i.baseline;t.box=u(n.x1,n.y1,n.x1+i.width,n.y1+i.height)},createVisual:function(){var n=this.options;this.visual=new i.Text(this.content,this.box.toRect().topLeft(),{font:n.font,fill:{color:n.color,opacity:n.opacity},cursor:n.cursor})}}),fr=a.extend({init:function(n){a.fn.init.call(this,n);this._initDirection()},_initDirection:function(){var n=this.options;n.vertical?(this.groupAxis=f,this.elementAxis=e,this.groupSizeField=ni,this.elementSizeField=wt,this.groupSpacing=n.spacing,this.elementSpacing=n.vSpacing):(this.groupAxis=e,this.elementAxis=f,this.groupSizeField=wt,this.elementSizeField=ni,this.groupSpacing=n.vSpacing,this.elementSpacing=n.spacing)},options:{vertical:!0,wrap:!0,vSpacing:0,spacing:0},reflow:function(n){this.box=n.clone();this.reflowChildren()},reflowChildren:function(){var n=this,t=n.box,tt=n.options,it=n.elementSpacing,rt=n.groupSpacing,r=n.elementAxis,f=n.groupAxis,b=n.elementSizeField,a=n.groupSizeField,o=n.groupOptions(),k=o.groups,d=k.length,v=t[f+1]+n.alignStart(o.groupsSize,t[a]()),g=v,s,y,h,p,nt,c,l,w,i,e;if(d){for(l=0;l<d;l++){for(h=k[l],p=h.groupElements,nt=p.length,s=t[r+1],c=0;c<nt;c++)w=p[c],e=n.elementSize(w),y=g+n.alignStart(e[a],h.groupSize),i=u(),i[f+1]=y,i[f+2]=y+e[a],i[r+1]=s,i[r+2]=s+e[b],w.reflow(i),s+=e[b]+n.elementSpacing;g+=h.groupSize+n.groupSpacing}t[f+1]=v;t[f+2]=v+o.groupsSize;t[r+2]=t[r+1]+o.maxGroupElementsSize}},alignStart:function(n,t){var i=0,r=this.options.align;return r==k||r==w?i=t-n:r==d&&(i=(t-n)/2),i},groupOptions:function(){for(var h=this,v=h.box,y=h.children,w=y.length,c=this.elementSizeField,b=this.groupSizeField,p=this.elementSpacing,k=this.groupSpacing,d=r(v[c]()),e=0,i=0,o,u,n=0,l=0,a=[],s=[],f=0,e=0;e<w;e++)u=y[e],u.box||u.reflow(v),o=this.elementSize(u),h.options.wrap&&r(n+p+o[c])>d&&(a.push({groupElements:s,groupSize:i,groupElementsSize:n}),f=t.max(f,n),l+=k+i,i=0,n=0,s=[]),i=t.max(i,o[b]),n>0&&(n+=p),n+=o[c],s.push(u);return a.push({groupElements:s,groupSize:i,groupElementsSize:n}),f=t.max(f,n),l+=i,{groups:a,groupsSize:l,maxGroupElementsSize:f}},elementSize:function(n){return{width:n.box.width(),height:n.box.height()}},createVisual:dr}),ct=rt.extend({ROWS_SPLIT_REGEX:/\n|\\n/m,init:function(n,t){var i=this;i.content=n;rt.fn.init.call(i,t);i._initContainer();i.reflow(u())},_initContainer:function(){var n=this,r=n.options,u=(n.content+"").split(n.ROWS_SPLIT_REGEX),i=new fr({vertical:!0,align:r.align,wrap:!1}),e=s({},r,{opacity:1,animation:null}),o=n.hasBox(),f,t;for(n.container=i,n.append(i),t=0;t<u.length;t++)f=new ur(gr(u[t]),e),i.append(f)},reflow:function(n){var t=this,i=t.options,o=i.align,s=i.rotation,u,r;t.container.options.align=o;rt.fn.reflow.call(t,n);s&&(u=i.margin,r=t.box.unpad(u),t.normalBox=r.clone(),r.rotate(s),r.pad(u),t.align(n,f,o),t.align(n,e,i.vAlign))},createVisual:function(){var n=this.options,t;n.visible&&(this.visual=new st.drawing.Group({transform:this.rotationTransform(),zIndex:n.zIndex,noclip:n.noclip}),this.hasBox()&&(t=i.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()),this.visual.append(t)))},rotationTransform:function(){var n=this.options.rotation;if(!n)return null;var t=this.normalBox.center(),i=t.x,r=t.y,u=this.box.center();return g.transform().translate(u.x-i,u.y-r).rotate(n,[i,r])},rotationMatrix:function(){var n=this,f=n.options,e=n.normalBox,t=e.center(),i=t.x,r=t.y,u=n.box.center(),o=u.x-i,s=u.y-r;return ai.translate(o,s).times(ai.rotate(f.rotation,i,r))}}),oi=a.extend({init:function(n){var t=this;a.fn.init.call(t,n);n=t.options;t.append(new ct(n.text,s({},n,{vAlign:n.position})))},options:{color:tt,position:y,align:d,margin:it(5),padding:it(5)},reflow:function(n){var t=this;a.fn.reflow.call(t,n);t.box.snapTo(n,f)}});oi.buildTitle=function(n,t,i){var r;return typeof n=="string"&&(n={text:n}),n=s({visible:!0},i,n),n&&n.visible&&n.text&&(r=new oi(n),t.append(r)),r};ti=ct.extend({init:function(n,t,i,r,u){var f=this;f.text=t;f.value=n;f.index=i;f.dataItem=r;ct.fn.init.call(f,t,u)},click:function(t,i){var r=this;t.trigger(pi,{element:n(i.target),value:r.value,text:r.text,index:r.index,dataItem:r.dataItem,axis:r.parent.options})}});var vt=a.extend({init:function(n){var t=this;a.fn.init.call(t,n);t.options.visible||(t.options=s({},t.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0}));t.options.minorTicks=s({},{color:t.options.line.color,width:t.options.line.width,visible:t.options.minorTickType!=kt},t.options.minorTicks,{size:t.options.minorTickSize,align:t.options.minorTickType});t.options.majorTicks=s({},{color:t.options.line.color,width:t.options.line.width,visible:t.options.majorTickType!=kt},t.options.majorTicks,{size:t.options.majorTickSize,align:t.options.majorTickType});t.createLabels();t.createTitle();t.createNotes()},options:{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:tt,visible:!0},title:{visible:!0,position:d},majorTicks:{align:dt,size:4,skip:0,step:1},minorTicks:{align:dt,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:dt,minorTickType:kt,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:tt,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0},createLabels:function(){var n=this,u=n.options,e=u.vertical?k:d,t=s({},u.labels,{align:e,zIndex:u.zIndex}),o=t.step,f,i,r;if(n.labels=[],t.visible)for(f=n.labelsCount(),r=t.skip;r<f;r+=o)i=n.createAxisLabel(r,t),i&&(n.append(i),n.labels.push(i))},lineBox:function(){var i=this,t=i.options,n=i.box,o=t.vertical,r=i.labels,s=o?wt:ni,a=t.justified,h=t.labels.mirror,c=h?n.x1:n.x2,l=h?n.y2:n.y1,f=0,e=t.line.width;return a&&r.length>1&&(f=r[0].box[s]()/2,e=ot(r).box[s]()/2),o?u(c,n.y1+f,c,n.y2-e):u(n.x1+f,l,n.x2-e,l)},createTitle:function(){var t=this,r=t.options,n=s({rotation:r.vertical?-90:0,text:"",zIndex:1},r.title),i;n.visible&&n.text&&(i=new ct(n.text,n),t.append(i),t.title=i)},createNotes:function(){var r=this,t=r.options,f=t.notes,e=f.data||[],u,i,n;for(r.notes=[],u=0;u<e.length;u++)i=s({},f,e[u]),i.value=r.parseNoteValue(i.value),n=new sr(i.value,i.label.text,null,null,null,i),n.options.visible&&(l(n.options.position)?t.vertical&&!ut(n.options.position,[v,k])?n.options.position=t.reverse?v:k:t.vertical||ut(n.options.position,[y,w])||(n.options.position=t.reverse?w:y):n.options.position=t.vertical?t.reverse?v:k:t.reverse?w:y,r.append(n),r.notes.push(n))},parseNoteValue:function(n){return n},createVisual:function(){a.fn.createVisual.call(this);this.createPlotBands();this.createBackground();this.createLine()},gridLinesVisual:function(){var n=this._gridLines;return n||(n=this._gridLines=new i.Group({zIndex:-2}),this.appendVisual(this._gridLines)),n},createTicks:function(n){function e(t,i,e){var o,s=t.length;if(i.visible)for(o=i.skip;o<s;o+=i.step)l(e)&&o%e==0||(u.tickX=f?r.x2:r.x2-i.size,u.tickY=f?r.y1-i.size:r.y1,u.position=t[o],n.append(er(u,i)))}var i=this,t=i.options,r=i.lineBox(),f=t.labels.mirror,o=t.majorTicks.visible?t.majorUnit:0,u={vertical:t.vertical};e(i.getMajorTickPositions(),t.majorTicks);e(i.getMinorTickPositions(),t.minorTicks,o/t.minorUnit)},createLine:function(){var f=this,e=f.options,n=e.line,t=f.lineBox(),r,u;n.width>0&&n.visible&&(r=new i.Path({stroke:{width:n.width,color:n.color,dashType:n.dashType}}),r.moveTo(t.x1,t.y1).lineTo(t.x2,t.y2),e._alignLines&&ri(r),u=this._lineGroup=new i.Group,u.append(r),this.visual.append(u),this.createTicks(u))},getActualTickSize:function(){var r=this,n=r.options,i=0;return n.majorTicks.visible&&n.minorTicks.visible?i=t.max(n.majorTicks.size,n.minorTicks.size):n.majorTicks.visible?i=n.majorTicks.size:n.minorTicks.visible&&(i=n.minorTicks.size),i},createBackground:function(){var n=this,r=n.options,t=r.background,u=n.box;t&&(n._backgroundPath=i.Path.fromRect(u.toRect(),{fill:{color:t},stroke:null}),this.visual.append(n._backgroundPath))},createPlotBands:function(){var t=this,o=t.options,s=o.plotBands||[],a=o.vertical,h=t.plotArea,r,u,c,l,f,e;s.length!==0&&(f=this._plotbandGroup=new i.Group({zIndex:-1}),e=this.range(),n.each(s,function(n,o){var y,s,v;c=lt(o.from,ei);l=lt(o.to,fi);y=[];(pr(c,e)||pr(l,e))&&(a?(r=h.axisX.lineBox(),u=t.getSlot(o.from,o.to,!0)):(r=t.getSlot(o.from,o.to,!0),u=h.axisY.lineBox()),s=new g.Rect([r.x1,u.y1],[r.width(),u.height()]),v=i.Path.fromRect(s,{fill:{color:o.color,opacity:o.opacity},stroke:null}),f.append(v))}),t.appendVisual(f))},createGridLines:function(n){function c(n,t,u){var e=n.length,f;if(t.visible)for(f=t.skip;f<e;f+=t.step)i=r(n[f]),ut(i,s)||f%u==0||l&&y===i||(o.position=i,h.append(or(o,t)),s.push(i))}var f=this,t=f.options,l=n.options.line.visible,a=t.majorGridLines,v=a.visible?t.majorUnit:0,u=t.vertical,e=n.lineBox(),y=e[u?"y1":"x1"],o={lineStart:e[u?"x1":"y1"],lineEnd:e[u?"x2":"y2"],vertical:u},i,s=[],h=this.gridLinesVisual();return c(f.getMajorTickPositions(),t.majorGridLines),c(f.getMinorTickPositions(),t.minorGridLines,v/t.minorUnit),h.children},reflow:function(n){for(var i=this,h=i.options,c=h.vertical,l=i.labels,v=l.length,a=i.getActualTickSize()+h.margin,r=0,f=0,o=i.title,s,e=0;e<v;e++)s=l[e],r=t.max(r,s.box.height()),f=t.max(f,s.box.width());o&&(c?f+=o.box.width():r+=o.box.height());i.box=c?u(n.x1,n.y1,n.x1+f+a,n.y2):u(n.x1,n.y1,n.x2,n.y1+r+a);i.arrangeTitle();i.arrangeLabels();i.arrangeNotes()},arrangeLabels:function(){for(var i=this,s=i.options,p=i.labels,w=!s.justified,b=s.vertical,k=i.lineBox(),d=s.labels.mirror,r=i.getMajorTickPositions(),h=i.getActualTickSize()+s.margin,v,f,c=0;c<p.length;c++){var n=p[c],e=n.index,y=b?n.box.height():n.box.width(),l=r[e]-y/2,t,o,g,a;b?(w&&(t=r[e],o=r[e+1],g=t+(o-t)/2,l=g-y/2),a=k.x2,d?a+=h:a-=h+n.box.width(),v=n.box.move(a,l)):(w?(t=r[e],o=r[e+1]):(t=l,o=l+y),f=k.y1,d?f-=h+n.box.height():f+=h,v=u(t,f,o,f+n.box.height()));n.reflow(v)}},arrangeTitle:function(){var t=this,i=t.options,r=i.labels.mirror,u=i.vertical,n=t.title;n&&(u?(n.options.align=r?k:v,n.options.vAlign=n.options.position):(n.options.align=n.options.position,n.options.vAlign=r?y:w),n.reflow(t.box))},arrangeNotes:function(){for(var t=this,n,u,r,i=0;i<t.notes.length;i++)n=t.notes[i],r=n.options.value,l(r)?(t.shouldRenderNote(r)?n.show():n.hide(),u=t.getSlot(r)):n.hide(),n.reflow(u||t.lineBox())},alignTo:function(n){var t=this,r=n.lineBox(),u=t.options.vertical,i=u?e:f;t.box.snapTo(r,i);u?t.box.shrink(0,t.lineBox().height()-r.height()):t.box.shrink(t.lineBox().width()-r.width(),0);t.box[i+1]-=t.lineBox()[i+1]-r[i+1];t.box[i+2]-=t.lineBox()[i+2]-r[i+2]},axisLabelText:function(n,t,i){var r=n,u;return i.template?(u=yi(i.template),r=u({value:n,dataItem:t,format:i.format,culture:i.culture})):i.format&&(r=i.format.match(di)?p.format(i.format,n):p.toString(n,i.format,i.culture)),r}}),sr=rt.extend({init:function(n,t,i,r,u,f){var e=this;rt.fn.init.call(e,f);e.value=n;e.text=t;e.dataItem=i;e.category=r;e.series=u;e.render()},options:{icon:{visible:!0,type:pt},label:{position:gi,visible:!0,align:d,vAlign:d},line:{visible:!0},visible:!0,position:y,zIndex:2},hide:function(){this.options.visible=!1},show:function(){this.options.visible=!0},render:function(){var n=this,o=n.options,i=o.label,r=n.text,f=o.icon,h=f.size,c=u(),e,a,v,y;o.visible&&(l(i)&&i.visible&&(i.template?(y=yi(i.template),r=y({dataItem:n.dataItem,category:n.category,value:n.value,text:r,series:n.series})):i.format&&(r=vr(i.format,r)),n.label=new ct(r,s({},i)),n.append(n.label),i.position===gi&&(f.type===pt?h=t.max(n.label.box.width(),n.label.box.height()):(a=n.label.box.width(),v=n.label.box.height()),c.wrap(n.label.box))),f.width=a||h,f.height=v||h,e=new hr(s({},f)),n.marker=e,n.append(e),e.reflow(u()),n.wrapperBox=c.wrap(e.box))},reflow:function(n){var u=this,f=u.options,e=n.center(),o=u.wrapperBox,l=f.line.length,s=f.position,h=u.label,a=u.marker,r,c,i;f.visible&&(ut(s,[v,k])?s===v?(i=o.alignTo(n,s).translate(-l,n.center().y-o.center().y),f.line.visible&&(r=[t.floor(n.x1),e.y],u.linePoints=[r,[t.floor(i.x2),e.y]],c=i.clone().wrapPoint(r))):(i=o.alignTo(n,s).translate(l,n.center().y-o.center().y),f.line.visible&&(r=[t.floor(n.x2),e.y],u.linePoints=[r,[t.floor(i.x1),e.y]],c=i.clone().wrapPoint(r))):s===w?(i=o.alignTo(n,s).translate(n.center().x-o.center().x,l),f.line.visible&&(r=[t.floor(e.x),t.floor(n.y2)],u.linePoints=[r,[t.floor(e.x),t.floor(i.y1)]],c=i.clone().wrapPoint(r))):(i=o.alignTo(n,s).translate(n.center().x-o.center().x,-l),f.line.visible&&(r=[t.floor(e.x),t.floor(n.y1)],u.linePoints=[r,[t.floor(e.x),t.floor(i.y2)]],c=i.clone().wrapPoint(r))),a&&a.reflow(i),h&&(h.reflow(i),a&&(f.label.position===dt&&h.box.alignTo(a.box,s),h.reflow(h.box))),u.contentBox=i,u.box=c||i)},createVisual:function(){rt.fn.createVisual.call(this);this.options.visible&&this.createLine()},createLine:function(){var n=this.options.line,t=i.Path.fromPoints(this.linePoints,{stroke:{color:n.color,width:n.width,dashType:n.dashType}});this.visual.append(t)},click:function(n,t){var i=this.eventArgs(t);n.trigger(nr,i)||t.preventDefault()},hover:function(n,t){var i=this.eventArgs(t);n.trigger(tr,i)||t.preventDefault()},leave:function(n){n._unsetActivePoint()},eventArgs:function(t){var i=this,r=i.options;return{element:n(t.target),text:l(r.label)?r.label.text:"",dataItem:i.dataItem,series:i.series,value:i.value,category:i.category}}}),hr=rt.extend({options:{type:pt,align:d,vAlign:d},getElement:function(){var f=this,e=f.options,o=e.type,h=e.rotation,n=f.paddingBox,t,c=n.center(),s=n.width()/2,u;if(e.visible&&f.hasBox())return u=f.visualStyle(),o===pt?t=new i.Circle(new g.Circle([r(n.x1+s,b),r(n.y1+n.height()/2,b)],s),u):o===tu?t=i.Path.fromPoints([[n.x1+s,n.y1],[n.x1,n.y2],[n.x2,n.y2]],u).close():o===nu?(t=new i.MultiPath(u),t.moveTo(n.x1,n.y1).lineTo(n.x2,n.y2),t.moveTo(n.x1,n.y2).lineTo(n.x2,n.y1)):t=i.Path.fromRect(n.toRect(),u),h&&t.transform(g.transform().rotate(-h,[c.x,c.y])),t.options.zIndex=this.options.zIndex,t},createVisual:function(){this.visual=this.getElement()}}),ru=vt.extend({init:function(n,t,i){var r=this,u=r.initDefaults(n,t,i);vt.fn.init.call(r,u)},startValue:function(){return 0},options:{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:tt},zIndex:1},initDefaults:function(n,t,i){var h=this,c=i.narrowRange,f=h.autoAxisMin(n,t,c),e=h.autoAxisMax(n,t,c),u=si(f,e),r={majorUnit:u},o;return i.roundToMajorUnit!==!1&&(f<0&&ar(f,u,1/3)&&(f-=u),e>0&&ar(e,u,1/3)&&(e+=u)),r.min=ci(f,u),r.max=hi(e,u),i&&(o=l(i.min)||l(i.max),o&&i.min===i.max&&(i.min>0?i.min=0:i.max=1),i.majorUnit?(r.min=ci(r.min,i.majorUnit),r.max=hi(r.max,i.majorUnit)):o&&(i=s(r,i),r.majorUnit=si(i.min,i.max))),r.minorUnit=(i.majorUnit||r.majorUnit)/5,s(r,i)},range:function(){var n=this.options;return{min:n.min,max:n.max}},autoAxisMax:function(n,i,r){var u,f;if(!n&&!i)return 1;if(n<=0&&i<=0){if(i=n==i?0:i,f=t.abs((i-n)/i),!r&&f>ir)return 0;u=t.min(0,i-(n-i)/2)}else n=n==i?0:n,u=i;return u},autoAxisMin:function(n,i,r){var u,f;if(!n&&!i)return 0;if(n>=0&&i>=0){if(n=n==i?0:n,f=(i-n)/i,!r&&f>ir)return 0;u=t.max(0,n-(i-n)/2)}else i=n==i?0:i,u=n;return u},getDivisions:function(n){if(n===0)return 1;var i=this.options,u=i.max-i.min;return t.floor(r(u/n,b))+1},getTickPositions:function(n,t){var o=this,i=o.options,s=i.vertical,y=i.reverse,h=o.lineBox(),p=s?h.height():h.width(),w=i.max-i.min,k=p/w,d=n*k,l=0,g=o.getDivisions(n),a=(s?-1:1)*(y?-1:1),nt=a===1?1:2,c=h[(s?e:f)+nt],v=[],u;for(t&&(l=t/n),u=0;u<g;u++)u%l!=0&&v.push(r(c,b)),c=c+d*a;return v},getMajorTickPositions:function(){var n=this;return n.getTickPositions(n.options.majorUnit)},getMinorTickPositions:function(){var n=this;return n.getTickPositions(n.options.minorUnit)},getSlot:function(n,i,r){var w=this,o=w.options,h=o.reverse,v=o.vertical,y=v?e:f,s=w.lineBox(),b=s[y+(h?2:1)],d=v?s.height():s.width(),g=h?-1:1,k=g*(d/(o.max-o.min)),c,a,p=new u(s.x1,s.y1,s.x1,s.y1);return l(n)||(n=i||0),l(i)||(i=n||0),r&&(n=t.max(t.min(n,o.max),o.min),i=t.max(t.min(i,o.max),o.min)),v?(c=o.max-t.max(n,i),a=o.max-t.min(n,i)):(c=t.min(n,i)-o.min,a=t.max(n,i)-o.min),p[y+1]=t.max(t.min(b+k*(h?a:c),bt),-bt),p[y+2]=t.max(t.min(b+k*(h?c:a),bt),-bt),p},getValue:function(n){var s=this,t=s.options,c=t.reverse,i=t.vertical,l=t.max*1,a=t.min*1,v=i?e:f,u=s.lineBox(),b=u[v+(c?2:1)],y=i?u.height():u.width(),k=c?-1:1,o=k*(n[v]-b),d=(l-a)/y,p=o*d,w;return o<0||o>y?null:(w=i?l-p:a+p,r(w,h))},translateRange:function(n){var f=this,t=f.options,e=f.lineBox(),u=t.vertical,o=t.reverse,s=u?e.height():e.width(),c=t.max-t.min,l=s/c,i=r(n/l,h);return!(u||o)||u&&o||(i=-i),{min:t.min+i,max:t.max+i}},scaleRange:function(n){var r=this,t=r.options,i=-n*t.majorUnit;return{min:t.min-i,max:t.max+i}},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(n,t){var i=this,u=i.options,f=r(u.min+n*u.majorUnit,h),e=i.axisLabelText(f,null,t);return new ti(f,e,n,null,t)},shouldRenderNote:function(n){var t=this.range();return t.min<=n&&n<=t.max}}),uu=vt.extend({init:function(n,t,i){this.options=this._initOptions(n,t,i);vt.fn.init.call(this,i)},startValue:function(){return this.options.min},options:{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:tt},zIndex:1},getSlot:function(n,i,r){var h=this,o=h.options,c=o.reverse,y=o.vertical,p=y?e:f,s=h.lineBox(),d=s[p+(c?2:1)],it=y?s.height():s.width(),rt=c?-1:1,g=o.majorUnit,w=h.logMin,b=h.logMax,tt=rt*(it/(b-w)),a,v,k=new u(s.x1,s.y1,s.x1,s.y1);if(l(n)||(n=i||1),l(i)||(i=n||1),!(n<=0)&&!(i<=0))return r&&(n=t.max(t.min(n,o.max),o.min),i=t.max(t.min(i,o.max),o.min)),n=nt(n,g),i=nt(i,g),y?(a=b-t.max(n,i),v=b-t.min(n,i)):(a=t.min(n,i)-w,v=t.max(n,i)-w),k[p+1]=d+tt*(c?v:a),k[p+2]=d+tt*(c?a:v),k},getValue:function(n){var i=this,u=i.options,w=u.reverse,o=u.vertical,s=i.lineBox(),b=u.majorUnit,l=i.logMin,k=i.logMax,a=o===w?1:-1,d=a===1?1:2,v=o?s.height():s.width(),g=(k-l)/v,y=o?e:f,nt=s[y+d],c=a*(n[y]-nt),tt=c*g,p;return c<0||c>v?null:(p=l+tt,r(t.pow(b,p),h))},range:function(){var n=this.options;return{min:n.min,max:n.max}},scaleRange:function(n){var i=this,f=i.options,r=f.majorUnit,u=-n;return{min:t.pow(r,i.logMin-u),max:t.pow(r,i.logMax+u)}},translateRange:function(n){var i=this,f=i.options,o=f.majorUnit,s=i.lineBox(),e=f.vertical,c=f.reverse,l=e?s.height():s.width(),v=i.logMin,y=i.logMax,a=l/(i.logMax-i.logMin),u=r(n/a,h);return!(e||c)||e&&c||(u=-u),{min:t.pow(o,i.logMin+u),max:t.pow(o,i.logMax+u)}},labelsCount:function(){var n=this,i=t.floor(n.logMax);return t.floor(i-n.logMin)+1},getMajorTickPositions:function(){var t=this,n=[];return t.traverseMajorTicksPositions(function(t){n.push(t)},{step:1,skip:0}),n},createTicks:function(n){function s(t,i){u.tickX=f?r.x2:r.x2-i.size;u.tickY=f?r.y1-i.size:r.y1;u.position=t;n.append(er(u,i))}var t=this,i=t.options,r=t.lineBox(),f=i.labels.mirror,e=i.majorTicks,o=i.minorTicks,u={vertical:i.vertical};return e.visible&&t.traverseMajorTicksPositions(s,e),o.visible&&t.traverseMinorTicksPositions(s,o),[]},createGridLines:function(n){function c(n,t){ut(n,s)||(o.position=n,h.append(or(o,t)),s.push(n))}var t=this,i=t.options,l=n.options.line.visible,u=i.majorGridLines,f=i.minorGridLines,r=i.vertical,e=n.lineBox(),o={lineStart:e[r?"x1":"y1"],lineEnd:e[r?"x2":"y2"],vertical:r},s=[],h=this.gridLinesVisual();return u.visible&&t.traverseMajorTicksPositions(c,u),f.visible&&t.traverseMinorTicksPositions(c,f),h.children},traverseMajorTicksPositions:function(n,i){for(var f=this,e=f._lineOptions(),c=e.lineStart,l=e.step,o=f.logMin,a=f.logMax,s,u=t.ceil(o)+i.skip;u<=a;u+=i.step)s=r(c+l*(u-o),h),n(s,i)},traverseMinorTicksPositions:function(n,i){for(var u=this,f=u.options,l=u._lineOptions(),y=l.lineStart,p=l.step,w=f.majorUnit,a=u.logMin,b=u.logMax,k=t.floor(a),d=f.max,g=f.min,tt=f.minorUnit,o,v,c,s,e=k;e<b;e++)for(c=u._minorIntervalOptions(e),s=i.skip;s<tt;s+=i.step){if(o=c.value+s*c.minorStep,o>d)break;o>=g&&(v=r(y+p*(nt(o,w)-a),h),n(v,i))}},createAxisLabel:function(n,i){var r=this,f=r.options,e=t.ceil(r.logMin+n),u=Math.pow(f.majorUnit,e),o=r.axisLabelText(u,null,i);return new ti(u,o,n,null,i)},shouldRenderNote:function(n){var t=this.range();return t.min<=n&&n<=t.max},_throwNegativeValuesError:function(){throw new Error("Non positive values cannot be used for a logarithmic axis");},_initOptions:function(n,i,u){var c=this,e=s({},c.options,{min:n,max:i},u),a=e.min,o=e.max,f=e.majorUnit,v;return e.axisCrossingValue<=0&&c._throwNegativeValuesError(),l(u.max)?u.max<=0&&c._throwNegativeValuesError():(v=r(nt(o,f),h)%1,o=o<=0?f:v!==0&&(v<.3||v>.9)?t.pow(f,nt(o,f)+.2):t.pow(f,t.ceil(nt(o,f)))),l(u.min)?u.min<=0&&c._throwNegativeValuesError():a<=0?a=o<=1?t.pow(f,-2):1:u.narrowRange||(a=t.pow(f,t.floor(nt(a,f)))),c.logMin=r(nt(a,f),h),c.logMax=r(nt(o,f),h),e.max=o,e.min=a,e.minorUnit=u.minorUnit||r(f-1,h),e},_minorIntervalOptions:function(n){var i=this.options.majorUnit,r=t.pow(i,n),u=t.pow(i,n+1),f=u-r,e=f/this.options.minorUnit;return{value:r,minorStep:e}},_lineOptions:function(){var n=this,r=n.options,o=r.reverse,i=r.vertical,s=i?e:f,t=n.lineBox(),u=i===o?1:-1,h=u===1?1:2,c=i?t.height():t.width(),l=u*(c/(n.logMax-n.logMin)),a=t[s+h];return{step:l,lineStart:a,lineBox:t}}});st.Gradients={glass:{type:"linear",rotation:0,stops:[{offset:0,color:o,opacity:0},{offset:.25,color:o,opacity:.3},{offset:1,color:o,opacity:0}]},sharpBevel:{type:gt,stops:[{offset:0,color:o,opacity:.55},{offset:.65,color:o,opacity:0},{offset:.95,color:o,opacity:.25}]},roundedBevel:{type:gt,stops:[{offset:.33,color:o,opacity:.06},{offset:.83,color:o,opacity:.2},{offset:.95,color:o,opacity:0}]},roundedGlass:{type:gt,supportVML:!1,stops:[{offset:0,color:o,opacity:0},{offset:.5,color:o,opacity:.3},{offset:.99,color:o,opacity:0}]},sharpGlass:{type:gt,supportVML:!1,stops:[{offset:0,color:o,opacity:.2},{offset:.15,color:o,opacity:.15},{offset:.17,color:o,opacity:.35},{offset:.85,color:o,opacity:.05},{offset:.87,color:o,opacity:.15},{offset:.99,color:o,opacity:0}]}};cr={extend:function(n,t){if(!n.exportVisual)throw new Error("Mixin target has no exportVisual method defined.");n.exportSVG=this.exportSVG;n.exportImage=this.exportImage;n.exportPDF=this.exportPDF;t||(n.svg=this.svg,n.imageDataURL=this.imageDataURL)},exportSVG:function(n){return i.exportSVG(this.exportVisual(),n)},exportImage:function(n){return i.exportImage(this.exportVisual(),n)},exportPDF:function(n){return i.exportPDF(this.exportVisual(),n)},svg:function(){if(i.svg.Surface)return i.svg._exportGroup(this.exportVisual());throw new Error("SVG Export failed. Unable to export instantiate kendo.drawing.svg.Surface");},imageDataURL:function(){var r,t,u;if(!p.support.canvas)return null;if(i.canvas.Surface)return r=n("<div />").css({display:"none",width:this.element.width(),height:this.element.height()}).appendTo(document.body),t=new i.canvas.Surface(r),t.draw(this.exportVisual()),u=t._rootElement.toDataURL(),t.destroy(),r.remove(),u;throw new Error("Image Export failed. Unable to export instantiate kendo.drawing.canvas.Surface");}};ii=function(n){this.closed=n};ii.prototype=ii.fn={WEIGHT:.333,EXTREMUM_ALLOWED_DEVIATION:.01,process:function(n){var s=this,p=s.closed,t=n.slice(0),h=t.length,u=[],o,r,c,l,w,b,v,y,a,k;if(h>2&&(s.removeDuplicates(0,t),h=t.length),h<2||h==2&&t[0].equals(t[1]))return u;for(o=t[0],r=t[1],c=t[2],u.push(new i.Segment(o));o.equals(t[h-1]);)p=!0,t.pop(),h--;if(h==2)return v=s.tangent(o,r,f,e),ot(u).controlOut(s.firstControlPoint(v,o,r,f,e)),u.push(new i.Segment(r,s.secondControlPoint(v,o,r,f,e))),u;for(p?(o=t[h-1],r=t[0],c=t[1],l=s.controlPoints(o,r,c),w=l[1],b=l[0]):(v=s.tangent(o,r,f,e),w=s.firstControlPoint(v,o,r,f,e)),y=w,a=0;a<=h-3;a++)s.removeDuplicates(a,t),h=t.length,a+3<=h&&(o=t[a],r=t[a+1],c=t[a+2],l=s.controlPoints(o,r,c),ot(u).controlOut(y),y=l[1],k=l[0],u.push(new i.Segment(r,k)));return p?(o=t[h-2],r=t[h-1],c=t[0],l=s.controlPoints(o,r,c),ot(u).controlOut(y),u.push(new i.Segment(r,l[0])),ot(u).controlOut(l[1]),u.push(new i.Segment(c,b))):(v=s.tangent(r,c,f,e),ot(u).controlOut(y),u.push(new i.Segment(c,s.secondControlPoint(v,r,c,f,e)))),u},removeDuplicates:function(n,t){while(t[n].equals(t[n+1])||t[n+1].equals(t[n+2]))t.splice(n+1,1)},invertAxis:function(n,t,i){var f=this,e,u,r=!1;return n.x===t.x?r=!0:t.x===i.x?(t.y<i.y&&n.y<=t.y||i.y<t.y&&t.y<=n.y)&&(r=!0):(e=f.lineFunction(n,t),u=f.calculateFunction(e,i.x),n.y<=t.y&&i.y<=u||t.y<=n.y&&i.y>=u||(r=!0)),r},isLine:function(n,t,i){var u=this,f=u.lineFunction(n,t),e=u.calculateFunction(f,i.x);return n.x==t.x&&t.x==i.x||r(e,1)===r(i.y,1)},lineFunction:function(n,t){var i=(t.y-n.y)/(t.x-n.x),r=n.y-i*n.x;return[r,i]},controlPoints:function(n,t,i){var u=this,o=f,r=e,a=!1,v=!1,s,h,c,l,w=u.EXTREMUM_ALLOWED_DEVIATION,y,p;return u.isLine(n,t,i)?s=u.tangent(n,t,f,e):(h={x:u.isMonotonicByField(n,t,i,f),y:u.isMonotonicByField(n,t,i,e)},h.x&&h.y?(s=u.tangent(n,i,f,e),a=!0):(u.invertAxis(n,t,i)&&(o=e,r=f),h[o]?s=0:(y=i[r]<n[r]&&n[r]<=t[r]||n[r]<i[r]&&t[r]<=n[r]?u.sign((i[r]-n[r])*(t[o]-n[o])):-u.sign((i[o]-n[o])*(t[r]-n[r])),s=w*y,v=!0))),l=u.secondControlPoint(s,n,t,o,r),v&&(p=o,o=r,r=p),c=u.firstControlPoint(s,t,i,o,r),a&&(u.restrictControlPoint(n,t,l,s),u.restrictControlPoint(t,i,c,s)),[l,c]},sign:function(n){return n<=0?-1:1},restrictControlPoint:function(n,t,i,r){n.y<t.y?t.y<i.y?(i.x=n.x+(t.y-n.y)/r,i.y=t.y):i.y<n.y&&(i.x=t.x-(t.y-n.y)/r,i.y=n.y):i.y<t.y?(i.x=n.x-(n.y-t.y)/r,i.y=t.y):n.y<i.y&&(i.x=t.x+(n.y-t.y)/r,i.y=n.y)},tangent:function(n,t,i,r){var u=t[i]-n[i],f=t[r]-n[r];return u===0?0:f/u},isMonotonicByField:function(n,t,i,r){return i[r]>t[r]&&t[r]>n[r]||i[r]<t[r]&&t[r]<n[r]},firstControlPoint:function(n,t,i,r,u){var f=this,e=t[r],s=i[r],o=(s-e)*f.WEIGHT;return f.point(e+o,t[u]+o*n,r,u)},secondControlPoint:function(n,t,i,r,u){var f=this,s=t[r],e=i[r],o=(e-s)*f.WEIGHT;return f.point(e-o,i[u]-o*n,r,u)},point:function(n,t,i,r){var u=new g.Point;return u[i]=n,u[r]=t,u},calculateFunction:function(n,t){for(var r=0,u=n.length,i=0;i<u;i++)r+=Math.pow(t,i)*n[i];return r}};li._element=document.createElement("span");s(p.dataviz,{AXIS_LABEL_CLICK:pi,COORD_PRECISION:b,DEFAULT_PRECISION:h,DEFAULT_WIDTH:ki,DEFAULT_HEIGHT:bi,DEFAULT_FONT:wi,INITIAL_ANIMATION_DURATION:600,NOTE_CLICK:nr,NOTE_HOVER:tr,CLIP:"clip",Axis:vt,AxisLabel:ti,Box2D:u,BoxElement:rt,ChartElement:a,CurveProcessor:ii,ExportMixin:cr,FloatElement:fr,LogarithmicAxis:uu,Note:sr,NumericAxis:ru,Point2D:c,Ring:ft,RootElement:iu,Sector:rr,ShapeBuilder:at,ShapeElement:hr,Text:ur,TextBox:ct,Title:oi,alignPathToPixel:ri,autoFormat:vr,autoMajorUnit:si,boxDiff:lr,dateComparer:ou,decodeEntities:li,getSpacing:it,inArray:ut,interpolateValue:fu,mwDelta:su,rotatePoint:yt,round:r,ceil:hi,floor:ci})}(window.kendo.jQuery),function(){var s=window.kendo,h=s.dataviz.ui,r=s.deepExtend,e=1.5,u=.4,i="#000",o="Arial,Helvetica,sans-serif",l="11px "+o,f="12px "+o,c="16px "+o,n="#fff",a={title:{font:c},legend:{labels:{font:f}},seriesDefaults:{visible:!0,labels:{font:l},donut:{margin:1},line:{width:2},vericalLine:{width:2},scatterLine:{width:1},area:{opacity:.4,markers:{visible:!1,size:6},highlight:{markers:{border:{color:"#fff",opacity:1,width:1}}},line:{opacity:1,width:0}},verticalArea:{opacity:.4,markers:{visible:!1,size:6},line:{opacity:1,width:0}},radarLine:{width:2,markers:{visible:!1}},radarArea:{opacity:.5,markers:{visible:!1,size:6},line:{opacity:1,width:0}},candlestick:{line:{width:1,color:i},border:{width:1,_brightness:.8},gap:1,spacing:.3,downColor:n,highlight:{line:{width:2},border:{width:2,opacity:1}}},ohlc:{line:{width:1},gap:1,spacing:.3,highlight:{line:{width:3,opacity:1}}},bubble:{opacity:.6,border:{width:0},labels:{background:"transparent"}},bar:{gap:e,spacing:u},column:{gap:e,spacing:u},rangeColumn:{gap:e,spacing:u},rangeBar:{gap:e,spacing:u},waterfall:{gap:.5,spacing:u,line:{width:1,color:i}},horizontalWaterfall:{gap:.5,spacing:u,line:{width:1,color:i}},bullet:{gap:e,spacing:u,target:{color:"#ff0000"}},verticalBullet:{gap:e,spacing:u,target:{color:"#ff0000"}},boxPlot:{outliersField:"",meanField:"",whiskers:{width:1,color:i},mean:{width:1,color:i},median:{width:1,color:i},border:{width:1,_brightness:.8},gap:1,spacing:.3,downColor:n,highlight:{whiskers:{width:2},border:{width:2,opacity:1}}},funnel:{labels:{color:"",background:""}},notes:{icon:{size:7,border:{width:1}},label:{padding:3,font:f},line:{length:10,width:1},visible:!0}},categoryAxis:{majorGridLines:{visible:!0}},axisDefaults:{labels:{font:f},title:{font:c,margin:5},crosshair:{tooltip:{font:f}},notes:{icon:{size:7,border:{width:1}},label:{padding:3,font:f},line:{length:10,width:1},visible:!0}},tooltip:{font:f},navigator:{pane:{height:90,margin:{top:10}}}},v={scale:{labels:{font:f}}},y={shapeDefaults:{hover:{opacity:.2},stroke:{width:0}},editable:{resize:{handles:{width:7,height:7}}},selectable:{stroke:{width:1,dashType:"dot"}},connectionDefaults:{stroke:{width:2},selection:{handles:{width:8,height:8}},editable:{tools:["edit","delete"]}}},p=h.themes,t=h.registerTheme=function(n,t){var u={},i;u.chart=r({},a,t.chart);u.gauge=r({},v,t.gauge);u.diagram=r({},y,t.diagram);u.treeMap=r({},t.treeMap);i=u.chart.seriesDefaults;i.verticalLine=r({},i.line);i.verticalArea=r({},i.area);i.polarArea=r({},i.radarArea);i.polarLine=r({},i.radarLine);p[n]=u};t("black",{chart:{title:{color:n},legend:{labels:{color:n},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:n},errorBars:{color:n},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:n},line:{color:"#8e8e8e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#3d3d3d"}},scatter:{markers:{background:"#3d3d3d"}},scatterLine:{markers:{background:"#3d3d3d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},candlestick:{downColor:"#555",line:{color:n},border:{_brightness:1.5,opacity:1},highlight:{border:{color:n,opacity:.2}}},ohlc:{line:{color:n}}},chartArea:{background:"#3d3d3d"},seriesColors:["#0081da","#3aafff","#99c900","#ffeb3d","#b20753","#ff4195"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:n},majorGridLines:{color:"#545454"},minorGridLines:{color:"#454545"},title:{color:n},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:n},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#0070e4"},scale:{rangePlaceholderColor:"#1d1d1d",labels:{color:n},minorTicks:{color:n},majorTicks:{color:n},line:{color:n}}},diagram:{shapeDefaults:{fill:{color:"#0066cc"},connectorDefaults:{fill:{color:n},stroke:{color:"#384049"},hover:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}},content:{color:n}},editable:{resize:{handles:{fill:{color:"#3d3d3d"},stroke:{color:n},hover:{fill:{color:n},stroke:{color:n}}}},rotate:{thumb:{stroke:{color:n},fill:{color:n}}}},selectable:{stroke:{color:n}},connectionDefaults:{stroke:{color:n},content:{color:n},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0081da","#314b5c"],["#3aafff","#3c5464"],["#99c900","#4f5931"],["#ffeb3d","#64603d"],["#b20753","#543241"],["#ff4195","#643e4f"]]}});t("blueopal",{chart:{title:{color:"#293135"},legend:{labels:{color:"#293135"},inactiveItems:{labels:{color:"#27A5BA"},markers:{color:"#27A5BA"}}},seriesDefaults:{labels:{color:i,background:n,opacity:.5},errorBars:{color:"#293135"},candlestick:{downColor:"#c4d0d5",line:{color:"#9aabb2"}},waterfall:{line:{color:"#9aabb2"}},horizontalWaterfall:{line:{color:"#9aabb2"}},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}},seriesColors:["#0069a5","#0098ee","#7bd2f6","#ffb800","#ff8517","#e34a00"],axisDefaults:{line:{color:"#9aabb2"},labels:{color:"#293135"},majorGridLines:{color:"#c4d0d5"},minorGridLines:{color:"#edf1f2"},title:{color:"#293135"},crosshair:{color:"#9aabb2"},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}}},gauge:{pointer:{color:"#005c83"},scale:{rangePlaceholderColor:"#daecf4",labels:{color:"#293135"},minorTicks:{color:"#293135"},majorTicks:{color:"#293135"},line:{color:"#293135"}}},diagram:{shapeDefaults:{fill:{color:"#7ec6e3"},connectorDefaults:{fill:{color:"#003f59"},stroke:{color:n},hover:{fill:{color:n},stroke:{color:"#003f59"}}},content:{color:"#293135"}},editable:{resize:{handles:{fill:{color:n},stroke:{color:"#003f59"},hover:{fill:{color:"#003f59"},stroke:{color:"#003f59"}}}},rotate:{thumb:{stroke:{color:"#003f59"},fill:{color:"#003f59"}}}},selectable:{stroke:{color:"#003f59"}},connectionDefaults:{stroke:{color:"#003f59"},content:{color:"#293135"},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0069a5","#bad7e7"],["#0098ee","#b9e0f5"],["#7bd2f6","#ceeaf6"],["#ffb800","#e6e3c4"],["#ff8517","#e4d8c8"],["#e34a00","#ddccc2"]]}});t("highcontrast",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#66465B"},markers:{color:"#66465B"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}},pie:{overlay:{gradient:"sharpGlass"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#2c232b"}},scatter:{markers:{background:"#2c232b"}},scatterLine:{markers:{background:"#2c232b"}},area:{opacity:.5},waterfall:{line:{color:"#ffffff"}},horizontalWaterfall:{line:{color:"#ffffff"}},candlestick:{downColor:"#664e62",line:{color:"#ffffff"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#ffffff",opacity:1}}},ohlc:{line:{color:"#ffffff"}}},chartArea:{background:"#2c232b"},seriesColors:["#a7008f","#ffb800","#3aafff","#99c900","#b20753","#ff4195"],axisDefaults:{line:{color:"#ffffff"},labels:{color:"#ffffff"},majorGridLines:{color:"#664e62"},minorGridLines:{color:"#4f394b"},title:{color:"#ffffff"},crosshair:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}}}},gauge:{pointer:{color:"#a7008f"},scale:{rangePlaceholderColor:"#2c232b",labels:{color:"#ffffff"},minorTicks:{color:"#2c232b"},majorTicks:{color:"#664e62"},line:{color:"#ffffff"}}},diagram:{shapeDefaults:{fill:{color:"#a7018f"},connectorDefaults:{fill:{color:n},stroke:{color:"#2c232b"},hover:{fill:{color:"#2c232b"},stroke:{color:n}}},content:{color:n}},editable:{resize:{handles:{fill:{color:"#2c232b"},stroke:{color:n},hover:{fill:{color:n},stroke:{color:n}}}},rotate:{thumb:{stroke:{color:n},fill:{color:n}}}},selectable:{stroke:{color:n}},connectionDefaults:{stroke:{color:n},content:{color:n},selection:{handles:{fill:{color:"#2c232b"},stroke:{color:n}}}}},treeMap:{colors:[["#a7008f","#451c3f"],["#ffb800","#564122"],["#3aafff","#2f3f55"],["#99c900","#424422"],["#b20753","#471d33"],["#ff4195","#562940"]]}});t("default",{chart:{title:{color:"#8e8e8e"},legend:{labels:{color:"#232323"},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:i,background:n,opacity:.5},errorBars:{color:"#232323"},candlestick:{downColor:"#dedede",line:{color:"#8d8d8d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}},seriesColors:["#ff6800","#a0a700","#ff8d00","#678900","#ffb53c","#396000"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:"#232323"},minorGridLines:{color:"#f0f0f0"},majorGridLines:{color:"#dfdfdf"},title:{color:"#232323"},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#ea7001"},scale:{rangePlaceholderColor:"#dedede",labels:{color:"#2e2e2e"},minorTicks:{color:"#2e2e2e"},majorTicks:{color:"#2e2e2e"},line:{color:"#2e2e2e"}}},diagram:{shapeDefaults:{fill:{color:"#e15613"},connectorDefaults:{fill:{color:"#282828"},stroke:{color:n},hover:{fill:{color:n},stroke:{color:"#282828"}}},content:{color:"#2e2e2e"}},editable:{resize:{handles:{fill:{color:n},stroke:{color:"#282828"},hover:{fill:{color:"#282828"},stroke:{color:"#282828"}}}},rotate:{thumb:{stroke:{color:"#282828"},fill:{color:"#282828"}}}},selectable:{stroke:{color:"#a7018f"}},connectionDefaults:{stroke:{color:"#282828"},content:{color:"#2e2e2e"},selection:{handles:{fill:{color:n},stroke:{color:"#282828"}}}}},treeMap:{colors:[["#ff6800","#edcfba"],["#a0a700","#dadcba"],["#ff8d00","#edd7ba"],["#678900","#cfd6ba"],["#ffb53c","#eddfc6"],["#396000","#c6ceba"]]}});t("silver",{chart:{title:{color:"#4e5968"},legend:{labels:{color:"#4e5968"},inactiveItems:{labels:{color:"#B1BCC8"},markers:{color:"#B1BCC8"}}},seriesDefaults:{labels:{color:"#293135",background:"#eaeaec",opacity:.5},errorBars:{color:"#4e5968"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}},line:{markers:{background:"#eaeaec"}},scatter:{markers:{background:"#eaeaec"}},scatterLine:{markers:{background:"#eaeaec"}},pie:{connectors:{color:"#A6B1C0"}},donut:{connectors:{color:"#A6B1C0"}},waterfall:{line:{color:"#a6b1c0"}},horizontalWaterfall:{line:{color:"#a6b1c0"}},candlestick:{downColor:"#a6afbe"}},chartArea:{background:"#eaeaec"},seriesColors:["#007bc3","#76b800","#ffae00","#ef4c00","#a419b7","#430B62"],axisDefaults:{line:{color:"#a6b1c0"},labels:{color:"#4e5968"},majorGridLines:{color:"#dcdcdf"},minorGridLines:{color:"#eeeeef"},title:{color:"#4e5968"},crosshair:{color:"#a6b1c0"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}}}},gauge:{pointer:{color:"#0879c0"},scale:{rangePlaceholderColor:"#f3f3f4",labels:{color:"#515967"},minorTicks:{color:"#515967"},majorTicks:{color:"#515967"},line:{color:"#515967"}}},diagram:{shapeDefaults:{fill:{color:"#1c82c2"},connectorDefaults:{fill:{color:"#515967"},stroke:{color:n},hover:{fill:{color:n},stroke:{color:"#282828"}}},content:{color:"#515967"}},editable:{resize:{handles:{fill:{color:n},stroke:{color:"#515967"},hover:{fill:{color:"#515967"},stroke:{color:"#515967"}}}},rotate:{thumb:{stroke:{color:"#515967"},fill:{color:"#515967"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#515967"},content:{color:"#515967"},selection:{handles:{fill:{color:n},stroke:{color:"#515967"}}}}},treeMap:{colors:[["#007bc3","#c2dbea"],["#76b800","#dae7c3"],["#ffae00","#f5e5c3"],["#ef4c00","#f2d2c3"],["#a419b7","#e3c7e8"],["#430b62","#d0c5d7"]]}});t("metro",{chart:{title:{color:"#777777"},legend:{labels:{color:"#777777"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:i},errorBars:{color:"#777777"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},waterfall:{line:{color:"#c7c7c7"}},horizontalWaterfall:{line:{color:"#c7c7c7"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#8ebc00","#309b46","#25a0da","#ff6900","#e61e26","#d8e404","#16aba9","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#c7c7c7"},labels:{color:"#777777"},minorGridLines:{color:"#c7c7c7"},majorGridLines:{color:"#c7c7c7"},title:{color:"#777777"},crosshair:{color:"#c7c7c7"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}}}},gauge:{pointer:{color:"#8ebc00"},scale:{rangePlaceholderColor:"#e6e6e6",labels:{color:"#777"},minorTicks:{color:"#777"},majorTicks:{color:"#777"},line:{color:"#777"}}},diagram:{shapeDefaults:{fill:{color:"#8ebc00"},connectorDefaults:{fill:{color:i},stroke:{color:n},hover:{fill:{color:n},stroke:{color:i}}},content:{color:"#777"}},editable:{resize:{handles:{fill:{color:n},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:"#787878"},fill:{color:"#787878"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#787878"},content:{color:"#777"},selection:{handles:{fill:{color:n},stroke:{color:"#787878"}}}}},treeMap:{colors:[["#8ebc00","#e8f2cc"],["#309b46","#d6ebda"],["#25a0da","#d3ecf8"],["#ff6900","#ffe1cc"],["#e61e26","#fad2d4"],["#d8e404","#f7facd"],["#16aba9","#d0eeee"],["#7e51a1","#e5dcec"],["#313131","#d6d6d6"],["#ed1691","#fbd0e9"]]}});t("metroblack",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#797979"},markers:{color:"#797979"}}},seriesDefaults:{border:{_brightness:1},labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}},line:{markers:{background:"#0e0e0e"}},bubble:{opacity:.6},scatter:{markers:{background:"#0e0e0e"}},scatterLine:{markers:{background:"#0e0e0e"}},candlestick:{downColor:"#828282",line:{color:"#ffffff"}},waterfall:{line:{color:"#cecece"}},horizontalWaterfall:{line:{color:"#cecece"}},overlay:{gradient:"none"}},chartArea:{background:"#0e0e0e"},seriesColors:["#00aba9","#309b46","#8ebc00","#ff6900","#e61e26","#d8e404","#25a0da","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#cecece"},labels:{color:"#ffffff"},minorGridLines:{color:"#2d2d2d"},majorGridLines:{color:"#333333"},title:{color:"#ffffff"},crosshair:{color:"#cecece"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}}}},gauge:{pointer:{color:"#00aba9"},scale:{rangePlaceholderColor:"#2d2d2d",labels:{color:"#ffffff"},minorTicks:{color:"#333333"},majorTicks:{color:"#cecece"},line:{color:"#cecece"}}},diagram:{shapeDefaults:{fill:{color:"#00aba9"},connectorDefaults:{fill:{color:n},stroke:{color:"#0e0e0e"},hover:{fill:{color:"#0e0e0e"},stroke:{color:n}}},content:{color:n}},editable:{resize:{handles:{fill:{color:"#0e0e0e"},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:n},fill:{color:n}}}},selectable:{stroke:{color:"#787878"}},connectionDefaults:{stroke:{color:n},content:{color:n},selection:{handles:{fill:{color:"#0e0e0e"},stroke:{color:n}}}}},treeMap:{colors:[["#00aba9","#0b2d2d"],["#309b46","#152a19"],["#8ebc00","#28310b"],["#ff6900","#3e200b"],["#e61e26","#391113"],["#d8e404","#36390c"],["#25a0da","#132b37"],["#7e51a1","#241b2b"],["#313131","#151515"],["#ed1691","#3b1028"]]}});t("moonlight",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#A1A7AB"},markers:{color:"#A1A7AB"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#212a33"}},bubble:{opacity:.6},scatter:{markers:{background:"#212a33"}},scatterLine:{markers:{background:"#212a33"}},area:{opacity:.3},candlestick:{downColor:"#757d87",line:{color:"#ea9d06"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:n,opacity:.2}}},waterfall:{line:{color:"#8c909e"}},horizontalWaterfall:{line:{color:"#8c909e"}},ohlc:{line:{color:"#ea9d06"}}},chartArea:{background:"#212a33"},seriesColors:["#ffca08","#ff710f","#ed2e24","#ff9f03","#e13c02","#a00201"],axisDefaults:{line:{color:"#8c909e"},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},labels:{color:"#ffffff"},majorGridLines:{color:"#3e424d"},minorGridLines:{color:"#2f3640"},title:{color:"#ffffff"},crosshair:{color:"#8c909e"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}}}},gauge:{pointer:{color:"#f4af03"},scale:{rangePlaceholderColor:"#2f3640",labels:{color:n},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},line:{color:"#8c909e"}}},diagram:{shapeDefaults:{fill:{color:"#f3ae03"},connectorDefaults:{fill:{color:n},stroke:{color:"#414550"},hover:{fill:{color:"#414550"},stroke:{color:n}}},content:{color:n}},editable:{resize:{handles:{fill:{color:"#414550"},stroke:{color:n},hover:{fill:{color:n},stroke:{color:n}}}},rotate:{thumb:{stroke:{color:n},fill:{color:n}}}},selectable:{stroke:{color:n}},connectionDefaults:{stroke:{color:n},content:{color:n},selection:{handles:{fill:{color:"#414550"},stroke:{color:n}}}}},treeMap:{colors:[["#ffca08","#4e4b2b"],["#ff710f","#4e392d"],["#ed2e24","#4b2c31"],["#ff9f03","#4e422a"],["#e13c02","#482e2a"],["#a00201","#3b232a"]]}});t("uniform",{chart:{title:{color:"#686868"},legend:{labels:{color:"#686868"},inactiveItems:{labels:{color:"#B6B6B6"},markers:{color:"#B6B6B6"}}},seriesDefaults:{labels:{color:"#686868"},errorBars:{color:"#686868"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.3},candlestick:{downColor:"#cccccc",line:{color:"#cccccc"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#cccccc",opacity:.2}}},waterfall:{line:{color:"#9e9e9e"}},horizontalWaterfall:{line:{color:"#9e9e9e"}},ohlc:{line:{color:"#cccccc"}}},chartArea:{background:"#ffffff"},seriesColors:["#527aa3","#6f91b3","#8ca7c2","#a8bdd1","#c5d3e0","#e2e9f0"],axisDefaults:{line:{color:"#9e9e9e"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},labels:{color:"#686868"},majorGridLines:{color:"#dadada"},minorGridLines:{color:"#e7e7e7"},title:{color:"#686868"},crosshair:{color:"#9e9e9e"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}}}},gauge:{pointer:{color:"#527aa3"},scale:{rangePlaceholderColor:"#e7e7e7",labels:{color:"#686868"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},line:{color:"#9e9e9e"}}},diagram:{shapeDefaults:{fill:{color:"#d1d1d1"},connectorDefaults:{fill:{color:"#686868"},stroke:{color:n},hover:{fill:{color:n},stroke:{color:"#686868"}}},content:{color:"#686868"}},editable:{resize:{handles:{fill:{color:n},stroke:{color:"#686868"},hover:{fill:{color:"#686868"},stroke:{color:"#686868"}}}},rotate:{thumb:{stroke:{color:"#686868"},fill:{color:"#686868"}}}},selectable:{stroke:{color:"#686868"}},connectionDefaults:{stroke:{color:"#686868"},content:{color:"#686868"},selection:{handles:{fill:{color:n},stroke:{color:"#686868"}}}}},treeMap:{colors:[["#527aa3","#d0d8e1"],["#6f91b3","#d6dde4"],["#8ca7c2","#dce1e7"],["#a8bdd1","#e2e6ea"],["#c5d3e0","#e7eaed"],["#e2e9f0","#edeff0"]]}});t("bootstrap",{chart:{title:{color:"#333333"},legend:{labels:{color:"#333333"},inactiveItems:{labels:{color:"#999999"},markers:{color:"#9A9A9A"}}},seriesDefaults:{labels:{color:"#333333"},overlay:{gradient:"none"},errorBars:{color:"#343434"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#333333"},line:{color:"#000000"}},pie:{overlay:{gradient:"none"}},donut:{overlay:{gradient:"none"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.8},candlestick:{downColor:"#d0d0d0",line:{color:"#333333"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#b8b8b8",opacity:.2}}},waterfall:{line:{color:"#cccccc"}},horizontalWaterfall:{line:{color:"#cccccc"}},ohlc:{line:{color:"#333333"}}},chartArea:{background:"#ffffff"},seriesColors:["#428bca","#5bc0de","#5cb85c","#f2b661","#e67d4a","#da3b36"],axisDefaults:{line:{color:"#cccccc"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},labels:{color:"#333333"},majorGridLines:{color:"#cccccc"},minorGridLines:{color:"#ebebeb"},title:{color:"#333333"},crosshair:{color:"#000000"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#ffffff"},line:{color:"#000000"}}}},gauge:{pointer:{color:"#428bca"},scale:{rangePlaceholderColor:"#cccccc",labels:{color:"#333333"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},line:{color:"#cccccc"}}},diagram:{shapeDefaults:{fill:{color:"#428bca"},connectorDefaults:{fill:{color:"#333333"},stroke:{color:n},hover:{fill:{color:n},stroke:{color:"#333333"}}},content:{color:"#333333"}},editable:{resize:{handles:{fill:{color:n},stroke:{color:"#333333"},hover:{fill:{color:"#333333"},stroke:{color:"#333333"}}}},rotate:{thumb:{stroke:{color:"#333333"},fill:{color:"#333333"}}}},selectable:{stroke:{color:"#333333"}},connectionDefaults:{stroke:{color:"#c4c4c4"},content:{color:"#333333"},selection:{handles:{fill:{color:n},stroke:{color:"#333333"}},stroke:{color:"#333333"}}}},treeMap:{colors:[["#428bca","#d1e0ec"],["#5bc0de","#d6eaf0"],["#5cb85c","#d6e9d6"],["#5cb85c","#f4e8d7"],["#e67d4a","#f2ddd3"],["#da3b36","#f0d0cf"]]}});t("flat",{chart:{title:{color:"#4c5356"},legend:{labels:{color:"#4c5356"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#4c5356"},errorBars:{color:"#4c5356"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#cdcdcd"}},horizontalWaterfall:{line:{color:"#cdcdcd"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#10c4b2","#ff7663","#ffb74f","#a2df53","#1c9ec4","#ff63a5","#1cc47b"],axisDefaults:{line:{color:"#cdcdcd"},labels:{color:"#4c5356"},minorGridLines:{color:"#cdcdcd"},majorGridLines:{color:"#cdcdcd"},title:{color:"#4c5356"},crosshair:{color:"#cdcdcd"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}}}},gauge:{pointer:{color:"#10c4b2"},scale:{rangePlaceholderColor:"#cdcdcd",labels:{color:"#4c5356"},minorTicks:{color:"#4c5356"},majorTicks:{color:"#4c5356"},line:{color:"#4c5356"}}},diagram:{shapeDefaults:{fill:{color:"#10c4b2"},connectorDefaults:{fill:{color:"#363940"},stroke:{color:n},hover:{fill:{color:n},stroke:{color:"#363940"}}},content:{color:"#4c5356"}},editable:{resize:{handles:{fill:{color:n},stroke:{color:"#363940"},hover:{fill:{color:"#363940"},stroke:{color:"#363940"}}}},rotate:{thumb:{stroke:{color:"#363940"},fill:{color:"#363940"}}}},selectable:{stroke:{color:"#363940"}},connectionDefaults:{stroke:{color:"#cdcdcd"},content:{color:"#4c5356"},selection:{handles:{fill:{color:n},stroke:{color:"#363940"}},stroke:{color:"#363940"}}}},treeMap:{colors:[["#10c4b2","#cff3f0"],["#ff7663","#ffe4e0"],["#ffb74f","#fff1dc"],["#a2df53","#ecf9dd"],["#1c9ec4","#d2ecf3"],["#ff63a5","#ffe0ed"],["#1cc47b","#d2f3e5"]]}});t("material",{chart:{title:{color:"#444444"},legend:{labels:{color:"#444444"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#444444"},errorBars:{color:"#444444"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#e5e5e5"}},horizontalWaterfall:{line:{color:"#e5e5e5"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#e5e5e5"},labels:{color:"#444444"},minorGridLines:{color:"#e5e5e5"},majorGridLines:{color:"#e5e5e5"},title:{color:"#444444"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#e5e5e5",labels:{color:"#444444"},minorTicks:{color:"#444444"},majorTicks:{color:"#444444"},line:{color:"#444444"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:n},hover:{fill:{color:n},stroke:{color:"#7f7f7f"}}},content:{color:"#444444"}},editable:{resize:{handles:{fill:{color:n},stroke:{color:"#444444"},hover:{fill:{color:"#444444"},stroke:{color:"#444444"}}}},rotate:{thumb:{stroke:{color:"#444444"},fill:{color:"#444444"}}}},selectable:{stroke:{color:"#444444"}},connectionDefaults:{stroke:{color:"#7f7f7f"},content:{color:"#444444"},selection:{handles:{fill:{color:n},stroke:{color:"#444444"}},stroke:{color:"#444444"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}});t("materialblack",{chart:{title:{color:"#fff"},legend:{labels:{color:"#fff"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#fff"},errorBars:{color:"#fff"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#fff"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#4d4d4d"}},horizontalWaterfall:{line:{color:"#4d4d4d"}},overlay:{gradient:"none"},border:{_brightness:1}},chartArea:{background:"#1c1c1c"},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#4d4d4d"},labels:{color:"#fff"},minorGridLines:{color:"#4d4d4d"},majorGridLines:{color:"#4d4d4d"},title:{color:"#fff"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#4d4d4d"}},label:{color:"#fff"},line:{color:"#4d4d4d"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#4d4d4d",labels:{color:"#fff"},minorTicks:{color:"#fff"},majorTicks:{color:"#fff"},line:{color:"#fff"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:n},hover:{fill:{color:n},stroke:{color:"#7f7f7f"}}},content:{color:"#fff"}},editable:{resize:{handles:{fill:{color:n},stroke:{color:"#fff"},hover:{fill:{color:"#fff"},stroke:{color:"#fff"}}}},rotate:{thumb:{stroke:{color:"#fff"},fill:{color:"#fff"}}}},selectable:{stroke:{color:"#fff"}},connectionDefaults:{stroke:{color:"#7f7f7f"},content:{color:"#fff"},selection:{handles:{fill:{color:n},stroke:{color:"#fff"}},stroke:{color:"#fff"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}})}(window.kendo.jQuery),function(n,t){function ui(){this._defaults={}}function fa(n,t,i,r){var f,o=(r.x-i.x)*(n.y-i.y)-(r.y-i.y)*(n.x-i.x),e=(r.y-i.y)*(t.x-n.x)-(r.x-i.x)*(t.y-n.y),u;return e!==0&&(u=o/e,f=new a(n.x+u*(t.x-n.x),n.y+u*(t.y-n.y))),f}function ry(n,t){var u=n.series,i,c=u.length,f,l=n.seriesDefaults,o=r({},n.seriesDefaults),s=t?r({},t.seriesDefaults):{},h=r({},s),e;for(ea(o),ea(h),i=0;i<c;i++)f=u[i].type||n.seriesDefaults.type,e=r({data:[]},h,s[f],{tooltip:n.tooltip},o,l[f]),u[i]._defaults=e,u[i]=r({},e,u[i])}function ea(n){delete n.bar;delete n.column;delete n.rangeColumn;delete n.line;delete n.verticalLine;delete n.pie;delete n.donut;delete n.area;delete n.verticalArea;delete n.scatter;delete n.scatterLine;delete n.bubble;delete n.candlestick;delete n.ohlc;delete n.boxPlot;delete n.bullet;delete n.verticalBullet;delete n.polarArea;delete n.polarLine;delete n.radarArea;delete n.radarLine;delete n.waterfall}function to(n){for(var f=n.series,e=n.seriesColors||[],i,u,r,t=0;t<f.length;t++)i=f[t],u=e[t%e.length],i.color=i.color||u,r=i._defaults,r&&(r.color=r.color||u)}function uy(n){var t;yf([pt,wt,v,c],function(){t=this+"Axes";n[t]&&(n[this+"Axis"]=n[t],delete n[t])})}function fy(t,i){var u=(i||{}).axisDefaults||{};yf([pt,wt,v,c],function(){var i=this+"Axis",f=[].concat(t[i]),e=t.axisDefaults||{};f=n.map(f,function(n){var t=(n||{}).color,f=r({},u,u[i],e,e[i],{line:{color:t},labels:{color:t},title:{color:t}},n);return delete f[i],f});t[i]=f.length>1?f:f[0]})}function io(n){for(var u=n.length,r=0,t=0;t<u;t++)r=i.max(r,n[t].data.length);return r}function uh(n){return n*n}function lf(n,t){if(t===null)return t;var i=yu(n,!0);return i(t)}function oa(n,t){if(t===null)return t;var r="_date_"+n,i=t[r];return i||(i=l(yu(n,!0)(t)),t[r]=i),i}function l(n){var t,i;if(n instanceof Date)t=n;else if(typeof n===ru)t=o.parseDate(n)||new Date(n);else if(n)if(rr(n))for(t=[],i=0;i<n.length;i++)t.push(l(n[i]));else t=new Date(n);return t}function dt(n){return rr(n)?wa(n,dt):n?l(n).getTime():void 0}function it(n,t,i,r){var u=n,f;return n&&(n=l(n),f=n.getHours(),i===eu?(u=new Date(n.getFullYear()+t,0,1),o.date.adjustDST(u,0)):i===gu?(u=new Date(n.getFullYear(),n.getMonth()+t,1),o.date.adjustDST(u,f)):i===le?(u=it(sa(n,r),t*7,gi),o.date.adjustDST(u,f)):i===gi?(u=new Date(n.getFullYear(),n.getMonth(),n.getDate()+t),o.date.adjustDST(u,f)):i===ee?(u=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()+t),t>0&&ar(n,u)&&(u=it(n,t+1,i,r))):i===go?(u=new Date(n.getTime()+t*uu),u.getSeconds()>0&&u.setSeconds(0)):i===fs&&(u=new Date(n.getTime()+t*ss)),u.getMilliseconds()>0&&u.setMilliseconds(0)),u}function sa(n,t){var i=n.getDay(),r=0;if(!isNaN(i))for(t=t||0;i!==t;)i===0?i=6:i--,r++;return ot(n,-r*ci)}function ro(n,t,i){return n=l(n),it(n,0,t,i)}function ha(n,t,i){return(n=l(n),n&&ro(n,t,i).getTime()===n.getTime())?n:it(n,1,t,i)}function uo(n,t){var i=n.getTime()-t,r=n.getTimezoneOffset()-t.getTimezoneOffset();return i-r*uu}function ot(n,t){var r=n.getTimezoneOffset(),i=new Date(n.getTime()+t),u=i.getTimezoneOffset()-r;return new Date(i.getTime()+u*uu)}function af(n,t,r){return r===eu?t.getFullYear()-n.getFullYear():r===gu?af(n,t,eu)*12+t.getMonth()-n.getMonth():r===gi?i.floor(uo(t,n)/ci):i.floor((t-n)/he[r])}function vf(n){return n.length===1?n[0]:n}function fo(n){var u=n.length,t,i,r;if(u>0)for(i=0;i<u;i++)r=n[i].box,t?t.wrap(r):t=r.clone();return t||k()}function lr(n,t){return n&&t?n.toLowerCase()===t.toLowerCase():n===t}function ar(n,t){return n&&t?dt(n)===dt(t):n===t}function eo(n,t){t!==null&&n.push(t)}function fh(n,t){for(var u=0,f=t.length-1,r,e;u<=f;){if(r=i.floor((u+f)/2),e=t[r],e<n){u=r+1;continue}if(e>n){f=r-1;continue}while(ar(t[r-1],n))r--;return r}return t[r]<=n?r:r-1}function b(n){return typeof n=="number"&&!isNaN(n)}function oo(n){for(var u=n.length,i=0,r,t=0;t<u;t++)r=n[t],b(r)&&i++;return i}function eh(n){return oo(n)===n.length}function ey(n){for(var i,r,u={},t=0;t<n.length;t++)i=n[t],r=i.options.name,r&&(u[r]=i.range());return u}function vr(n,t,i,r){var u,f,h,o,s,e=!1;if(i=i||{},h=i.excluded=i.excluded||[],o=i.defaults=i.defaults||{},s=i.depth=i.depth||0,!(s>lv)){for(u in n)!g(u,i.excluded)&&n.hasOwnProperty(u)&&(f=n[u],fi(f)?(e=!0,r||(n[u]=nt(f(t),o[u]))):typeof f===hi&&(i.defaults=o[u],i.depth++,e=vr(f,t,i,r)||e,i.depth--));return e}}function oy(n,i){var c=[],e,h=n.groupNameTemplate,s,l=i.length,f;for(u(h)?(o.logToConsole("'groupNameTemplate' is obsolete and will be removed in future versions. Specify the group name template as 'series.name'"),h&&(e=yt(h))):(e=yt(n.name||""),e._slotCount===0&&(e=yt(u(n.name)?"#= group.value #: #= series.name #":"#= group.value #"))),s=0;s<l;s++)f=r({},n),fi(f.color)||(f.color=t),f._groupIx=s,c.push(f),e&&(f.name=e({series:f,group:i[s]}));return c}function ut(n,t){var i,r,u=[];for(t=[].concat(t),i=0;i<n.length;i++)r=n[i],g(r.type,t)&&u.push(r);return u}function so(t,i){if(t instanceof Date){for(var r=0,u=i.length;r<u;r++)if(ar(i[r],t))return r;return-1}return n.inArray(t,i)}function ca(n,t){t=t||fr;for(var i=1,r=n.length;i<r;i++)if(t(n[i],n[i-1])<0){n.sort(t);break}return n}function la(n,t){var i,r=ca(n,t),f=r.length,u=f>0?[r[0]]:[];for(t=t||fr,i=1;i<f;i++)t(r[i],ht(u))!==0&&u.push(r[i]);return u}function aa(n,t){var i=n.type,r=t instanceof Date;return!i&&r||lr(i,er)}function va(n){for(var i=[],e=n.length,u,t,f,r=0;r<e;r++)for(u=n[r],f=u.length,t=0;t<f;t++)i[t]=i[t]||[],i[t].push(u[t]);return i}function ya(n,t){if(n.indexOf(".")>-1)for(var r=n.split("."),i="",u;r.length>1;)i+=r.shift(),u=o.getter(i)(t)||{},o.setter(i)(t,u),i+="."}function pa(n){for(var u,t,e=n.data,f=0,r=0;r<e.length;r++)u=w.current.bindPoint(n,r),t=u.valueFields.value,typeof t===ru&&(t=parseFloat(t)),b(t)&&u.fields.visible!==!1&&(f+=i.abs(t));return f}function oh(n){var t=n.overlay;return t&&t.gradient&&t.gradient!="none"}var yf=n.each,rr=n.isArray,wa=n.map,i=Math,au=n.noop,ur=n.extend,y=n.proxy,o=window.kendo,vu=o.Class,sh=o.Observable,hh=o.data.DataSource,pf=o.ui.Widget,r=o.deepExtend,yu=o.getter,fi=o.isFunction,yt=o.template,e=o.dataviz,wf=e.Axis,ho=e.AxisLabel,k=e.Box2D,yr=e.BoxElement,f=e.ChartElement,pr=o.drawing.Color,ch=e.CurveProcessor,lh=e.FloatElement,ba=e.Note,ah=e.LogarithmicAxis,bf=e.NumericAxis,a=e.Point2D,ka=e.RootElement,da=e.Ring,wr=e.ShapeElement,vh=e.ShapeBuilder,sy=e.Text,kf=e.TextBox,yh=e.Title,pu=e.alignPathToPixel,st=e.autoFormat,fr=e.dateComparer,wi=e.getSpacing,g=e.inArray,df=e.interpolateValue,ph=e.mwDelta,p=e.round,ei=o.util,wu=ei.append,u=ei.defined,ht=ei.last,gt=ei.limitValue,ga=ei.sparseArrayLimits,nv=ei.sparseArrayMin,wh=ei.sparseArrayMax,bh=ei.renderTemplate,nt=ei.valueOrDefault,h=e.geometry,s=e.drawing,bi=".kendoChart",kh="above",bu="area",tv="auto",gf="fit",iv=e.AXIS_LABEL_CLICK,oi="bar",ne=.8,rv="below",br="#000",ki="bottom",ku="boxPlot",kr="bubble",dr="bullet",gr="candlestick",pt="category",d="center",te="change",nu="circle",uv="contextmenu"+bi,hy=e.CLIP,si="color",di="column",du=e.COORD_PRECISION,rt="k-",ie="custom",re="dataBound",er="date",gi="days",fv=e.DEFAULT_FONT,ev=e.DEFAULT_HEIGHT,ue=e.DEFAULT_PRECISION,ov=e.DEFAULT_WIDTH,dh=4,fe="donut",sv=50,co="drag",lo="dragEnd",ao="dragStart",gh="errorLow",nc="errorHigh",or="fadeIn",ct="first",tc="funnel",vo="glass",hv="horizontal",tu="horizontalWaterfall",ee="hours",ni=e.INITIAL_ANIMATION_DURATION,cv="insideBase",yo="insideEnd",po="interpolate",lt="left",ic="legendItemClick",rc="legendItemHover",oe="line",wo=8,bo="log",ft="max",lv=5,tt=Number.MAX_VALUE,ko="min",at=-Number.MAX_VALUE,go="minutes",gu="months",se="mouseleave"+bi,ns="mousemove.tracking",av="mouseover"+bi,vv="mouseout"+bi,ts="mousemove"+bi,yv=20,uc=150,fc="DOMMouseScroll"+bi+" mousewheel"+bi,pv=e.NOTE_CLICK,wv=e.NOTE_HOVER,nr="noteText",hi="object",nf="ohlc",sr="outsideEnd",hr="pie",bv=70,is="plotAreaClick",iu="rangeBar",tf="rangeColumn",ec="render",et="right",rs="scatter",us="scatterLine",fs="seconds",rf="selectStart",cr="select",uf="selectEnd",oc="seriesClick",sc="seriesHover",es="step",os="smooth",kv="stderr",ru="string",ss=1e3,uu=60*ss,hs=60*uu,ci=24*hs,cs=7*ci,ls=31*ci,as=365*ci,he={years:as,months:ls,weeks:cs,days:ci,hours:hs,minutes:uu,seconds:ss},ti="top",vt=5,dv=100,gv=100,ny="chart-tooltip-inverse",wt="value",fu="verticalArea",ce="verticalBullet",ff="verticalLine",ef="waterfall",le="weeks",tr="#fff",v="x",c="y",eu="years",vs="zero",ty=3,hc="zoomStart",cc="zoom",lc="zoomEnd",ou=[fs,go,ee,gi,le,gu,eu],ac=[oi,di,nf,gr,ku,dr,tf,iu,ef,tu],vc={seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},ys=pf.extend({init:function(n,i){var u=this,f,s;o.destroy(n);pf.fn.init.call(u,n);u.element.addClass(rt+this.options.name.toLowerCase()).css("position","relative");i&&(s=i.dataSource,i.dataSource=t);f=r({},u.options,i);u._originalOptions=r({},f);u._initTheme(f);u._initSurface();u.bind(u.events,u.options);u.wrapper=u.element;i&&(i.dataSource=s);u._initDataSource(i);o.notify(u,e.ui)},_initTheme:function(i){for(var f=this,s=e.ui.themes||{},o=i.theme,h=s[o]||s[o.toLowerCase()],c=o&&h?h.chart:{},l=[],a=i.series||[],u=0;u<a.length;u++)l.push(n.extend({},a[u]));i.series=l;uy(i);f._applyDefaults(i,c);i.seriesColors===null&&(i.seriesColors=t);f.options=r({},c,i);to(f.options)},_initDataSource:function(n){var t=this,i=(n||{}).dataSource;t._dataChangeHandler=y(t._onDataChanged,t);t.dataSource=hh.create(i).bind(te,t._dataChangeHandler);t._bindCategories();i&&(t._hasDataSource=!0);t._redraw();t._attachEvents();i&&t.options.autoBind&&t.dataSource.fetch()},setDataSource:function(n){var t=this;t.dataSource.unbind(te,t._dataChangeHandler);t.dataSource=n=hh.create(n);t._hasDataSource=!0;t._hasData=!1;n.bind(te,t._dataChangeHandler);t.options.autoBind&&n.fetch()},events:[re,oc,sc,iv,ic,rc,is,ao,co,lo,hc,cc,lc,rf,cr,uf,pv,wv,ec],items:function(){return n()},options:{name:"Chart",renderAs:"",theme:"default",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},autoBind:!0,seriesDefaults:{type:di,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}]},refresh:function(){var n=this;n._applyDefaults(n.options);to(n.options);n._bindSeries();n._bindCategories();n.trigger(re);n._redraw()},getSize:function(){return o.dimensions(this.element)},_resize:function(){var n=this.options.transitions;this.options.transitions=!1;this._redraw();this.options.transitions=n},redraw:function(n){var t=this,r,i;t._applyDefaults(t.options);to(t.options);n?(i=t._model._plotArea,r=i.findPane(n),i.redraw(r)):t._redraw()},_initSurface:function(){var t=this.surface,i=this._surfaceWrap(),n;t&&t.options.type===this.options.renderAs?this.surface.clear():(t&&t.destroy(),this.surface=s.Surface.create(i,{type:this.options.renderAs}));n=this.options.chartArea;n.width&&i.css("width",n.width);n.height&&i.css("height",n.height)},_surfaceWrap:function(){return this.element},_redraw:function(){var n=this,t=n._getModel(),i;n._destroyView();n._model=t;n._plotArea=t._plotArea;t.renderVisual();this.options.transitions!==!1&&t.traverse(function(n){n.animation&&n.animation.setup()});n._initSurface();n.surface.draw(t.visual);this.options.transitions!==!1&&t.traverse(function(n){n.animation&&n.animation.play()});n._tooltip=n._createTooltip();n._highlight=new na(i);n._setupSelection();n._hasDataSource&&!n._hasData&&n.options.autoBind||n.trigger(ec)},exportVisual:function(){var n=this._getModel();return n.renderVisual(),n.visual},_sharedTooltip:function(){var n=this,t=n.options;return n._plotArea instanceof ih&&t.tooltip.shared},_createTooltip:function(){var n=this,t=n.options,i=n.element;return n._sharedTooltip()?new ia(i,n._plotArea,t.tooltip):new ta(i,t.tooltip)},_applyDefaults:function(n,t){fy(n,t);ry(n,t)},_getModel:function(){var t=this,r=t.options,n=new ka(t._modelOptions()),i;return n.chart=t,yh.buildTitle(r.title,n),i=n._plotArea=t._createPlotArea(),r.legend.visible&&n.append(new pc(i.options.legend)),n.append(i),n.reflow(),n},_modelOptions:function(){var n=this,t=n.options,u=n.element,f=i.floor(u.height()),e=i.floor(u.width());return n._size=null,r({width:e||ov,height:f||ev,transitions:t.transitions},t.chartArea)},_createPlotArea:function(n){var i=this,t=i.options;return li.current.create(n?[]:t.series,t)},_setupSelection:function(){var n=this,h=n._plotArea,s=h.axes,c=n._selections=[],f,e,u,o,i,t;for(n._selectStartHandler||(n._selectStartHandler=y(n._selectStart,n),n._selectHandler=y(n._select,n),n._selectEndHandler=y(n._selectEnd,n)),e=0;e<s.length;e++)u=s[e],t=u.options,u instanceof ai&&t.select&&!t.vertical&&(o=0,i=t.categories.length-1,u instanceof of&&(o=t.categories[o],i=t.categories[i]),t.justified||(u instanceof of?i=it(i,1,t.baseUnit,t.weekStartDay):i++),f=new cf(n,u,r({min:o,max:i},t.select)),f.bind(rf,n._selectStartHandler),f.bind(cr,n._selectHandler),f.bind(uf,n._selectEndHandler),c.push(f))},_selectStart:function(n){return this.trigger(rf,n)},_select:function(n){return this.trigger(cr,n)},_selectEnd:function(n){return this.trigger(uf,n)},_attachEvents:function(){var n=this,t=n.element;t.on(uv,y(n._click,n));t.on(av,y(n._mouseover,n));t.on(vv,y(n._mouseout,n));t.on(fc,y(n._mousewheel,n));t.on(se,y(n._mouseleave,n));if(n._mousemove=o.throttle(y(n._mousemove,n),yv),n._shouldAttachMouseMove())t.on(ts,n._mousemove);o.UserEvents&&(n._userEvents=new o.UserEvents(t,{global:!0,filter:":not(.k-selector)",multiTouch:!1,tap:y(n._tap,n),start:y(n._start,n),move:y(n._move,n),end:y(n._end,n)}))},_mouseout:function(n){var i=this,t=i._model.modelMap[n.target.getAttribute("data-model-id")];t&&t.leave&&t.leave(i,n)},_start:function(n){var i=this,t=i._events;u(t[ao]||t[co]||t[lo])&&i._startNavigation(n,ao)},_move:function(n){var s=this,r=s._navState,u,f={},i,t,h,e,o;if(r){for(n.preventDefault(),u=r.axes,i=0;i<u.length;i++)t=u[i],h=t.options.name,h&&(e=t.options.vertical?n.y:n.x,o=e.startLocation-e.location,o!==0&&(f[t.options.name]=t.translateRange(o)));r.axisRanges=f;s.trigger(co,{axisRanges:f,originalEvent:n})}},_end:function(n){this._endNavigation(n,lo)},_mousewheel:function(n){var t=this,l=n.originalEvent,h,u=ph(n),f,i=t._navState,e,r,o,s,c={};if(i||(h=t._startNavigation(l,hc),h||(i=t._navState)),i){for(f=i.totalDelta||u,i.totalDelta=f+u,e=t._navState.axes,r=0;r<e.length;r++)o=e[r],s=o.options.name,s&&(c[s]=o.scaleRange(-f));t.trigger(cc,{delta:u,axisRanges:c,originalEvent:n});t._mwTimeout&&clearTimeout(t._mwTimeout);t._mwTimeout=setTimeout(function(){t._endNavigation(n,lc)},uc)}},_startNavigation:function(n,t){var i=this,f=i._eventCoordinates(n),e=i._model._plotArea,o=e.findPointPane(f),r=e.axes.slice(0),u,s,h=!1,c;if(o){for(u=0;u<r.length;u++)if(s=r[u],s.box.containsPoint(f)){h=!0;break}!h&&e.backgroundBox().containsPoint(f)&&(c=i.trigger(t,{axisRanges:ey(r),originalEvent:n}),c?i._userEvents.cancel():(i._suppressHover=!0,i._unsetActivePoint(),i._navState={pane:o,axes:r}))}},_endNavigation:function(n,t){var i=this;i._navState&&(i.trigger(t,{axisRanges:i._navState.axisRanges,originalEvent:n}),i._suppressHover=!1,i._navState=null)},_getChartElement:function(n,t){var r=this.surface.eventTarget(n),i;if(r){while(r&&!i)i=r.chartElement,r=r.parent;if(i)return i.aliasFor&&(i=i.aliasFor(n,this._eventCoordinates(n))),t&&(i=i.closest(t)),i}},_eventCoordinates:function(n){var i=this,t=u((n.x||{}).client),r=t?n.x.client:n.clientX,f=t?n.y.client:n.clientY;return i._toModelCoordinates(r,f)},_toModelCoordinates:function(t,i){var r=this.element,u=r.offset(),e=parseInt(r.css("paddingLeft"),10),o=parseInt(r.css("paddingTop"),10),f=n(window);return new a(t-u.left-e+f.scrollLeft(),i-u.top-o+f.scrollTop())},_tap:function(n){var t=this,i=t._getChartElement(n);t._activePoint===i?t._click(n):(t._startHover(n)||t._unsetActivePoint(),t._click(n))},_click:function(n){for(var i=this,t=i._getChartElement(n);t;)t.click&&t.click(i,n),t=t.parent},_startHover:function(n){var t=this,e=t._getChartElement(n),o=t._tooltip,u=t._highlight,f=t.options.tooltip,i;if(!t._suppressHover&&u&&!u.isHighlighted(e)&&!t._sharedTooltip())return i=t._getChartElement(n,function(n){return n.hover}),i&&!i.hover(t,n)?(t._activePoint=i,f=r({},f,i.options.tooltip),f.visible&&o.show(i),u.show(i),!0):void 0},_mouseover:function(t){var i=this;if(i._startHover(t))n(document).on(ns,y(i._mouseMoveTracking,i))},_mouseMoveTracking:function(t){var i=this,s=i.options,h=i._tooltip,c=i._highlight,e=i._eventCoordinates(t),u=i._activePoint,o,f;i._plotArea.box.containsPoint(e)?u&&u.tooltipTracking&&u.series&&u.parent.getNearestPoint&&(f=u.parent.getNearestPoint(e.x,e.y,u.seriesIx),f&&f!=u&&(f.hover(i,t),i._activePoint=f,o=r({},s.tooltip,u.options.tooltip),o.visible&&h.show(f),c.show(f))):(n(document).off(ns),i._unsetActivePoint())},_mousemove:function(n){var t=this._eventCoordinates(n);this._trackCrosshairs(t);this._sharedTooltip()&&this._trackSharedTooltip(t)},_trackCrosshairs:function(n){for(var r=this._plotArea.crosshairs,i,t=0;t<r.length;t++)i=r[t],i.box.containsPoint(n)?i.showAt(n):i.hide()},_trackSharedTooltip:function(n){var t=this,e=t.options,u=t._plotArea,o=u.categoryAxis,f=t._tooltip,s=e.tooltip,h=t._highlight,i,r;u.box.containsPoint(n)&&(i=o.pointCategoryIndex(n),i!==t._tooltipCategoryIx&&(r=u.pointsByCategoryIndex(i),r.length>0?(s.visible&&f.showAt(r,n),h.show(r)):f.hide(),t._tooltipCategoryIx=i))},_mouseleave:function(t){var i=this,s=i._plotArea,o=s.crosshairs,u=i._tooltip,h=i._highlight,f=t.relatedTarget,r,e;if(f){for(r=0;r<o.length;r++)o[r].hide();h.hide();e=u.element[0];f===e||n.contains(e,f)||(setTimeout(y(u.hide,u),gv),i._tooltipCategoryIx=null)}},_unsetActivePoint:function(){var n=this,t=n._tooltip,i=n._highlight;n._activePoint=null;t&&t.hide();i&&i.hide()},_onDataChanged:function(){for(var n=this,f=n.options,r=n._sourceSeries||f.series,e=r.length,o=n.dataSource.view(),s=(n.dataSource.group()||[]).length>0,u=[],i,t=0;t<e;t++)i=r[t],n._isBindable(i)&&s?wu(u,oy(i,o)):u.push(i||[]);n._sourceSeries=r;f.series=u;to(n.options);n._bindSeries();n._bindCategories();n._hasData=!0;n._deferRedraw()},_deferRedraw:function(){var n=this;o.support.vml?(n._clearRedrawTimeout(),n._redrawTimeout=setTimeout(function(){n.surface&&(n.trigger(re),n._redraw())},0)):(n.trigger(re),n._redraw())},_clearRedrawTimeout:function(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)},_bindSeries:function(){for(var i=this,f=i.dataSource.view(),e=i.options.series,s=e.length,n,r,o,t=0;t<s;t++)n=e[t],i._isBindable(n)&&(r=n._groupIx,o=u(r)?(f[r]||{}).items:f,n.autoBind!==!1&&(n.data=o))},_bindCategories:function(){var t=this,i=t.dataSource.view()||[],e=(t.dataSource.group()||[]).length>0,u=i,o=t.options,f=[].concat(o.categoryAxis),n,r;for(e&&i.length&&(u=i[0].items),n=0;n<f.length;n++)r=f[n],r.autoBind!==!1&&t._bindCategoryAxis(r,u,n)},_bindCategoryAxis:function(n,t,i){var e=(t||[]).length,r,f,u;if(n.field)for(n.categories=[],r=0;r<e;r++)u=t[r],f=lf(n.field,u),r===0?(n.categories=[f],n.dataItems=[u]):(n.categories.push(f),n.dataItems.push(u));else this._bindCategoryAxisFromSeries(n,i)},_bindCategoryAxisFromSeries:function(n,t){for(var w=this,r=[],h,a=w.options.series,b=a.length,i,v,e,o,c,l,s,y={},p,u,f=0;f<b;f++)if(i=a[f],v=i.categoryAxis===n.name||!i.categoryAxis&&t===0,e=i.data,c=e.length,i.categoryField&&v&&c>0)for(u=aa(n,lf(i.categoryField,e[0])),p=u?oa:lf,o=0;o<c;o++)l=e[o],s=p(i.categoryField,l),(u||!y[s])&&(r.push([s,l]),u||(y[s]=!0));r.length>0&&(u&&(r=la(r,function(n,t){return fr(n[0],t[0])})),h=va(r),n.categories=h[0],n.dataItems=h[1])},_isBindable:function(n){for(var r=w.current.valueFields(n),f=!0,t,i=0;i<r.length;i++)if(t=r[i],t=t===wt?"field":t+"Field",!u(n[t])){f=!1;break}return f},_legendItemClick:function(n,t){var i=this,s=i._plotArea,e=(s.srcSeries||s.series)[n],o=(i._sourceSeries||[])[n]||e,h,r,f;g(e.type,[hr,fe,tc])?(f=o.data[t],r=u(f.visible)?!f.visible:!1,f.visible=r):(r=!o.visible,o.visible=r,e.visible=r);i.options.transitions&&(i.options.transitions=!1,h=!0);i.redraw();h&&(i.options.transitions=!0)},_legendItemHover:function(n,t){var r=this,i=r._plotArea,e=r._highlight,o=(i.srcSeries||i.series)[n],u,f;u=g(o.type,[hr,fe,tc])?t:n;f=i.pointsBySeriesIndex(u);e.show(f)},_shouldAttachMouseMove:function(){var n=this;return n._plotArea.crosshairs.length||n._tooltip&&n._sharedTooltip()},setOptions:function(i){var u=this,f=i.dataSource;if(i.dataSource=t,u._originalOptions=r(u._originalOptions,i),u.options=r({},u._originalOptions),u._sourceSeries=null,n(document).off(ts),pf.fn._setEvents.call(u,i),u._initTheme(u.options),f&&u.setDataSource(f),u._shouldAttachMouseMove())u.element.on(ts,u._mousemove);u._hasDataSource?u.refresh():u.redraw()},destroy:function(){var t=this,i=t.dataSource;t.element.off(bi);i.unbind(te,t._dataChangeHandler);n(document).off(ns);t._userEvents&&t._userEvents.destroy();t._destroyView();t.surface.destroy();t.surface=null;t._clearRedrawTimeout();pf.fn.destroy.call(t)},_destroyView:function(){var n=this,i=n._model,t=n._selections;if(i&&(i.destroy(),n._model=null),t)while(t.length>0)t.shift().destroy();n._unsetActivePoint();n._tooltip&&n._tooltip.destroy();n._highlight&&n._highlight.destroy()}}),li,w,kc,dc,su,bs,ir,we,gs,pi,cu,nh,lu,ke,gl,cf,no;e.ExportMixin.extend(ys.fn);o.PDFMixin&&o.PDFMixin.extend(ys.fn);li=vu.extend({init:function(){this._registry=[]},register:function(n,t){this._registry.push({type:n,seriesTypes:t})},create:function(n,t){for(var r=this._registry,e=r[0],u,f,i=0;i<r.length;i++)if(u=r[i],f=ut(n,u.seriesTypes),f.length>0){e=u;break}return new e.type(f,t)}});li.current=new li;w=vu.extend({init:function(){this._valueFields={};this._otherFields={};this._nullValue={};this._undefinedValue={}},register:function(n,i,r){var u=this,e,f;for(i=i||[wt],e=0;e<n.length;e++)f=n[e],u._valueFields[f]=i,u._otherFields[f]=r,u._nullValue[f]=u._makeValue(i,null),u._undefinedValue[f]=u._makeValue(i,t)},canonicalFields:function(n){return this.valueFields(n).concat(this.otherFields(n))},valueFields:function(n){return this._valueFields[n.type]||[wt]},otherFields:function(n){return this._otherFields[n.type]||[wt]},bindPoint:function(n,t){var i=this,v=n.data,r=v[t],o={valueFields:{value:r}},s,c,l,a,e=i.valueFields(n),h=i._otherFields[n.type],f;return r===null?f=i._nullValue[n.type]:u(r)?rr(r)?(c=r.slice(e.length),f=i._bindFromArray(r,e),s=i._bindFromArray(c,h)):typeof r===hi&&(l=i.sourceFields(n,e),a=i.sourceFields(n,h),f=i._bindFromObject(r,e,l),s=i._bindFromObject(r,h,a)):f=i._undefinedValue[n.type],u(f)&&(e.length===1?o.valueFields.value=f[e[0]]:o.valueFields=f),o.fields=s||{},o},_makeValue:function(n,t){for(var r={},f=n.length,u,i=0;i<f;i++)u=n[i],r[u]=t;return r},_bindFromArray:function(n,t){var u={},r,f;if(t)for(f=i.min(t.length,n.length),r=0;r<f;r++)u[t[r]]=n[r];return u},_bindFromObject:function(n,t,i){var u={},r,f,e,o;if(t)for(f=t.length,i=i||t,r=0;r<f;r++)e=t[r],o=i[r],u[e]=lf(o,n);return u},sourceFields:function(n,t){var i,f,r,u,e;if(t)for(f=t.length,u=[],i=0;i<f;i++)r=t[i],e=r===wt?"field":r+"Field",u.push(n[e]||r);return u}});w.current=new w;var ps=f.extend({init:function(n,t){var i=this;f.fn.init.call(i,t);this.textBox=new kf(n,i.options);i.append(this.textBox)},options:{position:sr,margin:wi(3),padding:wi(4),color:br,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:or,delay:ni},zIndex:2},createVisual:function(){this.textBox.options.noclip=this.options.noclip},reflow:function(n){var o=this,i=o.options,r=i.vertical,u=i.aboveAxis,t=o.children[0],f=t.box,e=t.options.padding;t.options.align=r?d:lt;t.options.vAlign=r?ti:d;i.position==yo?r?(t.options.vAlign=ti,!u&&f.height()<n.height()&&(t.options.vAlign=ki)):t.options.align=u?et:lt:i.position==d?(t.options.vAlign=d,t.options.align=d):i.position==cv?r?t.options.vAlign=u?ki:ti:t.options.align=u?lt:et:i.position==sr&&(r?n=u?new k(n.x1,n.y1-f.height(),n.x2,n.y1):new k(n.x1,n.y2,n.x2,n.y2+f.height()):(t.options.align=d,n=u?new k(n.x2+f.width(),n.y1,n.x2,n.y2):new k(n.x1-f.width(),n.y1,n.x1,n.y2)));i.rotation||(r?e.left=e.right=(n.width()-t.contentBox.width())/2:e.top=e.bottom=(n.height()-t.contentBox.height())/2);t.reflow(n)},alignToClipBox:function(n){var e=this,s=e.options.vertical,o=s?c:v,t=o+"1",r=o+"2",h=e.children[0],u=e.parent.box,f;(u[t]<n[t]||n[r]<u[r])&&(f=h.paddingBox.clone(),f[t]=i.max(u[t],n[t]),f[r]=i.min(u[r],n[r]),this.reflow(f))}}),yc=yr.extend({init:function(n){var t=this;yr.fn.init.call(t,n);t.createContainer();t.createMarker();t.createLabel()},createContainer:function(){var n=this;n.container=new lh({vertical:!1,wrap:!1,align:d});n.append(n.container)},createMarker:function(){var n=this,t=n.options,i=t.markerColor,u=t.markers,f=r({},u,{background:i,border:{color:i}});n.container.append(new wr(f))},createLabel:function(){var n=this,t=n.options,i=r({},t.labels);n.container.append(new kf(t.text,i))},renderComplete:function(){f.fn.renderComplete.call(this);var n=this.options.cursor||{},t=s.Path.fromRect(this.container.box.toRect(),{fill:{color:tr,opacity:0},stroke:null,cursor:n.style});this.visual.append(t)},click:function(n,t){var i=this.eventArgs(t);n.trigger(ic,i)||(t.preventDefault(),n._legendItemClick(i.seriesIndex,i.pointIndex))},hover:function(n,t){var i=this.eventArgs(t);return n.trigger(rc,i)||(t.preventDefault(),n._legendItemHover(i.seriesIndex,i.pointIndex)),!0},leave:function(n){n._unsetActivePoint()},eventArgs:function(t){var i=this.options;return{element:n(t.target),text:i.text,series:i.series,seriesIndex:i.series.index,pointIndex:i.pointIndex}}}),pc=f.extend({init:function(n){var t=this;f.fn.init.call(t,n);g(t.options.position,[ti,et,ki,lt,ie])||(t.options.position=et);t.createContainer();t.createItems()},options:{position:et,items:[],labels:{margin:{left:6}},offsetX:0,offsetY:0,margin:wi(5),padding:wi(5),border:{color:br,width:0},item:{zIndex:1,cursor:{style:"pointer"}},spacing:6,background:"",zIndex:1,markers:{border:{width:1},width:7,height:7,type:"rect",align:lt,vAlign:d,zIndex:1}},createContainer:function(){var t=this,n=t.options,i=n.position,r=i,u=d;i==ie?r=lt:g(i,[ti,ki])&&(r=d,u=i);t.container=new yr({margin:n.margin,padding:n.padding,background:n.background,border:n.border,vAlign:u,align:r,zIndex:n.zIndex,shrinkToFit:!0});t.append(t.container)},createItems:function(){for(var i=this,n=i.options,f=n.items,o=f.length,s=i.isVertical(),e,u=new lh({vertical:s,spacing:n.spacing}),t=0;t<o;t++)e=f[t],u.append(new yc(r({},{markers:n.markers,labels:n.labels},n.item,e)));i.container.append(u)},isVertical:function(){var i=this,n=i.options,t=n.position;return g(t,[lt,et])||t==ie&&n.orientation!=hv},hasItems:function(){return this.container.children[0].children.length>0},reflow:function(n){var t=this,r=t.options,u=t.container,f=t.isVertical(),i=n.clone();if(!t.hasItems()){t.box=n.clone();return}f&&(i.y1=0);r.position===ie?(t.containerCustomReflow(i),t.box=n.clone()):(u.reflow(i),t.containerReflow(n))},containerReflow:function(n){var i=this,t=i.options,r=t.position==ti||t.position==ki?v:c,u=i.container.box,f=u.clone();(t.offsetX||t.offsetY)&&(u.translate(t.offsetX,t.offsetY),i.container.reflow(u));f[r+1]=n[r+1];f[r+2]=n[r+2];i.box=f},containerCustomReflow:function(n){var r=this,i=r.options,f=i.offsetX,e=i.offsetY,u=r.container,o=i.width,s=i.height,h=r.isVertical(),t=n.clone();h&&s?t.y2=t.y1+s:!h&&o&&(t.x2=t.x1+o);u.reflow(t);t=u.box;u.reflow(k(f,e,f+t.width(),e+t.height()))}}),ai=wf.extend({init:function(n){var t=this;wf.fn.init.call(t,n);n=t.options;n.categories=n.categories.slice(0);t._ticks={}},options:{type:pt,categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:br},labels:{zIndex:1},justified:!1},range:function(){return{min:0,max:this.options.categories.length}},getTickPositions:function(n){for(var f=this,r=f.options,e=r.vertical,o=r.justified,t=f.lineBox(),l=e?t.height():t.width(),a=n-(o?1:0),y=l/a,s=e?c:v,h=t[s+1],i=[],u=0;u<n;u++)i.push(p(h,du)),h+=y;return o||i.push(t[s+2]),r.reverse?i.reverse():i},getMajorTickPositions:function(){return this.getTicks().majorTicks},getMinorTickPositions:function(){return this.getTicks().minorTicks},getTicks:function(){var n=this,t=n._ticks,i=n.options,r=i.categories.length,f=i.reverse,e=i.justified,o=n.lineBox(),u;return u=o.getHash()+r+f+e,t._hash!==u&&(t._hash=u,t.majorTicks=n.getTickPositions(r),t.minorTicks=n.getTickPositions(r*2)),t},getSlot:function(n,t){var h=this,l=h.options,e=h.getTicks().majorTicks,o=l.reverse,a=l.justified,s=l.vertical?c:v,y=h.lineBox(),d=y[s+(o?2:1)],b=y[s+(o?1:2)],p=y.clone(),w=i.max(1,e.length-(a?0:1)),r,f,k,g=!u(t);return n=nt(n,0),t=nt(t,n),n=gt(n,0,w),t=gt(t-1,n,w),t=i.max(n,t),r=n===0?d:e[n]||b,f=a?r:e[t],k=t-n,(k>0||n===t)&&(f=e[t+1]||b),g&&a&&(n===w?r=f:f=r),p[s+1]=o?f:r,p[s+2]=o?r:f,p},pointCategoryIndex:function(n){var h=this,l=h.options,y=l.reverse,p=l.vertical,a=p?c:v,w=h.lineBox(),b=w[a+1],k=w[a+2],r=n[a],e=h.getMajorTickPositions(),d=tt,o,f,t,s;if(r<b||r>k)return null;for(t=0;t<e.length;t++)if(o=e[t],f=e[t+1],u(f)||(f=y?b:k),y&&(o=f,f=e[t]),l.justified){if(r===f){s=i.max(0,p?e.length-t-1:t+1);break}i.abs(r-o)<d&&(d=r-o,s=t)}else if(r>=o&&r<=f){s=t;break}return s},getCategory:function(n){var t=this.pointCategoryIndex(n);return t===null?null:this.options.categories[t]},categoryIndex:function(n){return so(n,this.options.categories)},translateRange:function(n){var t=this,i=t.options,r=t.lineBox(),e=i.vertical?r.height():r.width(),u=i.categories.length,o=e/u,f=p(n/o,ue);return{min:f,max:u+f}},scaleRange:function(n){var r=this,u=r.options,t=u.categories.length,i=n*t;return{min:-i,max:t+i}},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(n,t){var r=this,i=r.options,u=i.dataItems?i.dataItems[n]:null,f=nt(i.categories[n],""),e=r.axisLabelText(f,u,t);return new ho(f,e,n,u,t)},shouldRenderNote:function(n){var t=this.options.categories;return t.length&&t.length>n&&n>=0}}),of=ai.extend({init:function(n){var t=this,i,u;n=n||{};n=r({roundToBaseUnit:!0},n,{categories:l(n.categories),min:l(n.min),max:l(n.max)});n.categories&&n.categories.length>0?(i=(n.baseUnit||"").toLowerCase(),u=i!==gf&&!g(i,ou),u&&(n.baseUnit=t.defaultBaseUnit(n)),(i===gf||n.baseUnitStep===tv)&&t.autoBaseUnit(n),t.groupCategories(n)):n.baseUnit=n.baseUnit||gi;ai.fn.init.call(t,n)},options:{type:er,labels:{dateFormats:vc},autoBaseUnitSteps:{seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10},shouldRenderNote:function(n){var t=this,i=t.range(),r=t.options.categories||[];return fr(n,i.min)>=0&&fr(n,i.max)<=0&&r.length},parseNoteValue:function(n){return l(n)},translateRange:function(n){var r=this,i=r.options,u=i.baseUnit,f=i.weekStartDay,e=r.lineBox(),c=i.vertical?e.height():e.width(),t=r.range(),l=c/(t.max-t.min),o=p(n/l,ue),s,h;return t.min&&t.max&&(s=ot(i.min||t.min,o),h=ot(i.max||t.max,o),t={min:it(s,0,u,f),max:it(h,0,u,f)}),t},scaleRange:function(n){var e=this,o=i.abs(n),t=e.range(),r=t.min,u=t.max,f;if(t.min&&t.max){while(o--)t=uo(r,u),f=i.round(t*.1),n<0?(r=ot(r,f),u=ot(u,-f)):(r=ot(r,-f),u=ot(u,f));t={min:r,max:u}}return t},defaultBaseUnit:function(n){for(var e=n.categories,c=u(e)?e.length:0,f,o,t=tt,s,h,r=0;r<c;r++)f=e[r],f&&s&&(o=uo(f,s),o>0&&(t=i.min(t,o),h=t>=as?eu:t>=ls-ci*3?gu:t>=cs?le:t>=ci?gi:t>=hs?ee:t>=uu?go:fs)),s=f;return h||gi},_categoryRange:function(n){var t=n._range;return t||(t=n._range=ga(n)),t},range:function(n){n=n||this.options;var o=n.categories,s=n.baseUnit===gf,t=s?ou[0]:n.baseUnit,h=n.baseUnitStep||1,i=dt(n.min),r=dt(n.max),u=this._categoryRange(o),f=dt(u.min),e=dt(u.max);return n.roundToBaseUnit?{min:it(i||f,0,t,n.weekStartDay),max:it(r||e,h,t,n.weekStartDay)}:{min:l(i||f),max:l(r||this._srcMaxDate||e)}},autoBaseUnit:function(n){for(var h=this,l=h.range(r({},n,{baseUnitStep:1})),a=n.baseUnit===gf,v=0,t=a?ou[v++]:n.baseUnit,y=l.max-l.min,f=y/he[t],e=f,o=n.maxDateGroups||h.options.maxDateGroups,p=r({},h.options.autoBaseUnitSteps,n.autoBaseUnitSteps),s,u,c;!u||f>o;)if(s=s||p[t].slice(0),c=s.shift(),c)u=c,f=e/u;else if(t===ht(ou)){u=i.ceil(e/o);break}else if(a)t=ou[v++]||ht(ou),e=y/he[t],s=null;else{f>o&&(u=i.ceil(e/o));break}n.baseUnitStep=u;n.baseUnit=t},_timeScale:function(){var t=this,i=t.range(),n=t.options,u=t.lineBox(),o=n.vertical,s=o?u.height():u.width(),r,f,e;return n.justified&&n._collapse!==!1?(f=this._categoryRange(n.categories),e=dt(f.max),r=l(e)-i.min):r=i.max-i.min,s/r},getTickPositions:function(n){var r=this,t=r.options,u=t.categories,i=[];if(t.roundToBaseUnit||u.length===0)i=ai.fn.getTickPositions.call(r,n);else{for(var e=t.vertical,w=t.reverse,s=r.lineBox(),b=u[0].getTime(),k=nt(t._collapse,t.justified),d=u.length-(k?1:0),g=r._timeScale(),o=(e?-1:1)*(w?-1:1),tt=o===1?1:2,it=o===1?2:1,h=s[(e?c:v)+tt],l=s[(e?c:v)+it],a=h,y,f=0;f<d;f++)y=u[f]-b,a=h+y*g*o,i.push(p(a,du));ht(i)!==l&&i.push(l)}return i},groupCategories:function(n){for(var o=this,f=n.categories,s=l(wh(f)),h=n.baseUnit,c=n.baseUnitStep||1,e=o.range(n),t=e.max,r,u=[],i=e.min;i<t;i=r)if(u.push(i),r=it(i,c,h,n.weekStartDay),r>s&&!n.max)break;n.roundToBaseUnit||ar(ht(u),t)||(t<r&&n._collapse!==!1?this._srcMaxDate=t:u.push(t));n.srcCategories=f;n.categories=u},createAxisLabel:function(n,t){var i=this.options,e=i.dataItems?i.dataItems[n]:null,r=i.categories[n],o=i.baseUnit,u=!0,h=t.dateFormats[o],s,f;return i.justified?(s=ro(r,o,i.weekStartDay),u=ar(s,r)):i.roundToBaseUnit||(u=!ar(this.range().max,r)),u&&(t.format=t.format||h,f=this.axisLabelText(r,e,t),f)?new ho(r,f,n,e,t):void 0},categoryIndex:function(n,t){var i=this,r=i.options,u=r.categories,f;return(n=l(n),t=t||i.range(),f=r.roundToBaseUnit&&ar(t.max,n),n&&(n>t.max||f))?u.length:!n||n<t.min?-1:fh(n,u)},getSlot:function(n,t){var i=this;return typeof n===hi&&(n=i.categoryIndex(n)),typeof t===hi&&(t=i.categoryIndex(t)),ai.fn.getSlot.call(i,n,t)}}),wc=wf.extend({init:function(n,t,i){var u=this;i=i||{};r(i,{min:l(i.min),max:l(i.max),axisCrossingValue:l(i.axisCrossingValues||i.axisCrossingValue)});i=u.applyDefaults(l(n),l(t),i);wf.fn.init.call(u,i)},options:{type:er,majorGridLines:{visible:!0,width:1,color:br},labels:{dateFormats:vc}},applyDefaults:function(n,u,f){var k=this,v=f.min||n,s=f.max||u,o=f.baseUnit||k.timeUnits(s-v),y=he[o],h=ro(dt(v)-1,o)||l(s),c=ha(dt(s)+1,o),d=f.majorUnit?f.majorUnit:t,a=d||e.ceil(e.autoMajorUnit(h.getTime(),c.getTime()),y)/y,p=af(h,c,o),g=e.ceil(p,a),w=g-p,b=i.floor(w/2),nt=w-b;return f.baseUnit||delete f.baseUnit,r({baseUnit:o,min:it(h,-b,o),max:it(c,nt,o),minorUnit:a/5},f,{majorUnit:a})},range:function(){var n=this.options;return{min:n.min,max:n.max}},getDivisions:function(n){var t=this.options;return i.floor(af(t.min,t.max,t.baseUnit)/n+1)},getTickPositions:function(n){for(var i=this,t=i.options,r=t.vertical,h=t.reverse,u=i.lineBox(),l=r?u.height():u.width(),a=af(t.min,t.max,t.baseUnit),y=l/a,w=n*y,b=i.getDivisions(n),o=(r?-1:1)*(h?-1:1),k=o===1?1:2,f=u[(r?c:v)+k],s=[],e=0;e<b;e++)s.push(p(f,du)),f=f+w*o;return s},getMajorTickPositions:function(){var n=this;return n.getTickPositions(n.options.majorUnit)},getMinorTickPositions:function(){var n=this;return n.getTickPositions(n.options.minorUnit)},getSlot:function(n,t,i){return bf.fn.getSlot.call(this,l(n),l(t),i)},getValue:function(n){var t=bf.fn.getValue.call(this,n);return t!==null?l(t):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(n,t){var i=this.options,f=n*i.majorUnit,r=it(i.min,f,i.baseUnit),e=t.dateFormats[i.baseUnit],u;return t.format=t.format||e,u=this.axisLabelText(r,null,t),new ho(r,u,n,null,t)},timeUnits:function(n){var t=ee;return n>=as?t=eu:n>=ls?t=gu:n>=cs?t=le:n>=ci&&(t=gi),t},translateRange:function(n){var i=this,t=i.options,r=t.baseUnit,u=t.weekStartDay,f=i.lineBox(),s=t.vertical?f.height():f.width(),e=i.range(),h=s/(e.max-e.min),o=p(n/h,ue),c=ot(t.min,o),l=ot(t.max,o);return{min:it(c,0,r,u),max:it(l,0,r,u)}},scaleRange:function(n){for(var o=this,f=o.options,s=i.abs(n),t=f.min,r=f.max,e,u;s--;)e=uo(t,r),u=i.round(e*.1),n<0?(t=ot(t,u),r=ot(r,-u)):(t=ot(t,-u),r=ot(r,u));return{min:t,max:r}},shouldRenderNote:function(n){var t=this.range();return fr(n,t.min)>=0&&fr(n,t.max)<=0}}),sf=f.extend({options:{vertical:!1,gap:0,spacing:0},reflow:function(n){for(var h=this,e=h.options,l=e.vertical,o=l?c:v,s=h.children,a=e.gap,y=e.spacing,i=s.length,p=i+a+y*(i-1),r=(l?n.height():n.width())/p,u=n[o+1]+r*(a/2),f,t=0;t<i;t++)f=(s[t].box||n).clone(),f[o+1]=u,f[o+2]=u+r,s[t].reflow(f),t<i-1&&(u+=r*y),u+=r},createVisual:au}),bc=f.extend({options:{vertical:!0},reflow:function(n){for(var o=this.options,u=o.vertical,s=u?v:c,h=u?c:v,l=n[h+2],f=this.children,e=this.box=new k,a=f.length,t,r,i=0;i<a;i++)t=f[i],t.visible!==!1&&(r=t.box.clone(),r.snapTo(n,s),t.options&&(t.options.stackBase=l),i===0&&(e=this.box=r.clone()),t.reflow(r),e.wrap(r))},createVisual:au}),vi={click:function(t,i){var r=this;t.trigger(oc,{value:r.value,percentage:r.percentage,category:r.category,series:r.series,dataItem:r.dataItem,runningTotal:r.runningTotal,total:r.total,element:n(i.target),originalEvent:i})},hover:function(t,i){var r=this;return t.trigger(sc,{value:r.value,percentage:r.percentage,category:r.category,series:r.series,dataItem:r.dataItem,runningTotal:r.runningTotal,total:r.total,element:n(i.target),originalEvent:i})}},ae={createNote:function(){var n=this,i=n.options.notes,t=n.noteText||i.label.text;i.visible!==!1&&u(t)&&t!==null&&(n.note=new ba(n.value,t,n.dataItem,n.category,n.series,n.options.notes),n.append(n.note))}},hf=f.extend({init:function(n,t){var i=this;f.fn.init.call(i);i.options=t;i.color=t.color||tr;i.aboveAxis=nt(i.options.aboveAxis,!0);i.value=n},defaults:{border:{width:1},vertical:!0,overlay:{gradient:vo},labels:{visible:!1,format:"{0}"},animation:{type:oi},opacity:1,notes:{label:{}}},render:function(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))},createLabel:function(){var f=this.value,t=this.options,n=t.labels,i,u;n.visible&&(n.template?(u=yt(n.template),i=u({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total,series:this.series})):i=this.formatValue(n.format),this.label=new ps(i,r({vertical:t.vertical},t.labels)),this.append(this.label))},formatValue:function(n){return this.owner.formatPointValue(this,n)},reflow:function(n){var i;this.render();var t=this,u=t.options,r=t.label;if(t.box=n,r&&(r.options.aboveAxis=t.aboveAxis,r.reflow(n)),t.note&&t.note.reflow(n),t.errorBars)for(i=0;i<t.errorBars.length;i++)t.errorBars[i].reflow(n)},createVisual:function(){var n=this.box;this.visible!==!1&&(f.fn.createVisual.call(this),n.width()>0&&n.height()>0&&this.createRect())},createRect:function(){var n=this.options,i=n.border,e=u(i.opacity)?i.opacity:n.opacity,f=s.Path.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:n.opacity},stroke:{color:this.getBorderColor(),width:i.width,opacity:e,dashType:i.dashType}});pu(f);this.visual.append(f);oh(n)&&this.visual.append(this.createGradientOverlay(f,{baseColor:this.color},r({end:n.vertical?t:[0,1]},n.overlay)))},createAnimation:function(){var n=this.options;r(n,{animation:{aboveAxis:this.aboveAxis,vertical:n.vertical,stackBase:n.stackBase}});f.fn.createAnimation.call(this)},createHighlight:function(n){var t=s.Path.fromRect(this.box.toRect(),n);return pu(t)},getBorderColor:function(){var t=this,r=t.options,f=t.color,i=r.border,n=i.color,e=i._brightness||ne;return u(n)||(n=new pr(f).brightness(e).toHex()),n},tooltipAnchor:function(n,t){var u=this,l=u.options,r=u.box,v=l.vertical,s=u.aboveAxis,f=u.owner.pane.clipBox()||r,e,o,h,c;return v?(e=r.x2+vt,o=s?i.max(r.y1,f.y1):i.min(r.y2,f.y2)-t):(h=i.max(r.x1,f.x1),c=i.min(r.x2,f.x2),l.isStacked?(e=s?c-n:h,o=r.y1-t-vt):(e=s?c+vt:h-n-vt,o=r.y1)),new a(e,o)}});r(hf.fn,vi);r(hf.fn,ae);kc=s.Animation.extend({options:{duration:ni},setup:function(){var u=this.element,i=this.options,r=u.bbox(),t;if(r){var f=this.origin=i.aboveAxis?r.bottomLeft():r.topRight(),n=i.vertical?c:v,e=i.stackBase,o=this.fromOffset=new h.Point;o[n]=nt(e,f[n])-f[n];t=this.fromScale=new h.Point(1,1);t[n]=0;u.transform(h.transform().scale(t.x,t.y))}else this.abort()},step:function(n){var t=df(this.fromScale.x,1,n),i=df(this.fromScale.y,1,n),r=df(this.fromOffset.x,0,n),u=df(this.fromOffset.y,0,n);this.element.transform(h.transform().translate(r,u).scale(t,i,this.origin))}});s.AnimationFactory.current.register(oi,kc);dc=s.Animation.extend({options:{duration:200,easing:"linear"},setup:function(){this.fadeTo=this.element.opacity();this.element.opacity(0)},step:function(n){this.element.opacity(n*this.fadeTo)}});s.AnimationFactory.current.register(or,dc);su=function(n,t,i){var r=this;r.errorValue=n;r.initGlobalRanges(n,t,i)};su.prototype=su.fn={percentRegex:/percent(?:\w*)\((\d+)\)/,standardDeviationRegex:new RegExp("^stddev(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),initGlobalRanges:function(n,t,i){var r=this,u=t.data,f=r.standardDeviationRegex.exec(n),o;if(f){r.valueGetter=r.createValueGetter(t,i);var e=r.getAverage(u),s=r.getStandardDeviation(u,e,!1),h=f[1]?parseFloat(f[1]):1,c={low:e.value-s*h,high:e.value+s*h};r.globalRange=function(){return c}}else n.indexOf&&n.indexOf(kv)>=0&&(r.valueGetter=r.createValueGetter(t,i),o=r.getStandardError(u,r.getAverage(u)),r.globalRange=function(n){return{low:n-o,high:n+o}})},createValueGetter:function(n,t){var e=n.data,o=w.current,r=o.valueFields(n),f=u(e[0])?e[0]:{},s,h,i;return rr(f)?(s=t?so(t,r):0,i=yu("["+s+"]")):b(f)?i=yu():typeof f===hi&&(h=o.sourceFields(n,r),i=yu(h[so(t,r)])),i},getErrorRange:function(n){var f=this,t=f.errorValue,e,o,r,s;if(u(t)){if(f.globalRange)return f.globalRange(n);if(rr(t))e=n-t[0],o=n+t[1];else if(b(r=parseFloat(t)))e=n-r,o=n+r;else if(r=f.percentRegex.exec(t))s=n*(parseFloat(r[1])/100),e=n-i.abs(s),o=n+i.abs(s);else throw new Error("Invalid ErrorBar value: "+t);return{low:e,high:o}}},getStandardError:function(n,t){return this.getStandardDeviation(n,t,!0)/i.sqrt(t.count)},getStandardDeviation:function(n,t,r){for(var e=0,o=n.length,s=r?t.count-1:t.count,u,f=0;f<o;f++)u=this.valueGetter(n[f]),b(u)&&(e+=i.pow(u-t.value,2));return i.sqrt(e/s)},getAverage:function(n){for(var u=0,t=0,f=n.length,i,r=0;r<f;r++)i=this.valueGetter(n[r]),b(i)&&(u+=i,t++);return{value:u/t,count:t}}};var bt=f.extend({init:function(n,t){var i=this;f.fn.init.call(i,t);i.plotArea=n;i.categoryAxis=n.seriesCategoryAxis(t.series[0]);i.valueAxisRanges={};i.points=[];i.categoryPoints=[];i.seriesPoints=[];i.seriesOptions=[];i._evalSeries=[];i.render()},options:{series:[],invertAxes:!1,isStacked:!1,clip:!0},render:function(){var n=this;n.traverseDataPoints(y(n.addValue,n))},pointOptions:function(n,t){var i=this.seriesOptions[t],u;return i||(u=this.pointType().fn.defaults,this.seriesOptions[t]=i=r({},u,{vertical:!this.options.invertAxes},n)),i},plotValue:function(n){var r,t,f,e;if(!n)return 0;if(this.options.isStacked100&&b(n.value)){var s=n.categoryIx,o=this.categoryPoints[s],u=0;for(r=0;r<o.length;r++)if(t=o[r],t){if(f=n.series.stack,e=t.series.stack,f&&e&&f.group!==e.group)continue;b(t.value)&&(u+=i.abs(t.value))}if(u>0)return n.value/u}return n.value},plotRange:function(n,t){var v=n.categoryIx,h=this.categoryPoints[v],u,f,i,e,r;if(this.options.isStacked){t=t||0;var o=this.plotValue(n),c=o>0,s=t,l=!1;for(u=0;u<h.length;u++){if(f=h[u],n===f)break;if(i=n.series.stack,e=f.series.stack,i&&e){if(typeof i===ru&&i!==e)continue;if(i.group&&i.group!==e.group)continue}r=this.plotValue(f);(r>0&&c||r<0&&!c)&&(s+=r,o+=r,l=!0)}return l&&(s-=t),[s,o]}var y=n.series,p=this.seriesValueAxis(y),a=this.categoryAxisCrossingValue(p);return[a,n.value||a]},stackLimits:function(n,t){for(var c,f,r,e,o=tt,s=at,h=0;h<this.categoryPoints.length;h++)for(c=this.categoryPoints[h],f=0;f<c.length;f++)r=c[f],r&&(r.series.stack===t||r.series.axis===n)&&(e=this.plotRange(r,0)[1],u(e)&&(s=i.max(s,e),o=i.min(o,e)));return{min:o,max:s}},updateStackRange:function(){var r=this,o=r.options.series,c=r.options.isStacked,n,s={},u,t;if(c)for(u=0;u<o.length;u++){var f=o[u],e=f.axis,h=e+f.stack;n=s[h];n||(n=r.stackLimits(e,f.stack),t=r.errorTotals,t&&(t.negative.length&&(n.min=i.min(n.min,nv(t.negative))),t.positive.length&&(n.max=i.max(n.max,wh(t.positive)))),s[h]=n);r.valueAxisRanges[e]=n}},addErrorBar:function(n,t,i){var r=this,c=n.value,l=n.series,e=n.seriesIx,o=n.options.errorBars,f,s=t.fields[gh],h=t.fields[nc];b(s)&&b(h)?f={low:s,high:h}:o&&u(o.value)&&(r.seriesErrorRanges=r.seriesErrorRanges||[],r.seriesErrorRanges[e]=r.seriesErrorRanges[e]||new su(o.value,l,wt),f=r.seriesErrorRanges[e].getErrorRange(c));f&&(n.low=f.low,n.high=f.high,r.addPointErrorBar(n,i))},addPointErrorBar:function(n,t){var i=this,s=n.series,r=n.low,u=n.high,h=!i.options.invertAxes,c=n.options.errorBars,f,e,o;i.options.isStacked?(e=i.stackedErrorRange(n,t),r=e.low,u=e.high):(o={categoryIx:t,series:s},i.updateRange({value:r},o),i.updateRange({value:u},o));f=new il(r,u,h,i,s,c);n.errorBars=[f];n.append(f)},stackedErrorRange:function(n,t){var r=this,o=n.value,e=r.plotRange(n,0)[1]-n.value,u=n.low+e,f=n.high+e;return r.errorTotals=r.errorTotals||{positive:[],negative:[]},u<0&&(r.errorTotals.negative[t]=i.min(r.errorTotals.negative[t]||0,u)),f>0&&(r.errorTotals.positive[t]=i.max(r.errorTotals.positive[t]||0,f)),{low:u,high:f}},addValue:function(t,i){var u=this,f=i.categoryIx,c=i.category,h=i.series,s=i.seriesIx,o=u.categoryPoints[f],e,r;o||(u.categoryPoints[f]=o=[]);e=u.seriesPoints[s];e||(u.seriesPoints[s]=e=[]);r=u.createPoint(t,i);r&&(n.extend(r,i),r.owner=u,r.dataItem=h.data[f],r.noteText=t.fields.noteText,u.addErrorBar(r,t,f));u.points.push(r);e.push(r);o.push(r);u.updateRange(t.valueFields,i)},evalPointOptions:function(n,t,i,f,e,o){var h={defaults:e._defaults,excluded:["data","aggregate","_events","tooltip","template"]},s=this._evalSeries[o];return u(s)||(this._evalSeries[o]=s=vr(n,{},h,!0)),s&&(n=r({},n),vr(n,{value:t,category:i,index:f,series:e,dataItem:e.data[f]},h)),n},updateRange:function(n,t){var f=this,e=t.series.axis,u=n.value,r=f.valueAxisRanges[e];isFinite(u)&&u!==null&&(r=f.valueAxisRanges[e]=r||{min:tt,max:at},r.min=i.min(r.min,u),r.max=i.max(r.max,u))},seriesValueAxis:function(n){var i=this.plotArea,t=n.axis,r=t?i.namedValueAxes[t]:i.valueAxis;if(!r)throw new Error("Unable to locate value axis with name "+t);return r},reflow:function(n){var t=this,f=0,u=t.categorySlots=[],e=t.points,o=t.categoryAxis,s,r,i;t.traverseDataPoints(function(n,h){var w=h.category,l=h.categoryIx,p=h.series,c,a,v,y;s=t.pointValue(n);r=t.seriesValueAxis(p);i=e[f++];c=u[l];c||(u[l]=c=t.categorySlot(o,l,r));i&&(a=t.plotRange(i,r.startValue()),v=r.getSlot(a[0],a[1],!t.options.clip),v?(y=t.pointSlot(c,v),i.aboveAxis=t.aboveAxis(i,r),t.options.isStacked100&&(i.percentage=t.plotValue(i)),t.reflowPoint(i,y)):i.visible=!1)});t.reflowCategories(u);t.box=n},aboveAxis:function(n,t){var i=this.categoryAxisCrossingValue(t),r=n.value;return t.options.reverse?r<i:r>=i},categoryAxisCrossingValue:function(n){var i=this.categoryAxis,t=n.options,r=[].concat(t.axisCrossingValues||t.axisCrossingValue);return r[i.axisIndex||0]||0},reflowPoint:function(n,t){n.reflow(t)},reflowCategories:function(){},pointSlot:function(n,t){var f=this,e=f.options,i=e.invertAxes,r=i?t:n,u=i?n:t;return new k(r.x1,u.y1,r.x2,u.y2)},categorySlot:function(n,t){return n.getSlot(t)},traverseDataPoints:function(n){for(var f=this,s=f.options,r=s.series,h=f.categoryAxis.options.categories||[],c=io(r),i,e,o,u,l=r.length,t=0;t<c;t++)for(i=0;i<l;i++)u=r[i],o=h[t],e=this._bindPoint(u,i,t),n(e,{category:o,categoryIx:t,series:u,seriesIx:i})},_bindPoint:function(n,t,i){var r,u;return this._bindCache||(this._bindCache=[]),r=this._bindCache[t],r||(r=this._bindCache[t]=[]),u=r[i],u||(u=r[i]=w.current.bindPoint(n,i)),u},formatPointValue:function(n,t){return n.value===null?"":st(t,n.value)},pointValue:function(n){return n.valueFields.value},createVisual:au}),hu=bt.extend({render:function(){var n=this;bt.fn.render.apply(n);n.updateStackRange()},pointType:function(){return hf},clusterType:function(){return sf},stackType:function(){return bc},stackLimits:function(n,t){var r=bt.fn.stackLimits.call(this,n,t);return r.min=i.min(0,r.min),r.max=i.max(0,r.max),r},createPoint:function(n,t){var i=this,v=t.categoryIx,w=t.category,f=t.series,y=t.seriesIx,h=i.pointValue(n),c=i.options,b=i.children,l=i.options.isStacked,e,k=i.pointType(),r,u,d=i.clusterType(),a,s,p;return r=this.pointOptions(f,y),a=r.labels,l&&a.position==sr&&(a.position=yo),r.isStacked=l,s=n.fields.color||f.color,h<0&&r.negativeColor&&(s=r.negativeColor),r=i.evalPointOptions(r,h,w,v,f,y),o.isFunction(f.color)&&(s=r.color),e=new k(h,r),e.color=s,u=b[v],u||(u=new d({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing}),i.append(u)),l?(p=i.getStackWrap(f,u),p.append(e)):u.append(e),e},getStackWrap:function(n,t){var u=n.stack,e=u?u.group||u:u,f=t.children,i,r,o;if(typeof e===ru){for(r=0;r<f.length;r++)if(f[r]._stackGroup===e){i=f[r];break}}else i=f[0];return i||(o=this.stackType(),i=new o({vertical:!this.options.invertAxes}),i._stackGroup=e,t.append(i)),i},categorySlot:function(n,t,i){var s=this,f=s.options,u=n.getSlot(t),e=i.startValue(),r,o;return f.isStacked&&(o=i.getSlot(e,e,!0),r=f.invertAxes?v:c,u[r+1]=u[r+2]=o[r+1]),u},reflowCategories:function(n){for(var r=this,i=r.children,u=i.length,t=0;t<u;t++)i[t].reflow(n[t])}}),gc=hf.extend({defaults:{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}},createLabel:function(){var u=this.value,n=this.options.labels,t=r({},n,n.from),i=r({},n,n.to);t.visible&&(this.labelFrom=this._createLabel(t),this.append(this.labelFrom));i.visible&&(this.labelTo=this._createLabel(i),this.append(this.labelTo))},_createLabel:function(n){var t,i;return n.template?(i=yt(n.template),t=i({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total,series:this.series})):t=this.formatValue(n.format),new ps(t,r({vertical:this.options.vertical},n))},reflow:function(n){this.render();var t=this,u=t.options,i=t.labelFrom,r=t.labelTo,f=t.value;t.box=n;i&&(i.options.aboveAxis=t.value.from>t.value.to,i.reflow(n));r&&(r.options.aboveAxis=t.value.to>t.value.from,r.reflow(n));t.note&&t.note.reflow(n)}}),nl=hu.extend({pointType:function(){return gc},pointValue:function(n){return n.valueFields},formatPointValue:function(n,t){return n.value.from===null&&n.value.to===null?"":st(t,n.value.from,n.value.to)},plotLimits:bt.fn.plotLimits,plotRange:function(n){return n?[n.value.from,n.value.to]:0},updateRange:function(n,t){var e=this,o=t.series.axis,u=n.from,f=n.to,r=e.valueAxisRanges[o];n!==null&&b(u)&&b(f)&&(r=e.valueAxisRanges[o]=r||{min:tt,max:at},r.min=i.min(r.min,u),r.max=i.max(r.max,u),r.min=i.min(r.min,f),r.max=i.max(r.max,f))},aboveAxis:function(n){var t=n.value;return t.from<t.to}}),tl=bt.extend({init:function(n,t){var i=this;i.wrapData(t);bt.fn.init.call(i,n,t)},wrapData:function(n){for(var u=n.series,t,r,i=0;i<u.length;i++)r=u[i],t=r.data,t&&!rr(t[0])&&typeof t[0]!=hi&&(r.data=[t])},reflowCategories:function(n){for(var r=this,i=r.children,u=i.length,t=0;t<u;t++)i[t].reflow(n[t])},plotRange:function(n){var i=n.series,r=this.seriesValueAxis(i),t=this.categoryAxisCrossingValue(r);return[t,n.value.current||t]},createPoint:function(n,t){var f=this,o=t.categoryIx,l=t.category,s=t.series,a=t.seriesIx,c=n.valueFields,i=f.options,v=f.children,h,e,u;return e=r({vertical:!i.invertAxes,overlay:s.overlay,categoryIx:o,invertAxes:i.invertAxes},s),e=f.evalPointOptions(e,c,l,o,s,a),h=new ws(c,e),u=v[o],u||(u=new sf({vertical:i.invertAxes,gap:i.gap,spacing:i.spacing}),f.append(u)),u.append(h),h},updateRange:function(n,t){var o=this,s=t.series.axis,f=n.current,e=n.target,r=o.valueAxisRanges[s];u(f)&&!isNaN(f)&&u(e&&!isNaN(e))&&(r=o.valueAxisRanges[s]=r||{min:tt,max:at},r.min=i.min.apply(i,[r.min,f,e]),r.max=i.max.apply(i,[r.max,f,e]))},formatPointValue:function(n,t){return st(t,n.value.current,n.value.target)},pointValue:function(n){return n.valueFields.current},aboveAxis:function(n){var t=n.value.current;return t>0}}),ws=f.extend({init:function(n,t){var i=this;f.fn.init.call(i,t);i.value=n;i.aboveAxis=i.options.aboveAxis},options:{color:tr,border:{width:1},vertical:!1,animation:{type:oi},opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}<\/br>Target: {1}"}},render:function(){var n=this,t=n.options;n._rendered||(n._rendered=!0,u(n.value.target)&&(n.target=new bs({type:t.target.shape,background:t.target.color||t.color,opacity:t.opacity,zIndex:t.zIndex,border:t.target.border,vAlign:ti,align:et}),n.append(n.target)),n.createNote())},reflow:function(n){this.render();var t=this,i=t.options,e=t.owner,r=t.target,u=i.invertAxes,o=e.seriesValueAxis(t.options),s=e.categorySlot(e.categoryAxis,i.categoryIx,o),h=o.getSlot(t.value.target),c=u?h:s,l=u?s:h,f;r&&(f=new k(c.x1,l.y1,c.x2,l.y2),r.options.height=u?f.height():i.target.line.width,r.options.width=u?i.target.line.width:f.width(),r.reflow(f));t.note&&t.note.reflow(n);t.box=n},createVisual:function(){f.fn.createVisual.call(this);var n=this.options,t=s.Path.fromRect(this.box.toRect(),{fill:{color:n.color,opacity:n.opacity},stroke:null});n.border.width>0&&t.options.set("stroke",{color:n.border.color||n.color,width:n.border.width,dashType:n.border.dashType,opacity:nt(n.border.opacity,n.opacity)});pu(t);this.visual.append(t)},createAnimation:function(){var n=this.options;r(n,{animation:{aboveAxis:this.aboveAxis,vertical:n.vertical}});f.fn.createAnimation.call(this)},tooltipAnchor:function(n,t){var f=this,o=f.options,i=f.box,s=o.vertical,e=f.aboveAxis,r,u;return s?(r=i.x2+vt,u=e?i.y1:i.y2-t):o.isStacked?(r=e?i.x2-n:i.x1,u=i.y1-t-vt):(r=e?i.x2+vt:i.x1-n-vt,u=i.y1),new a(r,u)},createHighlight:function(n){return s.Path.fromRect(this.box.toRect(),n)},formatValue:function(n){var t=this;return t.owner.formatPointValue(t,n)}});r(ws.fn,vi);r(ws.fn,ae);bs=wr.extend();r(bs.fn,vi);var ks=f.extend({init:function(n,t,i,r,u,e){var o=this;o.low=n;o.high=t;o.isVertical=i;o.chart=r;o.series=u;f.fn.init.call(o,e)},options:{animation:{type:or,delay:ni},endCaps:!0,line:{width:1},zIndex:1},getAxis:function(){},reflow:function(n){var u,i=this,s=i.options.endCaps,o=i.isVertical,l=i.getAxis(),t=l.getSlot(i.low,i.high),r=n.center(),h=i.getCapsWidth(n,o),c=o?r.x:r.y,f=c-h,e=c+h;o?(u=[a(r.x,t.y1),a(r.x,t.y2)],s&&u.push(a(f,t.y1),a(e,t.y1),a(f,t.y2),a(e,t.y2))):(u=[a(t.x1,r.y),a(t.x2,r.y)],s&&u.push(a(t.x1,f),a(t.x1,e),a(t.x2,f),a(t.x2,e)));i.linePoints=u},getCapsWidth:function(n,t){var r=t?n.width():n.height();return i.min(i.floor(r/2),dh)||dh},createVisual:function(){var i=this,r=i.options,o=i.parent,e={stroke:{color:r.color,width:r.line.width,dashType:r.line.dashType}},t=i.linePoints,n,u;for(f.fn.createVisual.call(this),n=0;n<t.length;n+=2)u=new s.Path(e).moveTo(t[n].x,t[n].y).lineTo(t[n+1].x,t[n+1].y),this.visual.append(u)}}),il=ks.extend({getAxis:function(){var n=this,t=n.chart,i=n.series;return t.seriesValueAxis(i)}}),rl=ks.extend({getAxis:function(){var n=this,i=n.chart,r=n.series,t=i.seriesAxes(r);return n.isVertical?t.y:t.x}}),yi=f.extend({init:function(n,t){var i=this;f.fn.init.call(i);i.value=n;i.options=t;i.aboveAxis=nt(i.options.aboveAxis,!0);i.tooltipTracking=!0},defaults:{vertical:!0,markers:{visible:!0,background:tr,size:wo,type:nu,border:{width:2},opacity:1},labels:{visible:!1,position:kh,margin:wi(3),padding:wi(4),animation:{type:or,delay:ni}},notes:{label:{}},highlight:{markers:{border:{}}}},render:function(){var n=this,u=n.options,f=u.markers,t=u.labels,i=n.value,e;n._rendered||(n._rendered=!0,f.visible&&f.size&&(n.marker=n.createMarker(),n.append(n.marker)),t.visible&&(t.template?(e=yt(t.template),i=e({dataItem:n.dataItem,category:n.category,value:n.value,percentage:n.percentage,series:n.series})):t.format&&(i=n.formatValue(t.format)),n.label=new kf(i,r({align:d,vAlign:d,margin:{left:5,right:5},zIndex:this.series.zIndex},t)),n.append(n.label)),n.createNote(),n.errorBar&&n.append(n.errorBar))},markerBorder:function(){var t=this.options.markers,i=t.background,n=r({color:this.color},t.border);return u(n.color)||(n.color=new pr(i).brightness(ne).toHex()),n},createVisual:au,createMarker:function(){var n=this.options.markers;return new wr({type:n.type,width:n.size,height:n.size,rotation:n.rotation,background:n.background,border:this.markerBorder(),opacity:n.opacity,zIndex:this.series.zIndex,animation:n.animation})},markerBox:function(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box},reflow:function(n){var t=this,o=t.options,s=o.vertical,e=t.aboveAxis,i,r,u,f;if(t.render(),t.box=n,i=n.clone(),s?e?i.y1-=i.height():i.y2+=i.height():e?i.x1+=i.width():i.x2-=i.width(),t._childBox=i,t.marker&&t.marker.reflow(i),t.reflowLabel(i),t.errorBars)for(u=0;u<t.errorBars.length;u++)t.errorBars[u].reflow(i);t.note&&(f=t.markerBox(),t.marker||(r=f.center(),f=k(r.x,r.y,r.x,r.y)),t.note.reflow(f))},reflowLabel:function(n){var r=this,u=r.options,i=r.label,t=u.labels.position;i&&(t=t===kh?ti:t,t=t===rv?ki:t,i.reflow(n),i.box.alignTo(r.markerBox(),t),i.reflow(i.box))},createHighlight:function(){var r=this.options.highlight,n=r.markers,u=this.markerBorder().color,t=this.options.markers,i=new wr({type:t.type,width:t.size,height:t.size,rotation:t.rotation,background:n.color||u,border:{color:n.border.color,width:n.border.width,opacity:n.border.opacity||0},fillOpacity:n.opacity||1});return i.reflow(this._childBox),i.getElement()},tooltipAnchor:function(n,t){var i=this,r=i.markerBox(),h=i.options,f=i.aboveAxis,e=r.x2+vt,o=f?r.y1-t:r.y2,u=i.owner.pane.clipBox(),s=!u||u.overlaps(r);if(s)return a(e,o)},formatValue:function(n){var t=this;return t.owner.formatPointValue(t,n)}});r(yi.fn,vi);r(yi.fn,ae);var ul=yi.extend({init:function(n,t){var i=this;yi.fn.init.call(i,n,t);i.category=n.category},defaults:{labels:{position:d},highlight:{opacity:1,border:{width:1,opacity:1}}},createHighlight:function(){var i=this.options.highlight,n=i.border,t=this.options.markers,r=this.box.center(),u=t.size/2-n.width/2;return new s.Circle(new h.Circle([r.x,r.y],u),{stroke:{color:n.color||new pr(t.background).brightness(ne).toHex(),width:n.width,opacity:n.opacity},fill:{color:t.background,opacity:i.opacity}})}}),ii=f.extend({init:function(n,t,i){var r=this;f.fn.init.call(r);r.linePoints=n;r.series=t;r.seriesIx=i},options:{closed:!1},points:function(n){for(var u=this,i=u.linePoints.concat(n||[]),r=[],t=0,f=i.length;t<f;t++)i[t].visible!==!1&&r.push(i[t]._childBox.toRect().center());return r},createVisual:function(){var u=this.options,n=this.series,r=n._defaults,t=n.color,i;fi(t)&&r&&(t=r.color);i=s.Path.fromPoints(this.points(),{stroke:{color:t,width:n.width,opacity:n.opacity,dashType:n.dashType},zIndex:n.zIndex});u.closed&&i.close();this.visual=i},aliasFor:function(n,t){var i=this,r=i.seriesIx;return i.parent.getNearestPoint(t.x,t.y,r)}}),fl={renderSegments:function(){var i=this,c=i.options,l=c.series,s=i.seriesPoints,u,n,a=s.length,e,t,o,f,h,r;for(this._segments=[],n=0;n<a;n++){for(u=l[n],e=i.sortPoints(s[n]),h=e.length,t=[],f=0;f<h;f++)o=e[f],o?t.push(o):i.seriesMissingValues(u)!==po&&(t.length>1&&(r=i.createSegment(t,u,n,r),this._addSegment(r)),t=[]);t.length>1&&(r=i.createSegment(t,u,n,r),this._addSegment(r))}},_addSegment:function(n){this._segments.push(n);this.children.unshift(n);n.parent=this},sortPoints:function(n){return n},seriesMissingValues:function(n){var t=n.missingValues,i=!t&&this.options.isStacked;return i?vs:t||po},getNearestPoint:function(n,t,i){for(var r,c,e,l=new a(n,t),o=this.seriesPoints[i],s=tt,h,f=0;f<o.length;f++)r=o[f],r&&u(r.value)&&r.value!==null&&r.visible!==!1&&(c=r.box,e=c.center().distanceTo(l),e<s&&(h=r,s=e));return h}},ve=bt.extend({render:function(){var n=this;bt.fn.render.apply(n);n.updateStackRange();n.renderSegments()},pointType:function(){return yi},createPoint:function(n,t){var i=this,c=t.categoryIx,a=t.category,r=t.series,l=t.seriesIx,f=n.valueFields.value,v=i.options,p=v.isStacked,w=i.categoryPoints[c],y=i.seriesMissingValues(r),s,e,h;if(!u(f)||f===null)if(y===vs)f=0;else return null;return e=this.pointOptions(r,l),e=i.evalPointOptions(e,f,a,c,r,l),h=n.fields.color||r.color,o.isFunction(r.color)&&(h=e.color),s=new yi(f,e),s.color=h,i.append(s),s},plotRange:function(n){var i=this.plotValue(n),f,r,t,u;if(this.options.isStacked)for(f=n.categoryIx,r=this.categoryPoints[f],t=0;t<r.length;t++){if(u=r[t],n===u)break;i+=this.plotValue(u)}return[i,i]},createSegment:function(n,t,i){var r,u=t.style;return r=u===es?ye:u===os?ds:ii,new r(n,t,i)}});r(ve.fn,fl);var ye=ii.extend({points:function(n){var i=this,t;return t=i.calculateStepPoints(i.linePoints),n&&n.length&&(t=t.concat(i.calculateStepPoints(n).reverse())),t},calculateStepPoints:function(n){for(var l=this,y=l.parent,k=y.plotArea,a=k.seriesCategoryAxis(l.series),p=y.seriesMissingValues(l.series)===po,d=n.length,w=a.options.reverse,b=a.options.vertical,f=w?2:1,s=w?1:2,e,u,i,r,t=[],o=1;o<d;o++)e=n[o-1],u=n[o],i=e.markerBox().center(),r=u.markerBox().center(),a.options.justified?(t.push(new h.Point(i.x,i.y)),b?t.push(new h.Point(i.x,r.y)):t.push(new h.Point(r.x,i.y)),t.push(new h.Point(r.x,r.y))):b?(t.push(new h.Point(i.x,e.box[c+f])),t.push(new h.Point(i.x,e.box[c+s])),p&&t.push(new h.Point(i.x,u.box[c+f])),t.push(new h.Point(r.x,u.box[c+f])),t.push(new h.Point(r.x,u.box[c+s]))):(t.push(new h.Point(e.box[v+f],i.y)),t.push(new h.Point(e.box[v+s],i.y)),p&&t.push(new h.Point(u.box[v+f],i.y)),t.push(new h.Point(u.box[v+f],r.y)),t.push(new h.Point(u.box[v+s],r.y)));return t||[]}}),ds=ii.extend({createVisual:function(){var e=this.options,n=this.series,r=n._defaults,t=n.color;fi(t)&&r&&(t=r.color);var u=new ch(this.options.closed),f=u.process(this.points()),i=new s.Path({stroke:{color:t,width:n.width,opacity:n.opacity,dashType:n.dashType},zIndex:n.zIndex});i.segments.push.apply(i.segments,f);this.visual=i}}),el={points:function(){var t=this,r=t.parent,a=r.plotArea,u=r.options.invertAxes,y=r.seriesValueAxis(t.series),o=y.lineBox(),p=a.seriesCategoryAxis(t.series),s=p.lineBox(),i=u?s.x1:s.y1,w=t.stackPoints,n=t._linePoints(w),l=u?v:c,f,e;return i=gt(i,o[l+1],o[l+2]),!t.stackPoints&&n.length>1&&(f=n[0],e=ht(n),u?(n.unshift(new h.Point(i,f.y)),n.push(new h.Point(i,e.y))):(n.unshift(new h.Point(f.x,i)),n.push(new h.Point(e.x,i)))),n},createVisual:function(){var r=this.options,t=this.series,i=t._defaults,n=t.color;fi(n)&&i&&(n=i.color);this.visual=new s.Group({zIndex:t.zIndex});this.createArea(n);this.createLine(n)},createLine:function(n){var i=this.series,t=r({color:n,opacity:i.opacity},i.line),u;t.visible!==!1&&t.width>0&&(u=s.Path.fromPoints(this._linePoints(),{stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType,lineCap:"butt"}}),this.visual.append(u))},createArea:function(n){var t=this.series,i=s.Path.fromPoints(this.points(),{fill:{color:n,opacity:t.opacity},stroke:null});this.visual.append(i)}},pe=ii.extend({init:function(n,t,i,r){var u=this;u.stackPoints=t;ii.fn.init.call(u,n,i,r)},_linePoints:ii.fn.points});r(pe.fn,el);var ol=ve.extend({createSegment:function(n,t,i,r){var s=this,h=s.options,e=h.isStacked,u,o,f=(t.line||{}).style;return(e&&i>0&&r&&(u=r.linePoints,f!==es&&(u=u.slice(0).reverse())),f===os)?new sl(n,r,e,t,i):(o=f===es?hl:pe,new o(n,u,t,i))},seriesMissingValues:function(n){return n.missingValues||vs}}),sl=pe.extend({init:function(n,t,i,r,u){var f=this;f.prevSegment=t;f.isStacked=i;ii.fn.init.call(f,n,r,u)},strokeSegments:function(){var n=this._strokeSegments,t,i;return n||(t=new ch(this.options.closed),i=ii.fn.points.call(this),n=this._strokeSegments=t.process(i)),n},createVisual:function(){var u=this.options,n=this.series,i=n._defaults,t=n.color;fi(t)&&i&&(t=i.color);this.visual=new s.Group;this.createFill({fill:{color:t,opacity:n.opacity},stroke:null});this.createStroke({stroke:r({color:t,opacity:n.opacity,lineCap:"butt"},n.line)})},createFill:function(t){var h=this.strokeSegments(),i=h.slice(0),c=this.prevSegment,u,f,e,o,r;this.isStacked&&c&&(u=c.strokeSegments(),f=ht(u).anchor(),i.push(new s.Segment(f,f,ht(h).anchor())),e=n.map(u,function(n){return new s.Segment(n.anchor(),n.controlOut(),n.controlIn())}).reverse(),wu(i,e),o=i[0].anchor(),i.push(new s.Segment(o,o,ht(e).anchor())));r=new s.Path(t);r.segments.push.apply(r.segments,i);this.closeFill(r);this.visual.append(r)},closeFill:function(n){var i=this,r=i.parent,a=i.prevSegment,y=r.plotArea,u=r.options.invertAxes,p=r.seriesValueAxis(i.series),e=p.lineBox(),w=y.seriesCategoryAxis(i.series),o=w.lineBox(),t=u?o.x1:o.y1,s=u?v:c,f=i.strokeSegments(),h=f[0].anchor(),l=ht(f).anchor();t=gt(t,e[s+1],e[s+2]);!(r.options.isStacked&&a)&&f.length>1&&(u?n.lineTo(t,l.y).lineTo(t,h.y):n.lineTo(l.x,t).lineTo(h.x,t))},createStroke:function(n){if(n.stroke.width>0){var t=new s.Path(n);t.segments.push.apply(t.segments,this.strokeSegments());this.visual.append(t)}}}),hl=ye.extend({init:function(n,t,i,r){var u=this;u.stackPoints=t;ye.fn.init.call(u,n,i,r)},_linePoints:ye.fn.points});r(hl.fn,el);ir=f.extend({init:function(n,t){var i=this;f.fn.init.call(i,t);i.plotArea=n;i.xAxisRanges={};i.yAxisRanges={};i.points=[];i.seriesPoints=[];i.seriesOptions=[];i._evalSeries=[];i.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0},render:function(){var n=this;n.traverseDataPoints(y(n.addValue,n))},addErrorBar:function(n,t,i){var f,r=this,s=n.value[t],h=t+"Value",a=t+"ErrorLow",v=t+"ErrorHigh",e=i.seriesIx,y=i.series,o=n.options.errorBars,c=i[a],l=i[v];b(s)&&(b(c)&&b(l)&&(f={low:c,high:l}),o&&u(o[h])&&(r.seriesErrorRanges=r.seriesErrorRanges||{x:[],y:[]},r.seriesErrorRanges[t][e]=r.seriesErrorRanges[t][e]||new su(o[h],y,t),f=r.seriesErrorRanges[t][e].getErrorRange(s)),f&&r.addPointErrorBar(f,n,t))},addPointErrorBar:function(n,t,i){var u=this,f=n.low,e=n.high,o=t.series,h=i===c,l=t.options.errorBars,r={},s;t[i+"Low"]=f;t[i+"High"]=e;t.errorBars=t.errorBars||[];s=new rl(f,e,h,u,o,l);t.errorBars.push(s);t.append(s);r[i]=f;u.updateRange(r,o);r[i]=e;u.updateRange(r,o)},addValue:function(n,t){var r=this,i,f=n.x,e=n.y,o=t.seriesIx,s=r.seriesPoints[o];r.updateRange(n,t.series);u(f)&&f!==null&&u(e)&&e!==null&&(i=r.createPoint(n,t),i&&(ur(i,t),r.addErrorBar(i,v,t),r.addErrorBar(i,c,t)));r.points.push(i);s.push(i)},updateRange:function(n,t){var s=this,r=n.x,f=n.y,h=t.xAxis,c=t.yAxis,e=s.xAxisRanges[h],o=s.yAxisRanges[c];u(r)&&r!==null&&(e=s.xAxisRanges[h]=e||{min:tt,max:at},typeof r===ru&&(r=l(r)),e.min=i.min(e.min,r),e.max=i.max(e.max,r));u(f)&&f!==null&&(o=s.yAxisRanges[c]=o||{min:tt,max:at},typeof f===ru&&(f=l(f)),o.min=i.min(o.min,f),o.max=i.max(o.max,f))},evalPointOptions:function(n,t,i){var e=i.series,o=i.seriesIx,s={defaults:e._defaults,excluded:["data","tooltip","tempate"]},f=this._evalSeries[o];return u(f)||(this._evalSeries[o]=f=vr(n,{},s,!0)),f&&(n=r({},n),vr(n,{value:t,series:e,dataItem:i.dataItem},s)),n},pointType:function(){return yi},pointOptions:function(n,t){var i=this.seriesOptions[t],u;return i||(u=this.pointType().fn.defaults,this.seriesOptions[t]=i=r({},u,{markers:{opacity:n.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},n)),i},createPoint:function(n,t){var f=this,u=t.series,i,r=this.pointOptions(u,t.seriesIx),e=t.color||u.color;return r=f.evalPointOptions(r,n,t),o.isFunction(u.color)&&(e=r.color),i=new yi(n,r),i.color=e,f.append(i),i},seriesAxes:function(n){var t=this.plotArea,i=n.xAxis,u=i?t.namedXAxes[i]:t.axisX,r=n.yAxis,f=r?t.namedYAxes[r]:t.axisY;if(!u)throw new Error("Unable to locate X axis with name "+i);if(!f)throw new Error("Unable to locate Y axis with name "+r);return{x:u,y:f}},reflow:function(n){var t=this,f=t.points,e=0,i,r,o=t.options.clip,u=!t.options.clip;t.traverseDataPoints(function(n,o){i=f[e++];r=t.seriesAxes(o.series);var s=r.x.getSlot(n.x,n.x,u),h=r.y.getSlot(n.y,n.y,u),c;i&&(s&&h?(c=t.pointSlot(s,h),i.reflow(c)):i.visible=!1)});t.box=n},pointSlot:function(n,t){return new k(n.x1,t.y1,n.x2,t.y2)},traverseDataPoints:function(n){for(var f=this,a=f.options,o=a.series,s=f.seriesPoints,i,u,h,e,c,l,t=0;t<o.length;t++)for(u=o[t],h=s[t],h||(s[t]=[]),i=0;i<u.data.length;i++)e=this._bindPoint(u,t,i),c=e.valueFields,l=e.fields,n(c,r({pointIx:i,series:u,seriesIx:t,dataItem:u.data[i],owner:f},l))},_bindPoint:bt.fn._bindPoint,formatPointValue:function(n,t){var i=n.value;return st(t,i.x,i.y)},createVisual:au});we=ir.extend({render:function(){var n=this;ir.fn.render.call(n);n.renderSegments()},createSegment:function(n,t,i){var r,u=t.style;return r=u===os?ds:ii,new r(n,t,i)}});r(we.fn,fl);gs=ir.extend({options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function(n,t){(n.size!==null&&n.size>=0||t.series.negativeValues.visible)&&ir.fn.addValue.call(this,n,t)},reflow:function(n){var t=this;t.updateBubblesSize(n);ir.fn.reflow.call(t,n)},pointType:function(){return ul},createPoint:function(n,t){var h=this,i=t.series,a=h.plotArea.options.seriesColors||[],c=i.data.length,e=t.pointIx*(ni/c),l={delay:e,duration:ni-e,type:kr},s,u,f=t.color||i.color;return n.size<0&&i.negativeValues.visible&&(f=nt(i.negativeValues.color,f)),u=r({labels:{animation:{delay:e,duration:ni-e}}},this.pointOptions(i,t.seriesIx),{markers:{type:nu,border:i.border,opacity:i.opacity,animation:l}}),u=h.evalPointOptions(u,n,t),o.isFunction(i.color)&&(f=u.color),u.markers.background=f,s=new ul(n,u),s.color=f,h.append(s),s},updateBubblesSize:function(n){for(var e=this,p=e.options,h=p.series,c=i.min(n.width(),n.height()),u,t=0;t<h.length;t++){var l=h[t],o=e.seriesPoints[t],w=e.maxSize(o),b=l.minSize||i.max(c*.02,10),k=l.maxSize||c*.2,a=b/2,f=k/2,v=i.PI*a*a,d=i.PI*f*f,g=d-v,nt=g/w;for(u=0;u<o.length;u++){var y=o[u],tt=i.abs(y.value.size)*nt,s=i.sqrt((v+tt)/i.PI);r(y.options,{markers:{size:s*2,zIndex:f-s},labels:{zIndex:f-s+1}})}}},maxSize:function(n){for(var f=n.length,r=0,u,t=0;t<f;t++)u=n[t].value.size,r=i.max(r,i.abs(u));return r},formatPointValue:function(n,t){var i=n.value;return st(t,i.x,i.y,i.size,n.category)}});pi=f.extend({init:function(n,t){f.fn.init.call(this,t);this.value=n},options:{border:{_brightness:.8},line:{width:2},overlay:{gradient:vo},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{4:d}<\/th><tr><td>Open:<\/td><td>{0:C}<\/td><\/tr><tr><td>High:<\/td><td>{1:C}<\/td><\/tr><tr><td>Low:<\/td><td>{2:C}<\/td><\/tr><tr><td>Close:<\/td><td>{3:C}<\/td><\/tr><\/table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}},reflow:function(n){var t=this,s=t.options,h=t.owner,f=t.value,o=h.seriesValueAxis(s),e=[],u,i,r;i=o.getSlot(f.open,f.close);r=o.getSlot(f.low,f.high);i.x1=r.x1=n.x1;i.x2=r.x2=n.x2;t.realBody=i;u=r.center().x;e.push([[u,r.y1],[u,i.y1]]);e.push([[u,i.y2],[u,r.y2]]);t.lines=e;t.box=r.clone().wrap(i);t._rendered||(t._rendered=!0,t.createNote());t.reflowNote()},reflowNote:function(){var n=this;n.note&&n.note.reflow(n.box)},createVisual:function(){f.fn.createVisual.call(this);this.visual.append(this.mainVisual(this.options));this.createOverlay()},mainVisual:function(n){var t=new s.Group;return this.createBody(t,n),this.createLines(t,n),t},createBody:function(n,t){var i=s.Path.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:t.opacity},stroke:null});t.border.width>0&&i.options.set("stroke",{color:this.getBorderColor(),width:t.border.width,dashType:t.border.dashType,opacity:nt(t.border.opacity,t.opacity)});pu(i);n.append(i);oh(t)&&n.append(this.createGradientOverlay(i,{baseColor:this.color},r({},t.overlay)))},createLines:function(n,t){this.drawLines(n,t,this.lines,t.line)},drawLines:function(n,t,i,r){for(var f,e={stroke:{color:r.color||this.color,opacity:nt(r.opacity,t.opacity),width:r.width,dashType:r.dashType,lineCap:"butt"}},u=0;u<i.length;u++)f=s.Path.fromPoints(i[u],e),pu(f),n.append(f)},getBorderColor:function(){var t=this,r=t.options,i=r.border,n=i.color;return u(n)||(n=new pr(t.color).brightness(i._brightness).toHex()),n},createOverlay:function(){var n=s.Path.fromRect(this.box.toRect(),{fill:{color:tr,opacity:0},stroke:null});this.visual.append(n)},createHighlight:function(){var n=this.options.highlight,i=this.color,t;return this.color=n.color||this.color,t=this.mainVisual(r({},this.options,{line:{color:this.getBorderColor()}},n)),this.color=i,t},tooltipAnchor:function(){var t=this,n=t.box,r=t.owner.pane.clipBox()||n;return new a(n.x2+vt,i.max(n.y1,r.y1)+vt)},formatValue:function(n){var t=this;return t.owner.formatPointValue(t,n)}});r(pi.fn,vi);r(pi.fn,ae);var be=bt.extend({options:{},reflowCategories:function(n){for(var r=this,i=r.children,u=i.length,t=0;t<u;t++)i[t].reflow(n[t])},addValue:function(n,t){var r=this,u=t.categoryIx,c=t.category,s=t.series,l=t.seriesIx,e=r.options,h=n.valueFields,a=r.children,v=r.splitValue(h),y=eh(v),o=r.categoryPoints[u],p=s.data[u],i,f;o||(r.categoryPoints[u]=o=[]);y&&(i=r.createPoint(n,t));f=a[u];f||(f=new sf({vertical:e.invertAxes,gap:e.gap,spacing:e.spacing}),r.append(f));i&&(r.updateRange(h,t),f.append(i),i.categoryIx=u,i.category=c,i.series=s,i.seriesIx=l,i.owner=r,i.dataItem=p,i.noteText=n.fields.noteText);r.points.push(i);o.push(i)},pointType:function(){return pi},createPoint:function(n,t){var h=this,c=t.categoryIx,l=t.category,i=t.series,a=t.seriesIx,u=n.valueFields,f=r({},i),v=h.pointType(),e=n.fields.color||i.color,s;return f=h.evalPointOptions(f,u,l,c,i,a),i.type==gr&&u.open>u.close&&(e=n.fields.downColor||i.downColor||i.color),o.isFunction(i.color)&&(e=f.color),s=new v(u,f),s.color=e,s},splitValue:function(n){return[n.low,n.open,n.close,n.high]},updateRange:function(n,t){var u=this,f=t.series.axis,r=u.valueAxisRanges[f],e=u.splitValue(n);r=u.valueAxisRanges[f]=r||{min:tt,max:at};r=u.valueAxisRanges[f]={min:i.min.apply(i,e.concat([r.min])),max:i.max.apply(i,e.concat([r.max]))}},formatPointValue:function(n,t){var i=n.value;return st(t,i.open,i.high,i.low,i.close,n.category)}}),cl=pi.extend({reflow:function(n){var u=this,l=u.options,a=u.owner,f=u.value,o=a.seriesValueAxis(l),s=[],h=[],c=[],e,t,i,r;r=o.getSlot(f.low,f.high);t=o.getSlot(f.open,f.open);i=o.getSlot(f.close,f.close);t.x1=i.x1=r.x1=n.x1;t.x2=i.x2=r.x2=n.x2;e=r.center().x;s.push([t.x1,t.y1]);s.push([e,t.y1]);h.push([e,i.y1]);h.push([i.x2,i.y1]);c.push([e,r.y1]);c.push([e,r.y2]);u.lines=[s,h,c];u.box=r.clone().wrap(t.clone().wrap(i));u.reflowNote()},createBody:n.noop}),ll=be.extend({pointType:function(){return cl}}),iy=be.extend({addValue:function(n,t){var r=this,u=t.categoryIx,c=t.category,s=t.series,l=t.seriesIx,e=r.options,a=r.children,h=n.valueFields,v=r.splitValue(h),y=eh(v),o=r.categoryPoints[u],p=s.data[u],i,f;o||(r.categoryPoints[u]=o=[]);y&&(i=r.createPoint(n,t));f=a[u];f||(f=new sf({vertical:e.invertAxes,gap:e.gap,spacing:e.spacing}),r.append(f));i&&(r.updateRange(h,t),f.append(i),i.categoryIx=u,i.category=c,i.series=s,i.seriesIx=l,i.owner=r,i.dataItem=p);r.points.push(i);o.push(i)},pointType:function(){return al},splitValue:function(n){return[n.lower,n.q1,n.median,n.q3,n.upper]},updateRange:function(n,t){var r=this,o=t.series.axis,f=r.valueAxisRanges[o],e=r.splitValue(n).concat(r.filterOutliers(n.outliers));u(n.mean)&&(e=e.concat(n.mean));f=r.valueAxisRanges[o]=f||{min:tt,max:at};f=r.valueAxisRanges[o]={min:i.min.apply(i,e.concat([f.min])),max:i.max.apply(i,e.concat([f.max]))}},formatPointValue:function(n,t){var i=n.value;return st(t,i.lower,i.q1,i.median,i.q3,i.upper,i.mean,n.category)},filterOutliers:function(n){for(var f=(n||[]).length,r=[],i,t=0;t<f;t++)i=n[t],u(i)&&eo(r,i);return r}}),al=pi.extend({init:function(n,t){var i=this;f.fn.init.call(i,t);i.value=n;i.createNote()},options:{border:{_brightness:.8},line:{width:2},mean:{width:2,dashType:"dash"},overlay:{gradient:vo},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{6:d}<\/th><tr><td>Lower:<\/td><td>{0:C}<\/td><\/tr><tr><td>Q1:<\/td><td>{1:C}<\/td><\/tr><tr><td>Median:<\/td><td>{2:C}<\/td><\/tr><tr><td>Mean:<\/td><td>{5:C}<\/td><\/tr><tr><td>Q3:<\/td><td>{3:C}<\/td><\/tr><tr><td>Upper:<\/td><td>{4:C}<\/td><\/tr><\/table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:wo,type:"cross",background:tr,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:wo,type:nu,background:tr,border:{width:2,opacity:1},opacity:0}},reflow:function(n){var i=this,h=i.options,c=i.owner,f=i.value,e=c.seriesValueAxis(h),r,t,u,o,s;u=e.getSlot(f.q1,f.q3);i.boxSlot=u;t=e.getSlot(f.lower,f.upper);o=e.getSlot(f.median);u.x1=t.x1=n.x1;u.x2=t.x2=n.x2;i.realBody=u;f.mean&&(s=e.getSlot(f.mean),i.meanPoints=[[[n.x1,s.y1],[n.x2,s.y1]]]);r=t.center().x;i.whiskerPoints=[[[r-5,t.y1],[r+5,t.y1],[r,t.y1],[r,u.y1]],[[r-5,t.y2],[r+5,t.y2],[r,t.y2],[r,u.y2]]];i.medianPoints=[[[n.x1,o.y1],[n.x2,o.y1]]];i.box=t.clone().wrap(u);i.reflowNote()},renderOutliers:function(n){for(var e=this,t=n.markers||{},f=e.value,a=f.outliers||[],y=e.owner.seriesValueAxis(n),v=i.abs(f.q3-f.q1)*3,o,c,s,l=[],h=0;h<a.length;h++)s=a[h],t=s<f.q3+v&&s>f.q1-v?n.outliers:n.extremes,o=r({},t.border),u(o.color)||(o.color=u(e.color)?e.color:new pr(t.background).brightness(ne).toHex()),c=new wr({type:t.type,width:t.size,height:t.size,rotation:t.rotation,background:t.background,border:o,opacity:t.opacity}),c.value=s,l.push(c);return this.reflowOutliers(l),l},reflowOutliers:function(n){for(var r,i,u=this.owner.seriesValueAxis(this.options),f=this.box.center().x,t=0;t<n.length;t++)r=n[t].value,i=u.getSlot(r).move(f),this.box=this.box.wrap(i),n[t].reflow(i)},mainVisual:function(n){for(var i,r=pi.fn.mainVisual.call(this,n),u=this.renderOutliers(n),t=0;t<u.length;t++)i=u[t].getElement(),i&&r.append(i);return r},createLines:function(n,t){this.drawLines(n,t,this.whiskerPoints,t.line);this.drawLines(n,t,this.medianPoints,t.median);this.drawLines(n,t,this.meanPoints,t.mean)},getBorderColor:function(){return this.color?this.color:pi.getBorderColor.call(this)}});r(al.fn,vi);cu=f.extend({init:function(n,t,i){var r=this;r.value=n;r.sector=t;f.fn.init.call(r,i)},options:{color:tr,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:fv,margin:wi(.5),align:nu,zIndex:1,position:sr},animation:{type:hr},highlight:{visible:!0,border:{width:1}},visible:!0},render:function(){var n=this,f=n.options,t=f.labels,i=n.value,u;n._rendered||n.visible===!1||(n._rendered=!0,t.template?(u=yt(t.template),i=u({dataItem:n.dataItem,category:n.category,value:n.value,series:n.series,percentage:n.percentage})):t.format&&(i=st(t.format,i)),t.visible&&i&&(n.label=new kf(i,r({},t,{align:d,vAlign:"",animation:{type:or,delay:n.animationDelay}})),n.append(n.label)))},reflow:function(n){var t=this;t.render();t.box=n;t.reflowLabel()},reflowLabel:function(){var f=this,t=f.sector.clone(),c=f.options,r=f.label,e=c.labels,l=e.distance,o=t.middle(),n,s,h,u;r&&(u=r.box.height(),h=r.box.width(),e.position==d?(t.r=i.abs((t.r-u)/2)+u,n=t.point(o),r.reflow(k(n.x,n.y-u/2,n.x,n.y))):e.position==yo?(t.r=t.r-u/2,n=t.point(o),r.reflow(k(n.x,n.y-u/2,n.x,n.y))):(n=t.clone().expand(l).point(o),n.x>=t.c.x?(s=n.x+h,r.orientation=et):(s=n.x-h,r.orientation=lt),r.reflow(k(s,n.y-u,n.x,n.y))))},createVisual:function(){var u=this,t=u.sector,n=u.options,i=n.border||{},h=i.width>0?{stroke:{color:i.color,width:i.width,opacity:i.opacity,dashType:i.dashType}}:{},o=n.color,s={color:o,opacity:n.opacity},e;f.fn.createVisual.call(this);u.value&&(e=u.createSegment(t,r({fill:s,stroke:{opacity:n.opacity},zIndex:n.zIndex},h)),this.visual.append(e),oh(n)&&this.visual.append(this.createGradientOverlay(e,{baseColor:o,fallbackFill:s},r({center:[t.c.x,t.c.y],innerRadius:t.ir,radius:t.r,userSpace:!0},n.overlay))))},createSegment:function(n,t){return t.singleSegment?new s.Circle(new h.Circle(new h.Point(n.c.x,n.c.y),n.r),t):vh.current.createRing(n,t)},createAnimation:function(){var t=this.options,n=this.sector.c;r(t,{animation:{center:[n.x,n.y],delay:this.animationDelay}});f.fn.createAnimation.call(this)},createHighlight:function(n){var t=this,i=t.options.highlight||{},u=i.border||{};return t.createSegment(t.sector,r({},n,{fill:{color:i.color,opacity:i.opacity},stroke:{opacity:u.opacity,width:u.width,color:u.color}}))},tooltipAnchor:function(n,t){var r=this,i=r.sector.adjacentBox(vt,n,t);return new a(i.x1,i.y1)},formatValue:function(n){var t=this;return t.owner.formatPointValue(t,n)}});r(cu.fn,vi);nh={createLegendItem:function(n,t){var s=this,h=s.options.legend||{},c=h.labels||{},l=h.inactiveItems||{},r=l.labels||{},i,u,f,e,o;t&&t.visibleInLegend!==!1&&(o=t.visible!==!1,i=t.category||"",u=o?c.template:r.template||c.template,u&&(i=yt(u)({text:i,series:t.series,dataItem:t.dataItem,percentage:t.percentage,value:n})),o?(e={},f=(t.series||{}).color):(e={color:r.color,font:r.font},f=(l.markers||{}).color),i&&s.legendItems.push({pointIndex:t.index,text:i,series:t.series,markerColor:f,labels:e}))}};lu=f.extend({init:function(n,t){var i=this;f.fn.init.call(i,t);i.plotArea=n;i.points=[];i.legendItems=[];i.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4},inactiveItems:{markers:{},labels:{}}},render:function(){var n=this;n.traverseDataPoints(y(n.addValue,n))},traverseDataPoints:function(n){for(var o=this,g=o.options,nt=o.plotArea.options.seriesColors||[],ut=nt.length,tt=g.series,s=tt.length,t,h,e,l,c,it,a,v,rt,y,b,f,k=0,r=0;r<s;r++){for(t=tt[r],c=t.data,y=pa(t),it=360/y,b=u(t.startAngle)?t.startAngle:g.startAngle,r!=s-1&&t.labels.position==sr&&(t.labels.position=d),f=0;f<c.length;f++)h=w.current.bindPoint(t,f),a=h.valueFields.value,v=i.abs(a),e=h.fields,l=p(v*it,ue),rt=c.length!=1&&!!e.explode,fi(t.color)||(t.color=e.color||nt[f%ut]),n(a,new da(null,0,0,b,l),{owner:o,category:e.category||"",index:k,series:t,seriesIx:r,dataItem:c[f],percentage:v/y,explode:rt,visibleInLegend:e.visibleInLegend,visible:e.visible,zIndex:s-r,animationDelay:o.animationDelay(f,r,s)}),h.fields.visible!==!1&&(b+=l),k++;k=0}},evalSegmentOptions:function(n,t,i){var r=i.series;vr(n,{value:t,series:r,dataItem:i.dataItem,category:i.category,percentage:i.percentage},{defaults:r._defaults,excluded:["data","template"]})},addValue:function(n,t,i){var u=this,f,e;(u.createLegendItem(n,i),i.visible!==!1)&&(e=r({},i.series,{index:i.index}),u.evalSegmentOptions(e,n,i),f=new cu(n,t,e),ur(f,i),u.append(f),u.points.push(f))},reflow:function(n){var r=this,d=r.options,u=n.clone(),g=5,h=i.min(u.width(),u.height()),w=h/2,st=h-h*.85,f=nt(d.padding,st),e=k(u.x1,u.y1,u.x1+h,u.y1+h),tt=e.center(),it=r.seriesConfigs||[],rt=u.center(),ut=r.points,ht=ut.length,ft=d.series.length,c=[],l=[],b,v,o,s,t,y,p,ot;for(f=f>w-g?w-g:f,e.translate(rt.x-tt.x,rt.y-tt.y),y=w-f,ot=a(y+e.x1+f,y+e.y1+f),p=0;p<ht;p++)s=ut[p],t=s.sector,t.r=y,t.c=ot,v=s.seriesIx,it.length&&(b=it[v],t.ir=b.ir,t.r=b.r),v==ft-1&&s.explode&&(t.c=t.clone().radius(t.r*.15).point(t.middle())),s.reflow(e),o=s.label,o&&o.options.position===sr&&v==ft-1&&(o.orientation===et?l.push(o):c.push(o));c.length>0&&(c.sort(r.labelComparator(!0)),r.leftLabelsReflow(c));l.length>0&&(l.sort(r.labelComparator(!1)),r.rightLabelsReflow(l));r.box=e},leftLabelsReflow:function(n){var t=this,i=t.distanceBetweenLabels(n);t.distributeLabels(i,n)},rightLabelsReflow:function(n){var t=this,i=t.distanceBetweenLabels(n);t.distributeLabels(i,n)},distanceBetweenLabels:function(n){var l=this,o=l.points,s=o[o.length-1],f=s.sector,i=n[0].box,e=n.length-1,h=f.r+s.options.labels.distance,u=[],c,t,r;for(t=p(i.y1-(f.c.y-h-i.height()-i.height()/2)),u.push(t),r=0;r<e;r++)i=n[r].box,c=n[r+1].box,t=p(c.y1-i.y2),u.push(t);return t=p(f.c.y+h-n[e].box.y2-n[e].box.height()/2),u.push(t),u},distributeLabels:function(n,t){for(var u=this,o=n.length,r,f,e,i=0;i<o;i++)for(f=e=i,r=-n[i];r>0&&(f>=0||e<o);)r=u._takeDistance(n,i,--f,r),r=u._takeDistance(n,i,++e,r);u.reflowLabels(n,t)},_takeDistance:function(n,t,r,u){if(n[r]>0){var f=i.min(n[r],u);u-=f;n[r]-=f;n[t]+=f}return u},reflowLabels:function(n,t){var c=this,l=c.points,a=l[l.length-1],r=a.sector,v=t.length,h=a.options.labels,s=h.distance,i=r.c.y-(r.r+s)-t[0].box.height(),f,u,e,o;for(n[0]+=2,o=0;o<v;o++)f=t[o],i+=n[o],e=f.box,u=c.hAlignLabel(e.x2,r.clone().expand(s),i,i+e.height(),f.orientation==et),f.orientation==et?(h.align!==nu&&(u=r.r+r.c.x+s),f.reflow(k(u+e.width(),i,u,i))):(h.align!==nu&&(u=r.c.x-r.r-s),f.reflow(k(u-e.width(),i,u,i))),i+=e.height()},createVisual:function(){var w=this,nt=w.options,y=nt.connectors,d=w.points,t,tt=d.length,h=4,r,k,c,it,p,b;for(f.fn.createVisual.call(this),this._connectorLines=[],b=0;b<tt;b++)if(c=d[b],r=c.sector,k=r.middle(),p=c.label,it={seriesId:c.seriesIx},p&&(t=new s.Path({stroke:{color:y.color,width:y.width},animation:{type:or,delay:c.animationDelay}}),p.options.position===sr&&c.value!==0)){var v=p.box,g=r.c,e=r.point(k),o=a(v.x1,v.center().y),l,u,n;e=r.clone().expand(y.padding).point(k);t.moveTo(e.x,e.y);p.orientation==et?(u=a(v.x1-y.padding,v.center().y),n=fa(g,e,o,u),o=a(u.x-h,u.y),n=n||o,n.x=i.min(n.x,o.x),w.pointInCircle(n,r.c,r.r+h)||n.x<r.c.x?(l=r.c.x+r.r+h,c.options.labels.align!==di?l<o.x?t.lineTo(l,e.y):t.lineTo(e.x+h*2,e.y):t.lineTo(l,e.y),t.lineTo(o.x,u.y)):(n.y=u.y,t.lineTo(n.x,n.y))):(u=a(v.x2+y.padding,v.center().y),n=fa(g,e,o,u),o=a(u.x+h,u.y),n=n||o,n.x=i.max(n.x,o.x),w.pointInCircle(n,r.c,r.r+h)||n.x>r.c.x?(l=r.c.x-r.r-h,c.options.labels.align!==di?l>o.x?t.lineTo(l,e.y):t.lineTo(e.x-h*2,e.y):t.lineTo(l,e.y),t.lineTo(o.x,u.y)):(n.y=u.y,t.lineTo(n.x,n.y)));t.lineTo(u.x,u.y);this._connectorLines.push(t);this.visual.append(t)}},labelComparator:function(n){return n=n?-1:1,function(t,i){return t=(t.parent.sector.middle()+270)%360,i=(i.parent.sector.middle()+270)%360,(t-i)*n}},hAlignLabel:function(n,t,r,u,f){var h=t.c.x,s=t.c.y,e=t.r,o=i.min(i.abs(s-r),i.abs(s-u));return o>e?n:h+i.sqrt(e*e-o*o)*(f?1:-1)},pointInCircle:function(n,t,i){return uh(t.x-n.x)+uh(t.y-n.y)<uh(i)},formatPointValue:function(n,t){return st(t,n.value)},animationDelay:function(n){return n*bv}});r(lu.fn,nh);ke=cu.extend({options:{overlay:{gradient:"roundedGlass"},labels:{position:d},animation:{type:hr}},reflowLabel:function(){var i=this,n=i.sector.clone(),f=i.options,r=i.label,e=f.labels,t,o=n.middle(),u;r&&(u=r.box.height(),e.position==d?(n.r-=(n.r-n.ir)/2,t=n.point(o),r.reflow(new k(t.x,t.y-u/2,t.x,t.y))):cu.fn.reflowLabel.call(i))},createSegment:function(n,t){return vh.current.createRing(n,t)}});r(ke.fn,vi);var vl=lu.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function(n,t,i){var u=this,f,e;(u.createLegendItem(n,i),n&&i.visible!==!1)&&(e=r({},i.series,{index:i.index}),u.evalSegmentOptions(e,n,i),f=new ke(n,t,e),ur(f,i),u.append(f),u.points.push(f))},reflow:function(n){var h=this,p=h.options,w=n.clone(),b=5,a=i.min(w.width(),w.height()),c=a/2,it=a-a*.85,e=nt(p.padding,it),v=p.series,t,l=v.length,k=0,o,f,d,g=0,r,y,s=0,tt=0;for(h.seriesConfigs=[],e=e>c-b?c-b:e,f=c-e,r=0;r<l;r++)t=v[r],r===0&&u(t.holeSize)&&(o=t.holeSize,f-=t.holeSize),u(t.size)?f-=t.size:k++,u(t.margin)&&r!=l-1&&(f-=t.margin);for(u(o)||(tt=(c-e)/(l+.75),o=tt*.75,f-=o),s=o,r=0;r<l;r++)t=v[r],d=nt(t.size,f/k),s+=g,y=s+d,h.seriesConfigs.push({ir:s,r:y}),g=t.margin||0,s=y;lu.fn.reflow.call(h,n)},animationDelay:function(n,t,i){return n*sv+ni*(t+1)/(i+1)}}),yl=hu.extend({render:function(){hu.fn.render.call(this);this.createSegments()},traverseDataPoints:function(n){for(var i,o=this.options.series,a=this.categoryAxis.options.categories||[],v=io(o),y=!this.options.invertAxes,f=0;f<o.length;f++){var c=o[f],t=0,r=0;for(i=0;i<v;i++){var u=w.current.bindPoint(c,i),s=u.valueFields.value,l=u.fields.summary,h=t,e;l?l.toLowerCase()==="total"?(u.valueFields.value=t,h=0,e=t):(u.valueFields.value=r,e=h-r,r=0):b(s)&&(r+=s,t+=s,e=t);n(u,{category:a[i],categoryIx:i,series:c,seriesIx:f,total:t,runningTotal:r,from:h,to:e,isVertical:y})}}},updateRange:function(n,t){hu.fn.updateRange.call(this,{value:t.to},t)},aboveAxis:function(n){return n.value>=0},plotRange:function(n){return[n.from,n.to]},createSegments:function(){for(var o,t,u,i,r,f,e=this.options.series,s=this.seriesPoints,h=this.segments=[],n=0;n<e.length;n++)if(o=e[n],t=s[n],t)for(i=0;i<t.length;i++)r=t[i],r&&u&&(f=new pl(u,r,o),h.push(f),this.append(f)),u=r}}),pl=f.extend({init:function(n,t,i){var r=this;f.fn.init.call(r);r.from=n;r.to=t;r.series=i},options:{animation:{type:or,delay:ni}},linePoints:function(){var i=[],t=this.from,n=t.box,f=this.to.box,r,u;return t.isVertical?(r=t.aboveAxis?n.y1:n.y2,i.push([n.x1,r],[f.x2,r])):(u=t.aboveAxis?n.x2:n.x1,i.push([u,n.y1],[u,f.y2])),i},createVisual:function(){f.fn.createVisual.call(this);var t=this.options,n=this.series.line||{};this.visual.append(s.Path.fromPoints(this.linePoints(),{stroke:{color:n.color,width:n.width,opacity:n.opacity,dashType:n.dashType}}))}}),th=yr.extend({init:function(n){var t=this;yr.fn.init.call(t,n);n=t.options;t.id=o.guid();t.createTitle();t.content=new f;t.chartContainer=new wl({},t);t.append(t.content);t.axes=[];t.charts=[]},options:{zIndex:-1,shrinkToFit:!0,title:{align:lt},visible:!0},createTitle:function(){var t=this,n=t.options.title;typeof n===hi&&(n=r({},n,{align:n.position,position:ti}));t.title=yh.buildTitle(n,t,th.fn.options.title)},appendAxis:function(n){var t=this;t.content.append(n);t.axes.push(n);n.pane=t},appendChart:function(n){var t=this;t.chartContainer.parent!==t.content&&t.content.append(t.chartContainer);t.charts.push(n);t.chartContainer.append(n);n.pane=t},empty:function(){var n=this,i=n.parent,t;if(i){for(t=0;t<n.axes.length;t++)i.removeAxis(n.axes[t]);for(t=0;t<n.charts.length;t++)i.removeChart(n.charts[t])}n.axes=[];n.charts=[];n.content.destroy();n.content.children=[];n.chartContainer.children=[]},reflow:function(n){var t=this,i;ht(t.children)===t.content&&(i=t.children.pop());yr.fn.reflow.call(t,n);i&&t.children.push(i);t.title&&(t.contentBox.y1+=t.title.box.height())},renderComplete:function(){this.options.visible&&this.createGridLines()},stackRoot:function(){return this},createGridLines:function(){for(var o=this,i=o.axes,s=i.concat(o.parent.axes),h=[],c=[],r,t,u,f,e,n=0;n<i.length;n++)for(u=i[n],f=u.options.vertical,r=f?h:c,t=0;t<s.length;t++)r.length===0&&(e=s[t],f!==e.options.vertical&&wu(r,u.createGridLines(e)))},refresh:function(){this.visual.clear();this.content.parent=null;this.content.createGradient=n.proxy(this.createGradient,this);this.content.renderVisual();this.content.parent=this;this.visual.append(this.content.visual);this.renderComplete()},clipBox:function(){return this.chartContainer.clipBox}}),wl=f.extend({init:function(n,t){var i=this;f.fn.init.call(i,n);i.pane=t},shouldClip:function(){for(var i=this,t=i.children,r=t.length,n=0;n<r;n++)if(t[n].options.clip===!0)return!0;return!1},_clipBox:function(){for(var o=this,f=o.pane,e=f.axes,s=e.length,i=f.box.clone(),n,r,u,t=0;t<s;t++)u=e[t],n=u.options.vertical?c:v,r=u.lineBox(),i[n+1]=r[n+1],i[n+2]=r[n+2];return i},createVisual:function(){if(this.visual=new s.Group({zIndex:0}),this.shouldClip()){var n=this.clipBox=this._clipBox(),t=n.toRect(),i=s.Path.fromRect(t);this.visual.clip(i);this.unclipLabels()}},stackRoot:function(){return this},unclipLabels:function(){for(var u=this,f=u.children,e=u.clipBox,r,n,i,o,t=0;t<f.length;t++)for(r=f[t].points||{},o=r.length,i=0;i<o;i++)n=r[i],n&&n.label&&n.label.options.visible&&n.box.overlaps(e)&&(n.label.alignToClipBox&&n.label.alignToClipBox(e),n.label.options.noclip=!0)},destroy:function(){f.fn.destroy.call(this);delete this.parent}}),kt=f.extend({init:function(n,t){var i=this;f.fn.init.call(i,t);i.series=n;i.initSeries();i.charts=[];i.options.legend.items=[];i.axes=[];i.crosshairs=[];i.createPanes();i.render();i.createCrosshairs()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:br,width:0},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}},initSeries:function(){for(var t=this.series,i,n=0;n<t.length;n++)i=t[n],i.index=n},createPanes:function(){for(var r=this,u=[],f=r.options.panes||[],e=i.max(f.length,1),t,n=0;n<e;n++)t=new th(f[n]),t.paneIndex=n,u.push(t),r.append(t);r.panes=u},destroy:function(){for(var t=this,i=t.charts,r=t.axes,u=t.crosshairs,n=0;n<i.length;n++)i[n].destroy();for(n=0;n<r.length;n++)r[n].destroy();for(n=0;n<u.length;n++)u[n].destroy();f.fn.destroy.call(t)},createCrosshairs:function(n){var e=this,i,r,u,t,f;for(n=n||e.panes,i=0;i<n.length;i++)for(u=n[i],r=0;r<u.axes.length;r++)t=u.axes[r],t.options.crosshair&&t.options.crosshair.visible&&(f=new ra(t,t.options.crosshair),e.crosshairs.push(f),u.content.append(f))},removeCrosshairs:function(n){for(var f=this,r=f.crosshairs,u=n.axes,i,t=r.length-1;t>=0;t--)for(i=0;i<u.length;i++)if(r[t].axis===u[i]){r.splice(t,1);break}},findPane:function(n){for(var u=this,i=u.panes,r,t=0;t<i.length;t++)if(i[t].options.name===n){r=i[t];break}return r||i[0]},findPointPane:function(n){for(var u=this,i=u.panes,r,t=0;t<i.length;t++)if(i[t].box.containsPoint(n)){r=i[t];break}return r},appendAxis:function(n){var t=this,i=t.findPane(n.options.pane);i.appendAxis(n);t.axes.push(n);n.plotArea=t},removeAxis:function(n){for(var r=this,i,u=[],t=0;t<r.axes.length;t++)i=r.axes[t],n!==i?u.push(i):i.destroy();r.axes=u},appendChart:function(n,t){var i=this;i.charts.push(n);t?t.appendChart(n):i.append(n)},removeChart:function(n){for(var r=this,i,u=[],t=0;t<r.charts.length;t++)i=r.charts[t],i!==n?u.push(i):i.destroy();r.charts=u},addToLegend:function(n){for(var p=n.length,a=[],t,i,e=this.options.legend,v=e.labels||{},y=e.inactiveItems||{},o=y.labels||{},u,s,h,c,f,l,r=0;r<p;r++)(t=n[r],f=t.visible!==!1,t.visibleInLegend!==!1)&&(i=t.name||"",l=f?v.template:o.template||v.template,l&&(i=yt(l)({text:i,series:t})),u=t.color,c=t._defaults,fi(u)&&c&&(u=c.color),f?(s={},h=u):(s={color:o.color,font:o.font},h=y.markers.color),i&&a.push({text:i,labels:s,markerColor:h,series:t,active:f}));wu(e.items,a)},groupAxes:function(n){for(var u=[],f=[],e,t,r,i=0;i<n.length;i++)for(e=n[i].axes,r=0;r<e.length;r++)t=e[r],t.options.vertical?f.push(t):u.push(t);return{x:u,y:f,any:u.concat(f)}},groupSeriesByPane:function(){for(var u=this,f=u.series,n={},i,r,t=0;t<f.length;t++)r=f[t],i=u.seriesPaneName(r),n[i]?n[i].push(r):n[i]=[r];return n},filterVisibleSeries:function(n){for(var i,r=[],t=0;t<n.length;t++)i=n[t],i.visible!==!1&&r.push(i);return r},reflow:function(n){var t=this,r=t.options.plotArea,i=t.panes,u=wi(r.margin);t.box=n.clone().unpad(u);t.reflowPanes();t.reflowAxes(i);t.reflowCharts(i)},redraw:function(n){var i=this,t;for(n=[].concat(n),this.initSeries(),t=0;t<n.length;t++)i.removeCrosshairs(n[t]),n[t].empty();for(i.render(n),i.reflowAxes(i.panes),i.reflowCharts(n),i.createCrosshairs(n),t=0;t<n.length;t++)n[t].refresh()},axisCrossingValues:function(n,t){for(var u=n.options,i=[].concat(u.axisCrossingValues||u.axisCrossingValue),f=t.length-i.length,e=i[0]||0,r=0;r<f;r++)i.push(e);return i},alignAxisTo:function(n,t,i,r){var u=n.getSlot(i,i,!0),f=n.options.reverse?2:1,e=t.getSlot(r,r,!0),o=t.options.reverse?2:1,s=n.box.translate(e[v+o]-u[v+f],e[c+o]-u[c+f]);n.pane!==t.pane&&s.translate(0,n.pane.box.y1-t.pane.box.y1);n.reflow(s)},alignAxes:function(n,t){for(var e=this,o=n[0],f=t[0],s=e.axisCrossingValues(o,t),h=e.axisCrossingValues(f,n),l={},a={},v={},y={},c,u,i,r=0;r<t.length;r++)(i=t[r],c=i.pane,u=c.id,e.alignAxisTo(i,o,h[r],s[r]),i.options._overlap)||(p(i.lineBox().x1)===p(o.lineBox().x1)&&(l[u]&&i.reflow(i.box.alignTo(l[u].box,lt).translate(-i.options.margin,0)),l[u]=i),p(i.lineBox().x2)===p(o.lineBox().x2)&&(i._mirrored||(i.options.labels.mirror=!i.options.labels.mirror,i._mirrored=!0),e.alignAxisTo(i,o,h[r],s[r]),a[u]&&i.reflow(i.box.alignTo(a[u].box,et).translate(i.options.margin,0)),a[u]=i),r!==0&&f.pane===i.pane&&i.alignTo(f));for(r=0;r<n.length;r++)(i=n[r],c=i.pane,u=c.id,e.alignAxisTo(i,f,s[r],h[r]),i.options._overlap)||(p(i.lineBox().y1)===p(f.lineBox().y1)&&(i._mirrored||(i.options.labels.mirror=!i.options.labels.mirror,i._mirrored=!0),e.alignAxisTo(i,f,s[r],h[r]),v[u]&&i.reflow(i.box.alignTo(v[u].box,ti).translate(0,-i.options.margin)),v[u]=i),p(i.lineBox().y2,du)===p(f.lineBox().y2,du)&&(y[u]&&i.reflow(i.box.alignTo(y[u].box,ki).translate(0,i.options.margin)),y[u]=i),r!==0&&i.alignTo(o))},shrinkAxisWidth:function(n){for(var o=this,u=o.groupAxes(n).any,s=fo(u),f=0,e,r,t=0;t<n.length;t++)e=n[t],e.axes.length>0&&(f=i.max(f,s.width()-e.contentBox.width()));for(t=0;t<u.length;t++)r=u[t],r.options.vertical||r.reflow(r.box.shrink(f,0))},shrinkAxisHeight:function(n){for(var e,r,o,u,f,t=0;t<n.length;t++)for(e=n[t],r=e.axes,o=i.max(0,fo(r).height()-e.contentBox.height()),u=0;u<r.length;u++)f=r[u],f.options.vertical&&f.reflow(f.box.shrink(0,o))},fitAxes:function(n){for(var a=this,c=a.groupAxes(n).any,s=0,u,f,e,l,h,r,o,t=0;t<n.length;t++)if(h=n[t],u=h.axes,f=h.contentBox,u.length>0)for(e=fo(u),s=i.max(s,f.x1-e.x1),l=i.max(f.y1-e.y1,f.y2-e.y2),o=0;o<u.length;o++)r=u[o],r.reflow(r.box.translate(0,l));for(t=0;t<c.length;t++)r=c[t],r.reflow(r.box.translate(s,0))},reflowAxes:function(n){for(var t=this,i=t.groupAxes(n),r=0;r<n.length;r++)t.reflowPaneAxes(n[r]);i.x.length>0&&i.y.length>0&&(t.alignAxes(i.x,i.y),t.shrinkAxisWidth(n),t.alignAxes(i.x,i.y),t.shrinkAxisHeight(n),t.alignAxes(i.x,i.y),t.fitAxes(n))},reflowPaneAxes:function(n){var i=n.axes,t,r=i.length;if(r>0)for(t=0;t<r;t++)i[t].reflow(n.contentBox)},reflowCharts:function(n){for(var u=this,i=u.charts,f=i.length,e=u.box,r,t=0;t<f;t++)r=i[t].pane,(!r||g(r,n))&&i[t].reflow(e)},reflowPanes:function(){for(var e=this,i=e.box,r=e.panes,u=r.length,n,o,s=i.height(),a=u,h=0,c=i.y1,f,l,t=0;t<u;t++)n=r[t],f=n.options.height,n.options.width=i.width(),n.options.height?(f.indexOf&&f.indexOf("%")&&(l=parseInt(f,10)/100,n.options.height=l*i.height()),n.reflow(i.clone()),s-=n.options.height):h++;for(t=0;t<u;t++)n=r[t],n.options.height||(n.options.height=s/h);for(t=0;t<u;t++)n=r[t],o=i.clone().move(i.x1,c),n.reflow(o),a--,c+=n.options.height},backgroundBox:function(){for(var o=this,r=o.axes,s=r.length,u,n,i,f,e,t=0;t<s;t++)for(f=r[t],i=0;i<s;i++)e=r[i],f.options.vertical!==e.options.vertical&&(u=f.lineBox().clone().wrap(e.lineBox()),n=n?n.wrap(u):u);return n||o.box},createVisual:function(){f.fn.createVisual.call(this);var i=this.backgroundBox(),n=this.options.plotArea,t=n.border||{},r=s.Path.fromRect(i.toRect(),{fill:{color:n.background,opacity:n.opacity},stroke:{color:t.width?t.color:"",width:t.width},zIndex:-1});this.appendVisual(r)},pointsByCategoryIndex:function(n){var e=this.charts,o=[],t,f,i,r,s;if(n!==null)for(t=0;t<e.length;t++)if((s=e[t],s.pane.options.name!=="_navigator")&&(i=e[t].categoryPoints[n],i&&i.length))for(f=0;f<i.length;f++)r=i[f],r&&u(r.value)&&r.value!==null&&o.push(r);return o},pointsBySeriesIndex:function(n){for(var f=this.charts,e=[],u,t,r,o,i=0;i<f.length;i++)for(o=f[i],u=o.points,r=0;r<u.length;r++)t=u[r],t&&t.options.index===n&&e.push(t);return e},paneByPoint:function(n){for(var u=this,r=u.panes,i,t=0;t<r.length;t++)if(i=r[t],i.box.containsPoint(n))return i}}),ih=kt.extend({init:function(n,t){var i=this,r,u;if(i.namedCategoryAxes={},i.namedValueAxes={},i.valueAxisRangeTracker=new de,n.length>0)for(i.invertAxes=g(n[0].type,[oi,dr,ff,fu,iu,tu]),r=0;r<n.length;r++)if(u=n[r].stack,u&&u.type==="100%"){i.stack100=!0;break}kt.fn.init.call(i,n,t)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(n){var t=this;n=n||t.panes;t.createCategoryAxes(n);t.aggregateCategories(n);t.createCharts(n);t.createValueAxes(n)},removeAxis:function(n){var t=this,i=n.options.name;kt.fn.removeAxis.call(t,n);n instanceof ai?delete t.namedCategoryAxes[i]:(t.valueAxisRangeTracker.reset(i),delete t.namedValueAxes[i]);n===t.categoryAxis&&delete t.categoryAxis;n===t.valueAxis&&delete t.valueAxis},createCharts:function(n){for(var t=this,e=t.groupSeriesByPane(),i,f,r,u=0;u<n.length;u++)(i=n[u],f=e[i.options.name||"default"]||[],t.addToLegend(f),r=t.filterVisibleSeries(f),r)&&(t.createAreaChart(ut(r,[bu,fu]),i),t.createBarChart(ut(r,[di,oi]),i),t.createRangeBarChart(ut(r,[tf,iu]),i),t.createBulletChart(ut(r,[dr,ce]),i),t.createCandlestickChart(ut(r,gr),i),t.createBoxPlotChart(ut(r,ku),i),t.createOHLCChart(ut(r,nf),i),t.createWaterfallChart(ut(r,[ef,tu]),i),t.createLineChart(ut(r,[oe,ff]),i))},aggregateCategories:function(n){for(var t=this,f=t.srcSeries||t.series,e=[],i,u,o,s,r=0;r<f.length;r++)i=f[r],u=t.seriesCategoryAxis(i),o=t.findPane(u.options.pane),s=lr(u.options.type,er),(s||i.categoryField)&&g(o,n)&&(i=t.aggregateSeries(i,u)),e.push(i);t.srcSeries=f;t.series=e},aggregateSeries:function(n,t){var o=t.options,y=lr(t.options.type,er),e=o.categories,p=o.srcCategories||e,s=n.data,f=[],b=t.range(),h=r({},n),k=r({},n),i,c,u,l,a,v=lf;for(h.data=l=[],y&&(v=oa),i=0;i<s.length;i++)c=n.categoryField?v(n.categoryField,s[i]):p[i],u=t.categoryIndex(c,b),u>-1&&(f[u]=f[u]||[],f[u].push(i));for(a=new no(k,w.current,ui.current),i=0;i<e.length;i++)l[i]=a.aggregatePoints(f[i],e[i]);return h},appendChart:function(n,t){for(var r=this,u=n.options.series,e=r.seriesCategoryAxis(u[0]),f=e.options.categories,o=i.max(0,io(u)-f.length);o--;)f.push("");r.valueAxisRangeTracker.update(n.valueAxisRanges);kt.fn.appendChart.call(r,n,t)},seriesPaneName:function(t){var r=this,i=r.options,u=t.axis,f=[].concat(i.valueAxis),e=n.grep(f,function(n){return n.name===u})[0],o=i.panes||[{}],s=(o[0]||{}).name||"default";return(e||{}).pane||s},seriesCategoryAxis:function(n){var i=this,t=n.categoryAxis,r=t?i.namedCategoryAxes[t]:i.categoryAxis;if(!r)throw new Error("Unable to locate category axis with name "+t);return r},stackableChartOptions:function(n,t){var i=n.stack,f=i&&i.type==="100%",r;return u(t.options.clip)?r=t.options.clip:f&&(r=!1),{isStacked:i,isStacked100:f,clip:r}},createBarChart:function(n,t){if(n.length!==0){var i=this,r=n[0],u=new hu(i,ur({series:n,invertAxes:i.invertAxes,gap:r.gap,spacing:r.spacing},i.stackableChartOptions(r,t)));i.appendChart(u,t)}},createRangeBarChart:function(n,t){if(n.length!==0){var i=this,r=n[0],u=new nl(i,{series:n,invertAxes:i.invertAxes,gap:r.gap,spacing:r.spacing});i.appendChart(u,t)}},createBulletChart:function(n,t){if(n.length!==0){var i=this,r=n[0],u=new tl(i,{series:n,invertAxes:i.invertAxes,gap:r.gap,spacing:r.spacing,clip:t.options.clip});i.appendChart(u,t)}},createLineChart:function(n,t){if(n.length!==0){var i=this,r=n[0],u=new ve(i,ur({invertAxes:i.invertAxes,series:n},i.stackableChartOptions(r,t)));i.appendChart(u,t)}},createAreaChart:function(n,t){if(n.length!==0){var i=this,r=n[0],u=new ol(i,ur({invertAxes:i.invertAxes,series:n},i.stackableChartOptions(r,t)));i.appendChart(u,t)}},createOHLCChart:function(n,t){if(n.length!==0){var i=this,r=n[0],u=new ll(i,{invertAxes:i.invertAxes,gap:r.gap,series:n,spacing:r.spacing,clip:t.options.clip});i.appendChart(u,t)}},createCandlestickChart:function(n,t){if(n.length!==0){var i=this,r=n[0],u=new be(i,{invertAxes:i.invertAxes,gap:r.gap,series:n,spacing:r.spacing,clip:t.options.clip});i.appendChart(u,t)}},createBoxPlotChart:function(n,t){if(n.length!==0){var i=this,r=n[0],u=new iy(i,{invertAxes:i.invertAxes,gap:r.gap,series:n,spacing:r.spacing,clip:t.options.clip});i.appendChart(u,t)}},createWaterfallChart:function(n,t){if(n.length!==0){var i=this,r=n[0],u=new yl(i,{series:n,invertAxes:i.invertAxes,gap:r.gap,spacing:r.spacing});i.appendChart(u,t)}},axisRequiresRounding:function(n,t){for(var f=this,u=ut(f.series,ac),r,i=0;i<u.length;i++)if(r=u[i].categoryAxis||"",r===n||!r&&t===0)return!0},createCategoryAxes:function(n){for(var i=this,h=i.invertAxes,c=[].concat(i.options.categoryAxis),t,l,a,y,e,o,v=[],s,f=0;f<c.length;f++)if(t=c[f],l=i.findPane(t.pane),g(l,n)){if(e=t.name,a=t.categories||[],y=t.type||"",t=r({vertical:h,axisCrossingValue:h?tt:0},t),u(t.justified)||(t.justified=i.isJustified()),i.axisRequiresRounding(e,f)&&(t.justified=!1,t.roundToBaseUnit=!0),o=aa(t,a[0])?new of(t):new ai(t),e){if(i.namedCategoryAxes[e])throw new Error("Category axis with name "+e+" is already defined");i.namedCategoryAxes[e]=o}o.axisIndex=f;v.push(o);i.appendAxis(o)}s=i.categoryAxis||v[0];i.categoryAxis=s;h?i.axisY=s:i.axisX=s},isJustified:function(){for(var r=this,t=r.series,i,n=0;n<t.length;n++)if(i=t[n],!g(i.type,[bu,fu]))return!1;return!0},createValueAxes:function(n){var t=this,a=t.valueAxisRangeTracker,h=a.query(),v=[].concat(t.options.valueAxis),y=t.invertAxes,l={vertical:!y},f,p,s,c,w=[],u,b,k,e,o;for(t.stack100&&(l.roundToMajorUnit=!1,l.labels={format:"P0"}),o=0;o<v.length;o++)if(f=v[o],p=t.findPane(f.pane),g(p,n)){if(e=f.name,k=lr(f.type,bo)?{min:.1,max:1}:{min:0,max:1},u=a.query(e)||h||k,o===0&&u&&h&&(u.min=i.min(u.min,h.min),u.max=i.max(u.max,h.max)),b=lr(f.type,bo)?ah:bf,s=new b(u.min,u.max,r({},l,f)),e){if(t.namedValueAxes[e])throw new Error("Value axis with name "+e+" is already defined");t.namedValueAxes[e]=s}s.axisIndex=o;w.push(s);t.appendAxis(s)}c=t.valueAxis||w[0];t.valueAxis=c;y?t.axisX=c:t.axisY=c},click:function(t,i){var h=this,c=t._eventCoordinates(i),u=new a(c.x,c.y),l=h.pointPane(u),o,f,e,r=[],s=[];if(l){for(o=l.axes,f=0;f<o.length;f++)e=o[f],e.getValue?eo(s,e.getValue(u)):eo(r,e.getCategory(u));r.length===0&&eo(r,h.categoryAxis.getCategory(u));r.length>0&&s.length>0&&t.trigger(is,{element:n(i.target),originalEvent:i,category:vf(r),value:vf(s)})}},pointPane:function(n){for(var u=this,r=u.panes,i,t=0;t<r.length;t++)if(i=r[t],i.contentBox.containsPoint(n))return i}}),de=vu.extend({init:function(){var n=this;n.axisRanges={}},update:function(n){var e=this,f=e.axisRanges,t,r;for(var u in n)t=f[u],r=n[u],f[u]=t=t||{min:tt,max:at},t.min=i.min(t.min,r.min),t.max=i.max(t.max,r.max)},reset:function(n){this.axisRanges[n]=t},query:function(n){return this.axisRanges[n]}}),bl=kt.extend({init:function(n,t){var i=this;i.namedXAxes={};i.namedYAxes={};i.xAxisRangeTracker=new de;i.yAxisRangeTracker=new de;kt.fn.init.call(i,n,t)},options:{xAxis:{},yAxis:{}},render:function(n){var t=this,e=t.groupSeriesByPane(),u,i,f,r;for(n=n||t.panes,u=0;u<n.length;u++)(i=n[u],f=e[i.options.name||"default"]||[],t.addToLegend(f),r=t.filterVisibleSeries(f),r)&&(t.createScatterChart(ut(r,rs),i),t.createScatterLineChart(ut(r,us),i),t.createBubbleChart(ut(r,kr),i));t.createAxes(n)},appendChart:function(n,t){var i=this;i.xAxisRangeTracker.update(n.xAxisRanges);i.yAxisRangeTracker.update(n.yAxisRanges);kt.fn.appendChart.call(i,n,t)},removeAxis:function(n){var t=this,i=n.options.name;kt.fn.removeAxis.call(t,n);n.options.vertical?(t.yAxisRangeTracker.reset(i),delete t.namedYAxes[i]):(t.xAxisRangeTracker.reset(i),delete t.namedXAxes[i]);n===t.axisX&&delete t.axisX;n===t.axisY&&delete t.axisY},seriesPaneName:function(t){var r=this,i=r.options,u=t.xAxis,f=[].concat(i.xAxis),e=n.grep(f,function(n){return n.name===u})[0],o=t.yAxis,s=[].concat(i.yAxis),h=n.grep(s,function(n){return n.name===o})[0],c=i.panes||[{}],l=c[0].name||"default";return(e||{}).pane||(h||{}).pane||l},createScatterChart:function(n,t){var i=this;n.length>0&&i.appendChart(new ir(i,{series:n,clip:t.options.clip}),t)},createScatterLineChart:function(n,t){var i=this;n.length>0&&i.appendChart(new we(i,{series:n,clip:t.options.clip}),t)},createBubbleChart:function(n,t){var i=this;n.length>0&&i.appendChart(new gs(i,{series:n,clip:t.options.clip}),t)},createXYAxis:function(n,t,u){for(var e=this,s=n.name,b=t?e.namedYAxes:e.namedXAxes,k=t?e.yAxisRangeTracker:e.xAxisRangeTracker,f=r({},n,{vertical:t}),d=lr(f.type,bo),h=k.query(),rt=d?{min:.1,max:1}:{min:0,max:1},o=k.query(s)||h||rt,c,g,nt=e.series,v,y,tt,p=[f.min,f.max],it,a,l=0;l<nt.length;l++)if(v=nt[l],y=v[t?"yAxis":"xAxis"],y==f.name||u===0&&!y){tt=w.current.bindPoint(v,0).valueFields;p.push(tt[t?"y":"x"]);break}for(u===0&&h&&(o.min=i.min(o.min,h.min),o.max=i.max(o.max,h.max)),a=0;a<p.length;a++)if(p[a]instanceof Date){it=!0;break}if(g=lr(f.type,er)||!f.type&&it?wc:d?ah:bf,c=new g(o.min,o.max,f),s){if(b[s])throw new Error((t?"Y":"X")+" axis with name "+s+" is already defined");b[s]=c}return e.appendAxis(c),c},createAxes:function(n){var t=this,r=t.options,i,e=[].concat(r.xAxis),u=[],o=[].concat(r.yAxis),f=[];yf(e,function(r){i=t.findPane(this.pane);g(i,n)&&u.push(t.createXYAxis(this,!1,r))});yf(o,function(r){i=t.findPane(this.pane);g(i,n)&&f.push(t.createXYAxis(this,!0,r))});t.axisX=t.axisX||u[0];t.axisY=t.axisY||f[0]},click:function(t,i){for(var l=this,s=t._eventCoordinates(i),v=new a(s.x,s.y),h=l.axes,y=h.length,u,f=[],e=[],o,c,r=0;r<y;r++)u=h[r],c=u.options.vertical?e:f,o=u.getValue(v),o!==null&&c.push(o);f.length>0&&e.length>0&&t.trigger(is,{element:n(i.target),originalEvent:i,x:vf(f),y:vf(e)})}}),rh=kt.extend({render:function(){var n=this,t=n.series;n.createPieChart(t)},createPieChart:function(n){var t=this,i=n[0],r=new lu(t,{series:n,padding:i.padding,startAngle:i.startAngle,connectors:i.connectors,legend:t.options.legend});t.appendChart(r)},appendChart:function(n,t){kt.fn.appendChart.call(this,n,t);wu(this.options.legend.items,n.legendItems)}}),kl=rh.extend({render:function(){var n=this,t=n.series;n.createDonutChart(t)},createDonutChart:function(n){var t=this,i=n[0],r=new vl(t,{series:n,padding:i.padding,connectors:i.connectors,legend:t.options.legend});t.appendChart(r)}}),dl=s.Animation.extend({options:{easing:"easeOutElastic",duration:ni},setup:function(){this.element.transform(h.transform().scale(0,0,this.options.center))},step:function(n){this.element.transform(h.transform().scale(n,n,this.options.center))}});s.AnimationFactory.current.register(hr,dl);gl=s.Animation.extend({options:{easing:"easeOutElastic"},setup:function(){var n=this.center=this.element.bbox().center();this.element.transform(h.transform().scale(0,0,n))},step:function(n){this.element.transform(h.transform().scale(n,n,this.center))}});s.AnimationFactory.current.register(kr,gl);var na=vu.extend({init:function(){this._points=[]},destroy:function(){this._points=[]},show:function(n){var i,t;for(n=[].concat(n),this.hide(),i=0;i<n.length;i++)t=n[i],t&&t.toggleHighlight&&(t.toggleHighlight(!0),this._points.push(t))},hide:function(){for(var n=this._points;n.length;)n.pop().toggleHighlight(!1)},isHighlighted:function(n){for(var r,i=this._points,t=0;t<i.length;t++)if(r=i[t],n==r)return!0;return!1}}),ri=vu.extend({init:function(t,i){var u=this;u.options=r({},u.options,i);u.chartElement=t;u.template=ri.template;u.template||(u.template=ri.template=bh("<div class='"+rt+"tooltip "+rt+"chart-tooltip' style='display:none; position: absolute; font: #= d.font #;border: #= d.border.width #px solid;opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'><\/div>"));u.element=n(u.template(u.options));u.move=y(u.move,u);u._mouseleave=y(u._mouseleave,u)},destroy:function(){this._clearShowTimeout();this.element&&(this.element.off(se).remove(),this.element=null)},options:{border:{width:1},opacity:1,animation:{duration:150}},move:function(){var n=this,r=n.options,i=n.element,t;n.anchor&&(t=n._offset(),n.visible||i.css({top:t.top,left:t.left}),n._ensureElement(document.body),i.stop(!0,!0).show().animate({left:t.left,top:t.top},r.animation.duration),n.visible=!0)},_clearShowTimeout:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)},_padding:function(){if(!this._chartPadding){var n=this.chartElement;this._chartPadding={top:parseInt(n.css("paddingTop"),10),left:parseInt(n.css("paddingLeft"),10)}}return this._chartPadding},_offset:function(){var t=this,u=t._measure(),f=t.anchor,e=t._padding(),s=t.chartElement.offset(),i=p(f.y+e.top+s.top),r=p(f.x+e.left+s.left),h=o.support.zoomLevel(),c=n(window),l=window.pageYOffset||document.documentElement.scrollTop||0,a=window.pageXOffset||document.documentElement.scrollLeft||0;return i+=t._fit(i-l,u.height,c.outerHeight()/h),r+=t._fit(r-a,u.width,c.outerWidth()/h),{top:i,left:r}},setStyle:function(n,t){var i=n.background,r=n.border.color,f,e;t&&(f=t.color||t.options.color,i=nt(i,f),r=nt(r,f));u(n.color)||(e=new pr(i).percBrightness(),this.element.toggleClass(rt+ny,e>180));this.element.css({backgroundColor:i,borderColor:r,font:n.font,color:n.color,opacity:n.opacity,borderWidth:n.border.width})},show:function(){this._clearShowTimeout();this.showTimeout=setTimeout(this.move,dv)},hide:function(){var n=this;clearTimeout(n.showTimeout);n._hideElement();n.visible&&(n.point=null,n.visible=!1,n.index=null)},_measure:function(){this._ensureElement();return{width:this.element.outerWidth(),height:this.element.outerHeight()}},_ensureElement:function(){if(this.element)this.element.appendTo(document.body).on(se,this._mouseleave)},_mouseleave:function(t){var i=t.relatedTarget,r=this.chartElement[0];i&&i!==r&&!n.contains(r,i)&&this.hide()},_hideElement:function(){this.element&&this.element.fadeOut({always:function(){n(this).off(se).remove()}})},_pointContent:function(n){var e=this,t=r({},e.options,n.options.tooltip),i,f;return u(n.value)&&(i=n.value.toString()),t.template?(f=yt(t.template),i=f({value:n.value,category:n.category,series:n.series,dataItem:n.dataItem,percentage:n.percentage,runningTotal:n.runningTotal,total:n.total,low:n.low,high:n.high,xLow:n.xLow,xHigh:n.xHigh,yLow:n.yLow,yHigh:n.yHigh})):t.format&&(i=n.formatValue(t.format)),i},_pointAnchor:function(n){var t=this._measure();return n.tooltipAnchor(t.width,t.height)},_fit:function(n,t,i){var r=0;return n+t>i&&(r=i-(n+t)),n<0&&(r=-n),r}}),ta=ri.extend({show:function(n){var t=this,i=r({},t.options,n.options.tooltip);n&&n.tooltipAnchor&&t.element&&(t.element.html(t._pointContent(n)),t.anchor=t._pointAnchor(n),t.anchor?(t.setStyle(i,n),ri.fn.show.call(t,n)):t.hide())}}),ia=ri.extend({init:function(n,t,i){var r=this;ri.fn.init.call(r,n,i);r.plotArea=t},options:{sharedTemplate:"<table><th colspan='2'>#= categoryText #<\/th># for(var i = 0; i < points.length; i++) { ## var point = points[i]; #<tr># if(point.series.name) { # <td> #= point.series.name #:<\/td># } #<td>#= content(point) #<\/td><\/tr># } #<\/table>",categoryFormat:"{0:d}"},showAt:function(t,i){var r=this,e=r.options,o=r.plotArea,u=o.categoryAxis,s=u.pointCategoryIndex(i),h=u.getCategory(i),c=u.getSlot(s),f;t=n.grep(t,function(n){var t=n.series.tooltip,i=t&&t.visible===!1;return!i});t.length>0&&(f=r._content(t,h),r.element.html(f),r.anchor=r._slotAnchor(i,c),r.setStyle(e,t[0]),ri.fn.show.call(r))},_slotAnchor:function(n,t){var r=this,u=r.plotArea,f=u.categoryAxis,e=this._measure(),i=n.y-e.height/2;return f.options.vertical?a(n.x,i):a(t.center().x,i)},_content:function(n,t){var i=this,r;return r=o.template(i.options.sharedTemplate),r({points:n,category:t,categoryText:st(i.options.categoryFormat,t),content:i._pointContent})}}),ra=f.extend({init:function(n,t){f.fn.init.call(this,t);this.axis=n;this.stickyMode=n instanceof ai},options:{color:br,width:1,zIndex:-1,tooltip:{visible:!1}},showAt:function(n){var i=this,t;this.point=n;this.moveLine();this.line.visible(!0);t=this.options.tooltip;t.visible&&(this.tooltip||(this.tooltip=new ua(this,r({},t,{stickyMode:this.stickyMode}))),this.tooltip.showAt(n))},hide:function(){this.line.visible(!1);this.tooltip&&this.tooltip.hide()},moveLine:function(){var i=this,f=i.axis,o=f.options.vertical,n=i.getBox(),e=i.point,t=o?c:v,s,r,u;r=new h.Point(n.x1,n.y1);u=o?new h.Point(n.x2,n.y1):new h.Point(n.x1,n.y2);e&&(i.stickyMode?(s=f.getSlot(f.pointCategoryIndex(e)),r[t]=u[t]=s.center()[t]):r[t]=u[t]=e[t]);i.box=n;this.line.moveTo(r).lineTo(u)},getBox:function(){for(var s=this,u=s.axis,e=u.pane.axes,h=e.length,o=u.options.vertical,f=u.lineBox().clone(),t=o?v:c,n,i,r=0;r<h;r++)i=e[r],i.options.vertical!=o&&(n?n.wrap(i.lineBox()):n=i.lineBox().clone());return f[t+1]=n[t+1],f[t+2]=n[t+2],f},createVisual:function(){f.fn.createVisual.call(this);var n=this.options;this.line=new s.Path({stroke:{color:n.color,width:n.width,opacity:n.opacity,dashType:n.dashType},visible:!1});this.moveLine();this.visual.append(this.line)},destroy:function(){var n=this;n.tooltip&&n.tooltip.destroy();f.fn.destroy.call(n)}}),ua=ri.extend({init:function(n,t){var i=this,u=n.axis.getRoot().chart.element;i.crosshair=n;ri.fn.init.call(i,u,r({},i.options,{background:n.axis.plotArea.options.seriesColors[0]},t));i.setStyle(i.options)},options:{padding:10},showAt:function(n){var t=this,i=t.element;i&&(t.point=n,t.element.html(t.content(n)),t.anchor=t.getAnchor(),t.move())},move:function(){var n=this,i=n.element,t=n._offset();n._ensureElement();i.css({top:t.top,left:t.left}).show()},content:function(n){var f=this,t=f.options,e=f.crosshair.axis,u=e.options,i,r,o;return r=i=e[t.stickyMode?"getCategory":"getValue"](n),t.template?(o=yt(t.template),i=o({value:r})):t.format?i=st(t.format,r):u.type===er&&(i=st(u.labels.dateFormats[u.baseUnit],r)),i},getAnchor:function(){var s=this,r=s.options,u=r.position,f=this.crosshair,h=!f.axis.options.vertical,n=f.line.bbox(),t=this._measure(),e=t.width/2,o=t.height/2,i=r.padding;return h?u===ki?n.bottomLeft().translate(-e,i):n.topLeft().translate(-e,-t.height-i):u===lt?n.topLeft().translate(-t.width-i,-o):n.topRight().translate(i,-o)},hide:function(){this.element.hide();this.point=null},destroy:function(){ri.fn.destroy.call(this);this.point=null}}),ge={min:function(n){for(var t=tt,f=n.length,u,r=0;r<f;r++)u=n[r],b(u)&&(t=i.min(t,u));return t===tt?n[0]:t},max:function(n){for(var t=at,f=n.length,u,r=0;r<f;r++)u=n[r],b(u)&&(t=i.max(t,u));return t===at?n[0]:t},sum:function(n){for(var u=n.length,r=0,i,t=0;t<u;t++)i=n[t],b(i)&&(r+=i);return r},sumOrNull:function(n){var t=null;return oo(n)&&(t=ge.sum(n)),t},count:function(n){for(var f=n.length,r=0,i,t=0;t<f;t++)i=n[t],i!==null&&u(i)&&r++;return r},avg:function(n){var t=n[0],i=oo(n);return i>0&&(t=ge.sum(n)/i),t},first:function(n){for(var r=n.length,i,t=0;t<r;t++)if(i=n[t],i!==null&&u(i))return i;return n[0]}};ui.prototype={register:function(n,t){for(var i=0;i<n.length;i++)this._defaults[n[i]]=t},query:function(n){return this._defaults[n]}};ui.current=new ui;cf=sh.extend({init:function(t,i,u){var f=this,h=t.element,p=i.lineBox(),v=f.getValueAxis(i),a=v.lineBox(),s="."+rt,e,c;if(sh.fn.init.call(f),f.options=r({},f.options,u),u=f.options,f.chart=t,f.chartElement=h,f.categoryAxis=i,f._dateAxis=f.categoryAxis instanceof of,f.valueAxis=v,f._dateAxis&&r(u,{min:l(u.min),max:l(u.max),from:l(u.from),to:l(u.to)}),f.template=cf.template,f.template||(f.template=cf.template=bh("<div class='"+rt+"selector' style='width: #= d.width #px; height: #= d.height #px; top: #= d.offset.top #px; left: #= d.offset.left #px;'><div class='"+rt+"mask'><\/div><div class='"+rt+"mask'><\/div><div class='"+rt+"selection'><div class='"+rt+"selection-bg'><\/div><div class='"+rt+"handle "+rt+"leftHandle'><div><\/div><\/div><div class='"+rt+"handle "+rt+"rightHandle'><div><\/div><\/div><\/div><\/div>")),c={left:parseInt(h.css("paddingLeft"),10),right:parseInt(h.css("paddingTop"),10)},f.options=r({},{width:p.width(),height:a.height(),padding:c,offset:{left:a.x2+c.left,top:a.y1+c.right},from:u.min,to:u.max},u),f.options.visible){f.wrapper=e=n(f.template(f.options)).appendTo(h);f.selection=e.find(s+"selection");f.leftMask=e.find(s+"mask").first();f.rightMask=e.find(s+"mask").last();f.leftHandle=e.find(s+"leftHandle");f.rightHandle=e.find(s+"rightHandle");f.options.selection={border:{left:parseFloat(f.selection.css("border-left-width"),10),right:parseFloat(f.selection.css("border-right-width"),10)}};f.leftHandle.css("top",(f.selection.height()-f.leftHandle.height())/2);f.rightHandle.css("top",(f.selection.height()-f.rightHandle.height())/2);f.set(f._index(u.from),f._index(u.to));f.bind(f.events,f.options);f.wrapper[0].style.cssText=f.wrapper[0].style.cssText;f.wrapper.on(fc,y(f._mousewheel,f));o.UserEvents?f.userEvents=new o.UserEvents(f.wrapper,{global:!0,stopPropagation:!0,multiTouch:!0,start:y(f._start,f),move:y(f._move,f),end:y(f._end,f),tap:y(f._tap,f),gesturestart:y(f._gesturechange,f),gesturechange:y(f._gesturechange,f)}):f.leftHandle.add(f.rightHandle).removeClass(rt+"handle")}},events:[rf,cr,uf],options:{visible:!0,mousewheel:{zoom:"both"},min:at,max:tt},destroy:function(){var n=this,t=n.userEvents;t&&t.destroy();n._state=null;this.wrapper.remove()},_rangeEventArgs:function(n){var t=this;return{axis:t.categoryAxis.options,from:t._value(n.from),to:t._value(n.to)}},_start:function(t){var i=this,r=i.options,u=n(t.event.target),f;!i._state&&u&&(i.chart._unsetActivePoint(),i._state={moveTarget:u.parents(".k-handle").add(u).first(),startLocation:t.x?t.x.location:0,range:{from:i._index(r.from),to:i._index(r.to)}},f=i._rangeEventArgs({from:i._index(r.from),to:i._index(r.to)}),i.trigger(rf,f)&&(i.userEvents.cancel(),i._state=null))},_move:function(n){if(this._state){var r=this,o=r._state,u=r.options,v=r.categoryAxis.options.categories,c=r._index(u.from),y=r._index(u.to),s=r._index(u.min),f=r._index(u.max),p=o.startLocation-n.x.location,t=o.range,l={from:t.from,to:t.to},a=t.to-t.from,e=o.moveTarget,w=r.wrapper.width()/(v.length-1),h=i.round(p/w);e&&(n.preventDefault(),e.is(".k-selection, .k-selection-bg")?(t.from=i.min(i.max(s,c-h),f-a),t.to=i.min(t.from+a,f)):e.is(".k-leftHandle")?(t.from=i.min(i.max(s,c-h),f-1),t.to=i.max(t.from+1,t.to)):e.is(".k-rightHandle")&&(t.to=i.min(i.max(s+1,y-h),f),t.from=i.min(t.to-1,t.from)),(t.from!==l.from||t.to!==l.to)&&(r.move(t.from,t.to),r.trigger(cr,r._rangeEventArgs(t))))}},_end:function(){var n=this,t=n._state.range;delete n._state;n.set(t.from,t.to);n.trigger(uf,n._rangeEventArgs(t))},_gesturechange:function(n){if(this._state){var t=this,u=t.chart,f=t._state,o=t.options,s=t.categoryAxis,r=f.range,h=u._toModelCoordinates(n.touches[0].x.location).x,c=u._toModelCoordinates(n.touches[1].x.location).x,l=i.min(h,c),a=i.max(h,c);n.preventDefault();f.moveTarget=null;r.from=s.pointCategoryIndex(new e.Point2D(l))||o.min;r.to=s.pointCategoryIndex(new e.Point2D(a))||o.max;t.move(r.from,r.to)}},_tap:function(n){var t=this,u=t.options,l=t.chart._eventCoordinates(n),f=t.categoryAxis,a=f.pointCategoryIndex(new e.Point2D(l.x,f.box.y1)),o=t._index(u.from),v=t._index(u.to),y=t._index(u.min),h=t._index(u.max),s=v-o,p=o+s/2,c=i.round(p-a),r={},w=n.event.which===3;t._state||w||(n.preventDefault(),t.chart._unsetActivePoint(),f.options.justified||c--,r.from=i.min(i.max(y,o-c),h-s),r.to=i.min(r.from+s,h),t._start(n),t._state&&(t._state.range=r,t.trigger(cr,t._rangeEventArgs(r)),t._end()))},_mousewheel:function(n){var t=this,f=t.options,r=ph(n),u;t._start({event:{target:t.selection}});t._state&&(u=t._state.range,n.preventDefault(),n.stopPropagation(),i.abs(r)>1&&(r*=ty),f.mousewheel.reverse&&(r*=-1),t.expand(r)&&t.trigger(cr,{axis:t.categoryAxis.options,delta:r,originalEvent:n,from:t._value(u.from),to:t._value(u.to)}),t._mwTimeout&&clearTimeout(t._mwTimeout),t._mwTimeout=setTimeout(function(){t._end()},uc))},_index:function(n){var u=this,i=u.categoryAxis,r=i.options.categories,t=n;return n instanceof Date&&(t=fh(n,r),!i.options.justified&&n>ht(r)&&(t+=1)),t},_value:function(n){var t=this,u=this.categoryAxis,i=u.options.categories,r=n;return t._dateAxis&&(r=n>i.length-1?t.options.max:i[n]),r},_slot:function(n){var t=this,i=this.categoryAxis;return i.getSlot(t._index(n))},move:function(n,t){var r=this,u=r.options,h=u.offset,c=u.padding,l=u.selection.border,f,e,o,s;o=r._slot(n);f=p(o.x1-h.left+c.left);r.leftMask.width(f);r.selection.css("left",f);o=r._slot(t);e=p(u.width-(o.x1-h.left+c.left));r.rightMask.width(e);s=u.width-e;s!=u.width&&(s+=l.right);r.rightMask.css("left",s);r.selection.width(i.max(u.width-(f+e)-l.right,0))},set:function(n,t){var i=this,r=i.options,f=i._index(r.min),u=i._index(r.max);n=gt(i._index(n),f,u);t=gt(i._index(t),n+1,u);r.visible&&i.move(n,t);r.from=i._value(n);r.to=i._value(t)},expand:function(n){var i=this,u=i.options,o=i._index(u.min),f=i._index(u.max),s=u.mousewheel.zoom,h=i._index(u.from),e=i._index(u.to),t={from:h,to:e},c=r({},t);return i._state&&(t=i._state.range),s!==et&&(t.from=gt(gt(h-n,0,e-1),o,f)),s!==lt&&(t.to=gt(gt(e+n,t.from+1,f),o,f)),t.from!==c.from||t.to!==c.to?(i.set(t.from,t.to),!0):void 0},getValueAxis:function(n){for(var r=n.pane.axes,u=r.length,i,t=0;t<u;t++)if(i=r[t],i.options.vertical!==n.options.vertical)return i}});no=function(n,t,i){var e=this,o=t.canonicalFields(n),h=t.valueFields(n),c=t.sourceFields(n,o),l=e._seriesFields=[],a=i.query(n.type),s=n.aggregate||a,r,f,u;for(e._series=n,e._binder=t,r=0;r<o.length;r++){if(f=o[r],typeof s===hi)u=s[f];else if(r===0||g(f,h))u=s;else break;u&&l.push({canonicalName:f,name:c[r],transform:fi(u)?u:ge[u]})}};no.prototype={aggregatePoints:function(n,t){var e=this,c=e._bindPoints(n||[]),y=e._series,a=e._seriesFields,s,r,v,i,h=c.dataItems[0],f={},l;for(!h||b(h)||rr(h)||(l=function(){},l.prototype=h,f=new l),s=0;s<a.length;s++)if(r=a[s],v=e._bindField(c.values,r.canonicalName),i=r.transform(v,y,c.dataItems,t),i===null||typeof i!==hi||u(i.length))u(i)&&(ya(r.name,f),o.setter(r.name)(f,i));else{f=i;break}return f},_bindPoints:function(n){for(var r=this,o=r._binder,u=r._series,f=[],e=[],i,t=0;t<n.length;t++)i=n[t],f.push(o.bindPoint(u,i)),e.push(u.data[i]);return{values:f,dataItems:e}},_bindField:function(n,t){for(var e=[],s=n.length,r,o,f,i=0;i<s;i++)r=n[i],f=r.valueFields,o=u(f[t])?f[t]:r.fields[t],e.push(o);return e}};ur(n.easing,{easeOutElastic:function(n,t,r,u){var o=1.70158,f=0,e=u;return n===0?r:n===1?r+u:(f||(f=.5),e<i.abs(u)?(e=u,o=f/4):o=f/(2*i.PI)*i.asin(u/e),e*i.pow(2,-10*n)*i.sin((n*1-o)*1.1*i.PI/f)+u+r)}});e.ui.plugin(ys);li.current.register(ih,[oi,di,oe,ff,bu,fu,gr,nf,dr,ce,ku,tf,iu,ef,tu]);li.current.register(bl,[rs,us,kr]);li.current.register(rh,[hr]);li.current.register(kl,[fe]);w.current.register([oi,di,oe,ff,bu,fu],[wt],[pt,si,nr,gh,nc]);w.current.register([tf,iu],["from","to"],[pt,si,nr]);w.current.register([ef,tu],[wt],[pt,si,nr,"summary"]);ui.current.register([oi,di,oe,ff,bu,fu,ef,tu],{value:ft,color:ct,noteText:ct,errorLow:ko,errorHigh:ft});ui.current.register([tf,iu],{from:ko,to:ft,color:ct,noteText:ct});w.current.register([rs,us,kr],[v,c],[si,nr,"xErrorLow","xErrorHigh","yErrorLow","yErrorHigh"]);w.current.register([kr],[v,c,"size"],[si,pt,nr]);w.current.register([gr,nf],["open","high","low","close"],[pt,si,"downColor",nr]);ui.current.register([gr,nf],{open:ft,high:ft,low:ko,close:ft,color:ct,downColor:ct,noteText:ct});w.current.register([ku],["lower","q1","median","q3","upper","mean","outliers"],[pt,si,nr]);ui.current.register([ku],{lower:ft,q1:ft,median:ft,q3:ft,upper:ft,mean:ft,outliers:ct,color:ct,noteText:ct});w.current.register([dr,ce],["current","target"],[pt,si,"visibleInLegend",nr]);ui.current.register([dr,ce],{current:ft,target:ft,color:ct,noteText:ct});w.current.register([hr,fe],[wt],[pt,si,"explode","visibleInLegend","visible"]);r(e,{EQUALLY_SPACED_SERIES:ac,Aggregates:ge,AreaChart:ol,AreaSegment:pe,AxisGroupRangeTracker:de,Bar:hf,BarChart:hu,BarLabel:ps,BubbleChart:gs,BulletChart:tl,CandlestickChart:be,Candlestick:pi,CategoricalChart:bt,CategoricalErrorBar:il,CategoricalPlotArea:ih,CategoryAxis:ai,ChartContainer:wl,ClusterLayout:sf,Crosshair:ra,CrosshairTooltip:ua,DateCategoryAxis:of,DateValueAxis:wc,DefaultAggregates:ui,DonutChart:vl,DonutPlotArea:kl,DonutSegment:ke,ErrorBarBase:ks,ErrorRangeCalculator:su,Highlight:na,SharedTooltip:ia,Legend:pc,LegendItem:yc,LineChart:ve,LinePoint:yi,LineSegment:ii,Pane:th,PieAnimation:dl,PieChart:lu,PieChartMixin:nh,PiePlotArea:rh,PieSegment:cu,PlotAreaBase:kt,PlotAreaFactory:li,PointEventsMixin:vi,RangeBar:gc,RangeBarChart:nl,ScatterChart:ir,ScatterErrorBar:rl,ScatterLineChart:we,Selection:cf,SeriesAggregator:no,SeriesBinder:w,ShapeElement:wr,SplineSegment:ds,SplineAreaSegment:sl,StackWrap:bc,Tooltip:ta,OHLCChart:ll,OHLCPoint:cl,WaterfallChart:yl,WaterfallSegment:pl,XYPlotArea:bl,addDuration:it,areNumbers:eh,axisGroupBox:fo,categoriesCount:io,ceilDate:ha,countNumbers:oo,duration:af,ensureTree:ya,indexOf:so,isNumber:b,floorDate:ro,filterSeriesByType:ut,lteDateIndex:fh,evalOptions:vr,seriesTotal:pa,singleItemOrArray:vf,sortDates:ca,startOfWeek:sa,transpose:va,toDate:l,toTime:dt,uniqueDates:la})}(window.kendo.jQuery),function(n){function wr(n,t){return n.value.x-t.value.x}function k(n,t){return 180-i.abs(i.abs(n-t)-180)}var i=Math,o=window.kendo,r=o.deepExtend,st=o.util,ht=st.append,f=o.drawing,a=o.geometry,t=o.dataviz,ct=t.AreaSegment,lt=t.Axis,gi=t.AxisGroupRangeTracker,nr=t.BarChart,s=t.Box2D,tr=t.CategoryAxis,ir=t.CategoricalChart,rr=t.CategoricalPlotArea,at=t.ChartElement,ur=t.CurveProcessor,vt=t.DonutSegment,fr=t.LineChart,v=t.LineSegment,yt=t.LogarithmicAxis,h=t.NumericAxis,d=t.PlotAreaBase,pt=t.PlotAreaFactory,c=t.Point2D,g=t.Ring,er=t.ScatterChart,or=t.ScatterLineChart,wt=t.SeriesBinder,bt=t.ShapeBuilder,sr=t.SplineSegment,kt=t.SplineAreaSegment,nt=t.getSpacing,e=t.filterSeriesByType,y=st.limitValue,hr=t.round,u="arc",cr=t.COORD_PRECISION,lr=.15,p=i.PI/180,ar="log",dt="plotAreaClick",gt="polarArea",ni="polarLine",ti="polarScatter",ii="radarArea",ri="radarColumn",ui="radarLine",tt="smooth",fi="x",ei="y",oi="zero",si=[gt,ni,ti],it=[ii,ri,ui],hi={createGridLines:function(n){var t=this,r=t.options,f=i.abs(t.box.center().y-n.lineBox().y1),e,o,s=!1,u=[];return r.majorGridLines.visible&&(e=t.majorGridLineAngles(n),s=!0,u=t.renderGridLines(e,f,r.majorGridLines)),r.minorGridLines.visible&&(o=t.minorGridLineAngles(n,s),ht(u,t.renderGridLines(o,f,r.minorGridLines))),u},renderGridLines:function(n,t,i){for(var u,h={stroke:{Width:i.width,color:i.color,dashType:i.dashType}},e=this.box.center(),o=new a.Circle([e.x,e.y],t),s=this.gridLinesVisual(),r=0;r<n.length;r++)u=new f.Path(h),u.moveTo(o.center).lineTo(o.pointAt(n[r])),s.append(u);return s.children},gridLineAngles:function(t,i,r){var u=this,f=u.intervals(i,r);return n.map(f,function(n){var i=u.intervalAngle(n);if(!t.options.visible||i!==90)return i})}},l=tr.extend({options:{startAngle:90,labels:{margin:nt(10)},majorGridLines:{visible:!0},justified:!0},range:function(){return{min:0,max:this.options.categories.length}},reflow:function(n){this.box=n;this.reflowLabels()},lineBox:function(){return this.box},reflowLabels:function(){for(var r=this,u=new s,t=r.labels,i,n=0;n<t.length;n++)t[n].reflow(u),i=t[n].box,t[n].reflow(r.getSlot(n).adjacentBox(0,i.width(),i.height()))},intervals:function(n,t){var c=this,u=c.options,f=u.categories.length,i=0,e=0,o=f/n||1,s=360/o,h=[],r;for(t&&(e=360/(f/t)),r=0;r<o;r++)i=hr(i,cr),i%e!=0&&h.push(i%360),u.reverse?i=360+i-s:i+=s;return h},majorIntervals:function(){return this.intervals(1)},minorIntervals:function(){return this.intervals(.5)},intervalAngle:function(n){return(360+n+this.options.startAngle)%360},majorAngles:function(){return n.map(this.majorIntervals(),n.proxy(this.intervalAngle,this))},createLine:function(){return[]},majorGridLineAngles:function(n){return this.gridLineAngles(n,1)},minorGridLineAngles:function(n,t){return this.gridLineAngles(n,.5,t?1:0)},createPlotBands:function(){for(var t=this,a=t.options,s=a.plotBands||[],n,u,e,o,h,c=new f.Group({zIndex:-1}),l,r=0;r<s.length;r++)n=s[r],u=t.plotBandSlot(n),e=t.getSlot(n.from),o=n.from-i.floor(n.from),u.startAngle+=o*e.angle,h=i.ceil(n.to)-n.to,u.angle-=(h+o)*e.angle,l=bt.current.createRing(u,{fill:{color:n.color,opacity:n.opacity},stroke:{opacity:n.opacity}}),c.append(l);t.appendVisual(c)},plotBandSlot:function(n){return this.getSlot(n.from,n.to-1)},getSlot:function(n,t){var f=this,e=f.options,o=e.justified,s=f.box,h=f.majorAngles(),u=h.length,c,l=360/u,r,a;return e.reverse&&!o&&(n=(n+1)%u),n=y(i.floor(n),0,u-1),r=h[n],o&&(r=r-l/2,r<0&&(r+=360)),t=y(i.ceil(t||n),n,u-1),c=t-n+1,a=l*c,new g(s.center(),0,s.height()/2,r,a)},pointCategoryIndex:function(n){for(var i=this,r=null,f=i.options.categories.length,u,t=0;t<f;t++)if(u=i.getSlot(t),u.containsPoint(n)){r=t;break}return r}}),rt,w,ut,b;r(l.fn,hi);rt={options:{majorGridLines:{visible:!0}},createPlotBands:function(){for(var t=this,h=t.options,c=h.plotBands||[],y=h.majorGridLines.type,l=t.plotArea.polarAxis,p=l.majorAngles(),r=l.box.center(),n,e,o,s,a=new f.Group({zIndex:-1}),v,i=0;i<c.length;i++)n=c[i],e={fill:{color:n.color,opacity:n.opacity},stroke:{opacity:n.opacity}},o=t.getSlot(n.from,n.to,!0),s=new g(r,r.y-o.y2,r.y-o.y1,0,360),v=y===u?bt.current.createRing(s,e):f.Path.fromPoints(t.plotBandPoints(s,p),e).close(),a.append(v);t.appendVisual(a)},plotBandPoints:function(n,t){for(var i=[],r=[],f=[n.c.x,n.c.y],e=new a.Circle(f,n.ir),o=new a.Circle(f,n.r),u=0;u<t.length;u++)i.push(e.pointAt(t[u])),r.push(o.pointAt(t[u]));return i.reverse(),i.push(i[0]),r.push(r[0]),r.concat(i)},createGridLines:function(n){var t=this,i=t.options,o=t.radarMajorGridLinePositions(),u=n.majorAngles(),f,e=n.box.center(),r=[];return i.majorGridLines.visible&&(r=t.renderGridLines(e,o,u,i.majorGridLines)),i.minorGridLines.visible&&(f=t.radarMinorGridLinePositions(),ht(r,t.renderGridLines(e,f,u,i.minorGridLines))),r},renderGridLines:function(n,t,i,r){for(var y=this,h,o,v={stroke:{width:r.width,color:r.color,dashType:r.dashType}},c=this.gridLinesVisual(),l,s,e=0;e<t.length;e++)if(h=n.y-t[e],h>0)if(l=new a.Circle([n.x,n.y],h),r.type===u)c.append(new f.Circle(l,v));else{for(s=new f.Path(v),o=0;o<i.length;o++)s.lineTo(l.pointAt(i[o]));s.close();c.append(s)}return c.children},getValue:function(n){var t=this,v=t.options,o=t.lineBox(),s=t.plotArea.polarAxis,r=s.majorAngles(),f=s.box.center(),h=n.distanceTo(f),l=h;if(v.majorGridLines.type!==u&&r.length>1){var y=n.x-f.x,w=n.y-f.y,e=(i.atan2(w,y)/p+540)%360;r.sort(function(n,t){return k(n,e)-k(t,e)});var b=k(r[0],r[1])/2,d=k(e,r[0]),a=90-b,g=180-d-a;l=h*(i.sin(g*p)/i.sin(a*p))}return t.axisType().fn.getValue.call(t,new c(o.x1,o.y2-l))}};w=h.extend({radarMajorGridLinePositions:function(){return this.getTickPositions(this.options.majorUnit)},radarMinorGridLinePositions:function(){var t=this,n=t.options,i=0;return n.majorGridLines.visible&&(i=n.majorUnit),t.getTickPositions(n.minorUnit,i)},axisType:function(){return h}});r(w.fn,rt);ut=yt.extend({radarMajorGridLinePositions:function(){var n=this,t=[];return n.traverseMajorTicksPositions(function(n){t.push(n)},n.options.majorGridLines),t},radarMinorGridLinePositions:function(){var n=this,t=[];return n.traverseMinorTicksPositions(function(n){t.push(n)},n.options.minorGridLines),t},axisType:function(){return yt}});r(ut.fn,rt);b=lt.extend({init:function(n){var t=this;lt.fn.init.call(t,n);n=t.options;n.minorUnit=n.minorUnit||t.options.majorUnit/2},options:{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:nt(10)},majorGridLines:{color:"#000",visible:!0,width:1},minorGridLines:{color:"#aaa"}},getDivisions:function(n){return h.fn.getDivisions.call(this,n)-1},reflow:function(n){this.box=n;this.reflowLabels()},reflowLabels:function(){for(var i=this,u=new s,f=i.majorIntervals(),t=i.labels,r,n=0;n<t.length;n++)t[n].reflow(u),r=t[n].box,t[n].reflow(i.getSlot(f[n]).adjacentBox(0,r.width(),r.height()))},lineBox:function(){return this.box},intervals:function(n,t){var r=this,e=r.options,o=r.getDivisions(n),u=e.min,f=[],i;for(t&&(t=t/n),i=0;i<o;i++)i%t!=0&&f.push((360+u)%360),u+=n;return f},majorIntervals:function(){return this.intervals(this.options.majorUnit)},minorIntervals:function(){return this.intervals(this.options.minorUnit)},intervalAngle:function(n){return(360+n-this.options.startAngle)%360},majorAngles:l.fn.majorAngles,createLine:function(){return[]},majorGridLineAngles:function(n){return this.gridLineAngles(n,this.options.majorUnit)},minorGridLineAngles:function(n,t){return this.gridLineAngles(n,this.options.minorUnit,t?this.options.majorUnit:0)},createPlotBands:l.fn.createPlotBands,plotBandSlot:function(n){return this.getSlot(n.from,n.to)},getSlot:function(n,t){var r=this,i=r.options,u=i.startAngle,f=r.box,e;return n=y(n,i.min,i.max),t=y(t||n,n,i.max),i.reverse&&(n*=-1,t*=-1),n=(540-n-u)%360,t=(540-t-u)%360,t<n&&(e=n,n=t,t=e),new g(f.center(),0,f.height()/2,n,t-n)},getValue:function(n){var t=this,r=t.options,u=t.box.center(),o=n.x-u.x,s=n.y-u.y,f=i.round(i.atan2(s,o)/p),e=r.startAngle;return r.reverse||(f*=-1,e*=-1),(f+e+360)%360},labelsCount:h.fn.labelsCount,createAxisLabel:h.fn.createAxisLabel});r(b.fn,hi);var ci=at.extend({options:{gap:1,spacing:0},reflow:function(n){for(var e=this,o=e.options,r=e.children,s=o.gap,h=o.spacing,f=r.length,l=f+s+h*(f-1),u=n.angle/l,i,c=n.startAngle+u*(s/2),t=0;t<f;t++)i=n.clone(),i.startAngle=c,i.angle=u,r[t].sector&&(i.r=r[t].sector.r),r[t].reflow(i),r[t].sector=i,c+=u+u*h}}),li=at.extend({reflow:function(n){var i=this,u=i.options.isReversed,f=i.children,e=f.length,r,t,o=u?e-1:0,h=u?-1:1;for(i.box=new s,t=o;t>=0&&t<e;t+=h)r=f[t].sector,r.startAngle=n.startAngle,r.angle=n.angle}}),vr=vt.extend({init:function(n,t){vt.fn.init.call(this,n,null,t)},options:{overlay:{gradient:null},labels:{distance:10}}}),ai=nr.extend({pointType:function(){return vr},clusterType:function(){return ci},stackType:function(){return li},categorySlot:function(n,t){return n.getSlot(t)},pointSlot:function(n,t){var i=n.clone(),r=n.c.y;return i.r=r-t.y1,i.ir=r-t.y2,i},reflow:ir.fn.reflow,reflowPoint:function(n,t){n.sector=t;n.reflow()},options:{clip:!1}}),ft=fr.extend({options:{clip:!1},pointSlot:function(n,t){var r=n.c.y-t.y1,i=c.onCircle(n.c,n.middle(),r);return new s(i.x,i.y,i.x,i.y)},createSegment:function(n,t,i){var r,u,f=t.style;return u=f==tt?sr:v,r=new u(n,t,i),n.length===t.data.length&&(r.options.closed=!0),r}}),yr=ct.extend({points:function(){return v.fn.points.call(this,this.stackPoints)}}),vi=kt.extend({areaPoints:function(){return[]}}),yi=ft.extend({createSegment:function(n,t,i,r){var o=this,s=o.options,f=s.isStacked,e,u,h=(t.line||{}).style;return h===tt?(u=new vi(n,r,f,t,i),u.options.closed=!0):(f&&i>0&&r&&(e=r.linePoints.slice(0).reverse()),n.push(n[0]),u=new yr(n,e,t,i)),u},seriesMissingValues:function(n){return n.missingValues||oi}}),pi=er.extend({pointSlot:function(n,t){var r=n.c.y-t.y1,i=c.onCircle(n.c,n.startAngle,r);return new s(i.x,i.y,i.x,i.y)},options:{clip:!1}}),et=or.extend({pointSlot:pi.fn.pointSlot,options:{clip:!1}}),pr=ct.extend({points:function(){var t=this,r=t.parent,u=r.plotArea,f=u.polarAxis,n=f.box.center(),e=t.stackPoints,i=v.fn.points.call(t,e);return i.unshift([n.x,n.y]),i.push([n.x,n.y]),i}}),wi=kt.extend({areaPoints:function(){var n=this,t=n.parent,i=t.plotArea,r=i.polarAxis,u=r.box.center();return[u]},points:function(){var t=this,r=t.parent,u=r.plotArea,f=u.polarAxis,e=f.box.center(),n,o=new ur(!1),i=v.fn.points.call(this);return i.push(e),n=o.process(i),n.splice(n.length-3,n.length-1),t.curvePoints=n,n}}),bi=et.extend({createSegment:function(n,t,i){var r=(t.line||{}).style;return r==tt?new wi(n,null,!1,t,i):new pr(n,[],t,i)},seriesMissingValues:function(n){return n.missingValues||oi},sortPoints:function(n){return n.sort(wr)}}),ot=d.extend({init:function(n,t){var i=this;i.valueAxisRangeTracker=new gi;d.fn.init.call(i,n,t)},render:function(){var n=this;n.addToLegend(n.series);n.createPolarAxis();n.createCharts();n.createValueAxis()},createValueAxis:function(){var t=this,o=t.valueAxisRangeTracker,r=o.query(),n,u,s=t.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1}),f,e;s.type===ar?(f=ut,e={min:.1,max:1}):(f=w,e={min:0,max:1});n=o.query(name)||r||e;n&&r&&(n.min=i.min(n.min,r.min),n.max=i.max(n.max,r.max));u=new f(n.min,n.max,s);t.valueAxis=u;t.appendAxis(u)},reflowAxes:function(){var n=this,e=n.options.plotArea,t=n.valueAxis,o=n.polarAxis,u=n.box,s=i.min(u.width(),u.height())*lr,h=nt(e.padding||{},s),r=u.clone().unpad(h),c=r.clone().shrink(0,r.height()/2),f;o.reflow(r);t.reflow(c);f=t.lineBox().height()-t.box.height();t.reflow(t.box.unpad({top:f}));n.axisBox=r;n.alignAxes(r)},alignAxes:function(){var t=this,n=t.valueAxis,i=n.getSlot(n.options.min),r=n.options.reverse?2:1,u=t.polarAxis.getSlot(0).c,f=n.box.translate(u.x-i[fi+r],u.y-i[ei+r]);n.reflow(f)},backgroundBox:function(){return this.box}}),ki=ot.extend({options:{categoryAxis:{categories:[]},valueAxis:{}},createPolarAxis:function(){var n=this,t;t=new l(n.options.categoryAxis);n.polarAxis=t;n.categoryAxis=t;n.appendAxis(t)},valueAxisOptions:function(n){var t=this;return t._hasBarCharts&&r(n,{majorGridLines:{type:u},minorGridLines:{type:u}}),t._isStacked100&&r(n,{roundToMajorUnit:!1,labels:{format:"P0"}}),r(n,t.options.valueAxis)},appendChart:rr.fn.appendChart,createCharts:function(){var n=this,t=n.filterVisibleSeries(n.series),i=n.panes[0];n.createAreaChart(e(t,[ii]),i);n.createLineChart(e(t,[ui]),i);n.createBarChart(e(t,[ri]),i)},chartOptions:function(n){var t={series:n},u=n[0],r,i;return u&&(r=this.filterVisibleSeries(n),i=u.stack,t.isStacked=i&&r.length>1,t.isStacked100=i&&i.type==="100%"&&r.length>1,t.isStacked100&&(this._isStacked100=!0)),t},createAreaChart:function(n,t){if(n.length!==0){var i=new yi(this,this.chartOptions(n));this.appendChart(i,t)}},createLineChart:function(n,t){if(n.length!==0){var i=new ft(this,this.chartOptions(n));this.appendChart(i,t)}},createBarChart:function(n,t){var r,i,u;n.length!==0&&(r=n[0],i=this.chartOptions(n),i.gap=r.gap,i.spacing=r.spacing,u=new ai(this,i),this.appendChart(u,t),this._hasBarCharts=!0)},seriesCategoryAxis:function(){return this.categoryAxis},click:function(t,i){var f=this,e=t._eventCoordinates(i),o=new c(e.x,e.y),r,u;r=f.categoryAxis.getCategory(o);u=f.valueAxis.getValue(o);r!==null&&u!==null&&t.trigger(dt,{element:n(i.target),category:r,value:u})}}),di=ot.extend({options:{xAxis:{},yAxis:{}},createPolarAxis:function(){var n=this,t;t=new b(n.options.xAxis);n.polarAxis=t;n.axisX=t;n.appendAxis(t)},valueAxisOptions:function(n){var t=this;return r(n,{majorGridLines:{type:u},minorGridLines:{type:u}},t.options.yAxis)},createValueAxis:function(){var n=this;ot.fn.createValueAxis.call(n);n.axisY=n.valueAxis},appendChart:function(n,t){var i=this;i.valueAxisRangeTracker.update(n.yAxisRanges);d.fn.appendChart.call(i,n,t)},createCharts:function(){var n=this,t=n.filterVisibleSeries(n.series),i=n.panes[0];n.createLineChart(e(t,[ni]),i);n.createScatterChart(e(t,[ti]),i);n.createAreaChart(e(t,[gt]),i)},createLineChart:function(n,t){if(n.length!==0){var i=this,r=new et(i,{series:n});i.appendChart(r,t)}},createScatterChart:function(n,t){if(n.length!==0){var i=this,r=new pi(i,{series:n});i.appendChart(r,t)}},createAreaChart:function(n,t){if(n.length!==0){var i=this,r=new bi(i,{series:n});i.appendChart(r,t)}},click:function(t,i){var f=this,e=t._eventCoordinates(i),o=new c(e.x,e.y),r,u;r=f.axisX.getValue(o);u=f.axisY.getValue(o);r!==null&&u!==null&&t.trigger(dt,{element:n(i.target),x:r,y:u})}});pt.current.register(di,si);pt.current.register(ki,it);wt.current.register(si,[fi,ei],["color"]);wt.current.register(it,["value"],["color"]);t.DefaultAggregates.current.register(it,{value:"max",color:"first"});r(t,{PolarAreaChart:bi,PolarAxis:b,PolarLineChart:et,PolarPlotArea:di,RadarAreaChart:yi,RadarBarChart:ai,RadarCategoryAxis:l,RadarClusterLayout:ci,RadarLineChart:ft,RadarNumericAxis:w,RadarPlotArea:ki,SplinePolarAreaSegment:wi,SplineRadarAreaSegment:vi,RadarStackLayout:li})}(window.kendo.jQuery),function(n,t){var r=window.kendo,f=r.deepExtend,h=n.extend,d=r.isFunction,g=r.template,c=r.util,nt=c.append,l=r.drawing,u=r.geometry,i=r.dataviz,tt=r.drawing.Color,e=i.ChartElement,it=i.PieChartMixin,a=i.PlotAreaBase,rt=i.PlotAreaFactory,ut=i.Point2D,v=i.Box2D,y=i.SeriesBinder,ft=i.TextBox,p=i.autoFormat,et=i.evalOptions,w=c.limitValue,ot=i.seriesTotal,b="funnel",st="black",k="white",ht=a.extend({render:function(){var n=this,t=n.series;n.createFunnelChart(t)},createFunnelChart:function(n){var i=this,t=n[0],r=new o(i,{series:n,legend:i.options.legend,neckRatio:t.neckRatio,dynamicHeight:t.dynamicHeight,dynamicSlope:t.dynamicSlope,segmentSpacing:t.segmentSpacing,highlight:t.highlight});i.appendChart(r)},appendChart:function(n,t){a.fn.appendChart.call(this,n,t);nt(this.options.legend.items,n.legendItems)}}),o=e.extend({init:function(n,t){var i=this;e.fn.init.call(i,t);i.plotArea=n;i.points=[];i.labels=[];i.legendItems=[];i.render()},options:{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:"center",position:"center"}},formatPointValue:function(n,t){return p(t,n.value)},render:function(){var e=this,v=e.options,l=e.plotArea.options.seriesColors||[],p=l.length,r=v.series[0],o,n,s=r.data,a,u,i,h,c;if(s)for(a=ot(r),i=0;i<s.length;i++)(o=y.current.bindPoint(r,i),u=o.valueFields.value,u!==null&&u!==t)&&(n=o.fields,d(r.color)||(r.color=n.color||l[i%p]),n=f({index:i,owner:e,series:r,category:n.category,dataItem:s[i],percentage:Math.abs(u)/a,visibleInLegend:n.visibleInLegend,visible:n.visible},n),h=e.createSegment(u,n),c=e.createLabel(u,n),h&&c&&h.append(c))},evalSegmentOptions:function(n,t,i){var r=i.series;et(n,{value:t,series:r,dataItem:i.dataItem,index:i.index},{defaults:r._defaults,excluded:["data"]})},createSegment:function(n,t){var r=this,i,u;return r.createLegendItem(n,t),t.visible!==!1?(u=f({},t.series),r.evalSegmentOptions(u,n,t),i=new s(n,u,t),h(i,t),r.append(i),r.points.push(i),i):void 0},createLabel:function(n,t){var u=this,e=t.series,c=t.dataItem,i=f({},u.options.labels,e.labels),r=n,o,s,h;if(i.visible)return i.template?(s=g(i.template),r=s({dataItem:c,value:n,percentage:t.percentage,category:t.category,series:e})):i.format&&(r=p(i.format,r)),i.color||i.align!=="center"||(h=new tt(e.color).percBrightness(),i.color=h>180?st:k),u.evalSegmentOptions(i,n,t),o=new ft(r,f({vAlign:i.position},i)),u.labels.push(o),o},labelPadding:function(){for(var i=this.labels,f,r,u,n={left:0,right:0},t=0;t<i.length;t++)f=i[t],r=f.options.align,r!=="center"&&(u=i[t].box.width(),r==="left"?n.left=Math.max(n.left,u):n.right=Math.max(n.right,u));return n},reflow:function(t){var d=this,l=d.options,c=d.points,a=c.length,g=l.neckRatio<=1,r,v,p,e,y,o,i=t.clone().unpad(d.labelPadding()),f=i.width(),s=0,h=g?0:(f-f/l.neckRatio)/2,nt=l.segmentSpacing,et=l.dynamicSlope,b=i.height()-nt*(a-1),ot=g?l.neckRatio*f:f,tt,k,it,rt,ft,ut;if(a){if(et)for(tt=c[0],k=tt,n.each(c,function(n,t){t.percentage>k.percentage&&(k=t)}),p=tt.percentage/k.percentage*f,h=(f-p)/2,r=0;r<a;r++)y=c[r].percentage,it=c[r+1],rt=it?it.percentage:y,e=c[r].points=[],v=l.dynamicHeight?b*y:b/a,o=(f-p*(rt/y))/2,o=w(o,0,f),e.push(new u.Point(i.x1+h,i.y1+s)),e.push(new u.Point(i.x1+f-h,i.y1+s)),e.push(new u.Point(i.x1+f-o,i.y1+v+s)),e.push(new u.Point(i.x1+o,i.y1+v+s)),h=o,s+=v+nt,p*=rt/y,p=w(p,0,f);else for(ft=g?f:f-h*2,ut=(ft-ot)/2,r=0;r<a;r++)e=c[r].points=[],y=c[r].percentage,o=l.dynamicHeight?ut*y:ut/a,v=l.dynamicHeight?b*y:b/a,e.push(new u.Point(i.x1+h,i.y1+s)),e.push(new u.Point(i.x1+f-h,i.y1+s)),e.push(new u.Point(i.x1+f-h-o,i.y1+v+s)),e.push(new u.Point(i.x1+h+o,i.y1+v+s)),h+=o,s+=v+nt;for(r=0;r<a;r++)c[r].reflow(t)}}}),s;f(o.fn,it);s=e.extend({init:function(n,t,i){var r=this;e.fn.init.call(r,t);r.value=n;r.options.index=i.index},options:{color:k,border:{width:1}},reflow:function(n){var i=this,t=i.points,r=i.children[0];i.box=new v(t[0].x,t[0].y,t[1].x,t[2].y);r&&r.reflow(new v(n.x1,t[0].y,n.x2,t[2].y))},createVisual:function(){e.fn.createVisual.call(this);var n=this.options,t=n.border,i=l.Path.fromPoints(this.points,{fill:{color:n.color,opacity:n.opacity},stroke:{color:t.color,opacity:t.opacity,width:t.width}}).close();this.visual.append(i)},createHighlight:function(n){return l.Path.fromPoints(this.points,n)},highlightOverlay:function(n,t){var u=this.options,i=u.highlight||{};if(i.visible!==!1){var r=i.border||{},f=h({},t,{fill:i.color,stroke:r.color,strokeOpacity:r.opacity,strokeWidth:r.width,fillOpacity:i.opacity});return n.createPolyline(this.points,!0,f)}},tooltipAnchor:function(n){var t=this.box;return new ut(t.center().x-n/2,t.y1)},formatValue:function(n){var t=this;return t.owner.formatPointValue(t,n)}});f(s.fn,i.PointEventsMixin);rt.current.register(ht,[b]);y.current.register([b],["value"],["category","color","visibleInLegend","visible"]);f(i,{FunnelChart:o})}(window.kendo.jQuery),function(n,t){function li(n,t){var i=n.box,s=n.children[0].box,r=t.border||{},y=t.background||"",f=new e,l,a,v,o;return v=h.fromRect(new c([i.x1,i.y1],[i.width(),i.height()]),{stroke:{}}),o=new ki(n.text,new u(s.x1,s.y1),{font:t.font,fill:{color:t.color}}),a=vi(o.bbox().clone(),t.padding),l=h.fromRect(a,{stroke:{color:r.width?r.color:"",width:r.width,dashType:r.dashType,lineJoin:"round",lineCap:"round"},fill:{color:y}}),f.append(v),f.append(l),f.append(o),f}function ai(n,t,r){var u=b(n.from)?n.from:nr,f=b(n.to)?n.to:gi;return n.from=i.max(i.min(f,u),t),n.to=i.min(i.max(f,u),r),n}function vi(n,t){var r=n.getOrigin(),u=n.getSize(),i=k(t);return n.setOrigin([r.x-i.left,r.y-i.top]),n.setSize([u.width+(i.left+i.right),u.height+(i.top+i.bottom)]),n}function yi(n,t){var i=k(t);return i.left=-i.left,i.top=-i.top,i.right=-i.right,i.bottom=-i.bottom,vi(n,i)}var i=Math,a=window.kendo,ut=a.util,ft=a.ui.Widget,f=a.deepExtend,r=a.dataviz,vt=r.autoMajorUnit,pi=r.ChartElement,yt=r.NumericAxis,pt=r.Axis,v=r.Box2D,wi=a.Class,b=ut.defined,ur=n.isArray,bi=ut.isNumber,tt=r.interpolateValue,fr=ut.valueOrDefault,k=r.getSpacing,d=r.round,s=r.geometry,o=r.drawing,u=s.Point,er=o.Circle,e=o.Group,h=o.Path,c=s.Rect,ki=o.Text,or=o.Surface,wt=150,bt=250,di="arrow",kt="arrowPointer",g="barPointer",y="#000",it=r.COORD_PRECISION,gi=Number.MAX_VALUE,nr=-Number.MAX_VALUE,dt=200,p=.5,gt=200,tr=60,ir=60,rr=5,ni=i.PI/180,rt=180,l="inside",et="linear",ti="needle",ot="outside",ii="radialPointer",st="x",ht="y",ct=wi.extend({init:function(n,t){var r=this,u=n.options;pi.fn.init.call(r,t);t=r.options;t.fill=t.color;r.scale=n;t.value=b(t.value)?i.min(i.max(t.value,u.min),u.max):u.min},options:{color:y},value:function(n){var u=this,r=u.options,e=r.value,f=u.scale.options;if(arguments.length===0)return e;r._oldValue=r._oldValue!==t?r.value:f.min;r.value=i.min(i.max(n,f.min),f.max);u.elements&&u.repaint()}}),ri=ct.extend({options:{shape:ti,cap:{size:.05},arrow:{width:16,height:14},animation:{type:ii,duration:wt}},setRadius:function(n){var t=this;n&&(t.elements.clear(),t.render(t.parent,t.center,n))},setAngle:function(n){this.elements.transform(s.transform().rotate(n,this.center))},repaint:function(){var n=this,i=n.scale,t=n.options,u=i.slotAngle(t._oldValue),r=i.slotAngle(t.value);t.animation.transitions===!1?n.setAngle(r):new ci(n.elements,f(t.animation,{oldAngle:u,newAngle:r})).play()},render:function(){var n=this,t=n.scale,u=t.arc.center,r=n.options,o=t.slotAngle(t.options.min),i=new e;return r.animation!==!1&&f(r.animation,{startAngle:0,center:u,reverse:t.options.reverse}),r.shape===ti?i.append(n._renderNeedle(),n._renderCap()):i.append(n._renderArrow()),n.elements=i,n.setAngle(ni),i},reflow:function(n){var t=this,i=t.center=n.center,f=t.radius=n.getRadiusX(),r=t.capSize=Math.round(f*t.options.cap.size);t.bbox=c.fromPoints(new u(i.x-r,i.y-r),new u(i.x+r,i.y+r))},_renderNeedle:function(){var n=this,u=n.options,f=n.scale.options.minorTicks.size,t=n.center,i=u.color,r=new h({fill:{color:i},stroke:{color:i,width:p}});return r.moveTo(t.x+n.radius-f,t.y).lineTo(t.x,t.y-n.capSize/2).lineTo(t.x,t.y+n.capSize/2).close(),r},_renderCap:function(){var n=this,t=n.options,i=t.cap.color||t.color,r=new s.Circle(n.center,n.capSize);return new o.Circle(r,{fill:{color:i},stroke:{color:i}})}}),ui=yt.extend({init:function(n){var t=this;t.options=f({},t.options,n);t.options.majorUnit=t.options.majorUnit||vt(t.options.min,t.options.max);t.options.minorUnit=t.options.minorUnit||t.options.majorUnit/10;pt.fn.init.call(t,t.options)},options:{min:0,max:100,majorTicks:{size:15,align:l,color:y,width:p,visible:!0},minorTicks:{size:10,align:l,color:y,width:p,visible:!0},startAngle:-30,endAngle:210,labels:{position:l,padding:2}},render:function(n,t){var i=this,u=i.options,r=i.renderArc(n,t);i.bbox=r.bbox();i.labelElements=i.renderLabels();i.ticks=i.renderTicks();i.ranges=i.renderRanges()},reflow:function(n){var r=this,e=r.options,u=n.center(),f=i.min(n.height(),n.width())/2;if(r.bbox!==t)r.bbox=r.arc.bbox(),r.radius(r.arc.getRadiusX()),r.repositionRanges(),r.renderLabels();else return r.render(u,f)},slotAngle:function(n){var t=this.options,r=t.startAngle,o=t.reverse,u=t.endAngle-r,i=t.min,f=t.max,e;return e=o?t.endAngle-(n-i)/(f-i)*u:(n-i)/(f-i)*u+r,e+rt},renderLabels:function(){var n=this,f=n.options,lt=f.majorTicks.size,y=n.arc.clone(),a=y.getRadiusX(),at=n.tickAngles(y,f.majorUnit),st=n.labels,vt=st.length,b=f.labels,ht=b.padding,k=a*.05,yt=f.rangeSize=f.rangeSize||a*.1,pt=f.ranges||[],p,w,d,g,o,nt,v,tt,it,ut,ct=new e,h,ft,et,ot;for(n.options.rangeDistance!==t?k=n.options.rangeDistance:n.options.rangeDistance=k,b.position===l&&(a-=lt,pt.length&&n.labelElements===t&&(a-=yt+k),y.setRadiusX(a).setRadiusY(a)),v=0;v<vt;v++)o=st[v],p=o.box.width()/2,w=o.box.height()/2,g=at[v],d=(g-rt)*ni,ut=b.position===l,nt=y.pointAt(g),tt=nt.x+i.cos(d)*(p+ht)*(ut?1:-1),it=nt.y+i.sin(d)*(w+ht)*(ut?1:-1),o.reflow(new r.Box2D(tt-p,it-w,tt+p,it+w)),ft=new u(o.box.x1,o.box.y1),n.labelElements===t?(h=li(o,f.labels),ct.append(h)):(h=n.labelElements.children[v],et=h.bbox().origin,ot=h.transform()||s.transform(),ot.translate(ft.x-et.x,ft.y-et.y),h.transform(ot)),n.bbox=c.union(n.bbox,h.bbox());return ct},repositionRanges:function(){var n=this,o=n.arc,i=n.ranges.children,f=n.options.rangeSize,e=n.options.rangeDistance,r,u,t;if(i.length>0){for(r=n.getRangeRadius(),n.options.labels.position===l&&(r+=f+e),u=r+f/2,t=0;t<i.length;t++)i[t]._geometry.setRadiusX(u).setRadiusY(u);n.bbox=c.union(n.bbox,n.ranges.bbox())}},renderRanges:function(){var n=this,p=n.arc,c=new e,u,f,l=n.rangeSegments(),a=l.length,v=n.options.reverse,b=n.radius(),i=n.options.rangeSize,w=n.options.rangeDistance,t,h,y,r;if(a)for(h=n.getRangeRadius(),n.radius(n.radius()-i-w),r=0;r<a;r++)t=l[r],u=n.slotAngle(t[v?"to":"from"]),f=n.slotAngle(t[v?"from":"to"]),f-u!=0&&(y=new s.Arc(p.center,{radiusX:h+i/2,radiusY:h+i/2,startAngle:u,endAngle:f}),c.append(new o.Arc(y,{stroke:{width:i,color:t.color,opacity:t.opacity}})));return c},rangeSegments:function(){function e(n,t,i,r){return{from:n,to:t,color:i,opacity:r}}var v=this,r=v.options,o=r.ranges||[],s=o.length,n,h,c=r.rangePlaceholderColor,i=[],t,l=r.min,a=r.max,u,f;if(s)for(i.push(e(l,a,c)),u=0;u<s;u++)for(n=ai(o[u],l,a),h=i.length,f=0;f<h;f++)if(t=i[f],t.from<=n.from&&n.from<=t.to){i.push(e(n.from,n.to,n.color,n.opacity));t.from<=n.to&&n.to<=t.to&&i.push(e(n.to,t.to,c,n.opacity));t.to=n.from;break}return i},getRangeRadius:function(){var t=this,n=t.options,u=n.majorTicks.size,i=n.rangeSize,f=n.rangeDistance,r=t.arc;return n.labels.position===ot?r.getRadiusX()-u-f-i:r.getRadiusX()-i},renderArc:function(n,t){var i=this,r=i.options;return i.arc=new s.Arc(n,{radiusX:t,radiusY:t,startAngle:r.startAngle+rt,endAngle:r.endAngle+rt})},renderTicks:function(){function l(n,t,i,r){var s=new e,o=n.center,a=n.getRadiusX(),f,c,l,y=i.size,v=r.visible;if(v)for(f=0;f<t.length;f++)c=n.pointAt(t[f]),l=new u(o.x+a-r.size,o.y).rotate(t[f],o),s.append(new h({stroke:{color:r.color,width:r.width}}).moveTo(c).lineTo(l));return s}var n=this,r=n.arc,t=n.options,a=t.labels.position,f=new e,o=t.majorTicks.size,s=t.minorTicks.size,i=r.clone(),c=i.getRadiusX();return n.majorTickAngles=n.tickAngles(r,t.majorUnit),n.majorTicks=l(i,n.majorTickAngles,t.majorUnit,t.majorTicks),f.append(n.majorTicks),n._tickDifference=o-s,a===ot&&i.setRadiusX(c-o+s).setRadiusY(c-o+s),n.minorTickAngles=n.normalizeTickAngles(n.tickAngles(r,t.minorUnit)),n.minorTicks=l(i,n.minorTickAngles,t.minorUnit,t.minorTicks,t.majorUnit),f.append(n.minorTicks),f},normalizeTickAngles:function(n){for(var r=this,i=r.options,u=i.majorUnit/i.minorUnit,t=n.length-1;t>=0;t--)t%u==0&&n.splice(t,1);return n},tickAngles:function(n,t){var h=this,r=h.options,c=r.reverse,l=r.max-r.min,o=n.endAngle-n.startAngle,i=n.startAngle,s=l/t,u=o/s,f=[],e;for(c&&(i+=o,u=-u),e=0;e<s;e++)f.push(d(i,it)),i+=u;return d(i)<=n.endAngle&&f.push(i),f},radius:function(n){var t=this,i=t.parent,r=t.arc.center;if(n)t.arc.setRadiusX(n).setRadiusY(n),t.repositionTicks(t.majorTicks.children,t.majorTickAngles),t.repositionTicks(t.minorTicks.children,t.minorTickAngles,!0);else return t.arc.getRadiusX()},repositionTicks:function(n,t,i){var u=this,e=i?u._tickDifference||0:0,f=u.arc,o=f.getRadiusX(),r;for(i&&u.options.labels.position===ot&&e!==0&&(f=u.arc.clone(),f.setRadiusX(o-e).setRadiusY(o-e)),r=0;r<n.length;r++){var h=f.pointAt(t[r]),c=n[r].segments,l=h.x-c[0].anchor().x,a=h.y-c[0].anchor().y;n[r].transform((new s.Transformation).translate(l,a))}}}),w=ft.extend({init:function(t,i){var u=this,e,h,s,l=r.ui.themes||{},c,o;if(a.destroy(t),n(t).empty(),ft.fn.init.call(u,t),u.wrapper=u.element,u._originalOptions=f({},i),e=f({},u.options,i),s=e.theme,c=l[s]||l[s.toLowerCase()],h=s&&c?c.gauge:{},u.options=f({},h,e),n.isArray(e.pointer))for(o=0;o<e.pointer.length;o++)u.options.pointer[o]=f({},h.pointer,e.pointer[o]);u.element.addClass("k-gauge");u.surface=u._createSurface();u.redraw()},options:{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}},destroy:function(){this.surface.destroy();ft.fn.destroy.call(this)},value:function(n){var i=this,t=i.pointers[0];if(arguments.length===0)return t.value();t.value(n)},_draw:function(){var n=this.surface;n.clear();n.draw(this._visuals)},exportVisual:function(){return this._visuals},allValues:function(t){var f=this,r=f.pointers,u=[],i;if(arguments.length===0){for(i=0;i<r.length;i++)u.push(r[i].value());return u}if(n.isArray(t))for(i=0;i<t.length;i++)bi(t[i])&&r[i].value(t[i])},_resize:function(){var n=this,i=n.options.transitions,t;for(n.options.transitions=!1,t=0;t<n.pointers.length;t++)n.pointers[t].options.animation.transitions=!1;for(n.redraw(),n.options.transitions=i,t=0;t<n.pointers.length;t++)n.pointers[t].options.animation.transitions=i},redraw:function(){var n=this,t=f(n._getSize(),n.options.gaugeArea),r=new c([0,0],[t.width,t.height]),i;n.surface.clear();n.gaugeArea=n._createGaugeArea();n._createModel();i=yi(r.bbox(),n._gaugeAreaMargin);n.reflow(i)},_createGaugeArea:function(){var t=this,i=t.options.gaugeArea,u=t.surface.size(),f=t._gaugeAreaMargin=i.margin||rr,n=i.border||{},r=new c([0,0],[u.width,u.height]);return n.width>0&&(r=yi(r,n.width)),h.fromRect(r,{stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType,lineJoin:"round",lineCap:"round"},fill:{color:i.background}})},_createSurface:function(){var i=this,r=i.options,t=i._getSize(),u;return t=r.gaugeArea?f(t,r.gaugeArea):t,u=n("<div><\/div>").appendTo(i.element).css({width:t.width,height:t.height}),new o.Surface.create(u,{type:r.renderAs})},getSize:function(){return this._getSize()},_getSize:function(){var r=this,i=r.element,n=i.width(),t=i.height();return n||(n=gt),t||(t=dt),{width:n,height:t}}}),fi=w.extend({init:function(n,t){var i=this;w.fn.init.call(i,n,t);a.notify(i,r.ui)},options:{name:"RadialGauge",transitions:!0,gaugeArea:{background:""}},reflow:function(n){var t=this,r=t.pointers,f=t.scale.reflow(n),i,u;for(t._initialPlotArea=t.scale.bbox,i=0;i<r.length;i++)u=r[i].reflow(t.scale.arc),t._initialPlotArea=c.union(t._initialPlotArea,r[i].bbox);t.fitScale(n);t.alignScale(n);t._buildVisual(t.gaugeArea,r,t.scale);t._draw()},_buildVisual:function(n,t,i){var r=new e,u,f;for(r.append(n),r.append(i.ticks),r.append(i.ranges),f=0;f<t.length;f++)u=t[f],u.render(),r.append(u.elements),u.value(u.options.value);r.append(i.labelElements);this._visuals=r},fitScale:function(n){for(var t=this,a=t.scale,h=a.arc,v=t._initialPlotArea,c=i.abs(t.getDiff(v,n)),o=d(c,it),s=d(-c,it),r,u,f,e,l=0;l<100;){if(l++,o!=e&&(r=t.getPlotBox(o,n,h),0<=r&&r<=2))break;if(s!=e&&(f=t.getPlotBox(s,n,h),0<=f&&f<=2))break;if(e=r>0&&f>0?o*2:r<0&&f<0?s*2:d((o+s)/2||1,it),u=t.getPlotBox(e,n,h),0<=u&&u<=2)break;u>0?(s=e,f=u):(o=e,r=u)}},getPlotBox:function(n,t,i){var r=this,f=r.scale,e=r.pointers,o=i.getRadiusX(),u;for(i=i.clone(),i.setRadiusX(o+n).setRadiusY(o+n),f.arc=i,f.reflow(t),r.plotBbox=f.bbox,u=0;u<e.length;u++)e[u].reflow(i),r.plotBbox=c.union(r.plotBbox,e[u].bbox);return r.getDiff(r.plotBbox,t)},getDiff:function(n,t){return i.min(t.width()-n.width(),t.height()-n.height())},alignScale:function(n){var r=this,f=r.plotBbox.center(),e=n.center(),o=f.x-e.x,s=f.y-e.y,t=r.scale,u=r.pointers,i;for(t.arc.center.x-=o,t.arc.center.y-=s,t.reflow(n),i=0;i<u.length;i++)u[i].reflow(t.arc),r.plotBbox=c.union(t.bbox,u[i].bbox)},_createModel:function(){var i=this,u=i.options,t=u.pointer,o=i.scale=new ui(u.scale),e,r;for(i.pointers=[],t=n.isArray(t)?t:[t],r=0;r<t.length;r++)e=new ri(o,f({},t[r],{animation:{transitions:u.transitions}})),i.pointers.push(e)}}),ei=w.extend({init:function(n,t){var i=this;w.fn.init.call(i,n,t);a.notify(i,r.ui)},options:{name:"LinearGauge",transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}},reflow:function(n){var t=this,s=t.surface,f=t.pointers,u=n.origin.x,o=n.origin.y,e=new r.Box2D(u,u,u+n.width(),o+n.height()),i;for(t.scale.reflow(e),i=0;i<f.length;i++)f[i].reflow();t.bbox=t._getBox(e);t._alignElements();t._shrinkElements();t._buildVisual();t._draw()},_buildVisual:function(){var n=this,t=new e,f=n.scale.render(),u=n.pointers,i,r;for(t.append(n.gaugeArea),t.append(f),r=0;r<u.length;r++)i=u[r],t.append(i.render()),i.value(i.options.value);n._visuals=t},_createModel:function(){var i=this,e=i.options,t=e.pointer,o=i.scale=new oi(e.scale),s,r,u;for(i.pointers=[],t=n.isArray(t)?t:[t],u=0;u<t.length;u++)r=f({},t[u],{animation:{transitions:e.transitions}}),s=r.shape===di?new si(o,r):new hi(o,r),i.pointers.push(s)},_getSize:function(){var i=this,r=i.element,n=r.width(),t=r.height(),u=i.options.scale.vertical;return n||(n=u?tr:gt),t||(t=u?dt:ir),{width:n,height:t}},_getBox:function(n){for(var e=this,o=e.scale,u=e.pointers,r=n.center(),t=u[0].box.clone().wrap(o.box),i,f=0;f<u.length;f++)t.wrap(u[f].box.clone());return o.options.vertical?(i=t.width()/2,t=new v(r.x-i,n.y1,r.x+i,n.y2)):(i=t.height()/2,t=new v(n.x1,r.y-i,n.x2,r.y+i)),t},_alignElements:function(){for(var f=this,r=f.scale,u=f.pointers,e=r.box,o=u[0].box.clone().wrap(r.box),t=f.bbox,i,n=0;n<u.length;n++)o.wrap(u[n].box.clone());for(r.options.vertical?(i=t.center().x-o.center().x,r.reflow(new v(e.x1+i,t.y1,e.x2+i,t.y2))):(i=t.center().y-o.center().y,r.reflow(new v(t.x1,e.y1+i,t.x2,e.y2+i))),n=0;n<u.length;n++)u[n].reflow(f.bbox)},_shrinkElements:function(){for(var f=this,e=f.scale,r=f.pointers,u=e.box.clone(),t=e.options.vertical?"y":"x",o=r[0].box,n=0;n<r.length;n++)o.wrap(r[n].box.clone());for(u[t+1]+=i.max(u[t+1]-o[t+1],0),u[t+2]-=i.max(o[t+2]-u[t+2],0),e.reflow(u),n=0;n<r.length;n++)r[n].reflow(f.bbox)}}),oi=yt.extend({init:function(n){var t=this;t.options=f({},t.options,n);t.options=f({},t.options,{labels:{mirror:t.options.mirror}});t.options.majorUnit=t.options.majorUnit||vt(t.options.min,t.options.max);pt.fn.init.call(t,t.options);t.options.minorUnit=t.options.minorUnit||t.options.majorUnit/10},options:{min:0,max:50,majorTicks:{size:15,align:l,color:y,width:p,visible:!0},minorTicks:{size:10,align:l,color:y,width:p,visible:!0},line:{width:p},labels:{position:l,padding:2},mirror:!1,_alignLines:!1},render:function(){var n=this,t=n.elements=new e,i=n.renderLabels(),r=n.renderLine(),u=n.renderTicks(),f=n.renderRanges();return t.append(r,i,u,f),t},renderRanges:function(){var u=this,n=u.options,w=n.min,b=n.max,l=n.ranges||[],o=n.vertical,a=n.labels.mirror,v=new e,y=l.length,p=n.rangeSize||n.minorTicks.size/2,t,s,i,r,f;if(y)for(f=0;f<y;f++)t=ai(l[f],w,b),s=u.getSlot(t.from,t.to),i=o?u.lineBox():s,r=o?s:u.lineBox(),o?i.x1-=p*(a?-1:1):r.y2+=p*(a?-1:1),v.append(h.fromRect(new c([i.x1,r.y1],[i.x2-i.x1,r.y2-r.y1]),{fill:{color:t.color,opacity:t.opacity},stroke:{}}));return v},renderLabels:function(){for(var t=this,u=t.options,i=t.labels,r=new e,n=0;n<i.length;n++)r.append(li(i[n],u.labels));return r},renderLine:function(){var r=this,f=r.options,n=f.line,t=r.lineBox(),i,u=new e;return n.width>0&&n.visible&&(i=new h({stroke:{color:n.color,dashType:n.dashType,width:n.width}}),i.moveTo(t.x1,t.y1).lineTo(t.x2,t.y2),u.append(i)),u},renderTicks:function(){function s(n,f){var e,s=n.length;if(f.visible)for(e=f.skip;e<s;e+=f.step)e%f.skipUnit!=0&&(r.tickX=o?i.x2:i.x2-f.size,r.tickY=o?i.y1-f.size:i.y1,r.position=n[e],u.append(t.renderAxisTick(r,f)))}var t=this,u=new e,n=t.options,i=t.lineBox(),o=n.labels.mirror,h=n.majorTicks.visible?n.majorUnit:0,r={_alignLines:n._alignLines,vertical:n.vertical};return s(t.getMajorTickPositions(),n.majorTicks),s(t.getMinorTickPositions(),f({},{skipUnit:h/n.minorUnit},n.minorTicks)),u},renderAxisTick:function(n,t){var e=n.tickX,o=n.tickY,i=n.position,r,f;return n.vertical?(r=new u(e,i),f=new u(e+t.size,i)):(r=new u(i,o),f=new u(i,o+t.size)),new h({stroke:{color:t.color,width:t.width}}).moveTo(r).lineTo(f)}}),nt=ct.extend({init:function(n,t){var i=this;ct.fn.init.call(i,n,t);i.options=f({track:{visible:b(t.track)}},i.options)},options:{shape:g,track:{border:{width:1}},color:y,border:{width:1},opacity:1,margin:k(3),animation:{type:g},visible:!0},reflow:function(){var u=this,r=u.options,h=u.scale,n=h.lineBox(),o=r.track.size||r.size,s=r.size/2,f=h.options.mirror,l=k(r.margin),a=h.options.vertical,t=a?l[f?"left":"right"]:l[f?"bottom":"top"],c,e,i;t=f?-t:t;a?(i=new v(n.x1+t,n.y1,n.x1+t,n.y2),f?i.x1-=o:i.x2+=o,r.shape!==g&&(e=new v(n.x2+t,n.y1-s,n.x2+t,n.y2+s),c=e)):(i=new v(n.x1,n.y1-t,n.x2,n.y1-t),f?i.y2+=o:i.y1-=o,r.shape!==g&&(e=new v(n.x1-s,n.y1-t,n.x2+s,n.y1-t),c=e));u.trackBox=i;u.pointerRangeBox=e;u.box=c||i.clone().pad(r.border.width)},getElementOptions:function(){var n=this.options,t=new e,i=this.scale;return{fill:{color:n.color,opacity:n.opacity},stroke:b(n.border)?{color:n.border.width?n.border.color||n.color:"",width:n.border.width,dashType:n.border.dashType,opacity:n.opacity}:null}},_margin:function(){var n=this,u=n.options,t=n.scale,i=t.options.mirror,r=k(u.margin),f=t.options.vertical;return f?r[i?"left":"right"]:r[i?"bottom":"top"]}}),si=nt.extend({init:function(n,i){nt.fn.init.call(this,n,i);this.options.size===t&&(this.options.size=this.scale.options.majorTicks.size*.6)},pointerShape:function(){var f=this,h=f.options,t=f.scale,i=h.size,c=t.options.vertical,n=i/2,e=t.options.mirror?-1:1,o=t.options.reverse,s,r;return c?(s=o?"y2":"y1",r=[new u(0,0-n),new u(0-e*i,0),new u(0,0+n)]):(s=o?"x1":"x2",r=[new u(0-n,0),new u(0,0+e*i),new u(0+n,0)]),r},repaint:function(){var t=this,i=t.scale,n=t.options,r=new lt(t.elements,f(n.animation,{vertical:i.options.vertical,mirror:i.options.mirror,margin:t._margin(n.margin),from:i.getSlot(n._oldValue),to:i.getSlot(n.value)}));n.animation.transitions===!1&&(r.options.duration=0);r.setup();r.play()},render:function(){var n=this,i=n.options,t=new e,o=n.scale,f=n.getElementOptions(),r=n.pointerShape(i.value),u;return i.animation.type=kt,t=new h({stroke:f.stroke,fill:f.fill}).moveTo(r[0]).lineTo(r[1]).lineTo(r[2]).close(),u=o.getSlot(i.value),t.transform(s.transform().translate(u.x1,u.y1)),n.elements=t,t}}),hi=nt.extend({init:function(n,i){nt.fn.init.call(this,n,i);this.options.size===t&&(this.options.size=this.scale.options.majorTicks.size*.3)},pointerShape:function(n){var a=this,w=a.options,r=a.scale,f=r.options.vertical,b=r.options.mirror,v=b==f?-1:1,e=w.size*v,y=r.getSlot(r.options.min),p=r.getSlot(n),o=f?ht:st,s=f?st:ht,h=a._margin()*v,i=new u,t,c,l;return i[o]=y[o+"1"],i[s]=y[s+"1"],t=new u,t[o]=p[o+"1"],t[s]=p[s+"1"],f?(i.translate(h,0),t.translate(h,0)):(i.translate(0,h),t.translate(0,h)),c=t.clone(),l=i.clone(),f?(c.translate(e,0),l.translate(e,0)):(c.translate(0,e),l.translate(0,e)),[i,t,c,l]},repaint:function(){var t=this,u=t.scale,i=t.options,n=t.pointerShape(i.value),e=t.elements.children[0],o=t.pointerShape(i._oldValue),r;e.moveTo(n[0]).lineTo(n[1]).lineTo(n[2]).lineTo(n[3]).close();r=new at(e,f(i.animation,{reverse:u.options.reverse,vertical:u.options.vertical,oldPoints:[o[1],o[2]],newPoints:[n[1],n[2]]}));i.animation.transitions===!1&&(r.options.duration=0);r.setup();r.play()},render:function(){var n=this,u=n.options,t=new e,f=n.scale,i=n.getElementOptions(),r=new h({stroke:i.stroke,fill:i.fill});return t.append(r),n.elements=t,t}}),ci=o.Animation.extend({init:function(n,t){o.Animation.fn.init.call(this,n,t);t=this.options;t.duration=i.max(i.abs(t.newAngle-t.oldAngle)/t.duration*1e3,1)},options:{easing:et,duration:wt},step:function(n){var i=this,t=i.options,r=tt(t.oldAngle,t.newAngle,n);i.element.transform(s.transform().rotate(r,t.center))}}),lt,at;o.AnimationFactory.current.register(ii,ci);lt=o.Animation.extend({options:{easing:et,duration:bt},setup:function(){var n=this.options,h=this.element.bbox().width()/2,t=n.margin,r=n.from,f=n.to,e=n.vertical?"x1":"y1",o,s;n.mirror==n.vertical?(r[e]-=t,f[e]-=t):(r[e]+=t,f[e]+=t);o=this.fromScale=new u(r.x1,r.y1);s=this.toScale=new u(f.x1,f.y1);n.duration!==0&&(n.duration=i.max(o.distanceTo(s)/n.duration*1e3,1))},step:function(n){var t=tt(this.fromScale.x,this.toScale.x,n),i=tt(this.fromScale.y,this.toScale.y,n);this.element.transform(s.transform().translate(t,i))}});o.AnimationFactory.current.register(kt,lt);at=o.Animation.extend({options:{easing:et,speed:bt},setup:function(){var o=this.element,n=this.options,u=n.newPoints,f=n.oldPoints,t=this.axis=n.vertical?ht:st,e=this.to=u[0][t],r=this.from=f[0][t];n.duration!==0&&(n.duration=i.max(i.abs(e-r)/n.speed*1e3,1));this._set(r)},step:function(n){var t=tt(this.from,this.to,n);this._set(t)},_set:function(n){var t="set"+this.axis.toUpperCase(),i=this.options.newPoints;i[0][t](n);i[1][t](n)}});o.AnimationFactory.current.register(g,at);r.ui.plugin(fi);r.ui.plugin(ei);r.ExportMixin.extend(w.fn);f(r,{Gauge:w,RadialPointer:ri,LinearPointer:nt,ArrowLinearPointer:si,BarLinearPointer:hi,LinearScale:oi,RadialScale:ui,LinearGauge:ei,RadialGauge:fi})}(window.kendo.jQuery),function(n){function y(n,t,i){return n.substring(t,t+i)}var i=window.kendo,w=i.ui.Widget,b=n.extend,k=i.deepExtend,u=n.inArray,ut=n.isPlainObject,s=i.drawing,c=i.geometry,d=i.util,l=d.defined,ct=d.append,f=i.dataviz,g=f.Box2D,ft=f.TextBox,et=300,ot=100,nt=10,a=/^\d+$/,st=/^[a-z0-9]+$/i,ht="Character '{0}' is not valid for symbology {1}",r=i.Class.extend({init:function(n){this.setOptions(n)},setOptions:function(n){var t=this;t.options=b({},t.options,n);t.quietZoneLength=t.options.addQuietZone?2*t.options.quietZoneLength:0},encode:function(n,t,i){var r=this;return l(n)&&(n+=""),r.initValue(n,t,i),r.options.addQuietZone&&r.addQuietZone(),r.addData(),r.options.addQuietZone&&r.addQuietZone(),{baseUnit:r.baseUnit,pattern:r.pattern}},options:{quietZoneLength:nt,addQuietZone:!0,addCheckSum:!0},initValue:function(){},addQuietZone:function(){this.pattern.push(this.options.quietZoneLength||nt)},addData:function(){},invalidCharacterError:function(n){throw new Error(i.format(ht,n,this.name));}}),t={},tt=r.extend({minBaseUnitLength:.7,addData:function(){var n=this,i=n.value,t;for(n.addStart(),t=0;t<i.length;t++)n.addCharacter(i.charAt(t));n.options.addCheckSum&&n.pushCheckSum();n.addStop();n.prepareValues()},addCharacter:function(n){var t=this,i=t.characterMap[n];i||t.invalidCharacterError(n);t.addBase(i)},addBase:function(){}}),it={addCharacter:function(n){var t=this;t.characterMap[n]?t.addBase(t.characterMap[n]):n.charCodeAt(0)>127?t.invalidCharacterError(n):t.addExtended(n.charCodeAt(0))},addExtended:function(n){for(var r,t=this,i,u=0;u<t.extendedMappings.length;u++)if(i=t.extendedMappings[u].call(t,n)){for(r=0;r<i.length;r++)t.addBase(i[r]);t.dataLength+=i.length-1;return}},extendedMappings:[function(n){if(97<=n&&n<=122){var t=this;return[t.characterMap[t.shiftCharacters[0]],t.characterMap[String.fromCharCode(n-32)]]}},function(n){if(33<=n&&n<=58){var t=this;return[t.characterMap[t.shiftCharacters[1]],t.characterMap[String.fromCharCode(n+32)]]}},function(n){if(1<=n&&n<=26){var t=this;return[t.characterMap[t.shiftCharacters[2]],t.characterMap[String.fromCharCode(n+64)]]}},function(n){var t=this,i,u,r;if(t.specialAsciiCodes[n])for(i=[],r=0;r<t.specialAsciiCodes[n].length;r++)i.push(t.characterMap[t.shiftCharacters[3]]),i.push(t.characterMap[t.specialAsciiCodes[n][r]]);else u=Math.floor(n/32)*6+(n-27)%32+64,i=[t.characterMap[t.shiftCharacters[3]],t.characterMap[String.fromCharCode(u)]];return i}],specialAsciiCodes:{"0":["U"],"64":["V"],"96":["W"],"127":["T","X","Y","Z"]},shiftValuesAsciiCodes:{"39":36,"40":47,"41":43,"42":37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]},o,h,p;t.code39=tt.extend({name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",initValue:function(n,t,i){var r=this;r.width=t;r.height=i;r.value=n;r.dataLength=n.length;r.pattern=[];r.patternString=""},prepareValues:function(){var n=this,i,r=n.minBaseUnitLength,t=n.maxRatio,u=n.minRatio,f=Math.max(.15*n.width,24),e;if(n.height<f)throw new Error("Insufficient Height. The minimum height for value: "+n.value+" is: "+f);while((i=n.getBaseUnit(t))<r&&t>u)t=parseFloat((t-.1).toFixed(1));if(i<r){e=Math.ceil(n.getBaseWidth(u)*r);throw new Error("Insufficient width. The minimum width for value: "+n.value+" is: "+e);}n.ratio=t;n.baseUnit=i;n.patternString=n.patternString.substring(0,n.patternString.length-1);n.pattern=n.pattern.concat(n.patternString.replace(/ratio/g,t).split(n.splitCharacter))},getBaseUnit:function(n){return this.width/this.getBaseWidth(n)},getBaseWidth:function(n){var t=this,i=3*(n+2);return t.quietZoneLength+i*(t.dataLength+2)+t.gapWidth*(t.dataLength+1)},addStart:function(){var n=this;n.addPattern(n.characterMap.START.pattern);n.addCharacterGap()},addBase:function(n){this.addPattern(n.pattern);this.addCharacterGap()},addStop:function(){this.addPattern(this.characterMap.START.pattern)},addPattern:function(n){for(var t=0;t<n.length;t++)this.patternString+=this.patternMappings[n.charAt(t)]},addCharacterGap:function(){var n=this;n.patternString+=n.gapWidth+n.splitCharacter},patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{"0":{pattern:"bwbWBwBwb",value:0},"1":{pattern:"BwbWbwbwB",value:1},"2":{pattern:"bwBWbwbwB",value:2},"3":{pattern:"BwBWbwbwb",value:3},"4":{pattern:"bwbWBwbwB",value:4},"5":{pattern:"BwbWBwbwb",value:5},"6":{pattern:"bwBWBwbwb",value:6},"7":{pattern:"bwbWbwBwB",value:7},"8":{pattern:"BwbWbwBwb",value:8},"9":{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}},options:{addCheckSum:!1}});t.code39extended=t.code39.extend(k({},it,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}}));t.code93=tt.extend({name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,initValue:function(n,t,i){var r=this;r.value=n;r.width=t;r.height=i;r.pattern=[];r.values=[];r.dataLength=n.length},prepareValues:function(){var n=this,t=Math.max(.15*n.width,24);if(n.height<t)throw new Error("Insufficient Height");if(n.setBaseUnit(),n.baseUnit<n.minBaseUnitLength)throw new Error("Insufficient Width");},setBaseUnit:function(){var n=this;n.baseUnit=n.width/(9*(n.dataLength+2+2)+n.quietZoneLength+1)},addStart:function(){var n=this.characterMap.START.pattern;this.addPattern(n)},addStop:function(){var n=this;n.addStart();n.pattern.push(n.characterMap.TERMINATION_BAR)},addBase:function(n){this.addPattern(n.pattern);this.values.push(n.value)},pushCheckSum:function(){var n=this,i=n._getCheckValues(),r,t;for(n.checksum=i.join(""),t=0;t<i.length;t++)r=n.characterMap[n._findCharacterByValue(i[t])],n.addPattern(r.pattern)},_getCheckValues:function(){for(var t=this,u=t.values,r=u.length,i=0,f,e,n=r-1;n>=0;n--)i+=t.weightedValue(u[n],r-n,t.cCheckSumTotal);for(f=i%t.checkSumMod,i=t.weightedValue(f,1,t.kCheckSumTotal),n=r-1;n>=0;n--)i+=t.weightedValue(u[n],r-n+1,t.kCheckSumTotal);return e=i%t.checkSumMod,[f,e]},_findCharacterByValue:function(n){for(var t in this.characterMap)if(this.characterMap[t].value===n)return t},weightedValue:function(n,t,i){return(t%i||i)*n},addPattern:function(n){for(var i,t=0;t<n.length;t++)i=parseInt(n.charAt(t),10),this.pattern.push(i)},characterMap:{"0":{pattern:"131112",value:0},"1":{pattern:"111213",value:1},"2":{pattern:"111312",value:2},"3":{pattern:"111411",value:3},"4":{pattern:"121113",value:4},"5":{pattern:"121212",value:5},"6":{pattern:"121311",value:6},"7":{pattern:"111114",value:7},"8":{pattern:"131211",value:8},"9":{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}});t.code93extended=t.code93.extend(k({},it,{name:"Code 93 extended",pushCheckSum:function(){var n=this,r=n._getCheckValues(),t,i;for(n.checksum=r.join(""),i=0;i<r.length;i++)t=r[i],n.shiftValuesAsciiCodes[t]?n.addExtended(n.shiftValuesAsciiCodes[t]):n.addPattern(n.characterMap[n._findCharacterByValue(t)].pattern)}}));var v=i.Class.extend({init:function(n){this.encoding=n},addStart:function(){},is:function(){},move:function(){},pushState:function(){}}),rt=v.extend({FNC4:"FNC4",init:function(n,t){var i=this;i.encoding=n;i.states=t;i._initMoves(t)},addStart:function(){this.encoding.addPattern(this.START)},is:function(n,t){var i=n.charCodeAt(t);return this.isCode(i)},move:function(n){for(var t=this,i=0;!t._moves[i].call(t,n)&&i<t._moves.length;)i++},pushState:function(n){var t=this,o=t.states,i=n.value,e=i.length,r,f;for(u("C",o)>=0&&(f=i.substr(n.index).match(/\d{4,}/g),f&&(e=i.indexOf(f[0],n.index)));(r=n.value.charCodeAt(n.index))>=0&&t.isCode(r)&&n.index<e;)t.encoding.addPattern(t.getValue(r)),n.index++},_initMoves:function(n){var t=this;t._moves=[];u(t.FNC4,n)>=0&&t._moves.push(t._moveFNC);u(t.shiftKey,n)>=0&&t._moves.push(t._shiftState);t._moves.push(t._moveState)},_moveFNC:function(n){if(n.fnc)return n.fnc=!1,n.previousState==this.key},_shiftState:function(n){var t=this;if(n.previousState==t.shiftKey&&(n.index+1>=n.value.length||t.encoding[t.shiftKey].is(n.value,n.index+1)))return t.encoding.addPattern(t.SHIFT),n.shifted=!0,!0},_moveState:function(){return this.encoding.addPattern(this.MOVE),!0},SHIFT:98}),e={};e.A=rt.extend({key:"A",shiftKey:"B",isCode:function(n){return 0<=n&&n<96},getValue:function(n){return n<32?n+64:n-32},MOVE:101,START:103});e.B=rt.extend({key:"B",shiftKey:"A",isCode:function(n){return 32<=n&&n<128},getValue:function(n){return n-32},MOVE:100,START:104});e.C=v.extend({key:"C",addStart:function(){this.encoding.addPattern(this.START)},is:function(n,t){var i=y(n,t,4);return(t+4<=n.length||n.length==2)&&a.test(i)},move:function(){this.encoding.addPattern(this.MOVE)},pushState:function(n){for(var t;(t=y(n.value,n.index,2))&&a.test(t)&&t.length==2;)this.encoding.addPattern(parseInt(t,10)),n.index+=2},getValue:function(n){return n},MOVE:99,START:105});e.FNC4=v.extend({key:"FNC4",dependentStates:["A","B"],init:function(n,t){this.encoding=n;this._initSubStates(t)},addStart:function(n){var t=n.value.charCodeAt(0)-128,i=this._getSubState(t);this.encoding[i].addStart()},is:function(n,t){var i=n.charCodeAt(t);return this.isCode(i)},isCode:function(n){return 128<=n&&n<256},pushState:function(n){var r=this,t=r._initSubState(n),i=r.encoding,u=t.value.length,f;if(n.index+=u,u<3)for(;t.index<u;t.index++)f=t.value.charCodeAt(t.index),t.state=r._getSubState(f),t.previousState!=t.state&&(t.previousState=t.state,i[t.state].move(t)),i.addPattern(i[t.state].MOVE),i.addPattern(i[t.state].getValue(f));else t.state!=t.previousState&&i[t.state].move(t),r._pushStart(t),i.pushData(t,r.subStates),n.index<n.value.length&&r._pushStart(t);n.fnc=!0;n.state=t.state},_pushStart:function(n){var t=this;t.encoding.addPattern(t.encoding[n.state].MOVE);t.encoding.addPattern(t.encoding[n.state].MOVE)},_initSubState:function(n){var i=this,t={value:i._getAll(n.value,n.index),index:0};return t.state=i._getSubState(t.value.charCodeAt(0)),t.previousState=n.previousState==i.key?t.state:n.previousState,t},_initSubStates:function(n){var i=this,t;for(i.subStates=[],t=0;t<n.length;t++)u(n[t],i.dependentStates)>=0&&i.subStates.push(n[t])},_getSubState:function(n){for(var t=this,i=0;i<t.subStates.length;i++)if(t.encoding[t.subStates[i]].isCode(n))return t.subStates[i]},_getAll:function(n,t){for(var i,r="";(i=n.charCodeAt(t++))&&this.isCode(i);)r+=String.fromCharCode(i-128);return r}});e.FNC1=v.extend({key:"FNC1",startState:"C",dependentStates:["C","B"],startAI:"(",endAI:")",init:function(n,t){this.encoding=n;this.states=t},addStart:function(){this.encoding[this.startState].addStart()},is:function(){return u(this.key,this.states)>=0},pushState:function(n){var t=this,o=t.encoding,i=n.value.replace(/\s/g,""),h=new RegExp("["+t.startAI+t.endAI+"]","g"),r=n.index,f={state:t.startState},u,e,s;for(o.addPattern(t.START);;){if(f.index=0,s=i.charAt(r)===t.startAI?2:0,u=s>0?t.getBySeparator(i,r):t.getByLength(i,r),u.ai.length)e=r+s+u.id.length+u.ai.length;else if(e=i.indexOf(t.startAI,r+1),e<0){if(r+u.ai.max+u.id.length+s<i.length)throw new Error("Separators are required after variable length identifiers");e=i.length}if(f.value=i.substring(r,e).replace(h,""),t.validate(u,f.value),o.pushData(f,t.dependentStates),e>=i.length)break;r=e;f.state!=t.startState&&(o[t.startState].move(f),f.state=t.startState);u.ai.length||o.addPattern(t.START)}n.index=n.value.length},validate:function(n,t){var r=t.substr(n.id.length),i=n.ai;if(!i.type&&!a.test(r))throw new Error("Application identifier "+n.id+" is numeric only but contains non numeric character(s).");if(i.type=="alphanumeric"&&!st.test(r))throw new Error("Application identifier "+n.id+" is alphanumeric only but contains non alphanumeric character(s).");if(i.length&&i.length!==r.length)throw new Error("Application identifier "+n.id+" must be "+i.length+" characters long.");if(i.min&&i.min>r.length)throw new Error("Application identifier "+n.id+" must be at least "+i.min+" characters long.");if(i.max&&i.max<r.length)throw new Error("Application identifier "+n.id+" must be at most "+i.max+" characters long.");},getByLength:function(n,t){for(var r=this,i,u,f=2;f<=4;f++)if(i=y(n,t,f),u=r.getAI(i)||r.getAI(i.substring(0,i.length-1)),u)return{id:i,ai:u};r.unsupportedAIError(i)},unsupportedAIError:function(n){throw new Error(i.format("'{0}' is not a supported Application Identifier"),n);},getBySeparator:function(n,t){var i=this,u=n.indexOf(i.startAI,t),e=n.indexOf(i.endAI,u),r=n.substring(u+1,e),f=i.getAI(r)||i.getAI(r.substr(r.length-1));return f||i.unsupportedAIError(r),{ai:f,id:r}},getAI:function(n){var e=this.applicationIdentifiers,i=e.multiKey,t,f,r;if(e[n])return e[n];for(t=0;t<i.length;t++){if(i[t].ids&&u(n,i[t].ids)>=0)return i[t].type;if(i[t].ranges)for(f=i[t].ranges,r=0;r<f.length;r++)if(f[r][0]<=n&&n<=f[r][1])return i[t].type}},applicationIdentifiers:{"22":{max:29,type:"alphanumeric"},"402":{length:17},"7004":{max:4,type:"alphanumeric"},"242":{max:6,type:"alphanumeric"},"8020":{max:25,type:"alphanumeric"},"703":{min:3,max:30,type:"alphanumeric"},"8008":{min:8,max:12,type:"alphanumeric"},"253":{min:13,max:17,type:"alphanumeric"},"8003":{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102});o=r.extend({init:function(n){r.fn.init.call(this,n);this._initStates()},_initStates:function(){for(var n=this,t=0;t<n.states.length;t++)n[n.states[t]]=new e[n.states[t]](n,n.states)},initValue:function(n,t,i){var r=this;r.pattern=[];r.value=n;r.width=t;r.height=i;r.checkSum=0;r.totalUnits=0;r.index=0;r.position=1},addData:function(){var n=this,t={value:n.value,index:0,state:""};n.value.length!==0&&(t.state=t.previousState=n.getNextState(t,n.states),n.addStart(t),n.pushData(t,n.states),n.addCheckSum(),n.addStop(),n.setBaseUnit())},pushData:function(n,t){for(var i=this,r;;){if(i[n.state].pushState(n),n.index>=n.value.length)break;n.shifted?(r=n.state,n.state=n.previousState,n.previousState=r,n.shifted=!1):(n.previousState=n.state,n.state=i.getNextState(n,t),i[n.state].move(n))}},addStart:function(n){this[n.state].addStart(n);this.position=1},addCheckSum:function(){var n=this;n.checksum=n.checkSum%103;n.addPattern(n.checksum)},addStop:function(){this.addPattern(this.STOP)},setBaseUnit:function(){var n=this;n.baseUnit=n.width/(n.totalUnits+n.quietZoneLength)},addPattern:function(n){for(var t=this,u=t.characterMap[n].toString(),i,r=0;r<u.length;r++)i=parseInt(u.charAt(r),10),t.pattern.push(i),t.totalUnits+=i;t.checkSum+=n*t.position++},getNextState:function(n,t){for(var i=0;i<t.length;i++)if(this[t[i]].is(n.value,n.index))return t[i];this.invalidCharacterError(n.value.charAt(n.index))},characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106});t.code128a=o.extend({name:"Code 128 A",states:["A"]});t.code128b=o.extend({name:"Code 128 B",states:["B"]});t.code128c=o.extend({name:"Code 128 C",states:["C"]});t.code128=o.extend({name:"Code 128",states:["C","B","A","FNC4"]});t["gs1-128"]=o.extend({name:"Code GS1-128",states:["FNC1","C","B"]});h=r.extend({initValue:function(n,t){var i=this;i.pattern=[];i.value=n;i.checkSumLength=0;i.width=t},setBaseUnit:function(){var n=this;n.baseUnit=n.width/(12*(n.value.length+n.checkSumLength)+n.quietZoneLength+7)},addData:function(){var n=this,i=n.value,t;for(n.addPattern(n.START),t=0;t<i.length;t++)n.addCharacter(i.charAt(t));n.options.addCheckSum&&n.addCheckSum();n.addPattern(n.STOP);n.setBaseUnit()},addCharacter:function(n){var t=this,i=t.characterMap[n];i||t.invalidCharacterError(n);t.addPattern(i)},addPattern:function(n){for(var t=0;t<n.length;t++)this.pattern.push(parseInt(n.charAt(t),10))},addCheckSum:function(){var n=this,r=n.checkSums[n.checkSumType],t,i;for(t=r.call(n.checkSums,n.value),n.checksum=t.join(""),i=0;i<t.length;i++)n.checkSumLength++,n.addPattern(n.characterMap[t[i]])},checkSums:{Modulo10:function(n){for(var i=[0,""],f=n.length%2,r,u,t=0;t<n.length;t++)i[(t+f)%2]+=parseInt(n.charAt(t),10);for(u=i[0],r=(i[1]*2).toString(),t=0;t<r.length;t++)u+=parseInt(r.charAt(t),10);return[(10-u%10)%10]},Modulo11:function(n){for(var u=0,i=11,f=n.length,e,r,t=0;t<f;t++)e=((f-t)%6||6)+1,u+=e*n.charAt(t);return(r=(i-u%i)%i,r!=10)?[r]:[1,0]},Modulo11Modulo10:function(n){var t=this.Modulo11(n),i;return i=n+t[0],t.concat(this.Modulo10(i))},Modulo10Modulo10:function(n){var t=this.Modulo10(n),i;return i=n+t[0],t.concat(this.Modulo10(i))}},characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:""});t.msimod10=h.extend({name:"MSI Modulo10",checkSumType:"Modulo10"});t.msimod11=h.extend({name:"MSI Modulo11",checkSumType:"Modulo11"});t.msimod1110=h.extend({name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"});t.msimod1010=h.extend({name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"});t.code11=r.extend({name:"Code 11",cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221",initValue:function(n,t){var i=this;i.pattern=[];i.value=n;i.width=t;i.totalUnits=0},addData:function(){var n=this,i=n.value,t;for(n.addPattern(n.START),t=0;t<i.length;t++)n.addCharacter(i.charAt(t));n.options.addCheckSum&&n.addCheckSum();n.addPattern(n.STOP);n.setBaseUnit()},setBaseUnit:function(){var n=this;n.baseUnit=n.width/(n.totalUnits+n.quietZoneLength)},addCheckSum:function(){var n=this,r=n.value,t=r.length,i,u;i=n.getWeightedSum(r,t,n.cCheckSumTotal)%n.checkSumMod;n.checksum=i+"";n.addPattern(n.characterMap[i]);t++;t>=n.kCheckSumMinLength&&(u=(i+n.getWeightedSum(r,t,n.kCheckSumTotal))%n.checkSumMod,n.checksum+=u,n.addPattern(n.characterMap[u]))},getWeightedSum:function(n,t,i){for(var u=0,r=0;r<n.length;r++)u+=this.weightedValue(this.getValue(n.charAt(r)),t,r,i);return u},weightedValue:function(n,t,i,r){var u=(t-i)%r||r;return u*n},getValue:function(n){var t=this;if(isNaN(n))n!==t.DASH&&t.invalidCharacterError(n);else return parseInt(n,10);return t.DASH_VALUE},addCharacter:function(n){var t=this,i=t.getValue(n),r=t.characterMap[i];t.addPattern(r)},addPattern:function(n){for(var t,i=0;i<n.length;i++)t=parseInt(n.charAt(i),10),this.pattern.push(t),this.totalUnits+=t},characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],options:{addCheckSum:!0}});t.postnet=r.extend({name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",initValue:function(n,t,i){var r=this;r.height=i;r.width=t;r.baseHeight=i/2;r.value=n.replace(new RegExp(r.DIGIT_SEPARATOR,"g"),"");r.pattern=[];r.validate(r.value);r.checkSum=0;r.setBaseUnit()},addData:function(){var n=this,i=n.value,t;for(n.addPattern(n.START),t=0;t<i.length;t++)n.addCharacter(i.charAt(t));n.options.addCheckSum&&n.addCheckSum();n.addPattern(n.START);n.pattern.pop()},addCharacter:function(n){var t=this,i=t.characterMap[n];t.checkSum+=parseInt(n,10);t.addPattern(i)},addCheckSum:function(){var n=this;n.checksum=(10-n.checkSum%10)%10;n.addCharacter(n.checksum)},setBaseUnit:function(){var n=this;n.baseUnit=n.width/((n.value.length+1)*10+3+n.quietZoneLength)},validate:function(n){var t=this;if(a.test(n)||t.invalidCharacterError(n.match(/[^0-9]/)[0]),u(n.length,t.VALID_CODE_LENGTHS)<0)throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+t.VALID_CODE_LENGTHS.join(","));},addPattern:function(n){for(var t=this,r,i=0;i<n.length;i++)r=t.height-t.baseHeight*n.charAt(i),t.pattern.push({width:1,y1:r,y2:t.height}),t.pattern.push(1)},characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]});t.ean13=r.extend({initValue:function(n,t,i){if(n+="",n.length!=12||/\D/.test(n))throw new Error('The value of the "EAN13" encoding should be 12 symbols');var r=this;r.pattern=[];r.options.height=i;r.baseUnit=t/(95+r.quietZoneLength);r.value=n;r.checksum=r.calculateChecksum();r.leftKey=n[0];r.leftPart=n.substr(1,6);r.rightPart=n.substr(7)+r.checksum},addData:function(){var n=this;n.addPieces(n.characterMap.start);n.addSide(n.leftPart,n.leftKey);n.addPieces(n.characterMap.middle);n.addSide(n.rightPart);n.addPieces(n.characterMap.start)},addSide:function(n,t){for(var i=this,r=0;r<n.length;r++)t&&parseInt(i.keyTable[t].charAt(r),10)?i.addPieces(Array.prototype.slice.call(i.characterMap.digits[n.charAt(r)]).reverse(),!0):i.addPieces(i.characterMap.digits[n.charAt(r)],!0)},addPieces:function(n,t){for(var r=this,i=0;i<n.length;i++)t?r.pattern.push({y1:0,y2:r.options.height*.95,width:n[i]}):r.pattern.push(n[i])},calculateChecksum:function(){for(var i=0,r=0,t=this.value.split("").reverse().join(""),n=0;n<t.length;n++)n%2?r+=parseInt(t.charAt(n),10):i+=parseInt(t.charAt(n),10);return(10-(3*i+r)%10)%10},keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}});t.ean8=t.ean13.extend({initValue:function(n,t,i){var r=this;if(n.length!=7||/\D/.test(n))throw new Error("Invalid value provided");r.value=n;r.options.height=i;r.checksum=r.calculateChecksum(r.value);r.leftPart=r.value.substr(0,4);r.rightPart=r.value.substr(4)+r.checksum;r.pattern=[];r.baseUnit=t/(67+r.quietZoneLength)}});p=w.extend({init:function(t,i){var r=this;w.fn.init.call(r,t,i);r.element=n(t);r.wrapper=r.element;r.element.addClass("k-barcode").css("display","block");r.surfaceWrap=n("<div />").css("position","relative").appendTo(this.element);r.surface=s.Surface.create(r.surfaceWrap,{type:r.options.renderAs});r.setOptions(i)},setOptions:function(n){var i=this;if(i.type=(n.type||i.options.type).toLowerCase(),i.type=="upca"&&(i.type="ean13",n.value="0"+n.value),i.type=="upce"&&(i.type="ean8",n.value="0"+n.value),!t[i.type])throw new Error("Encoding "+i.type+"is not supported.");(i.encoding=new t[i.type],i.options=b(!0,i.options,n),l(n.value))&&i.redraw()},redraw:function(){var n=this._getSize();this.surfaceWrap.css({width:n.width,height:n.height});this.surface.clear();this.createVisual();this.surface.draw(this.visual)},getSize:function(){return i.dimensions(this.element)},_resize:function(){this.redraw()},createVisual:function(){this.visual=this._render()},_render:function(){var n=this,t=n.options,v=t.value,y=t.text,p=f.getSpacing(y.margin),r=n._getSize(),b=t.border||{},u=n.encoding,e=g(0,0,r.width,r.height).unpad(b.width).unpad(t.padding),o=e.height(),h,c,w,i=new s.Group,a;return n.contentBox=e,i.append(n._getBackground(r)),y.visible&&(c=v,t.checksum&&l(u.checksum)&&(c+=" "+u.checksum),a=n._getText(c),w=a.bbox().height(),o-=w+p.top+p.bottom,i.append(a)),h=u.encode(v,e.width(),o),n.barHeight=o,i.append(this._getBands(h.pattern,h.baseUnit)),i},exportVisual:function(){return this._render()},_getSize:function(){var n=this,i=n.element,t=new c.Size(et,ot);return i.width()>0&&(t.width=i.width()),i.height()>0&&(t.height=i.height()),n.options.width&&(t.width=n.options.width),n.options.height&&(t.height=n.options.height),t},value:function(n){var t=this;if(!l(n))return t.options.value;t.options.value=n+"";t.redraw()},_getBands:function(n,t){for(var l,a,u=this,f=u.contentBox,e=f.x1,o,r,h=new s.Group,i=0;i<n.length;i++)r=ut(n[i])?n[i]:{width:n[i],y1:0,y2:u.barHeight},o=r.width*t,i%2&&(l=c.Rect.fromPoints(new c.Point(e,r.y1+f.y1),new c.Point(e+o,r.y2+f.y1)),a=s.Path.fromRect(l,{fill:{color:u.options.color},stroke:null}),h.append(a)),e+=o;return h},_getBackground:function(n){var r=this,i=r.options,t=i.border||{},u=g(0,0,n.width,n.height).unpad(t.width/2);return s.Path.fromRect(u.toRect(),{fill:{color:i.background},stroke:{color:t.width?t.color:"",width:t.width,dashType:t.dashType}})},_getText:function(n){var r=this,t=r.options.text,i=new ft(n,{font:t.font,color:t.color,align:"center",vAlign:"bottom",margin:t.margin});return i.reflow(r.contentBox),i.renderVisual(),i.visual},options:{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}}});f.ExportMixin.extend(p.fn);f.ui.plugin(p);i.deepExtend(f,{encodings:t,Encoding:r})}(window.kendo.jQuery),function(n,t){function b(n){return parseInt(n,2)}function r(n,t){var i=Number(n).toString(2);return i.length<t&&(i=new Array(t-i.length+1).join(0)+i),i}function ti(n,t){for(var r=[],i=0;i<n.length;)r.push(n.substring(i,i+t)),i+=t;return r}function i(n,t,i,r){for(var u=0;u<n.length;u++)n[u][i][r]=t}function ii(n,t,i,r){for(var u=0;u<it.length;u++)n[u][i][r]=it[u](i,r)?t^1:parseInt(t,10)}function br(){for(var n,t=1;t<255;t++)n=u[t-1]*2,n>255&&(n=n^285),u[t]=n,y[n]=t;n=u[t-1]*2^285;u[t]=n;u[-1]=0}function kr(){for(var t,i,n=2;n<=68;n++)t=p[n-1],i=[n,0],p[n]=ht(t,i)}function dr(n,i){var f=[],r=n.length-1;do f[r]=u[(n[r]+i)%255],r--;while(n[r]!==t);return f}function c(n,t){return parseInt(n.charAt(t),10)}function wi(n,t,i,r,u){t[n][r]=(t[n][r]<<1^u)%128;t[n][r]==sr&&(i[n]+=40)}function bi(n,t,i,r,u,f){i[n][f]==r?u[n][f]++:(i[n][f]=r,u[n][f]>=5&&(t[n]+=3+u[n][f]-5),u[n][f]=1)}function gr(n,t){var i=Math.floor(n/t*100),r=i%5,u=Math.abs(i-r-50),f=Math.abs(i+5-r-50);return 10*Math.min(u/5,f/5)}var f=window.kendo,gi=n.extend,iu=f.geometry,a=f.drawing,v=f.dataviz,wt=f.ui.Widget,nr=v.Box2D,bt="0000",kt="numeric",g="alphanumeric",nt="byte",y={"1":0},u={"0":1},p=[[1,0],[1,25,0]],tr={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},s=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}],tt=[1,0,1,1,1],ir=[1,0,1],rr={L:"01",M:"00",Q:"11",H:"10"},ur="101010000010010",fr="10100110111",er="1111100100101",or=["11101100","00010001"],sr=93,it=[function(n,t){return(n+t)%2==0},function(n){return n%2==0},function(n,t){return t%3==0},function(n,t){return(n+t)%3==0},function(n,t){return(Math.floor(n/2)+Math.floor(t/3))%2==0},function(n,t){return n*t%2+n*t%3==0},function(n,t){return(n*t%2+n*t%3)%2==0},function(n,t){return((n+t)%2+n*t%3)%2==0}],hr=/^\d+/,dt="A-Z0-9 $%*+./:-",cr=new RegExp("^[A-Z $%*+./:-]+"),gt=new RegExp("^["+dt+"]+"),ni=new RegExp("^[^"+dt+"]+"),lr=8,ar=5,vr=8,yr=17,pr=9,wr=16,w=Math.round,rt=f.Class.extend({getVersionIndex:function(n){return n<10?0:n>26?2:1},getBitsCharacterCount:function(n){var t=this;return t.bitsInCharacterCount[t.getVersionIndex(n||40)]},getModeCountString:function(n,t){var i=this;return i.modeIndicator+r(n,i.getBitsCharacterCount(t))},encode:function(){},getStringBitsLength:function(){},getValue:function(){},modeIndicator:"",bitsInCharacterCount:[]}),h={},o,ut,ft,et,ot,st,ht;h[kt]=rt.extend({bitsInCharacterCount:[10,12,14],modeIndicator:"0001",getValue:function(n){return parseInt(n,10)},encode:function(n,t){for(var e=this,u=ti(n,3),f=e.getModeCountString(n.length,t),i=0;i<u.length-1;i++)f+=r(u[i],10);return f+r(u[i],1+3*u[i].length)},getStringBitsLength:function(n,t){var i=n%3;return 4+this.getBitsCharacterCount(t)+10*Math.floor(n/3)+3*i+(i===0?0:1)}});h[g]=rt.extend({characters:{"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010",getValue:function(n){return this.characters[n]},encode:function(n,t){for(var f=this,u=ti(n,2),o=f.getModeCountString(n.length,t),e,i=0;i<u.length-1;i++)e=45*f.getValue(u[i].charAt(0))+f.getValue(u[i].charAt(1)),o+=r(e,11);return e=u[i].length==2?45*f.getValue(u[i].charAt(0))+f.getValue(u[i].charAt(1)):f.getValue(u[i].charAt(0)),o+r(e,1+5*u[i].length)},getStringBitsLength:function(n,t){return 4+this.getBitsCharacterCount(t)+11*Math.floor(n/2)+6*(n%2)}});h[nt]=rt.extend({bitsInCharacterCount:[8,16,16],modeIndicator:"0100",getValue:function(n){var t=n.charCodeAt(0);if(t<=127||160<=t&&t<=255)return t;throw new Error("Unsupported character: "+n);},encode:function(n,t){for(var u=this,f=u.getModeCountString(n.length,t),i=0;i<n.length;i++)f+=r(u.getValue(n.charAt(i)),8);return f},getStringBitsLength:function(n,t){return 4+this.getBitsCharacterCount(t)+8*n}});o={};for(ut in h)o[ut]=new h[ut];ft=function(n){var u=this,i=n.length-1,r=n.length-1,f=r,e=-1,o=0;u.move=function(){i+=e*o;o^=1;r=f-o};u.getNextCell=function(){while(n[i][r]!==t)u.move(),(i<0||i>=n.length)&&(e=-e,f-=f!=8?2:3,r=f,i=e<0?n.length-1:0);return{row:i,column:r}};u.getNextRemainderCell=function(){return u.move(),n[i][r]===t?{row:i,column:r}:void 0}};et=function(n,t){for(var f,e,s=new ft(n[0]),i,u,r,o=0;o<t.length;o++)for(i=t[o],u=0;i.length>0;){for(f=0;f<i.length;f++)for(e=0;e<8;e++)r=s.getNextCell(),ii(n,i[f][u].charAt(e),r.row,r.column);for(u++;i[0]&&u==i[0].length;)i.splice(0,1)}while(r=s.getNextRemainderCell())ii(n,0,r.row,r.column)};ot=function(n,t){for(var i=t*8,r=0,u=0;n.length<i&&r<bt.length;)n+=bt.charAt(r++);for(n.length%8!=0&&(n+=new Array(9-n.length%8).join("0"));n.length<i;)n+=or[u],u^=1;return n};st=function(n,t){for(var r=[],u=n.length-2,i=u;i>=0;i--)r[i]=n[i]^t[i];return r};ht=function(n,i){for(var r,e=[],f=0;f<n.length;f++)for(r=0;r<i.length;r++)e[f+r]=e[f+r]===t?(n[f]+(i[r]>=0?i[r]:0))%255:y[u[e[f+r]]^u[(n[f]+i[r])%255]];return e};br();kr();var ri=function(n,t){for(var f=p[t-1],u=new Array(t).concat(n),e=new Array(u.length-f.length).concat(f),h=n.length,o=[],s,i=0;i<h;i++)s=dr(e,y[u[u.length-1]]),e.splice(0,1),u=st(s,u);for(i=u.length-1;i>=0;i--)o[t-1-i]=r(u[i],8);return o},ui=function(n,t){for(var c,r,u=0,l=[],a=[],f,e=t.groups,o,v,s,h,i=0;i<e.length;i++)for(v=e[i][0],c=0;c<v;c++){for(o=e[i][1],f=[],s=[],r=1;r<=o;r++)h=n.substring(u,u+8),f.push(h),s[o-r]=b(h),u+=8;l.push(f);a.push(ri(s,t.errorCodewordsPerBlock))}return[l,a]},ct=function(n,t,i,r,u){var h=hr.exec(n),f=h?h[0]:"",c=cr.exec(n),a=c?c[0]:"",l=gt.exec(n),e=l?l[0]:"",o,s;return f&&(f.length>=t||n.length==f.length||f.length>=i&&!gt.test(n.charAt(f.length)))?(o=kt,s=f):e&&(n.length==e.length||e.length>=r||u==g)?(o=g,s=f||a):(o=nt,s=e?e+ni.exec(n.substring(e.length))[0]:ni.exec(n)[0]),{mode:o,modeString:s}},fi=function(n){var t=[],r,u=0,i;for(t.push(ct(n,lr,ar,vr,r)),r=t[0].mode,n=n.substr(t[0].modeString.length);n.length>0;)i=ct(n,yr,pr,wr,r),i.mode!=r?(r=i.mode,t.push(i),u++):t[u].modeString+=i.modeString,n=n.substr(i.modeString.length);return t},ei=function(n){for(var i=0,r,t=0;t<n.length;t++)r=o[n[t].mode],i+=r.getStringBitsLength(n[t].modeString.length);return Math.ceil(i/8)},lt=function(n,t){var i=0,u=s.length-1,r=Math.floor(s.length/2);do n<s[r][t].totalDataCodewords?u=r:i=r,r=i+Math.floor((u-i)/2);while(u-i>1);return n<=s[i][t].totalDataCodewords?r+1:u+1},oi=function(n,t){for(var r="",u,i=0;i<n.length;i++)u=o[n[i].mode],r+=u.encode(n[i].modeString,t);return r},si=function(n){var u=b(n),i,r="",t;if(u===0)return"101010000010010";for(i=at(b(n),fr,15),t=0;t<i.length;t++)r+=i.charAt(t)^ur.charAt(t);return r},at=function(n,t,i){var f=b(t),u=t.length-1,e=n<<u,o=i-u,s=r(n,o),h=hi(e,f);return s+r(h,u)},hi=function(n,t){var r=t.toString(2).length,i=n.toString(2).length;do n^=t<<i-r,i=n.toString(2).length;while(i>=r);return n};var ci=function(n){for(var i,r=[],u=17+4*n,t=0;t<it.length;t++)for(r[t]=new Array(u),i=0;i<u;i++)r[t][i]=new Array(u);return r},vt=function(n,t){for(var f=n[0],e=0,o=t.length,r=0,u=8;r<=8;r++)r!==6&&i(n,c(t,o-1-e++),r,u);for(r=8,u=7;u>=0;u--)u!==6&&i(n,c(t,o-1-e++),r,u);for(e=0,u=f.length-1,r=8;u>=f.length-8;u--)i(n,c(t,o-1-e++),r,u);for(i(n,1,f.length-8,8),r=f.length-7,u=8;r<f.length;r++)i(n,c(t,o-1-e++),r,u)},li=function(n){return at(n,er,18)},yt=function(n,t){for(var s=n[0],o=s.length,h=o-11,l=o-11,u,f,e,r=0;r<t.length;r++)u=Math.floor(r/3),f=r%3,e=c(t,t.length-r-1),i(n,e,0+u,h+f),i(n,e,l+f,0+u)},l=function(n,t,r,u){for(var e,h=t.length+2,s=t.length+1,o,f=0;f<t.length;f++)for(e=f;e<h-f;e++)o=t[f],i(n,o,r+e,u+f),i(n,o,r+f,u+e),i(n,o,r+s-e,u+s-f),i(n,o,r+s-f,u+s-e)},k=function(n,t,r,u){var f=r,e=u,o=n[0];do i(n,0,f,u),i(n,0,r,e),f+=t[0],e+=t[1];while(f>=0&&f<o.length)},ai=function(n){var t=n[0].length;l(n,tt,0,0);k(n,[-1,-1],7,7);l(n,tt,t-7,0);k(n,[1,-1],t-8,7);l(n,tt,0,t-7);k(n,[-1,1],7,t-8)},vi=function(n,i){var u,f;if(!(i<2)){var c=n[0],s=c.length,a=Math.floor(i/7),r=[6],e,o,h=0;for((e=tr[i])?o=(s-13-e)/a:e=o=(s-13)/(a+1),r.push(r[h++]+e);r[h]+o<s;)r.push(r[h++]+o);for(u=0;u<r.length;u++)for(f=0;f<r.length;f++)c[r[u]][r[f]]===t&&l(n,ir,r[u]-2,r[f]-2)}},yi=function(n){for(var r=1,u=n[0].length,t=8;t<u-8;t++)i(n,r,6,t),i(n,r,t,6),r^=1},pi=function(n){for(var u=[],e=[],h=[],c=[],l=[],f,o=0,v=1,s=n[0].length,r,i,y,p,a,t=0;t<n.length;t++)u[t]=0,h[t]=0,l[t]=[0,0],c[t]=[0,0],e[t]=[];for(t=0;t<s;t++)for(r=0;r<s;r++)for(i=0;i<n.length;i++)f=n[i],h[i]+=parseInt(f[t][r],10),e[i][o]===f[t][r]&&t+1<s&&r-1>=0&&f[t+1][r]==e[i][o]&&f[t+1][r-1]==e[i][o]&&(u[i]+=3),wi(i,c,u,o,f[t][r]),wi(i,c,u,v,f[r][t]),bi(i,u,e,f[t][r],l,o),bi(i,u,e,f[r][t],l,v);for(y=s*s,a=Number.MAX_VALUE,t=0;t<u.length;t++)u[t]+=gr(h[t],y),u[t]<a&&(a=u[t],p=t);return p};var ki=function(n,t){this.dataString=n;this.version=t},nu=function(){this.getEncodingResult=function(n,t){var i=fi(n),u=ei(i),r=lt(u,t),f=oi(i,r);return new ki(f,r)}},d=function(){this.mode=o[this.encodingMode]};d.fn=d.prototype={encodingMode:nt,utfBOM:"111011111011101110111111",initialModeCountStringLength:20,getEncodingResult:function(n,t){var i=this,r=i.encode(n),f=i.getDataCodewordsCount(r),u=lt(f,t),e=i.mode.getModeCountString(r.length/8,u)+r;return new ki(e,u)},getDataCodewordsCount:function(n){var t=this,i=n.length;return Math.ceil((t.initialModeCountStringLength+i)/8)},encode:function(n){for(var i=this,r=i.utfBOM,t=0;t<n.length;t++)r+=i.encodeCharacter(n.charCodeAt(t));return r},encodeCharacter:function(n){var u=this.getBytesCount(n),e=u-1,t="",f,i;if(u==1)t=r(n,8);else{for(f=8-u,i=0;i<e;i++)t=r(n>>i*6&63|128,8)+t;t=(n>>e*6|255>>f<<f).toString(2)+t}return t},getBytesCount:function(n){for(var i=this.ranges,t=0;t<i.length;t++)if(n<i[t])return t+1},ranges:[128,2048,65536,2097152,67108864]};var tu=function(n){return n&&n.toLowerCase().indexOf("utf_8")>=0?new d:new nu},di=function(n,t,i){var a=new tu(i),h=a.getEncodingResult(n,t),f=h.version,c=s[f-1][t],v=ot(h.dataString,c.totalDataCodewords),y=ui(v,c),u=ci(f),o,e,l;return ai(u),vi(u,f),yi(u),f>=7&&yt(u,r(0,18)),vt(u,r(0,15)),et(u,y),o=pi(u),e=u[o],f>=7&&yt([e],li(f)),l=rr[t]+r(o,3),vt([e],si(l)),e},e={DEFAULT_SIZE:200,QUIET_ZONE_LENGTH:4,DEFAULT_ERROR_CORRECTION_LEVEL:"L",DEFAULT_BACKGROUND:"#fff",DEFAULT_DARK_MODULE_COLOR:"#000",MIN_BASE_UNIT_SIZE:1},pt=wt.extend({init:function(t,i){var r=this;wt.fn.init.call(r,t,i);r.element=n(t);r.wrapper=r.element;r.element.addClass("k-qrcode");r.surfaceWrap=n("<div />").css("position","relative").appendTo(this.element);r.surface=a.Surface.create(r.surfaceWrap,{type:r.options.renderAs});r.setOptions(i)},redraw:function(){var n=this._getSize();this.surfaceWrap.css({width:n,height:n});this.surface.clear();this.createVisual();this.surface.draw(this.visual)},getSize:function(){return f.dimensions(this.element)},_resize:function(){this.redraw()},createVisual:function(){this.visual=this._render()},exportVisual:function(){return this._render()},_render:function(){var n=this,s=n._value,r,u=n.options.border||{},h=n.options.padding||0,f=u.width||0,c,t,e,l,o,i;return u.width=f,i=new a.Group,s&&(t=di(s,n.options.errorCorrection,n.options.encoding),e=n._getSize(),o=e-2*(f+h),r=n._calculateBaseUnit(o,t.length),l=t.length*r,c=f+h+(o-l)/2,i.append(n._renderBackground(e,u)),i.append(n._renderMatrix(t,r,c))),i},_getSize:function(){var n=this,t,i,r;return n.options.size?t=parseInt(n.options.size,10):(i=n.element,r=Math.min(i.width(),i.height()),t=r>0?r:e.DEFAULT_SIZE),t},_calculateBaseUnit:function(n,t){var i=Math.floor(n/t);if(i<e.MIN_BASE_UNIT_SIZE)throw new Error("Insufficient size.");return i*t>=n&&i-1>=e.MIN_BASE_UNIT_SIZE&&i--,i},_renderMatrix:function(n,t,i){for(var f,r,o,e=new a.MultiPath({fill:{color:this.options.color},stroke:null}),u=0;u<n.length;u++)for(f=i+u*t,r=0;r<n.length;){while(n[u][r]===0&&r<n.length)r++;if(r<n.length){for(o=r;n[u][r]==1;)r++;var s=w(i+o*t),h=w(f),c=w(i+r*t),l=w(f+t);e.moveTo(s,h).lineTo(s,l).lineTo(c,l).lineTo(c,h).close()}}return e},_renderBackground:function(n,t){var i=nr(0,0,n,n).unpad(t.width/2);return a.Path.fromRect(i.toRect(),{fill:{color:this.options.background},stroke:{color:t.color,width:t.width}})},setOptions:function(n){var i=this;n=n||{};i.options=gi(i.options,n);n.value!==t&&(i._value=i.options.value+"");i.redraw()},value:function(n){var i=this;if(n===t)return i._value;i._value=n+"";i.redraw()},options:{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:e.DEFAULT_ERROR_CORRECTION_LEVEL,background:e.DEFAULT_BACKGROUND,color:e.DEFAULT_DARK_MODULE_COLOR,size:"",padding:0,border:{color:"",width:0}}});v.ExportMixin.extend(pt.fn);v.ui.plugin(pt);f.deepExtend(v,{QRCode:pt,QRCodeDefaults:e,QRCodeFunctions:{FreeCellVisitor:ft,fillData:et,padDataString:ot,generateErrorCodewords:ri,xorPolynomials:st,getBlocks:ui,multiplyPolynomials:ht,chooseMode:ct,getModes:fi,getDataCodewordsCount:ei,getVersion:lt,getDataString:oi,encodeFormatInformation:si,encodeBCH:at,dividePolynomials:hi,initMatrices:ci,addFormatInformation:vt,encodeVersionInformation:li,addVersionInformation:yt,addCentricPattern:l,addFinderSeparator:k,addFinderPatterns:ai,addAlignmentPatterns:vi,addTimingFunctions:yi,scoreMaskMatrixes:pi,encodeData:di,UTF8Encoder:d},QRCodeFields:{modes:o,powersOfTwo:y,powersOfTwoResult:u,generatorPolynomials:p}})}(window.kendo.jQuery),function(n){function g(){}function pt(n){return g.prototype=n,new g}var e=window.kendo,nt=e.Class,tt=e.Observable,t=e.deepExtend,y=Math,l=n.proxy,a=e.util,it=a.last,rt=a.renderTemplate,i=e.dataviz,p=a.defined,ut=i.filterSeriesByType,ft=e.template,s=i.ui.Chart,et=i.Selection,v=i.addDuration,w=a.limitValue,b=i.lteDateIndex,r=i.toDate,o=i.toTime,ot=28,k="change",c="k-",st="drag",ht="dragEnd",h="_navigator",u=h,ct=i.EQUALLY_SPACED_SERIES,lt=3,at="zoom",vt="zoomEnd",yt=s.extend({init:function(t,i){n(t).addClass(c+"chart");s.fn.init.call(this,t,i)},_applyDefaults:function(n,r){var u=this,e=u.element.width()||i.DEFAULT_WIDTH,o={seriesDefaults:{categoryField:n.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:y.floor(e/ot)}}};r&&(r=t({},r,o));u._navigator||f.setup(n,r);s.fn._applyDefaults.call(u,n,r)},_initDataSource:function(n){var e=n||{},u=e.dataSource,c=u&&u.serverFiltering,l=[].concat(e.categoryAxis)[0],a=e.navigator||{},r=a.select,v=r&&r.from&&r.to,o,h;c&&v&&(o=[].concat(u.filter||[]),h=new i.DateCategoryAxis(t({baseUnit:"fit"},l,{categories:[r.from,r.to]})),u.filter=f.buildFilter(h.range().min,r.to).concat(o));s.fn._initDataSource.call(this,n)},options:{name:"StockChart",dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0,template:"#= kendo.toString(category, 'd') #"},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}},_resize:function(){var n=this.options.transitions;this.options.transitions=!1;this._fullRedraw();this.options.transitions=n},_redraw:function(){var t=this,n=t._navigator;n&&n.dataSource?n.redrawSlaves():t._fullRedraw()},_fullRedraw:function(){var n=this,t=n._navigator;t||(t=n._navigator=new f(n));t._setRange();s.fn._redraw.call(n);t._initSelection()},_onDataChanged:function(){var n=this;s.fn._onDataChanged.call(n);n._dataBound=!0},_bindCategoryAxis:function(n,t,i){var e=this,f=e.options.categoryAxis,o=f.length,r;if(s.fn._bindCategoryAxis.apply(this,arguments),n.name===u)while(i<o)r=f[i++],r.pane==h&&(r.categories=n.categories)},_trackSharedTooltip:function(n){var t=this,r=t._plotArea,i=r.paneByPoint(n);i&&i.options.name===h?t._unsetActivePoint():s.fn._trackSharedTooltip.call(t,n)},destroy:function(){var n=this;n._navigator.destroy();s.fn.destroy.call(n)}}),f=tt.extend({init:function(n){var i=this;i.chart=n;i.options=t({},i.options,n.options.navigator);i._initDataSource();p(i.options.hint.visible)||(i.options.hint.visible=i.options.visible);n.bind(st,l(i._drag,i));n.bind(ht,l(i._dragEnd,i));n.bind(at,l(i._zoom,i));n.bind(vt,l(i._zoomEnd,i))},options:{},_initDataSource:function(){var n=this,i=n.options,t=i.autoBind,r=i.dataSource;p(t)||(t=n.chart.options.autoBind);n._dataChangedHandler=l(n._onDataChanged,n);r&&(n.dataSource=e.data.DataSource.create(r).bind(k,n._dataChangedHandler),t&&n.dataSource.fetch())},_onDataChanged:function(){for(var i=this,n=i.chart,o=n.options.series,a=o.length,s=n.options.categoryAxis,r,v=s.length,c=i.dataSource.view(),e,t,l,f=0;f<a;f++)e=o[f],e.axis==u&&n._isBindable(e)&&(e.data=c);for(r=0;r<v;r++)t=s[r],t.pane==h&&(t.name==u?(n._bindCategoryAxis(t,c,r),l=t.categories):t.categories=l);n._model&&(i.redraw(),i.filterAxes(),(!n.options.dataSource||n.options.dataSource&&n._dataBound)&&i.redrawSlaves())},destroy:function(){var n=this,t=n.dataSource;t&&t.unbind(k,n._dataChangeHandler);n.selection&&n.selection.destroy()},redraw:function(){this._redrawSelf();this._initSelection()},_initSelection:function(){var t=this,e=t.chart,f=t.options,i=t.mainAxis(),o=pt(i),s=i.range(),h=s.min,c=s.max,a=i.options.categories,l=t.options.select,u=t.selection,v=r(l.from),y=r(l.to);a.length!==0&&(u&&(u.destroy(),u.wrapper.remove()),o.box=i.box,u=t.selection=new et(e,o,{min:h,max:c,from:v,to:y,selectStart:n.proxy(t._selectStart,t),select:n.proxy(t._select,t),selectEnd:n.proxy(t._selectEnd,t),mousewheel:{zoom:"left"}}),f.hint.visible&&(t.hint=new d(e.element,{min:h,max:c,template:f.hint.template,format:f.hint.format})))},_setRange:function(){var c=this.chart._createPlotArea(!0),e=c.namedCategoryAxes[u],o=e.options,s=e.range(),t=s.min,i=v(s.max,o.baseUnitStep,o.baseUnit),h=this.options.select||{},f=r(h.from)||t,n;f<t&&(f=t);n=r(h.to)||i;n>i&&(n=i);this.options.select={from:f,to:n};this.filterAxes()},_redrawSelf:function(n){var t=this.chart._plotArea;t&&t.redraw(it(t.panes),n)},redrawSlaves:function(){var i=this,t=i.chart,n=t._plotArea,r=n.panes.slice(0,-1);n.srcSeries=t.options.series;n.redraw(r)},_drag:function(n){var t=this,c=t.chart,v=c._eventCoordinates(n.originalEvent),l=t.mainAxis(),u=l.range(),y=l.pane.box.containsPoint(v),p=c._plotArea.categoryAxis,a=n.axisRanges[p.options.name],f=t.options.select,e=t.selection,s,i,h;a&&!y&&e&&(s=f.from&&f.to?o(f.to)-o(f.from):o(e.options.to)-o(e.options.from),i=r(w(o(a.min),u.min,o(u.max)-s)),h=r(w(o(i)+s,o(u.min)+s,u.max)),t.options.select={from:i,to:h},t._liveDrag()&&(t.filterAxes(),t.redrawSlaves()),e.set(i,h),t.showHint(i,h))},_dragEnd:function(){var n=this;n.filterAxes();n.filterDataSource();n.redrawSlaves();n.hint&&n.hint.hide()},_liveDrag:function(){var t=e.support,i=t.touch,n=t.browser,r=n.mozilla,u=n.msie&&n.version<9;return!i&&!r&&!u},readSelection:function(){var n=this,r=n.selection,t=r.options,i=n.options.select;i.from=t.from;i.to=t.to},filterAxes:function(){for(var i=this,u=i.options.select||{},e=i.chart,f=e.options.categoryAxis,o=u.from,s=u.to,t,n=0;n<f.length;n++)t=f[n],t.pane!==h&&(t.min=r(o),t.max=r(s))},filterDataSource:function(){var r=this,e=r.options.select||{},o=r.chart,u=o.dataSource,s=u&&u.options.serverFiltering,n;r.dataSource&&s&&(n=new i.DateCategoryAxis(t({baseUnit:"fit"},o.options.categoryAxis[0],{categories:[e.from,e.to]})).options,u.filter(f.buildFilter(v(n.min,-n.baseUnitStep,n.baseUnit),v(n.max,n.baseUnitStep,n.baseUnit))))},_zoom:function(n){var t=this,c=t.chart,u=n.delta,f=c._plotArea.categoryAxis,r=t.options.select,i=t.selection,o=t.mainAxis().options.categories,s,h;i&&(s=b(i.options.from,o),h=b(i.options.to,o),n.originalEvent.preventDefault(),y.abs(u)>1&&(u*=lt),h-s>1?(i.expand(u),t.readSelection()):(f.options.min=r.from,r.from=f.scaleRange(-n.delta).min),e.support.touch||(t.filterAxes(),t.redrawSlaves()),i.set(r.from,r.to),t.showHint(t.options.select.from,t.options.select.to))},_zoomEnd:function(n){this._dragEnd(n)},showHint:function(n,t){var i=this,r=i.chart,u=r._plotArea;i.hint&&i.hint.show(n,t,u.backgroundBox())},_selectStart:function(n){var t=this.chart;t._selectStart.call(t,n)},_select:function(n){var t=this,i=t.chart;t.showHint(n.from,n.to);i._select.call(i,n)},_selectEnd:function(n){var t=this,i=t.chart;t.hint&&t.hint.hide();t.readSelection();t.filterAxes();t.filterDataSource();t.redrawSlaves();i._selectEnd.call(i,n)},mainAxis:function(){var n=this.chart._plotArea;if(n)return n.namedCategoryAxes[u]}}),d;f.setup=function(n,i){n=n||{};i=i||{};var r=t({},i.navigator,n.navigator),e=n.panes=[].concat(n.panes),u=t({},r.pane,{name:h});r.visible||(u.visible=!1,u.height=.1);e.push(u);f.attachAxes(n,r);f.attachSeries(n,r,i)};f.attachAxes=function(n,i){var e,o,c=i.series||[];e=n.categoryAxis=[].concat(n.categoryAxis);o=n.valueAxis=[].concat(n.valueAxis);var l=ut(c,ct),s=l.length===0,r=t({type:"date",pane:h,roundToBaseUnit:!s,justified:s,_collapse:!1,tooltip:{visible:!1},labels:{step:1},autoBind:!i.dataSource,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]},_overlap:!1}),f=i.categoryAxis;e.push(t({},r,{maxDateGroups:200},f,{name:u,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),t({},r,f,{name:u+"_labels",maxDateGroups:20,baseUnitStep:"auto",autoBaseUnitSteps:{minutes:[]},majorTicks:{visible:!0}}),t({},r,f,{name:u+"_ticks",maxDateGroups:200,majorTicks:{visible:!0,width:.5},labels:{visible:!1,mirror:!0}}));o.push(t({name:u,pane:h,majorGridLines:{visible:!1},visible:!1},i.valueAxis))};f.attachSeries=function(n,i,r){for(var s=n.series=n.series||[],e=[].concat(i.series||[]),o=r.seriesColors,h=i.seriesDefaults,f=0;f<e.length;f++)s.push(t({color:o[f%o.length],categoryField:i.dateField,visibleInLegend:!1,tooltip:{visible:!1}},h,e[f],{axis:u,categoryAxis:u,autoBind:!i.dataSource}))};f.buildFilter=function(n,t){return[{field:"Date",operator:"gte",value:r(n)},{field:"Date",operator:"lt",value:r(t)}]};d=nt.extend({init:function(i,r){var u=this;u.options=t({},u.options,r);u.container=i;u.chartPadding={top:parseInt(i.css("paddingTop"),10),left:parseInt(i.css("paddingLeft"),10)};u.template=u.template;u.template||(u.template=u.template=rt("<div class='"+c+"navigator-hint' style='display: none; position: absolute; top: 1px; left: 1px;'><div class='"+c+"tooltip "+c+"chart-tooltip'>&nbsp;<\/div><div class='"+c+"scroll' /><\/div>"));u.element=n(u.template()).appendTo(i)},options:{format:"{0:d} - {1:d}",hideDelay:500},show:function(n,t,i){var u=this,y=r(o(n)+o(t-n)/2),f=u.options,h=e.format(u.options.format,n,t),s=u.element.find("."+c+"tooltip"),p=u.element.find("."+c+"scroll"),l=i.width()*.4,a=i.center().x-l,w=i.center().x,b=w-a,k=f.max-f.min,d=b/k,g=y-f.min,v;u._hideTimeout&&clearTimeout(u._hideTimeout);u._visible||(u.element.stop(!1,!0).css("visibility","hidden").show(),u._visible=!0);f.template&&(v=ft(f.template),h=v({from:n,to:t}));s.html(h).css({left:i.center().x-s.outerWidth()/2,top:i.y1});p.css({width:l,left:a+g*d,top:i.y1+parseInt(s.css("margin-top"),10)+parseInt(s.css("border-top-width"),10)+s.height()/2});u.element.css("visibility","visible")},hide:function(){var n=this;n._hideTimeout&&clearTimeout(n._hideTimeout);n._hideTimeout=setTimeout(function(){n._visible=!1;n.element.fadeOut("slow")},n.options.hideDelay)}});i.ui.plugin(yt);t(i,{Navigator:f})}(window.kendo.jQuery),function(n){function a(n){return typeof n=="number"?[n]:n}var r=window.kendo,t=r.dataviz,u=t.ui.Chart,v=r.data.ObservableArray,e=t.SharedTooltip,i=r.deepExtend,y=n.isArray,o=t.inArray,f=Math,p="k-",w=150,b=150,s="bar",h="bullet",k="pie",c=[s,h],d=u.extend({init:function(t,r){var s=this,h=s.stage=n("<span />"),e=r||{};t=n(t).addClass(p+"sparkline").empty().append(h);s._initialWidth=f.floor(t.width());e=a(e);(y(e)||e instanceof v)&&(e={seriesDefaults:{data:e}});e.series||(e.series=[{data:a(e.data)}]);i(e,{seriesDefaults:{type:e.type}});(o(e.series[0].type,c)||o(e.seriesDefaults.type,c))&&(e=i({},{categoryAxis:{crosshair:{visible:!1}}},e));u.fn.init.call(s,t,e)},options:{name:"Sparkline",chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]},_modelOptions:function(){var t=this,f=t.options,r,e=t._initialWidth,o=t.stage,u;return t.stage.children().hide(),u=n("<span>&nbsp;<\/span>"),t.stage.append(u),r=i({width:e?e:t._autoWidth(),height:o.height(),transitions:f.transitions},f.chartArea,{inline:!0,align:!1}),o.css({width:r.width,height:r.height}),u.remove(),t.stage.children().show(),t.surface.resize(),r},_createTooltip:function(){var n=this,t=n.options,i=n.element;return n._sharedTooltip()?new l(i,n._plotArea,t.tooltip):u.fn._createTooltip.call(n)},_surfaceWrap:function(){return this.stage},_autoWidth:function(){for(var u=this,e=u.options,c=t.getSpacing(e.chartArea.margin),l=e.series,a=u.dataSource.total(),o=0,i,n,r=0;r<l.length;r++){if(n=l[r],n.type===s)return w;if(n.type===h)return b;if(n.type===k)return u.stage.height();n.data&&(o=f.max(o,n.data.length))}return i=f.max(a,o)*e.pointWidth,i>0&&(i+=c.left+c.right),i}}),l=e.extend({options:{animation:{duration:0}},_anchor:function(n,t){var i=e.fn._anchor.call(this,n,t),r=this._measure();return i.y=-r.height-this.options.offset,i},_hideElement:function(){this.element&&this.element.hide().remove()}});t.ui.plugin(d);i(t,{SparklineSharedTooltip:l})}(window.kendo.jQuery),function(){var t=Math,d=t.abs,y=t.atan,h=t.atan2,u=t.cos,p=t.max,w=t.min,r=t.sin,b=t.tan,e=window.kendo,k=e.Class,a=e.dataviz,g=e.deepExtend,o=e.util,nt=o.defined,c=o.deg,s=o.rad,v=o.round,i=o.sqr,l=o.valueOrDefault,n=k.extend({init:function(n,t){arguments.length===1?(this.lat=n[0],this.lng=n[1]):(this.lat=n,this.lng=t)},DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6},{1:N6}",toArray:function(){return[this.lat,this.lng]},equals:function(n){return n&&n.lat===this.lat&&n.lng===this.lng},clone:function(){return new n(this.lat,this.lng)},round:function(n){return this.lng=v(this.lng,n),this.lat=v(this.lat,n),this},wrap:function(){return this.lng=this.lng%180,this.lat=this.lat%90,this},distanceTo:function(n,t){return this.greatCircleTo(n,t).distance},destination:function(i,f,o){f=s(f);o=o||a.map.datums.WGS84;var l=s(this.lat),p=s(this.lng),v=i/e.dataviz.map.datums.WGS84.a,y=t.asin(r(l)*u(v)+u(l)*r(v)*u(f)),w=p+h(r(f)*r(v)*u(l),u(v)-r(l)*r(y));return new n(c(y),c(w))},greatCircleTo:function(f,e){var ct,ot;if(f=n.create(f),e=e||a.map.datums.WGS84,!f||this.clone().round(8).equals(f.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};for(var bt=e.a,st=e.b,nt=e.f,at=s(f.lng-this.lng),vt=y((1-nt)*b(s(this.lat))),tt=r(vt),w=u(vt),yt=y((1-nt)*b(s(f.lat))),it=r(yt),p=u(yt),rt=at,pt,kt=this.DISTANCE_ITERATIONS,wt=!1,ut,ft,k,g,et,o,ht;!wt&&kt-->0;)ut=r(rt),ft=u(rt),k=t.sqrt(i(p*ut)+i(w*it-tt*p*ft)),et=tt*it+w*p*ft,ht=h(k,et),ct=w*p*ut/k,g=1-i(ct),o=0,g!==0&&(o=et-2*tt*it/g),pt=rt,ot=nt/16*g*(4+nt*(4-3*g)),rt=at+(1-ot)*nt*ct*(ht+ot*k*(o+ot*et*(-1+2*i(o)))),wt=d(rt-pt)<=this.DISTANCE_CONVERGENCE;var l=g*(i(bt)-i(st))/i(st),dt=1+l/16384*(4096+l*(-768+l*(320-175*l))),lt=l/1024*(256+l*(-128+l*(74-47*l))),gt=lt*k*(o+lt/4*(et*(-1+2*i(o))-lt/6*o*(-3+4*i(k))*(-3+4*i(o)))),ni=h(p*ut,w*it-tt*p*ft),ti=h(w*ut,-tt*p+w*it*ft);return{distance:v(st*dt*(ht-gt),this.DISTANCE_PRECISION),azimuthFrom:c(ni),azimuthTo:c(ti)}}}),f;n.fn.toString=function(){return e.format(this.FORMAT,this.lng,this.lat)};n.fromLngLat=function(t){return new n(t[1],t[0])};n.fromLatLng=function(t){return new n(t[0],t[1])};n.create=function(t,i){if(nt(t))return t instanceof n?t.clone():arguments.length===1&&t.length===2?n.fromLatLng(t):new n(t,i)};f=k.extend({init:function(t,i){t=n.create(t);i=n.create(i);t.lng+180>i.lng+180&&t.lat+90<i.lat+90?(this.se=t,this.nw=i):(this.se=i,this.nw=t)},contains:function(n){var t=this.nw,i=this.se,r=l(n.lng,n[1]),u=l(n.lat,n[0]);return n&&r+180>=t.lng+180&&r+180<=i.lng+180&&u+90>=i.lat+90&&u+90<=t.lat+90},center:function(){var t=this.nw,i=this.se,r=t.lng+(i.lng-t.lng)/2,u=t.lat+(i.lat-t.lat)/2;return new n(u,r)},containsAny:function(n){for(var t=!1,i=0;i<n.length;i++)t=t||this.contains(n[i]);return t},include:function(n){var t=this.nw,i=this.se,r=l(n.lng,n[1]),u=l(n.lat,n[0]);t.lng=w(t.lng,r);t.lat=p(t.lat,u);i.lng=p(i.lng,r);i.lat=w(i.lat,u)},includeAll:function(n){for(var t=0;t<n.length;t++)this.include(n[t])},edges:function(){var t=this.nw,i=this.se;return{nw:this.nw,ne:new n(t.lat,i.lng),se:this.se,sw:new n(i.lat,t.lng)}},toArray:function(){var t=this.nw,i=this.se;return[t,new n(t.lat,i.lng),i,new n(i.lat,t.lng)]},overlaps:function(n){return this.containsAny(n.toArray())||n.containsAny(this.toArray())}});f.World=new f([90,-180],[-90,180]);f.create=function(n,t){return n instanceof f?n:n&&t?new f(n,t):n&&n.length===4&&!t?new f([n[0],n[1]],[n[2],n[3]]):void 0};g(a,{map:{Extent:f,Location:n}})}(window.kendo.jQuery),function(){var n=window.kendo,t=n.ui.Widget,r=n.template,e=n.dataviz,i=n.util.valueOrDefault,u=n.util.defined,f=t.extend({init:function(n,i){t.fn.init.call(this,n,i);this._initOptions(i);this.items=[];this.element.addClass("k-widget k-attribution")},options:{name:"Attribution",separator:"&nbsp;|&nbsp;",itemTemplate:"#= text #"},filter:function(n,t){this._extent=n;this._zoom=t;this._render()},add:function(n){u(n)&&(typeof n=="string"&&(n={text:n}),this.items.push(n),this._render())},remove:function(n){for(var i,r=[],t=0;t<this.items.length;t++)i=this.items[t],i.text!==n&&r.push(i);this.items=r;this._render()},clear:function(){this.items=[];this.element.empty()},_render:function(){for(var u,i,n=[],f=r(this.options.itemTemplate),t=0;t<this.items.length;t++)u=this.items[t],i=this._itemText(u),i!==""&&n.push(f({text:i}));n.length>0?this.element.empty().append(n.join(this.options.separator)).show():this.element.hide()},_itemText:function(n){var t="",i=this._inZoomLevel(n.minZoom,n.maxZoom),r=this._inArea(n.extent);return i&&r&&(t+=n.text),t},_inZoomLevel:function(n,t){return n=i(n,-Number.MAX_VALUE),t=i(t,Number.MAX_VALUE),this._zoom>n&&this._zoom<t},_inArea:function(n){var t=!0;return n&&(t=n.contains(this._extent)),t}});n.dataviz.ui.plugin(f)}(window.kendo.jQuery),function(n){function r(n){return t.format('<button class="k-button k-navigator-{0}"><span class="k-icon k-i-arrow-{0}"/><\/button>',n)}var t=window.kendo,u=t.ui.Widget,i=t.keys,f=n.proxy,e=".kendoNavigator",o=r("n")+r("e")+r("s")+r("w"),s=u.extend({init:function(n,i){u.fn.init.call(this,n,i);this._initOptions(i);this.element.addClass("k-widget k-header k-shadow k-navigator").append(o).on("click"+e,".k-button",f(this,"_click"));var r=this.element.parent().closest("["+t.attr("role")+"]");this._keyroot=r.length>0?r:this.element;this._tabindex(this._keyroot);this._keydown=f(this._keydown,this);this._keyroot.on("keydown",this._keydown)},options:{name:"Navigator",panStep:1},events:["pan"],dispose:function(){this._keyroot.off("keydown",this._keydown)},_pan:function(n,t){var i=this.options.panStep;this.trigger("pan",{x:n*i,y:t*i})},_click:function(t){var r=0,u=0,i=n(t.currentTarget);i.is(".k-navigator-n")?u=1:i.is(".k-navigator-s")?u=-1:i.is(".k-navigator-e")?r=1:i.is(".k-navigator-w")&&(r=-1);this._pan(r,u);t.preventDefault()},_keydown:function(n){switch(n.which){case i.UP:this._pan(0,1);n.preventDefault();break;case i.DOWN:this._pan(0,-1);n.preventDefault();break;case i.RIGHT:this._pan(1,0);n.preventDefault();break;case i.LEFT:this._pan(-1,0);n.preventDefault()}}});t.dataviz.ui.plugin(s)}(window.kendo.jQuery),function(n){function f(n,i){return t.format('<button class="k-button k-zoom-{0}" title="zoom-{0}">{1}<\/button>',n,i)}var t=window.kendo,i=t.ui.Widget,r=t.keys,u=n.proxy,e=".kendoZoomControl",o=f("in","+")+f("out","-"),s=187,h=189,c=61,l=173,a=i.extend({init:function(n,r){i.fn.init.call(this,n,r);this._initOptions(r);this.element.addClass("k-widget k-zoom-control k-button-wrap k-buttons-horizontal").append(o).on("click"+e,".k-button",u(this,"_click"));var f=this.element.parent().closest("["+t.attr("role")+"]");this._keyroot=f.length>0?f:this.element;this._tabindex(this._keyroot);this._keydown=u(this._keydown,this);this._keyroot.on("keydown",this._keydown)},options:{name:"ZoomControl",zoomStep:1},events:["change"],_change:function(n){var t=this.options.zoomStep;this.trigger("change",{delta:n*t})},_click:function(t){var r=n(t.currentTarget),i=1;r.is(".k-zoom-out")&&(i=-1);this._change(i);t.preventDefault()},_keydown:function(n){switch(n.which){case r.NUMPAD_PLUS:case s:case c:this._change(1);break;case r.NUMPAD_MINUS:case h:case l:this._change(-1)}}});t.dataviz.ui.plugin(a)}(window.kendo.jQuery),function(){var n=Math,f=n.atan,l=n.exp,a=n.pow,v=n.sin,y=n.log,p=n.tan,t=window.kendo,i=t.Class,w=t.dataviz,rt=t.deepExtend,e=t.geometry,b=e.Point,ut=w.map,k=ut.Location,o=t.util,s=o.rad,d=o.deg,r=o.limitValue,u=n.PI,h=u/2,g=u/4,ft=u/180,nt={a:6378137,b:6356752.3142451793,f:.0033528106647474805,e:.081819190842621486},c=i.extend({init:function(n){this._initOptions(n)},MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12,options:{centralMeridian:0,datum:nt},forward:function(n,t){var i=this,u=i.options,f=u.datum,e=f.a,o=u.centralMeridian,h=r(n.lat,-i.MAX_LAT,i.MAX_LAT),c=t?r(n.lng,-i.MAX_LNG,i.MAX_LNG):n.lng,l=s(c-o)*e,a=i._projectLat(h);return new b(l,a)},_projectLat:function(n){var t=this.options.datum,i=t.e,f=t.a,r=s(n),e=p(g+r/2),u=i*v(r),o=a((1-u)/(1+u),i/2);return f*y(e*o)},inverse:function(n,t){var i=this,f=i.options,e=f.datum,o=e.a,s=f.centralMeridian,u=n.x/(ft*o)+s,h=r(i._inverseY(n.y),-i.MAX_LAT,i.MAX_LAT);return t&&(u=r(u,-i.MAX_LNG,i.MAX_LNG)),new k(h,u)},_inverseY:function(t){for(var r=this,e=r.options.datum,p=e.a,o=e.e,w=o/2,s=l(-t/p),i=h-2*f(s),u=0;u<=r.INVERSE_ITERATIONS;u++){var c=o*v(i),b=a((1-c)/(1+c),w),y=h-2*f(s*b)-i;if(i+=y,n.abs(y)<=r.INVERSE_CONVERGENCE)break}return d(i)}}),tt=c.extend({MAX_LAT:85.0511287798,_projectLat:function(n){var t=this.options.datum.a,i=s(n),r=p(g+i/2);return t*y(r)},_inverseY:function(n){var t=this.options.datum.a,i=l(-n/t);return d(h-2*f(i))}}),it=i.extend({forward:function(n){return new b(n.lng,n.lat)},inverse:function(n){return new k(n.y,n.x)}}),et=i.extend({init:function(){var t=this,i=t._proj=new tt,n=this.c=2*u*i.options.datum.a;this._tm=e.transform().translate(.5,.5).scale(1/n,-1/n);this._itm=e.transform().scale(n,-n).translate(-.5,-.5)},toPoint:function(n,t,i){var r=this._proj.forward(n,i);return r.transform(this._tm).scale(t||1)},toLocation:function(n,t,i){return n=n.clone().scale(1/(t||1)).transform(this._itm),this._proj.inverse(n,i)}}),ot=i.extend({init:function(){this._proj=new c},toPoint:function(n){return this._proj.forward(n)},toLocation:function(n){return this._proj.inverse(n)}}),st=i.extend({init:function(){this._proj=new it},toPoint:function(n){return this._proj.forward(n)},toLocation:function(n){return this._proj.inverse(n)}});rt(w,{map:{crs:{EPSG3395:ot,EPSG3857:et,EPSG4326:st},datums:{WGS84:nt},projections:{Equirectangular:it,Mercator:c,SphericalMercator:tt}}})}(window.kendo.jQuery),function(n){var t=n.proxy,c=n.noop,i=window.kendo,e=i.Class,r=i.dataviz,o=i.deepExtend,s=r.map.Extent,u=i.util,f=u.defined,l=u.valueOrDefault,h=e.extend({init:function(i,r){this._initOptions(r);this.map=i;this.element=n("<div class='k-layer'><\/div>").css({zIndex:this.options.zIndex,opacity:this.options.opacity}).appendTo(i.scrollElement);this._beforeReset=t(this._beforeReset,this);this._reset=t(this._reset,this);this._resize=t(this._resize,this);this._panEnd=t(this._panEnd,this);this._activate();this._updateAttribution()},destroy:function(){this._deactivate()},show:function(){this.reset();this._activate();this._applyExtent(!0)},hide:function(){this._deactivate();this._setVisibility(!1)},reset:function(){this._beforeReset();this._reset()},_reset:function(){this._applyExtent()},_beforeReset:n.noop,_resize:n.noop,_panEnd:function(){this._applyExtent()},_applyExtent:function(){var n=this.options,t=this.map.zoom(),r=!f(n.minZoom)||t>=n.minZoom,u=!f(n.maxZoom)||t<=n.maxZoom,i=s.create(n.extent),e=!i||i.overlaps(this.map.extent());this._setVisibility(r&&u&&e)},_setVisibility:function(n){this.element.css("display",n?"":"none")},_activate:function(){var n=this.map;n.bind("beforeReset",this._beforeReset);n.bind("reset",this._reset);n.bind("resize",this._resize);n.bind("panEnd",this._panEnd)},_deactivate:function(){var n=this.map;n.unbind("beforeReset",this._beforeReset);n.unbind("reset",this._reset);n.unbind("resize",this._resize);n.unbind("panEnd",this._panEnd)},_updateAttribution:function(){var n=this.map.attribution;n&&n.add(this.options.attribution)}});o(r,{map:{layers:{Layer:h}}})}(window.kendo.jQuery),function(n){var l=n.proxy,t=window.kendo,a=t.Class,v=t.data.DataSource,f=t.dataviz,e=t.deepExtend,y=t.util.last,p=t.util.defined,w=t.geometry,i=t.drawing,u=i.Group,o=f.map,s=o.Location,r=o.layers.Layer,h=r.extend({init:function(n,u){r.fn.init.call(this,n,u);this.surface=i.Surface.create(this.element,{width:n.scrollElement.width(),height:n.scrollElement.height()});this._initRoot();this.movable=new t.ui.Movable(this.surface.element);this._markers=[];this._click=this._handler("shapeClick");this.surface.bind("click",this._click);this._mouseenter=this._handler("shapeMouseEnter");this.surface.bind("mouseenter",this._mouseenter);this._mouseleave=this._handler("shapeMouseLeave");this.surface.bind("mouseleave",this._mouseleave);this._initDataSource()},options:{autoBind:!0},destroy:function(){r.fn.destroy.call(this);this.surface.destroy();this.dataSource.unbind("change",this._dataChange)},setDataSource:function(n){this.dataSource&&this.dataSource.unbind("change",this._dataChange);this.dataSource=n;this.dataSource.bind("change",this._dataChange);this.options.autoBind&&this.dataSource.fetch()},_reset:function(){r.fn._reset.call(this);this._translateSurface();this._data&&this._load(this._data)},_initRoot:function(){this._root=new u;this.surface.draw(this._root)},_beforeReset:function(){this.surface.clear();this._initRoot()},_resize:function(){this.surface.size(this.map.size())},_initDataSource:function(){var n=this.options.dataSource;this._dataChange=l(this._dataChange,this);this.dataSource=v.create(n).bind("change",this._dataChange);n&&this.options.autoBind&&this.dataSource.fetch()},_dataChange:function(n){this._data=n.sender.view();this._load(this._data)},_load:function(n){var i,t,r;for(this._clearMarkers(),this._loader||(this._loader=new c(this.map,this.options.style,this)),i=new u,t=0;t<n.length;t++)r=this._loader.parse(n[t]),r&&i.append(r);this._root.clear();this._root.append(i)},shapeCreated:function(n){var t=!1,r;return n instanceof i.Circle&&(t=p(this._createMarker(n))),t||(r={layer:this,shape:n},t=this.map.trigger("shapeCreated",r)),t},_createMarker:function(n){var t=this.map.markers.bind({location:n.location},n.dataItem);return t&&this._markers.push(t),t},_clearMarkers:function(){for(var n=0;n<this._markers.length;n++)this.map.markers.remove(this._markers[n]);this._markers=[]},_panEnd:function(n){r.fn._panEnd.call(this,n);this._translateSurface()},_translateSurface:function(){var t=this.map,n=t.locationToView(t.extent().nw);this.surface.translate&&(this.surface.translate(n),this.movable.moveTo({x:n.x,y:n.y}))},_handler:function(n){var t=this;return function(i){if(i.element){var r={layer:t,shape:i.element,originalEvent:i.originalEvent};t.map.trigger(n,r)}}}}),c=a.extend({init:function(n,t,i){this.observer=i;this.locator=n;this.style=t},parse:function(n){var t=new u;return n.type==="Feature"?this._loadGeometryTo(t,n.geometry,n):this._loadGeometryTo(t,n,n),t.children.length<2&&(t=t.children[0]),t},_shapeCreated:function(n){var t=!1;return this.observer&&this.observer.shapeCreated&&(t=this.observer.shapeCreated(n)),t},_loadGeometryTo:function(n,t,i){var u=t.coordinates,r,f;switch(t.type){case"LineString":f=this._loadPolygon(n,[u],i);this._setLineFill(f);break;case"MultiLineString":for(r=0;r<u.length;r++)f=this._loadPolygon(n,[u[r]],i),this._setLineFill(f);break;case"Polygon":this._loadPolygon(n,u,i);break;case"MultiPolygon":for(r=0;r<u.length;r++)this._loadPolygon(n,u[r],i);break;case"Point":this._loadPoint(n,u,i);break;case"MultiPoint":for(r=0;r<u.length;r++)this._loadPoint(n,u[r],i)}},_setLineFill:function(n){var t=n.segments;(t.length<4||!t[0].anchor().equals(y(t).anchor()))&&(n.options.fill=null)},_loadShape:function(n,t){return this._shapeCreated(t)||n.append(t),t},_loadPolygon:function(n,t,i){var r=this._buildPolygon(t);return r.dataItem=i,this._loadShape(n,r)},_buildPolygon:function(n){for(var t,r,e=n.length>1?i.MultiPath:i.Path,f=new e(this.style),u=0;u<n.length;u++)for(t=0;t<n[u].length;t++)r=this.locator.locationToView(s.fromLngLat(n[u][t])),t===0?f.moveTo(r.x,r.y):f.lineTo(r.x,r.y);return f},_loadPoint:function(n,t,r){var f=s.fromLngLat(t),e=this.locator.locationToView(f),o=new w.Circle(e,10),u=new i.Circle(o,this.style);return u.dataItem=r,u.location=f,this._loadShape(n,u)}});e(t.data,{schemas:{geojson:{type:"json",data:function(n){return n.type==="FeatureCollection"?n.features:n.type==="GeometryCollection"?n.geometries:n}}},transports:{geojson:{read:{dataType:"json"}}}});e(f,{map:{layers:{shape:h,ShapeLayer:h},GeoJSONLoader:c}})}(window.kendo.jQuery),function(n){var p=n.proxy,t=window.kendo,r=t.getter,i=t.dataviz,h=t.deepExtend,u=t.util,f=u.defined,w=u.isNumber,c=t.geometry,e=t.drawing,o=i.map,l=o.Location,a=o.layers.ShapeLayer,b=Math.PI,s=a.extend({options:{autoBind:!0,locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle"},_load:function(n){var t,u,v,a,c,e;if(n.length!==0)for(t=this.options,u=r(t.valueField),n=n.slice(0),n.sort(function(n,t){return u(t)-u(n)}),v=u(n[0]),a=this._scaleType(),e=0;e<n.length;e++){var o=n[e],i=r(t.locationField)(o),s=r(t.valueField)(o);if(f(i)&&f(s)){c||(c=new a([0,s],[t.minSize,t.maxSize]));i=l.create(i);var y=this.map.locationToView(i),p=c.map(s),h=this._createSymbol({center:y,size:p,style:t.style,dataItem:o,location:i});h.dataItem=o;h.location=i;h.value=s;this._drawSymbol(h)}}},_scaleType:function(){var n=this.options.scale;return t.isFunction(n)?n:i.map.scales[n]},_createSymbol:function(n){var r=this.options.symbol;return t.isFunction(r)||(r=i.map.symbols[r]),r(n)},_drawSymbol:function(n){var t={layer:this,shape:n},i=this.map.trigger("shapeCreated",t);i||this.surface.draw(n)}}),v=t.Class.extend({init:function(n,t){this._domain=n;this._range=t;var i=Math.sqrt(n[1])-Math.sqrt(n[0]),r=t[1]-t[0];this._ratio=r/i},map:function(n){var t=(Math.sqrt(n)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+t}}),y={circle:function(n){var t=new c.Circle(n.center,n.size/2);return new e.Circle(t,n.style)},square:function(n){var r=new e.Path(n.style),t=n.size/2,i=n.center;return r.moveTo(i.x-t,i.y-t).lineTo(i.x+t,i.y-t).lineTo(i.x+t,i.y+t).lineTo(i.x-t,i.y+t).close(),r}};h(i,{map:{layers:{bubble:s,BubbleLayer:s},scales:{sqrt:v},symbols:y}})}(window.kendo.jQuery),function(n){function g(n){return new f(a(n.x),a(n.y))}function o(n,t){return"x:"+n.x+"y:"+n.y+"zoom:"+t}var t=Math,s=n.proxy,i=window.kendo,u=i.Class,h=i.template,c=i.dataviz,l=i.deepExtend,k=i.geometry,f=k.Point,r=c.map.layers.Layer,e=i.util,a=e.round,v=e.renderSize,d=e.limitValue,y=r.extend({init:function(n,t){r.fn.init.call(this,n,t);typeof this.options.subdomains=="string"&&(this.options.subdomains=this.options.subdomains.split(""));var i=this._viewType();this._view=new i(this.element,this.options)},destroy:function(){r.fn.destroy.call(this);this._view.destroy();this._view=null},_reset:function(){r.fn._reset.call(this);this._updateView();this._view.clear();this._view.reset()},_viewType:function(){return p},_activate:function(){r.fn._activate.call(this);i.support.mobileOS||(this._pan||(this._pan=i.throttle(s(this._render,this),100)),this.map.bind("pan",this._pan))},_deactivate:function(){r.fn._deactivate.call(this);this._pan&&this.map.unbind("pan",this._pan)},_updateView:function(){var t=this._view,n=this.map,i=n.extent(),r={nw:n.locationToLayer(i.nw).round(),se:n.locationToLayer(i.se).round()};t.center(n.locationToLayer(n.center()));t.extent(r);t.zoom(n.zoom())},_resize:function(){this._render()},_panEnd:function(n){r.fn._panEnd.call(this,n);this._render()},_render:function(){this._updateView();this._view.render()}}),p=u.extend({init:function(n,t){this.element=n;this._initOptions(t);this.pool=new b},options:{tileSize:256,subdomains:["a","b","c"],urlTemplate:""},center:function(n){this._center=n},extent:function(n){this._extent=n},zoom:function(n){this._zoom=n},pointToTileIndex:function(n){return new f(t.floor(n.x/this.options.tileSize),t.floor(n.y/this.options.tileSize))},clear:function(){this.pool.empty()},tileCount:function(){var n=this.size(),u=this.pointToTileIndex(this._extent.nw),i=this._extent.nw,r=this.indexToPoint(u).translate(-i.x,-i.y);return{x:t.ceil((t.abs(r.x)+n.width)/this.options.tileSize),y:t.ceil((t.abs(r.y)+n.height)/this.options.tileSize)}},size:function(){var n=this._extent.nw,i=this._extent.se,t=i.clone().translate(-n.x,-n.y);return{width:t.x,height:t.y}},indexToPoint:function(n){var t=n.x,i=n.y;return new f(t*this.options.tileSize,i*this.options.tileSize)},subdomainText:function(){var n=this.options.subdomains;return n[this.subdomainIndex++%n.length]},destroy:function(){this.element.empty();this.pool.empty()},reset:function(){this.subdomainIndex=0;this.basePoint=this._extent.nw;this.render()},render:function(){for(var r=this.tileCount(),u=this.pointToTileIndex(this._extent.nw),n,i,t=0;t<r.x;t++)for(i=0;i<r.y;i++)n=this.createTile({x:u.x+t,y:u.y+i}),n.options.visible||(this.element.append(n.element),n.options.visible=!0)},createTile:function(n){var t=this.tileOptions(n);return this.pool.get(this._center,t)},tileOptions:function(n){var r=this.wrapIndex(n),t=this.indexToPoint(n),i=this.basePoint,u=t.clone().translate(-i.x,-i.y);return{index:r,currentIndex:n,point:t,offset:g(u),zoom:this._zoom,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate}},wrapIndex:function(n){var i=t.pow(2,this._zoom);return{x:this.wrapValue(n.x,i),y:d(n.y,0,i-1)}},wrapValue:function(n,i){var r=t.abs(n)%i;return n>=0?r:i-(r===0?i:r)}}),w=u.extend({init:function(n){this._initOptions(n);this.createElement();this.load();this.options.visible=!1},options:{urlTemplate:"",errorUrlTemplate:"",visible:!1},createElement:function(){this.element=n("<img style='position: absolute; display: block; visibility: visible;' />").error(s(function(n){this.errorUrl()?n.target.setAttribute("src",this.errorUrl()):n.target.removeAttribute("src")},this))},load:function(n){this.options=l({},this.options,n);var t=this.element[0];t.style.visibility="visible";t.style.display="block";t.style.top=v(this.options.offset.y);t.style.left=v(this.options.offset.x);t.setAttribute("src",this.url());this.options.id=o(this.options.currentIndex,this.options.zoom);this.options.visible=!0},url:function(){var n=h(this.options.urlTemplate);return n(this.urlOptions())},errorUrl:function(){var n=h(this.options.errorUrlTemplate);return n(this.urlOptions())},urlOptions:function(){var n=this.options;return{zoom:n.zoom,subdomain:n.subdomain,z:n.zoom,x:n.index.x,y:n.index.y,s:n.subdomain,quadkey:n.quadkey,q:n.quadkey,culture:n.culture,c:n.culture}},destroy:function(){this.element&&(this.element.remove(),this.element=null)}}),b=u.extend({init:function(){this._items=[]},options:{maxSize:100},get:function(n,t){var i=this;return i._items.length>=i.options.maxSize?i._update(n,t):i._create(t)},empty:function(){for(var t=this._items,n=0;n<t.length;n++)t[n].destroy();this._items=[]},_create:function(n){for(var e=this,f=e._items,s=o(n.currentIndex,n.zoom),t,u,r,i=0;i<f.length;i++)u=f[i],u.options.id===s&&(t=u,r=t);return t?t.load(n):(r=new w(n),this._items.push(r)),r},_update:function(n,t){for(var h=this,r=h._items,s=-Number.MAX_VALUE,u,f,e,c=o(t.currentIndex,t.zoom),i=0;i<r.length;i++){if(e=r[i],u=e.options.point.clone().distanceTo(n),e.options.id===c)return r[i];s<u&&(f=i,s=u)}return r[f].load(t),r[f]}});l(c,{map:{layers:{tile:y,TileLayer:y,ImageTile:w,TilePool:b,TileView:p}}})}(window.kendo.jQuery),function(n){var l=Math,a=n.proxy,i=window.kendo,v=i.Class,y=i.template,t=i.dataviz,r=i.deepExtend,u=i.util.defined,c=t.map.Extent,f=t.map.Location,p=t.map.layers.Layer,e=t.map.layers.TileLayer,o=t.map.layers.TileView,s=e.extend({init:function(t,i){e.fn.init.call(this,t,i);this._onMetadata=n.proxy(this._onMetadata,this);this._fetchMetadata()},options:{baseUrl:"//dev.virtualearth.net/REST/v1/Imagery/Metadata/",imagerySet:"road"},_fetchMetadata:function(){var t=this.options;if(!t.key)throw new Error("Bing tile layer: API key is required");n.ajax({url:t.baseUrl+t.imagerySet,data:{output:"json",include:"ImageryProviders",key:t.key,uriScheme:this._scheme(window.location.protocol)},type:"get",dataType:"jsonp",jsonp:"jsonp",success:this._onMetadata})},_scheme:function(n){return n.replace(":","")==="https"?"https":"http"},_onMetadata:function(n){var t,i;n&&n.resourceSets.length&&(t=this.resource=n.resourceSets[0].resources[0],r(this._view.options,{urlTemplate:t.imageUrl.replace("{subdomain}","#= subdomain #").replace("{quadkey}","#= quadkey #").replace("{culture}","#= culture #"),subdomains:t.imageUrlSubdomains}),i=this.options,u(i.minZoom)||(i.minZoom=t.zoomMin),u(i.maxZoom)||(i.maxZoom=t.zoomMax),this._addAttribution(),this.reset())},_viewType:function(){return h},_addAttribution:function(){var e=this.map.attribution,t,i,r,u,n;if(e&&(t=this.resource.imageryProviders,t))for(i=0;i<t.length;i++)for(r=t[i],u=0;u<r.coverageAreas.length;u++)n=r.coverageAreas[u],e.add({text:r.attribution,minZoom:n.zoomMin,maxZoom:n.zoomMax,extent:new c(new f(n.bbox[2],n.bbox[1]),new f(n.bbox[0],n.bbox[3]))})},imagerySet:function(n){if(n)this.options.imagerySet=n,this.map.attribution.clear(),this._fetchMetadata(),this._reset();else return this.options.imagerySet}}),h=o.extend({options:{culture:"en-US"},tileOptions:function(n){var t=o.fn.tileOptions.call(this,n);return t.culture=this.options.culture,t.quadkey=this.tileQuadKey(this.wrapIndex(n)),t},tileQuadKey:function(n){for(var u="",t,r,i=this._zoom;i>0;i--)t=0,r=1<<i-1,(n.x&r)!=0&&t++,(n.y&r)!=0&&(t+=2),u+=t;return u}});r(t,{map:{layers:{bing:s,BingLayer:s,BingView:h}}})}(window.kendo.jQuery),function(n){var a=document,f=Math,v=n.inArray,e=n.proxy,t=window.kendo,y=t.Class,p=t.data.DataSource,o=t.ui.Tooltip,s=t.dataviz,h=t.deepExtend,u=s.map,c=u.Location,r=u.layers.Layer,l=r.extend({init:function(n,t){r.fn.init.call(this,n,t);this._markerClick=e(this._markerClick,this);this.element.on("click",".k-marker",this._markerClick);this.items=[];this._initDataSource()},destroy:function(){r.fn.destroy.call(this);this.element.off("click",".k-marker",this._markerClick);this.dataSource.unbind("change",this._dataChange);this.clear()},options:{zIndex:1e3,autoBind:!0,dataSource:{},locationField:"location",titleField:"title"},add:function(t){if(n.isArray(t))for(var i=0;i<t.length;i++)this._addOne(t[i]);else return this._addOne(t)},remove:function(n){n.destroy();var t=v(n,this.items);t>-1&&this.items.splice(t,1)},clear:function(){for(var n=0;n<this.items.length;n++)this.items[n].destroy();this.items=[]},update:function(n){var t=n.location(),i;t&&(n.showAt(this.map.locationToView(t)),i={marker:n,layer:this},this.map.trigger("markerActivate",i))},_reset:function(){var t,n;for(r.fn._reset.call(this),t=this.items,n=0;n<t.length;n++)this.update(t[n])},bind:function(n,t){var i=u.Marker.create(n,this.options),r,f;return i.dataItem=t,r={marker:i,layer:this},f=this.map.trigger("markerCreated",r),f?void 0:(this.add(i),i)},setDataSource:function(n){this.dataSource&&this.dataSource.unbind("change",this._dataChange);this.dataSource=n;this.dataSource.bind("change",this._dataChange);this.options.autoBind&&this.dataSource.fetch()},_addOne:function(n){var t=i.create(n,this.options);return t.addTo(this),t},_initDataSource:function(){var n=this.options.dataSource;this._dataChange=e(this._dataChange,this);this.dataSource=p.create(n).bind("change",this._dataChange);n&&this.options.autoBind&&this.dataSource.fetch()},_dataChange:function(n){this._load(n.sender.view())},_load:function(n){var u,f,i,r;for(this._data=n,this.clear(),u=t.getter(this.options.locationField),f=t.getter(this.options.titleField),i=0;i<n.length;i++)r=n[i],this.bind({location:u(r),title:f(r)},r)},_markerClick:function(t){var i={marker:n(t.target).data("kendoMarker"),layer:this};this.map.trigger("markerClick",i)}}),i=y.extend({init:function(n){this.options=n||{}},addTo:function(n){this.layer=n.markers||n;this.layer.items.push(this);this.layer.update(this)},location:function(n){return n?(this.options.location=c.create(n).toArray(),this.layer&&this.layer.update(this),this):c.create(this.options.location)},showAt:function(n){this.render();this.element.css({left:f.round(n.x),top:f.round(n.y)});this.tooltip&&this.tooltip.popup&&this.tooltip.popup._position()},hide:function(){this.element&&(this.element.remove(),this.element=null);this.tooltip&&(this.tooltip.destroy(),this.tooltip=null)},destroy:function(){this.layer=null;this.hide()},render:function(){if(!this.element){var i=this.options,r=this.layer;this.element=n(a.createElement("span")).addClass("k-marker k-marker-"+t.toHyphens(i.shape||"pin")).attr("title",i.title).data("kendoMarker",this).css("zIndex",i.zIndex);r&&r.element.append(this.element);this.renderTooltip()}},renderTooltip:function(){var i=this,f=i.options.title,n=i.options.tooltip||{},r,u;n&&o&&(r=n.template,r&&(u=t.template(r),n.content=function(n){return n.location=i.location(),n.marker=i,u(n)}),(f||n.content||n.contentUrl)&&(this.tooltip=new o(this.element,n),this.tooltip.marker=this))}});i.create=function(n,t){return n instanceof i?n:new i(h({},t,n))};h(s,{map:{layers:{marker:l,MarkerLayer:l},Marker:i}})}(window.kendo.jQuery),function(n){var d=document,r=Math,v=r.min,y=r.pow,t=n.proxy,i=window.kendo,o=i.ui.Widget,p=i.deepExtend,u=i.dataviz,f=u.ui,s=i.geometry,w=s.Point,h=u.map,b=h.Extent,e=h.Location,g=h.crs.EPSG3857,c=i.util,nt=c.defined,l=c.limitValue,k=c.renderPos,a=c.valueOrDefault,tt="k-",it=.9,rt=.93,ut="DOMMouseScroll mousewheel",ft=5,et=o.extend({init:function(n,r){i.destroy(n);o.fn.init.call(this,n);this._initOptions(r);this.bind(this.events,r);this.crs=new g;this.element.addClass(tt+this.options.name.toLowerCase()).css("position","relative").empty().append(d.createElement("div"));this._viewOrigin=this._getOrigin();this._initScroller();this._initMarkers();this._initControls();this._initLayers();this._reset();this._mousewheel=t(this._mousewheel,this);this.element.bind("click",t(this._click,this));this.element.bind(ut,this._mousewheel)},options:{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0},events:["beforeReset","click","reset","pan","panEnd","markerActivate","markerClick","markerCreated","shapeClick","shapeCreated","shapeMouseEnter","shapeMouseLeave","zoomStart","zoomEnd"],destroy:function(){this.scroller.destroy();this.navigator&&this.navigator.destroy();this.attribution&&this.attribution.destroy();this.zoomControl&&this.zoomControl.destroy();this.markers.destroy();for(var n=0;n<this.layers.length;n++)this.layers[n].destroy();o.fn.destroy.call(this)},zoom:function(n){var t=this.options;return nt(n)?(n=l(n,t.minZoom,t.maxZoom),t.zoom!==n&&(t.zoom=n,this._reset()),this):t.zoom},center:function(n){return n?(this.options.center=e.create(n).toArray(),this._reset(),this):e.create(this.options.center)},extent:function(n){return n?(this._setExtent(n),this):this._getExtent()},setOptions:function(n){o.fn.setOptions.call(this,n);this._reset()},locationToLayer:function(n,t){var i=!this.options.wraparound;return n=e.create(n),this.crs.toPoint(n,this._layerSize(t),i)},layerToLocation:function(n,t){var i=!this.options.wraparound;return n=w.create(n),this.crs.toLocation(n,this._layerSize(t),i)},locationToView:function(n){n=e.create(n);var t=this.locationToLayer(this._viewOrigin),i=this.locationToLayer(n);return i.translateWith(t.scale(-1))},viewToLocation:function(n,t){var i=this.locationToLayer(this._getOrigin(),t);return n=w.create(n),n=n.clone().translateWith(i),this.layerToLocation(n,t)},eventOffset:function(n){var i=this.element.offset(),t=n.originalEvent||n,r=a(t.pageX,t.clientX)-i.left,u=a(t.pageY,t.clientY)-i.top;return new s.Point(r,u)},eventToView:function(n){var t=this.eventOffset(n);return this.locationToView(this.viewToLocation(t))},eventToLayer:function(n){return this.locationToLayer(this.eventToLocation(n))},eventToLocation:function(n){var t=this.eventOffset(n);return this.viewToLocation(t)},viewSize:function(){var t=this.element,i=this._layerSize(),n=t.width();return this.options.wraparound||(n=v(i,n)),{width:n,height:v(i,t.height())}},_setOrigin:function(n,t){var r=this.viewSize(),i;return n=this._origin=e.create(n),i=this.locationToLayer(n,t),i.x+=r.width/2,i.y+=r.height/2,this.options.center=this.layerToLocation(i,t).toArray(),this},_getOrigin:function(n){var i=this.viewSize(),t;return(n||!this._origin)&&(t=this.locationToLayer(this.center()),t.x-=i.width/2,t.y-=i.height/2,this._origin=this.layerToLocation(t)),this._origin},_setExtent:function(n){var i,u,t;for(n=b.create(n),this.center(n.center()),i=this.element.width(),u=this.element.height(),t=this.options.maxZoom;t>=this.options.minZoom;t--){var f=this.locationToLayer(n.nw,t),e=this.locationToLayer(n.se,t),o=r.abs(e.x-f.x),s=r.abs(e.y-f.y);if(o<=i&&s<=u)break}this.zoom(t)},_getExtent:function(){var t=this._getOrigin(),n=this.locationToLayer(t),i=this.viewSize(),r;return n.x+=i.width,n.y+=i.height,r=this.layerToLocation(n),new b(t,r)},_zoomAround:function(n,t){this._setOrigin(this.layerToLocation(n,t),t);this.zoom(t)},_initControls:function(){var n=this.options.controls;f.Attribution&&n.attribution&&this._createAttribution(n.attribution);i.support.mobileOS||(f.Navigator&&n.navigator&&this._createNavigator(n.navigator),f.ZoomControl&&n.zoom&&this._createZoomControl(n.zoom))},_createControlElement:function(t,i){var u=t.position||i,f="."+k(u).replace(" ","."),r=n(".k-map-controls"+f,this.element);return r.length===0&&(r=n("<div>").addClass("k-map-controls "+k(u)).appendTo(this.element)),n("<div>").appendTo(r)},_createAttribution:function(n){var t=this._createControlElement(n,"bottomRight");this.attribution=new f.Attribution(t,n)},_createNavigator:function(n){var r=this._createControlElement(n,"topLeft"),i=this.navigator=new f.Navigator(r,n);this._navigatorPan=t(this._navigatorPan,this);i.bind("pan",this._navigatorPan);this._navigatorCenter=t(this._navigatorCenter,this);i.bind("center",this._navigatorCenter)},_navigatorPan:function(n){var t=this,f=t.scroller,r=f.scrollLeft+n.x,u=f.scrollTop-n.y,i=this._virtualSize,e=this.element.height(),o=this.element.width();r=l(r,i.x.min,i.x.max-o);u=l(u,i.y.min,i.y.max-e);t.scroller.one("scroll",function(n){t._scrollEnd(n)});t.scroller.scrollTo(-r,-u)},_navigatorCenter:function(){this.center(this.options.center)},_createZoomControl:function(n){var i=this._createControlElement(n,"topLeft"),r=this.zoomControl=new f.ZoomControl(i,n);this._zoomControlChange=t(this._zoomControlChange,this);r.bind("change",this._zoomControlChange)},_zoomControlChange:function(n){this.trigger("zoomStart",{originalEvent:n})||(this.zoom(this.zoom()+n.delta),this.trigger("zoomEnd",{originalEvent:n}))},_initScroller:function(){var r=i.support.mobileOS?rt:it,u=this.options.zoomable!==!1,n=this.scroller=new i.mobile.ui.Scroller(this.element.children(0),{friction:r,velocityMultiplier:ft,zoom:u,mousewheelScrolling:!1});n.bind("scroll",t(this._scroll,this));n.bind("scrollEnd",t(this._scrollEnd,this));n.userEvents.bind("gesturestart",t(this._scaleStart,this));n.userEvents.bind("gestureend",t(this._scale,this));this.scrollElement=n.scrollElement},_initLayers:function(){for(var t=this.options.layers,f=this.layers=[],n=0;n<t.length;n++){var i=t[n],r=i.type||"shape",e=this.options.layerDefaults[r],o=u.map.layers[r];f.push(new o(this,p({},e,i)))}},_initMarkers:function(){this.markers=new h.layers.MarkerLayer(this,this.options.markerDefaults);this.markers.add(this.options.markers)},_scroll:function(n){var t=this.locationToLayer(this._viewOrigin).round(),i=n.sender.movable,r=new s.Point(i.x,i.y).scale(-1).scale(1/i.scale);t.x+=r.x;t.y+=r.y;this._setOrigin(this.layerToLocation(t));this.trigger("pan",{originalEvent:n,origin:this._getOrigin(),center:this.center()})},_scrollEnd:function(n){this.trigger("panEnd",{originalEvent:n,origin:this._getOrigin(),center:this.center()})},_scaleStart:function(n){if(this.trigger("zoomStart",{originalEvent:n})){var t=n.touches[1];t&&t.cancel()}},_scale:function(n){var r=this.scroller.movable.scale,t=this._scaleToZoom(r),i=new s.Point(n.center.x,n.center.y),u=this.viewToLocation(i,t),f=this.locationToLayer(u,t),e=f.translate(-i.x,-i.y);this._zoomAround(e,t);this.trigger("zoomEnd",{originalEvent:n})},_scaleToZoom:function(n){var t=this._layerSize()*n,i=t/this.options.minSize,u=r.log(i)/r.log(2);return r.round(u)},_reset:function(){this.attribution&&this.attribution.filter(this.center(),this.zoom());this._viewOrigin=this._getOrigin(!0);this._resetScroller();this.trigger("beforeReset");this.trigger("reset")},_resetScroller:function(){var t=this.scroller,e=t.dimensions.x,o=t.dimensions.y,u=this._layerSize(),s=20*u,c=this.extent().nw,r=this.locationToLayer(c).round(),h,n,i,f;t.movable.round=!0;t.reset();t.userEvents.cancel();h=this.options.maxZoom-this.zoom();t.dimensions.maxScale=y(2,h);n={min:-r.x,max:u-r.x};i={min:-r.y,max:u-r.y};this.options.wraparound&&(n.min=-s,n.max=s);this.options.pannable===!1&&(f=this.viewSize(),n.min=i.min=0,n.max=f.width,i.max=f.height);e.makeVirtual();o.makeVirtual();e.virtualSize(n.min,n.max);o.virtualSize(i.min,i.max);this._virtualSize={x:n,y:i}},_renderLayers:function(){var t=this.options.layers,f=this.layers=[],e=this.scrollWrap,n;for(e.empty(),n=0;n<t.length;n++){var i=t[n],r=i.type||"shape",o=this.options.layerDefaults[r],s=u.map.layers[r];f.push(new s(this,p({},o,i)))}},_layerSize:function(n){return n=a(n,this.options.zoom),this.options.minSize*y(2,n)},_click:function(n){var t=this.eventOffset(n);this.trigger("click",{originalEvent:n,location:this.viewToLocation(t)})},_mousewheel:function(n){n.preventDefault();var e=u.mwDelta(n)>0?-1:1,t=this.options,f=this.zoom(),i=l(f+e,t.minZoom,t.maxZoom);if(t.zoomable!==!1&&i!==f&&!this.trigger("zoomStart",{originalEvent:n})){var r=this.eventOffset(n),o=this.viewToLocation(r),s=this.locationToLayer(o,i),h=s.translate(-r.x,-r.y);this._zoomAround(h,i);this.trigger("zoomEnd",{originalEvent:n})}}});u.ui.plugin(et)}(window.kendo.jQuery),function(n){function h(n,i,r){function s(n){for(var t=1;n*t%1;)t*=10;return t}var f,o,e,u;if(typeof n=="undefined"||typeof i=="undefined")return[];if(r&&t.sign(i-n)!=t.sign(r))throw"The sign of the increment should allow to reach the stop-value.";if(r=r||1,n=n||0,i=i||n,(i-n)/r==Infinity)throw"Infinite range defined.";if(f=[],o=-1,u=s(Math.abs(r)),n*=u,i*=u,r*=u,n>i&&r>0&&(r=-r),r<0)while((e=n+r*++o)>=i)f.push(e/u);else while((e=n+r*++o)<=i)f.push(e/u);return f}function c(n,t){if(n==t)return 0;var r=t.x-n.x,u=n.y-t.y,i=Math.atan(r/u);return u>=0?r<0?i+2*Math.PI:i:i+Math.PI}var i=window.kendo,r=i.dataviz.diagram={},l=i.Class,e=i.deepExtend,o=n.isArray,s=1e-6,t={},u,f;e(t,{isNearZero:function(n){return Math.abs(n)<s},isDefined:function(n){return typeof n!="undefined"},isUndefined:function(n){return typeof n=="undefined"||n===null},isObject:function(n){return n===Object(n)},has:function(n,t){return Object.hasOwnProperty.call(n,t)},isString:function(n){return Object.prototype.toString.call(n)=="[object String]"},isBoolean:function(n){return Object.prototype.toString.call(n)=="[object Boolean]"},isType:function(n,t){return Object.prototype.toString.call(n)=="[object "+t+"]"},isNumber:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},isEmpty:function(n){if(n===null)return!0;if(o(n)||t.isString(n))return n.length===0;for(var i in n)if(t.has(n,i))return!1;return!0},simpleExtend:function(n,i){if(t.isObject(i))for(var r in i)n[r]=i[r]},initArray:function(n,t){for(var r=[],i=0;i<n;++i)r[i]=t;return r},serializePoints:function(n){for(var i,r=[],t=0;t<n.length;t++)i=n[t],r.push(i.x+";"+i.y);return r.join(";")},deserializePoints:function(n){var i=n.split(";"),u=[],t;if(i.length%2!=0)throw"Not an array of points.";for(t=0;t<i.length;t+=2)u.push(new r.Point(parseInt(i[t],10),parseInt(i[t+1],10)));return u},randomInteger:function(n,t){return parseInt(Math.floor(Math.random()*t)+n,10)},DFT:function(n,t){var i,r;if(t(n),n.childNodes)for(i=0;i<n.childNodes.length;i++)r=n.childNodes[i],this.DFT(r,t)},getMatrixAngle:function(n){return n===null||n.d===0?0:Math.atan2(n.b,n.d)*180/Math.PI},getMatrixScaling:function(n){var t=Math.sqrt(n.a*n.a+n.c*n.c),i=Math.sqrt(n.b*n.b+n.d*n.d);return[t,i]}});t.sign=function(n){return n?n<0?-1:1:0};t.findAngle=function(n,t){return c(n,t)*180/Math.PI};t.forEach=function(n,t,i){for(var r=0;r<n.length;r++)t.call(i,n[r],r,n)};t.any=function(n,t){for(var i=0;i<n.length;++i)if(t(n[i]))return n[i];return null};t.remove=function(n,i){for(var r;(r=t.indexOf(n,i))!==-1;)n.splice(r,1);return n};t.contains=function(n,i){return t.indexOf(n,i)!==-1};t.indexOf=function(t,i){return n.inArray(i,t)};t.fold=function(n,t,i,r){for(var e,f=arguments.length>2,u=0;u<n.length;u++)e=n[u],f?i=t.call(r,i,e,u,n):(i=e,f=!0);if(!f)throw"Reduce of empty array with no initial value";return i};t.find=function(n,i,r){var u;return t.any(n,function(n,t,f){return i.call(r,n,t,f)?(u=n,!0):!1}),u};t.first=function(n,i,r){return n.length===0?null:t.isUndefined(i)?n[0]:t.find(n,i,r)};t.insert=function(n,t,i){return n.splice(i,0,t),n};t.all=function(n,t,i){for(var r=!0,f,u=0;u<n.length;u++)if(f=n[u],r=r&&t.call(i,f,u,n),!r)break;return r};t.clear=function(n){n.splice(0,n.length)};t.bisort=function(n,i,r){if(t.isUndefined(n))throw"First array is not specified.";if(t.isUndefined(i))throw"Second array is not specified.";if(n.length!=i.length)throw"The two arrays should have equal length";for(var f=[],u=0;u<n.length;u++)f.push({x:n[u],y:i[u]});for(t.isUndefined(r)?f.sort(function(n,t){return n.x-t.x}):f.sort(function(n,t){return r(n.x,t.x)}),t.clear(n),t.clear(i),u=0;u<f.length;u++)n.push(f[u].x),i.push(f[u].y)};t.addRange=function(n,t){n.push.apply(n,t)};u={easeInOut:function(n){return-Math.cos(n*Math.PI)/2+.5}};f=i.Class.extend({init:function(){this.adapters=[];this.target=0;this.tick=0;this.interval=20;this.duration=800;this.lastTime=null;this.handlers=[];var n=this;this.transition=u.easeInOut;this.timerDelegate=function(){n.onTimerEvent()}},addAdapter:function(n){this.adapters.push(n)},onComplete:function(n){this.handlers.push(n)},removeHandler:function(t){this.handlers=n.grep(this.handlers,function(n){return n!==t})},trigger:function(){var n=this;this.handlers&&t.forEach(this.handlers,function(t){return t.call(n.caller!==null?n.caller:n)})},onStep:function(){},seekTo:function(n){this.seekFromTo(this.tick,n)},seekFromTo:function(n,t){this.target=Math.max(0,Math.min(1,t));this.tick=Math.max(0,Math.min(1,n));this.lastTime=(new Date).getTime();this.intervalId||(this.intervalId=window.setInterval(this.timerDelegate,this.interval))},stop:function(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null,this.trigger())},play:function(n){this.adapters.length!==0&&(n!==null&&(this.caller=n),this.initState(),this.seekFromTo(0,1))},reverse:function(){this.seekFromTo(1,0)},initState:function(){if(this.adapters.length!==0)for(var n=0;n<this.adapters.length;n++)this.adapters[n].initState()},propagate:function(){for(var t=this.transition(this.tick),n=0;n<this.adapters.length;n++)this.adapters[n].update(t)},onTimerEvent:function(){var t=(new Date).getTime(),i=t-this.lastTime,n;this.lastTime=t;n=i/this.duration*(this.tick<this.target?1:-1);Math.abs(n)>=Math.abs(this.tick-this.target)?this.tick=this.target:this.tick+=n;try{this.propagate()}finally{this.onStep.call(this);this.target==this.tick&&this.stop()}}});i.deepExtend(r,{init:function(n){i.init(n,r.ui)},Utils:t,Range:h,Ticker:f})}(window.kendo.jQuery),function(n,t){function st(n){return Math.abs(n)<et}function it(n,t,i,u,f){var o=(t.x-n.x)*(u.y-i.y)-(t.y-n.y)*(u.x-i.x);if(!st(o)){var h=(n.y-i.y)*(u.x-i.x)-(n.x-i.x)*(u.y-i.y),c=(n.y-i.y)*(t.x-n.x)-(n.x-i.x)*(t.y-n.y),e=h/o,s=c/o;if(!f||!(e<0||e>1||s<0||s>1))return new r(n.x+e*(t.x-n.x),n.y+e*(t.y-n.y))}}function ct(n,t){var r,u,i;do r=Math.random()*2-1,u=Math.random()*2-1,i=r*r+u*u;while(!i||i>1);return n+t*r*Math.sqrt(-2*Math.log(i)/i)}function p(n){var t,r,u;for(i.isUndefined(n)&&(n=10),t="",r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",u=n;u>0;--u)t+=r.charAt(Math.round(Math.random()*(r.length-1)));return t}var u=window.kendo,l=u.dataviz.diagram,y=u.Class,g=u.deepExtend,ut=u.dataviz,i=l.Utils,r=ut.Point2D,ft=u.isFunction,e=i.contains,k=n.map,d=3,et=1e-6,tt;g(r.fn,{plus:function(n){return new r(this.x+n.x,this.y+n.y)},minus:function(n){return new r(this.x-n.x,this.y-n.y)},offset:function(n){return new r(this.x-n,this.y-n)},times:function(n){return new r(this.x*n,this.y*n)},normalize:function(){return this.length()===0?new r:this.times(1/this.length())},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},toString:function(){return"("+this.x+","+this.y+")"},lengthSquared:function(){return this.x*this.x+this.y*this.y},middleOf:function(n,t){return new r(t.x-n.x,t.y-n.y).times(.5).plus(n)},toPolar:function(n){var i=1;n&&(i=180/Math.PI);var u=Math.atan2(Math.abs(this.y),Math.abs(this.x)),r=Math.PI/2,t=this.length();if(this.x===0){if(this.y===0)return new v(0,0);if(this.y>0)return new v(t,i*r);if(this.y<0)return new v(t,i*3*r)}else if(this.x>0){if(this.y===0)return new v(t,0);if(this.y>0)return new v(t,i*u);if(this.y<0)return new v(t,i*(4*r-u))}else{if(this.y===0)return new v(t,2*r);if(this.y>0)return new v(t,i*(2*r-u));if(this.y<0)return new v(t,i*(2*r+u))}},isOnLine:function(n,t){var o,i,r,u,e;return(n.x>t.x&&(o=t,t=n,n=o),i=new f(n.x,n.y).inflate(d,d),r=new f(t.x,t.y).inflate(d,d),i.union(r).contains(this))?n.x===t.x||n.y===t.y?!0:(n.y<t.y?(u=i.x+(r.x-i.x)*(this.y-(i.y+i.height))/(r.y+r.height-(i.y+i.height)),e=i.x+i.width+(r.x+r.width-(i.x+i.width))*(this.y-i.y)/(r.y-i.y)):(u=i.x+(r.x-i.x)*(this.y-i.y)/(r.y-i.y),e=i.x+i.width+(r.x+r.width-(i.x+i.width))*(this.y-(i.y+i.height))/(r.y+r.height-(i.y+i.height))),this.x>u&&this.x<e):!1}});g(r,{parse:function(n){var f=n.slice(1,n.length-1),t=f.split(","),i=parseInt(t[0],10),u=parseInt(t[1],10);if(!isNaN(i)&&!isNaN(u))return new r(i,u)}});var ot=y.extend({init:function(n,t,i){this.point=n;this.left=t;this.right=i}}),f=y.extend({init:function(n,t,i,r){this.x=n||0;this.y=t||0;this.width=i||0;this.height=r||0},contains:function(n){return n.x>=this.x&&n.x<=this.x+this.width&&n.y>=this.y&&n.y<=this.y+this.height},inflate:function(n,i){return i===t&&(i=n),this.x-=n,this.y-=i,this.width+=2*n+1,this.height+=2*i+1,this},offset:function(n,t){var i=n,u=t;return n instanceof r&&(i=n.x,u=n.y),this.x+=i,this.y+=u,this},union:function(n){var t=Math.min(this.x,n.x),i=Math.min(this.y,n.y),r=Math.max(this.x+this.width,n.x+n.width),u=Math.max(this.y+this.height,n.y+n.height);return new f(t,i,r-t,u-i)},center:function(){return new r(this.x+this.width/2,this.y+this.height/2)},top:function(){return new r(this.x+this.width/2,this.y)},right:function(){return new r(this.x+this.width,this.y+this.height/2)},bottom:function(){return new r(this.x+this.width/2,this.y+this.height)},left:function(){return new r(this.x,this.y+this.height/2)},topLeft:function(){return new r(this.x,this.y)},topRight:function(){return new r(this.x+this.width,this.y)},bottomLeft:function(){return new r(this.x,this.y+this.height)},bottomRight:function(){return new r(this.x+this.width,this.y+this.height)},clone:function(){return new f(this.x,this.y,this.width,this.height)},isEmpty:function(){return!this.width&&!this.height},equals:function(n){return this.x===n.x&&this.y===n.y&&this.width===n.width&&this.height===n.height},rotatedBounds:function(n){var t=this.clone(),i=this.rotatedPoints(n),r=i[0],u=i[1],f=i[2],e=i[3];return t.x=Math.min(f.x,r.x,u.x,e.x),t.y=Math.min(f.y,r.y,u.y,e.y),t.width=Math.max(f.x,r.x,u.x,e.x)-t.x,t.height=Math.max(f.y,r.y,u.y,e.y)-t.y,t},rotatedPoints:function(n){var t=this,i=t.center(),r=t.bottomRight().rotate(i,360-n),u=t.topLeft().rotate(i,360-n),f=t.topRight().rotate(i,360-n),e=t.bottomLeft().rotate(i,360-n);return[u,f,r,e]},toString:function(n){return n=n||" ",this.x+n+this.y+n+this.width+n+this.height},scale:function(n,t,i,u,f){var e=this.topLeft(),s=this.center();e.rotate(s,360-f).rotate(u,f);var o=i.minus(e),h=new r(o.x*n,o.y*t),c=o.minus(h);e=e.plus(c);e.rotate(u,360-f).rotate(s,f);this.x=e.x;this.y=e.y;this.width*=n;this.height*=t},zoom:function(n){return this.x*=n,this.y*=n,this.width*=n,this.height*=n,this}}),nt=y.extend({init:function(n,t){this.width=n;this.height=t}});nt.prototype.Empty=new nt(0,0);f.toRect=function(n){return n instanceof f||(n=new f(n.x,n.y,n.width,n.height)),n};f.empty=function(){return new f(0,0,0,0)};f.fromPoints=function(n,t){if(isNaN(n.x)||isNaN(n.y)||isNaN(t.x)||isNaN(t.y))throw"Some values are NaN.";return new f(Math.min(n.x,t.x),Math.min(n.y,t.y),Math.abs(n.x-t.x),Math.abs(n.y-t.y))};var a={lines:function(n,t,i,r){return it(n,t,i,r)},segments:function(n,t,i,r){return it(n,t,i,r,!0)},rectWithLine:function(n,t,i){return a.segments(t,i,n.topLeft(),n.topRight())||a.segments(t,i,n.topRight(),n.bottomRight())||a.segments(t,i,n.bottomLeft(),n.bottomRight())||a.segments(t,i,n.topLeft(),n.bottomLeft())},rects:function(n,t,i){var r=t.topLeft(),u=t.topRight(),f=t.bottomLeft(),e=t.bottomRight(),o=t.center(),h,s;return i&&(r=r.rotate(o,i),u=u.rotate(o,i),f=f.rotate(o,i),e=e.rotate(o,i)),h=n.contains(r)||n.contains(u)||n.contains(f)||n.contains(e)||a.rectWithLine(n,r,u)||a.rectWithLine(n,r,f)||a.rectWithLine(n,u,e)||a.rectWithLine(n,f,e),h||(r=n.topLeft(),u=n.topRight(),f=n.bottomLeft(),e=n.bottomRight(),i&&(s=360-i,r=r.rotate(o,s),u=u.rotate(o,s),f=f.rotate(o,s),e=e.rotate(o,s)),h=t.contains(r)||t.contains(u)||t.contains(f)||t.contains(e)),h}},ht=y.extend({init:function(n){this.container=f.toRect(n)},align:function(n,t){for(var r=t.toLowerCase().split(" "),i=0;i<r.length;i++)n=this._singleAlign(n,r[i]);return n},_singleAlign:function(n,t){return ft(this[t])?this[t](n):n},left:function(n){return this._align(n,this._left)},center:function(n){return this._align(n,this._center)},right:function(n){return this._align(n,this._right)},stretch:function(n){return this._align(n,this._stretch)},top:function(n){return this._align(n,this._top)},middle:function(n){return this._align(n,this._middle)},bottom:function(n){return this._align(n,this._bottom)},_left:function(n,t){t.x=n.x},_center:function(n,t){t.x=(n.width-t.width)/2||0},_right:function(n,t){t.x=n.width-t.width},_top:function(n,t){t.y=n.y},_middle:function(n,t){t.y=(n.height-t.height)/2||0},_bottom:function(n,t){t.y=n.height-t.height},_stretch:function(n,t){t.x=0;t.y=0;t.height=n.height;t.width=n.width},_align:function(n,t){return n=f.toRect(n),t(this.container,n),n}}),v=y.extend({init:function(n,t){this.r=n;this.angle=t}}),s=y.extend({init:function(n,t,i,r,u,f){this.a=n||0;this.b=t||0;this.c=i||0;this.d=r||0;this.e=u||0;this.f=f||0},plus:function(n){this.a+=n.a;this.b+=n.b;this.c+=n.c;this.d+=n.d;this.e+=n.e;this.f+=n.f},minus:function(n){this.a-=n.a;this.b-=n.b;this.c-=n.c;this.d-=n.d;this.e-=n.e;this.f-=n.f},times:function(n){return new s(this.a*n.a+this.c*n.b,this.b*n.a+this.d*n.b,this.a*n.c+this.c*n.d,this.b*n.c+this.d*n.d,this.a*n.e+this.c*n.f+this.e,this.b*n.e+this.d*n.f+this.f)},apply:function(n){return new r(this.a*n.x+this.c*n.y+this.e,this.b*n.x+this.d*n.y+this.f)},applyRect:function(n){return f.fromPoints(this.apply(n.topLeft()),this.apply(n.bottomRight()))},toString:function(){return"matrix("+this.a+" "+this.b+" "+this.c+" "+this.d+" "+this.e+" "+this.f+")"}});g(s,{fromSVGMatrix:function(n){var t=new s;return t.a=n.a,t.b=n.b,t.c=n.c,t.d=n.d,t.e=n.e,t.f=n.f,t},fromMatrixVector:function(n){var t=new s;return t.a=n.a,t.b=n.b,t.c=n.c,t.d=n.d,t.e=n.e,t.f=n.f,t},fromList:function(n){if(n.length!==6)throw"The given list should consist of six elements.";var t=new s;return t.a=n[0],t.b=n[1],t.c=n[2],t.d=n[3],t.e=n[4],t.f=n[5],t},translation:function(n,t){var i=new s;return i.a=1,i.b=0,i.c=0,i.d=1,i.e=n,i.f=t,i},unit:function(){return new s(1,0,0,1,0,0)},rotation:function(n,t,i){var r=new s;return r.a=Math.cos(n*Math.PI/180),r.b=Math.sin(n*Math.PI/180),r.c=-r.b,r.d=r.a,r.e=t-t*r.a+i*r.b||0,r.f=i-i*r.a-t*r.b||0,r},scaling:function(n,t){var i=new s;return i.a=n,i.b=0,i.c=0,i.d=t,i.e=0,i.f=0,i},parse:function(n){var t,i;if(n){if(n=n.trim(),n.slice(0,6).toLowerCase()==="matrix"){if(i=n.slice(7,n.length-1).trim(),t=i.split(","),t.length===6)return s.fromList(k(t,function(n){return parseFloat(n)}));if(t=i.split(" "),t.length===6)return s.fromList(k(t,function(n){return parseFloat(n)}))}if(n.slice(0,1)==="("&&n.slice(n.length-1)===")"&&(n=n.substr(1,n.length-1)),n.indexOf(",")>0&&(t=n.split(","),t.length===6))return s.fromList(k(t,function(n){return parseFloat(n)}));if(n.indexOf(" ")>0&&(t=n.split(" "),t.length===6))return s.fromList(k(t,function(n){return parseFloat(n)}))}return t}});tt=y.extend({init:function(n,t,i,r,u,f){this.a=n||0;this.b=t||0;this.c=i||0;this.d=r||0;this.e=u||0;this.f=f||0},fromMatrix:function(n){var t=new tt;return t.a=n.a,t.b=n.b,t.c=n.c,t.d=n.d,t.e=n.e,t.f=n.f,t}});var lt={_distanceToLineSquared:function(n,t,i){function e(n,t){return(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y)}if(t===i)return e(n,t);var u=i.x-t.x,f=i.y-t.y,r=(n.x-t.x)*u+(n.y-t.y)*f;return r<0?e(t,n):(r=(i.x-n.x)*u+(i.y-n.y)*f,r<0)?e(i,n):(r=(i.x-n.x)*f-(i.y-n.y)*u,r*r/(u*u+f*f))},distanceToLine:function(n,t,i){return Math.sqrt(this._distanceToLineSquared(n,t,i))},distanceToPolyline:function(n,t){var u=Number.MAX_VALUE,r;if(i.isUndefined(t)||t.length===0)return Number.MAX_VALUE;for(r=0;r<t.length-1;r++){var e=t[r],o=t[r+1],f=this._distanceToLineSquared(n,e,o);f<u&&(u=f)}return Math.sqrt(u)}},w=u.Class.extend({init:function(){this._buckets=[];this.length=0},add:function(n,t){var r=this._createGetBucket(n);return i.isDefined(t)&&(r.value=t),r},get:function(n){return this._bucketExists(n)?this._createGetBucket(n):null},set:function(n,t){this.add(n,t)},containsKey:function(n){return this._bucketExists(n)},remove:function(n){if(this._bucketExists(n)){var t=this._hash(n);return delete this._buckets[t],this.length--,n}},forEach:function(n){for(var f,r,u=this._hashes(),t=0,e=u.length;t<e;t++)(f=u[t],r=this._buckets[f],i.isUndefined(r))||n(r)},clone:function(){for(var f,n,r=new w,u=this._hashes(),t=0,e=u.length;t<e;t++)(f=u[t],n=this._buckets[f],i.isUndefined(n))||r.add(n.key,n.value);return r},_hashes:function(){var n=[];for(var t in this._buckets)this._buckets.hasOwnProperty(t)&&n.push(t);return n},_bucketExists:function(n){var t=this._hash(n);return i.isDefined(this._buckets[t])},_createGetBucket:function(n){var r=this._hash(n),t=this._buckets[r];return i.isUndefined(t)&&(t={key:n},this._buckets[r]=t,this.length++),t},_hash:function(n){if(i.isNumber(n))return n;if(i.isString(n))return this._hashString(n);if(i.isObject(n))return this._objectHashId(n);throw"Unsupported key type.";},_hashString:function(n){var t=0,i,r;if(n.length===0)return t;for(i=0;i<n.length;i++)r=n.charCodeAt(i),t=t*32-t+r;return t},_objectHashId:function(n){var t=n._hashId;return i.isUndefined(t)&&(t=p(),n._hashId=t),t}}),h=u.Observable.extend({init:function(t){var f=this,r;if(u.Observable.fn.init.call(f),this._hashTable=new w,this.length=0,i.isDefined(t))if(n.isArray(t))for(r=0;r<t.length;r++)this.add(t[r]);else t.forEach(function(n,t){this.add(n,t)},this)},add:function(n,t){var i=this._hashTable.get(n);i||(i=this._hashTable.add(n),this.length++,this.trigger("changed"));i.value=t},set:function(n,t){this.add(n,t)},get:function(n){var t=this._hashTable.get(n);if(t)return t.value;throw new Error("Cannot find key "+n);},containsKey:function(n){return this._hashTable.containsKey(n)},remove:function(n){if(this.containsKey(n))return this.trigger("changed"),this.length--,this._hashTable.remove(n)},forEach:function(n,t){this._hashTable.forEach(function(i){n.call(t,i.key,i.value)})},forEachValue:function(n,t){this._hashTable.forEach(function(i){n.call(t,i.value)})},forEachKey:function(n,t){this._hashTable.forEach(function(i){n.call(t,i.key)})},keys:function(){var n=[];return this.forEachKey(function(t){n.push(t)}),n}}),rt=u.Class.extend({init:function(){this._tail=null;this._head=null;this.length=0},enqueue:function(n){var t={value:n,next:null};this._head?(this._tail.next=t,this._tail=this._tail.next):(this._head=t,this._tail=this._head);this.length++},dequeue:function(){if(this.length<1)throw new Error("The queue is empty.");var n=this._head.value;return this._head=this._head.next,this.length--,n},contains:function(n){for(var t=this._head;t;){if(t.value===n)return!0;t=t.next}return!1}}),at=u.Observable.extend({init:function(n){var t=this;u.Observable.fn.init.call(t);this._hashTable=new w;this.length=0;i.isDefined(n)&&(n instanceof w?n.forEach(function(n){this.add(n)}):n instanceof h&&n.forEach(function(n,t){this.add({key:n,value:t})},this))},contains:function(n){return this._hashTable.containsKey(n)},add:function(n){var t=this._hashTable.get(n);t||(this._hashTable.add(n,n),this.length++,this.trigger("changed"))},get:function(n){return this.contains(n)?this._hashTable.get(n).value:null},hash:function(n){return this._hashTable._hash(n)},remove:function(n){this.contains(n)&&(this._hashTable.remove(n),this.length--,this.trigger("changed"))},forEach:function(n,t){this._hashTable.forEach(function(t){n(t.value)},t)},toArray:function(){var n=[];return this.forEach(function(t){n.push(t)}),n}}),c=u.Class.extend({init:function(n,t){if(this.links=[],this.outgoing=[],this.incoming=[],this.weight=1,this.id=i.isDefined(n)?n:p(),i.isDefined(t)){this.associatedShape=t;var r=t.bounds();this.width=r.width;this.height=r.height;this.x=r.x;this.y=r.y}else this.associatedShape=null;this.data=null;this.type="Node";this.shortForm="Node '"+this.id+"'";this.isVirtual=!1},isIsolated:function(){return i.isEmpty(this.links)},bounds:function(n){if(!i.isDefined(n))return new l.Rect(this.x,this.y,this.width,this.height);this.x=n.x;this.y=n.y;this.width=n.width;this.height=n.height},isLinkedTo:function(n){var t=this;return i.any(t.links,function(i){return i.getComplement(t)===n})},getChildren:function(){var t,n,i,r;if(this.outgoing.length===0)return[];for(t=[],n=0,i=this.outgoing.length;n<i;n++)r=this.outgoing[n],t.push(r.getComplement(this));return t},getParents:function(){var t,n,i,r;if(this.incoming.length===0)return[];for(t=[],n=0,i=this.incoming.length;n<i;n++)r=this.incoming[n],t.push(r.getComplement(this));return t},clone:function(){var n=new c;return i.isDefined(this.weight)&&(n.weight=this.weight),i.isDefined(this.balance)&&(n.balance=this.balance),i.isDefined(this.owner)&&(n.owner=this.owner),n.associatedShape=this.associatedShape,n.x=this.x,n.y=this.y,n.width=this.width,n.height=this.height,n},adjacentTo:function(n){return this.isLinkedTo(n)!==null},removeLink:function(n){n.source===this&&(i.remove(this.links,n),i.remove(this.outgoing,n),n.source=null);n.target===this&&(i.remove(this.links,n),i.remove(this.incoming,n),n.target=null)},hasLinkTo:function(n){return i.any(this.outgoing,function(t){return t.target===n})},degree:function(){return this.links.length},incidentWith:function(n){return e(this.links,n)},getLinksWith:function(n){return i.all(this.links,function(t){return t.getComplement(this)===n},this)},getNeighbors:function(){var n=[];return i.forEach(this.incoming,function(t){n.push(t.getComplement(this))},this),i.forEach(this.outgoing,function(t){n.push(t.getComplement(this))},this),n}}),b=u.Class.extend({init:function(n,t,r,u){if(i.isUndefined(n))throw"The source of the new link is not set.";if(i.isUndefined(t))throw"The target of the new link is not set.";var f,e;f=i.isString(n)?new c(n):n;e=i.isString(t)?new c(t):t;this.source=f;this.target=e;this.source.links.push(this);this.target.links.push(this);this.source.outgoing.push(this);this.target.incoming.push(this);this.id=i.isDefined(r)?r:p();this.associatedConnection=i.isDefined(u)?u:null;this.type="Link";this.shortForm="Link '"+this.source.id+"->"+this.target.id+"'"},getComplement:function(n){if(this.source!==n&&this.target!==n)throw"The given node is not incident with this link.";return this.source===n?this.target:this.source},getCommonNode:function(n){return this.source===n.source||this.source===n.target?this.source:this.target===n.source||this.target===n.target?this.target:null},isBridging:function(n,t){return this.source===n&&this.target===t||this.source===t&&this.target===n},getNodes:function(){return[this.source,this.target]},incidentWith:function(n){return this.source===n||this.target===n},adjacentTo:function(n){return e(this.source.links,n)||e(this.target.links,n)},changeSource:function(n){i.remove(this.source.links,this);i.remove(this.source.outgoing,this);n.links.push(this);n.outgoing.push(this);this.source=n},changeTarget:function(n){i.remove(this.target.links,this);i.remove(this.target.incoming,this);n.links.push(this);n.incoming.push(this);this.target=n},changesNodes:function(n,t){this.source===n?this.changeSource(t):this.target===n&&this.changeTarget(t)},reverse:function(){var n=this.source,t=this.target;return this.source=t,i.remove(n.outgoing,this),this.source.outgoing.push(this),this.target=n,i.remove(t.incoming,this),this.target.incoming.push(this),this},directTo:function(n){if(this.source!==n&&this.target!==n)throw"The given node is not incident with this link.";this.target!==n&&this.reverse()},createReverseEdge:function(){var n=this.clone();return n.reverse(),n.reversed=!0,n},clone:function(){return new b(this.source,this.target)}}),o=u.Class.extend({init:function(n){this.links=[];this.nodes=[];this.diagram=null;this._root=null;i.isDefined(n)?i.isString(n)?this.id=n:(this.diagram=n,this.id=n.id):this.id=p();this.bounds=new f;this._hasCachedRelationships=!1;this.type="Graph"},cacheRelationships:function(n){var r,u,t;if(i.isUndefined(n)&&(n=!1),!this._hasCachedRelationships||n){for(r=0,u=this.nodes.length;r<u;r++)t=this.nodes[r],t.children=this.getChildren(t),t.parents=this.getParents(t);this._hasCachedRelationships=!0}},assignLevels:function(n,t,r){var e,u,o,f;if(!n)throw"Start node not specified.";for(i.isUndefined(t)&&(t=0),this.cacheRelationships(),i.isUndefined(r)&&(r=new h,i.forEach(this.nodes,function(n){r.add(n,!1)})),r.set(n,!0),n.level=t,e=n.children,u=0,o=e.length;u<o;u++)(f=e[u],f&&!r.get(f))&&this.assignLevels(f,t+1,r)},root:function(n){if(i.isUndefined(n)){if(this._root)return this._root;var t=i.first(this.nodes,function(n){return n.incoming.length===0});return t?t:i.first(this.nodes)}this._root=n},getConnectedComponents:function(){var t,r,u,n,f;for(this.componentIndex=0,this.setItemIndices(),t=i.initArray(this.nodes.length,-1),r=0;r<this.nodes.length;r++)t[r]===-1&&(this._collectConnectedNodes(t,r),this.componentIndex++);for(u=[],n=0;n<this.componentIndex;++n)u[n]=new o;for(n=0;n<t.length;++n)f=u[t[n]],f.addNodeAndOutgoings(this.nodes[n]);return u.sort(function(n,t){return t.nodes.length-n.nodes.length}),u},_collectConnectedNodes:function(n,t){n[t]=this.componentIndex;var r=this.nodes[t];i.forEach(r.links,function(t){var u=t.getComplement(r),i=u.index;n[i]===-1&&this._collectConnectedNodes(n,i)},this)},calcBounds:function(){var n,t,r,i;if(this.isEmpty())return this.bounds=new f,this.bounds;for(n=null,t=0,r=this.nodes.length;t<r;t++)i=this.nodes[t],n=n?n.union(i.bounds()):i.bounds();return this.bounds=n,this.bounds},getSpanningTree:function(n){var r=new o,f=new h,s,c,a,l,v,u,y,k,t,d,p,w;for(r.root=n.clone(),r.root.level=0,r.root.id=n.id,f.add(n,r.root),n.level=0,a=[],l=[],r.nodes.push(r.root),a.push(n),l.push(n),v=1;l.length>0;)for(u=l.pop(),y=0;y<u.links.length;y++)(k=u.links[y],t=k.getComplement(u),e(a,t))||(t.level=u.level+1,v<t.level+1&&(v=t.level+1),e(l,t)||l.push(t),e(a,t)||a.push(t),f.containsKey(u)?s=f.get(u):(s=u.clone(),s.level=u.level,s.id=u.id,f.add(u,s)),f.containsKey(t)?c=f.get(t):(c=t.clone(),c.level=t.level,c.id=t.id,f.add(t,c)),d=new b(s,c),r.addLink(d));for(p=[],w=0;w<v;w++)p.push([]);return i.forEach(r.nodes,function(n){p[n.level].push(n)}),r.treeLevels=p,r.cacheRelationships(),r},takeRandomNode:function(t,r){if(i.isUndefined(t)&&(t=[]),i.isUndefined(r)&&(r=4),this.nodes.length===0)return null;if(this.nodes.length===1)return e(t,this.nodes[0])?null:this.nodes[0];var u=n.grep(this.nodes,function(n){return!e(t,n)&&n.degree()<=r});return i.isEmpty(u)?null:u[i.randomInteger(0,u.length)]},isEmpty:function(){return i.isEmpty(this.nodes)},isHealthy:function(){return i.all(this.links,function(n){return e(this.nodes,n.source)&&e(this.nodes,n.target)},this)},getParents:function(n){if(!this.hasNode(n))throw"The given node is not part of this graph.";return n.getParents()},getChildren:function(n){if(!this.hasNode(n))throw"The given node is not part of this graph.";return n.getChildren()},addLink:function(n,t,r){var u,f,e;if(i.isUndefined(n))throw"The source of the link is not defined.";if(i.isUndefined(t)){if(i.isDefined(n.type)&&n.type==="Link"){this.addExistingLink(n);return}throw"The target of the link is not defined.";}return u=this.getNode(n),i.isUndefined(u)&&(u=this.addNode(n)),f=this.getNode(t),i.isUndefined(f)&&(f=this.addNode(t)),e=new b(u,f),i.isDefined(r)&&(e.owner=r),this.links.push(e),e},removeAllLinks:function(){while(this.links.length>0){var n=this.links[0];this.removeLink(n)}},addExistingLink:function(n){var t,i;this.hasLink(n)||(this.links.push(n),this.hasNode(n.source.id)?(t=this.getNode(n.source.id),n.changeSource(t)):this.addNode(n.source),this.hasNode(n.target.id)?(i=this.getNode(n.target.id),n.changeTarget(i)):this.addNode(n.target))},hasLink:function(n){if(i.isString(n))return i.any(this.links,function(t){return t.id===n});if(n.type==="Link")return e(this.links,n);throw"The given object is neither an identifier nor a Link.";},getNode:function(n){if(i.isUndefined(n))throw"No identifier or Node specified.";return i.isString(n)?i.find(this.nodes,function(t){return t.id==n}):this.hasNode(n)?n:null},hasNode:function(n){if(i.isString(n))return i.any(this.nodes,function(t){return t.id===n});if(i.isObject(n))return i.any(this.nodes,function(t){return t===n});throw"The identifier should be a Node or the Id (string) of a node.";},removeNode:function(n){var t=n,u,r,f,e;if(i.isString(n)&&(t=this.getNode(n)),i.isDefined(t)){for(u=t.links,t.links=[],r=0,f=u.length;r<f;r++)e=u[r],this.removeLink(e);i.remove(this.nodes,t)}else throw"The identifier should be a Node or the Id (string) of a node.";},areConnected:function(n,t){return i.any(this.links,function(i){return i.source==n&&i.target==t||i.source==t&&i.target==n})},removeLink:function(n){i.remove(this.links,n);i.remove(n.source.outgoing,n);i.remove(n.source.links,n);i.remove(n.target.incoming,n);i.remove(n.target.links,n)},addNode:function(n,t,r){var u=null;if(!i.isDefined(n))throw"No Node or identifier for a new Node is given.";if(i.isString(n)){if(this.hasNode(n))return this.getNode(n);u=new c(n)}else{if(this.hasNode(n))return this.getNode(n);u=n}return i.isDefined(t)&&u.bounds(t),i.isDefined(r)&&(u.owner=r),this.nodes.push(u),u},addNodeAndOutgoings:function(n){e(this.nodes,n)||this.nodes.push(n);var t=n.outgoing;n.outgoing=[];i.forEach(t,function(n){this.addExistingLink(n)},this)},setItemIndices:function(){for(var n=0;n<this.nodes.length;++n)this.nodes[n].index=n;for(n=0;n<this.links.length;++n)this.links[n].index=n},clone:function(n){var t=new o,u=i.isDefined(n)&&n===!0,r;return u&&(t.nodeMap=new h,t.linkMap=new h),r=new h,i.forEach(this.nodes,function(n){var i=n.clone();r.set(n,i);t.nodes.push(i);u&&t.nodeMap.set(i,n)}),i.forEach(this.links,function(n){if(r.containsKey(n.source)&&r.containsKey(n.target)){var i=t.addLink(r.get(n.source),r.get(n.target));u&&t.linkMap.set(i,n)}}),t},linearize:function(n){return o.Utils.linearize(this,n)},depthFirstTraversal:function(n,t){if(i.isUndefined(n))throw"You need to supply a starting node.";if(i.isUndefined(t))throw"You need to supply an action.";if(!this.hasNode(n))throw"The given start-node is not part of this graph";var r=this.getNode(n);this._dftIterator(r,t,[])},_dftIterator:function(n,t,i){var u,r,o,f;for(t(n),i.push(n),u=n.getChildren(),r=0,o=u.length;r<o;r++)(f=u[r],e(i,f))||this._dftIterator(f,t,i)},breadthFirstTraversal:function(n,t){var u,s,f,c,o;if(i.isUndefined(n))throw"You need to supply a starting node.";if(i.isUndefined(t))throw"You need to supply an action.";if(!this.hasNode(n))throw"The given start-node is not part of this graph";var l=this.getNode(n),r=new rt,h=[];for(r.enqueue(l);r.length>0;)for(u=r.dequeue(),t(u),h.push(u),s=u.getChildren(),f=0,c=s.length;f<c;f++)(o=s[f],e(h,o)||e(r,o))||r.enqueue(o)},_stronglyConnectedComponents:function(n,t,i,r,u,f,o){var l,s,h,a,c;for(i.add(t,o),r.add(t,o),o++,f.push(t),l=t.getChildren(),h=0,a=l.length;h<a;h++)s=l[h],i.containsKey(s)?e(f,s)&&r.add(t,Math.min(r.get(t),i.get(s))):(this._stronglyConnectedComponents(n,s,i,r,u,f,o),r.add(t,Math.min(r.get(t),r.get(s))));if(r.get(t)===i.get(t)){c=[];do s=f.pop(),c.push(s);while(s!==t);(!n||c.length>1)&&u.push(c)}},findCycles:function(n){var t,e,r;i.isUndefined(n)&&(n=!0);var u=new h,o=new h,f=[],s=[];for(t=0,e=this.nodes.length;t<e;t++)(r=this.nodes[t],u.containsKey(r))||this._stronglyConnectedComponents(n,r,u,o,f,s,0);return f},isAcyclic:function(){return i.isEmpty(this.findCycles())},isSubGraph:function(n){var t=n.linearize(),r=this.linearize();return i.all(t,function(n){return e(r,n)})},makeAcyclic:function(){var g,st,ht,v,ct,nt,lt,e,tt,r,u,o,it,w,rt,ut,b,ft,s,at,c,k,et,l,d,a,ot;if(this.isEmpty()||this.nodes.length<=1||this.links.length<=1)return[];if(this.nodes.length==2){if(g=[],this.links.length>1)for(st=this.links[0],ht=st.source,v=0,ct=this.links.length;v<ct;v++)(nt=this.links[v],nt.source!=ht)&&(lt=nt.reverse(),g.push(lt));return g}var f=this.clone(!0),t=this.nodes.length,n=new h,y=function(n){return n.outgoing.length===0?2-t:n.incoming.length===0?t-2:n.outgoing.length-n.incoming.length},p=function(n,i){var r=y(n,t);i.containsKey(r)||i.set(r,[]);i.get(r).push(n)};for(i.forEach(f.nodes,function(t){p(t,n)}),e=[],tt=[];f.nodes.length>0;){if(n.containsKey(2-t))for(it=n.get(2-t);it.length>0;){for(u=it.pop(),w=0;w<u.links.length;w++)rt=u.links[w],r=rt.getComplement(u),o=y(r,t),i.remove(n.get(o),r),r.removeLink(rt),p(r,n);i.remove(f.nodes,u);tt.unshift(u)}if(n.containsKey(t-2))for(ut=n.get(t-2);ut.length>0;){for(r=ut.pop(),b=0;b<r.links.length;b++)ft=r.links[b],u=ft.getComplement(r),o=y(u,t),i.remove(n.get(o),u),u.removeLink(ft),p(u,n);e.push(r);i.remove(f.nodes,r)}if(f.nodes.length>0)for(s=t-3;s>2-t;s--)if(n.containsKey(s)&&n.get(s).length>0){for(at=n.get(s),c=at.pop(),k=0;k<c.links.length;k++)et=c.links[k],l=et.getComplement(c),o=y(l,t),i.remove(n.get(o),l),l.removeLink(et),p(l,n);e.push(c);i.remove(f.nodes,c);break}}for(e=e.concat(tt),d=new h,a=0;a<this.nodes.length;a++)d.set(f.nodeMap.get(e[a]),a);return ot=[],i.forEach(this.links,function(n){d.get(n.source)>d.get(n.target)&&(n.reverse(),ot.push(n))}),ot}});o.Predefined={EightGraph:function(){return o.Utils.parse(["1->2","2->3","3->4","4->1","3->5","5->6","6->7","7->3"])},Mindmap:function(){return o.Utils.parse(["0->1","0->2","0->3","0->4","0->5","1->6","1->7","7->8","2->9","9->10","9->11","3->12","12->13","13->14","4->15","4->16","15->17","15->18","18->19","18->20","14->21","14->22","5->23","23->24","23->25","6->26"])},ThreeGraph:function(){return o.Utils.parse(["1->2","2->3","3->1"])},BinaryTree:function(n){return i.isUndefined(n)&&(n=5),o.Utils.createBalancedTree(n,2)},Linear:function(n){return i.isUndefined(n)&&(n=10),o.Utils.createBalancedTree(n,1)},Tree:function(n,t){return o.Utils.createBalancedTree(n,t)},Forest:function(n,t,i){return o.Utils.createBalancedForest(n,t,i)},Workflow:function(){return o.Utils.parse(["0->1","1->2","2->3","1->4","4->3","3->5","5->6","6->3","6->7","5->4"])},Grid:function(n,t){var i=new l.Graph,r,e,u,f,o;if(n<=0&&t<=0)return i;for(r=0;r<n+1;r++)for(e=null,u=0;u<t+1;u++)f=new c(r.toString()+"."+u.toString()),i.addNode(f),e&&i.addLink(e,f),r>0&&(o=i.getNode((r-1).toString()+"."+u.toString()),i.addLink(o,f)),e=f;return i}};o.Utils={parse:function(n){for(var t,f,r,o=new l.Graph,s=n.slice(),e=0,h=s.length;e<h;e++){if(t=s[e],i.isString(t)){if(t.indexOf("->")<0)throw"The link should be specified as 'a->b'.";if(f=t.split("->"),f.length!=2)throw"The link should be specified as 'a->b'.";r=new b(f[0],f[1]);o.addLink(r)}if(i.isObject(t)){if(!r)throw"Specification found before Link definition.";u.deepExtend(r,t)}}return o},linearize:function(n,t){var r,u,e,f;if(i.isUndefined(n))throw"Expected an instance of a Graph object in slot one.";for(i.isUndefined(t)&&(t=!1),r=[],u=0,e=n.links.length;u<e;u++)f=n.links[u],r.push(f.source.id+"->"+f.target.id),t&&r.push({id:f.id});return r},_addShape:function(n,t,r,f){return i.isUndefined(t)&&(t=new l.Point(0,0)),i.isUndefined(r)&&(r=p()),f=u.deepExtend({width:20,height:20,id:r,radius:10,fill:"#778899",data:"circle",undoable:!1,x:t.x,y:t.y},f),n.addShape(f)},_addConnection:function(n,t,i,r){return n.connect(t,i,r)},createDiagramFromGraph:function(n,t,e,o){var a,g,v,b,h,y,p,k,d,nt,w;if(i.isUndefined(n))throw"The diagram surface is undefined.";if(i.isUndefined(t))throw"No graph specification defined.";i.isUndefined(e)&&(e=!0);i.isUndefined(o)&&(o=!1);var tt=n.element.clientWidth||200,it=n.element.clientHeight||200,l=[],s,c;for(a=0,g=t.nodes.length;a<g;a++)s=t.nodes[a],v=s.position,i.isUndefined(v)&&(v=i.isDefined(s.x)&&i.isDefined(s.y)?new r(s.x,s.y):new r(i.randomInteger(10,tt-20),i.randomInteger(10,it-20))),b={},s.id==="0"||o&&u.deepExtend(b,{width:Math.random()*150+20,height:Math.random()*80+50,data:"rectangle",fill:{color:"#778899"}}),c=this._addShape(n,v,s.id,b),h=c.bounds(),i.isDefined(h)&&(s.x=h.x,s.y=h.y,s.width=h.width,s.height=h.height),l[s.id]=c;for(y=0;y<t.links.length;y++)(p=t.links[y],k=l[p.source.id],i.isUndefined(k))||(d=l[p.target.id],i.isUndefined(d))||this._addConnection(n,k,d,{id:p.id});if(e)for(nt=new n.SpringLayout(n),nt.layoutGraph(t,{limitToView:!1}),w=0;w<t.nodes.length;w++)s=t.nodes[w],c=l[s.id],c.bounds(new f(s.x,s.y,s.width,s.height))},createBalancedTree:function(n,t){var f,s,e,y,h,a;i.isUndefined(n)&&(n=3);i.isUndefined(t)&&(t=3);var r=new l.Graph,v=-1,u=[],o;if(n<=0||t<=0)return r;for(f=new c((++v).toString()),r.addNode(f),r.root=f,u.push(f),s=0;s<n;s++){for(o=[],e=0;e<u.length;e++)for(y=u[e],h=0;h<t;h++)a=new c((++v).toString()),r.addLink(y,a),o.push(a);u=o}return r},createBalancedForest:function(n,t,r){var s,h,a,e,w,v,y;i.isUndefined(n)&&(n=3);i.isUndefined(t)&&(t=3);i.isUndefined(r)&&(r=5);var u=new l.Graph,p=-1,f=[],o;if(n<=0||t<=0||r<=0)return u;for(s=0;s<r;s++)for(h=new c((++p).toString()),u.addNode(h),f=[h],a=0;a<n;a++){for(o=[],e=0;e<f.length;e++)for(w=f[e],v=0;v<t;v++)y=new c((++p).toString()),u.addLink(w,y),o.push(y);f=o}return u},createRandomConnectedGraph:function(n,t,r){var u,a,v,f,s,y,p,h,e,o;if((i.isUndefined(n)&&(n=40),i.isUndefined(t)&&(t=4),i.isUndefined(r)&&(r=!1),u=new l.Graph,a=-1,n<=0)||(v=new c((++a).toString()),u.addNode(v),n===1))return u;if(n>1){for(f=1;f<n;f++){if(s=u.takeRandomNode([],t),!s)break;y=u.addNode(f.toString());u.addLink(s,y)}if(!r&&n>1)for(p=i.randomInteger(1,n),h=0;h<p;h++)e=u.takeRandomNode([],t),o=u.takeRandomNode([],t),e&&o&&!u.areConnected(e,o)&&u.addLink(e,o);return u}},randomDiagram:function(n,t,i,r,f){var e=u.dataviz.diagram.Graph.Utils.createRandomConnectedGraph(t,i,r);o.Utils.createDiagramFromGraph(n,e,!1,f)}};u.deepExtend(l,{init:function(n){u.init(n,l.ui)},Point:r,Intersect:a,Geometry:lt,Rect:f,Size:nt,RectAlign:ht,Matrix:s,MatrixVector:tt,normalVariable:ct,randomId:p,Dictionary:h,HashTable:w,Queue:rt,Set:at,Node:c,Link:b,Graph:o,PathDefiner:ot})}(window.kendo.jQuery),function(n,t){function ri(n){return{x:n.x||0,y:n.y||0,width:n.width||0,height:n.height||0}}function k(n){if(n){var t=n;return fi(t)&&(t={color:t}),t.color&&(t.color=bt(t.color)),t}}function bt(n){return n!=ut?new r.Color(n).toHex():n}function hi(n,t){var i=t.x-n.x,r=t.y-n.y;return f.util.deg(Math.atan2(r,i))}function ui(n,t){for(var f=this.options,e=!1,i,r,u=0;u<t.length;u++)r=t[u],i=n[r],d(i)&&f[r]!==i&&(f[r]=i,e=!0);return e}function a(n,t){return new r.Segment(new o.Point(n,t))}var f=window.kendo,ci=f.Observable,c=f.dataviz.diagram,v=f.Class,e=f.deepExtend,li=f.dataviz,y=c.Point,b=c.Rect,ai=c.RectAlign,p=c.Matrix,rt=c.Utils,vi=rt.isUndefined,d=rt.isNumber,fi=rt.isString,ei=c.MatrixVector,o=f.geometry,r=f.drawing,u=f.util.defined,kt=n.inArray,ut="transparent",g={none:"none",arrowStart:"ArrowStart",filledCircle:"FilledCircle",arrowEnd:"ArrowEnd"},oi=360,l="start",nt="end",ft="width",et="height",ot="x",st="y",vt,yt,ti,pt,wt,ii;c.Markers=g;var tt=v.extend({init:function(n,t){this.x=n;this.y=t},toMatrix:function(){return p.scaling(this.x,this.y)},toString:function(){return f.format("scale({0},{1})",this.x,this.y)},invert:function(){return new tt(1/this.x,1/this.y)}}),w=v.extend({init:function(n,t){this.x=n;this.y=t},toMatrixVector:function(){return new ei(0,0,0,0,this.x,this.y)},toMatrix:function(){return p.translation(this.x,this.y)},toString:function(){return f.format("translate({0},{1})",this.x,this.y)},plus:function(n){this.x+=n.x;this.y+=n.y},times:function(n){this.x*=n;this.y*=n},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){this.Length!==0&&this.times(1/this.length())},invert:function(){return new w(-this.x,-this.y)}}),s=v.extend({init:function(n,t,i){this.x=t||0;this.y=i||0;this.angle=n},toString:function(){return this.x&&this.y?f.format("rotate({0},{1},{2})",this.angle,this.x,this.y):f.format("rotate({0})",this.angle)},toMatrix:function(){return p.rotation(this.angle,this.x,this.y)},center:function(){return new y(this.x,this.y)},invert:function(){return new s(oi-this.angle,this.x,this.y)}});s.create=function(n){return new s(n.angle,n.x,n.y)};s.parse=function(n){var t=n.slice(1,n.length-1).split(","),i=t[0],r=t[1],u=t[2];return new s(i,r,u)};var ht=v.extend({init:function(n,i,r,u,f,e){this.translate=new w(n,i);r!==t&&u!==t&&(this.scale=new tt(r,u));f!==t&&(this.rotate=e?new s(f,e.x,e.y):new s(f))},toString:function(){var n=function(n){return n?n.toString():""};return n(this.translate)+n(this.rotate)+n(this.scale)},render:function(n){n._transform=this;n._renderTransform()},toMatrix:function(){var n=p.unit();return this.translate&&(n=n.times(this.translate.toMatrix())),this.rotate&&(n=n.times(this.rotate.toMatrix())),this.scale&&(n=n.times(this.scale.toMatrix())),n},invert:function(){var r=this.rotate?this.rotate.invert():t,e=r?r.toMatrix():p.unit(),u=this.scale?this.scale.invert():t,o=u?u.toMatrix():p.unit(),i=new y(-this.translate.x,-this.translate.y),f,n;return i=e.times(o).apply(i),f=new w(i.x,i.y),n=new ht,n.translate=f,n.rotate=r,n.scale=u,n}}),it={_setScale:function(){var i=this.options,r=this._originWidth,u=this._originHeight,n=i.width/r,t=i.height/u;d(n)||(n=1);d(t)||(t=1);this._transform.scale=new tt(n,t)},_setTranslate:function(){var n=this.options,t=n.x||0,i=n.y||0;this._transform.translate=new w(t,i)},_initSize:function(){var n=this.options,t=!1;n.autoSize!==!1&&(u(n.width)||u(n.height))&&(this._measure(!0),this._setScale(),t=!0);(u(n.x)||u(n.y))&&(this._setTranslate(),t=!0);t&&this._renderTransform()},_updateSize:function(n){var t=!1;return this.options.autoSize!==!1&&this._diffNumericOptions(n,[ft,et])&&(t=!0,this._measure(!0),this._setScale()),this._diffNumericOptions(n,[ot,st])&&(t=!0,this._setTranslate()),t&&this._renderTransform(),t}},h=v.extend({init:function(n){var t=this;t.options=e({},t.options,n);t.id=t.options.id;t._originSize=b.empty();t._transform=new ht},visible:function(n){return this.drawingContainer().visible(n)},redraw:function(n){n&&n.id&&(this.id=n.id)},position:function(n,t){var i=this.options;if(!u(n))return new y(i.x,i.y);u(t)?(i.x=n,i.y=t):n instanceof y&&(i.x=n.x,i.y=n.y);this._transform.translate=new w(i.x,i.y);this._renderTransform()},rotate:function(n,t){return u(n)&&(this._transform.rotate=new s(n,t.x,t.y),this._renderTransform()),this._transform.rotate||new s(0)},drawingContainer:function(){return this.drawingElement},_renderTransform:function(){var n=this._transform.toMatrix();this.drawingContainer().transform(new o.Matrix(n.a,n.b,n.c,n.d,n.e,n.f))},_hover:function(){},_diffNumericOptions:ui,_measure:function(n){var t,i,r;return!this._measured||n?(i=this._boundingBox()||new o.Rect,r=i.topLeft(),t=new b(r.x,r.y,i.width(),i.height()),this._originSize=t,this._originWidth=t.width,this._originHeight=t.height,this._measured=!0):t=this._originSize,t},_boundingBox:function(){return this.drawingElement.rawBBox()}}),i=h.extend({init:function(n){h.fn.init.call(this,n);n=this.options;n.fill=k(n.fill);n.stroke=k(n.stroke)},options:{stroke:{color:"gray",width:1},fill:{color:ut}},fill:function(n,t){this._fill({color:bt(n),opacity:t})},stroke:function(n,t,i){this._stroke({color:bt(n),width:t,opacity:i})},redraw:function(n){if(n){var t=n.stroke,i=n.fill;t&&this._stroke(k(t));i&&this._fill(k(i));h.fn.redraw.call(this,n)}},_hover:function(n){var u=this.drawingElement,r=this.options,t=r.hover,i;t&&t.fill&&(i=n?k(t.fill):r.fill,u.fill(i.color,i.opacity))},_stroke:function(n){var i=this.options,t;e(i,{stroke:n});n=i.stroke;t=null;n.width>0&&(t={color:n.color,width:n.width,opacity:n.opacity,dashType:n.dashType});this.drawingElement.options.set("stroke",t)},_fill:function(n){var i=this.options,t;e(i,{fill:n});t=i.fill;this.drawingElement.fill(t.color,t.opacity)}}),dt=i.extend({init:function(n){this._textColor(n);i.fn.init.call(this,n);this._font();this._initText();this._initSize()},options:{fontSize:15,fontFamily:"sans-serif",stroke:{width:0},fill:{color:"black"},autoSize:!0},_initText:function(){var n=this.options;this.drawingElement=new r.Text(u(n.text)?n.text:"",new o.Point,{fill:n.fill,font:n.font});this._stroke()},_textColor:function(n){n&&n.color&&e(n,{fill:{color:n.color}})},_font:function(){var n=this.options;n.fontFamily&&u(n.fontSize)?n.font=n.fontSize+"px "+n.fontFamily:delete n.font},content:function(n){return this.drawingElement.content(n)},redraw:function(n){if(n){var t=!1,r=this.options;this._textColor(n);i.fn.redraw.call(this,n);(n.fontFamily||u(n.fontSize))&&(e(r,{fontFamily:n.fontFamily,fontSize:n.fontSize}),this._font(),this.drawingElement.options.set("font",r.font),t=!0);n.text&&(this.content(n.text),t=!0);!this._updateSize(n)&&t&&this._initSize()}}});e(dt.fn,it);var si=i.extend({init:function(n){i.fn.init.call(this,n);this._initPath();this._setPosition()},_setPosition:function(){var n=this.options,t=n.x,i=n.y;(u(t)||u(i))&&this.position(t||0,i||0)},redraw:function(n){n&&(i.fn.redraw.call(this,n),this._diffNumericOptions(n,[ft,et])&&this._drawPath(),this._diffNumericOptions(n,[ot,st])&&this._setPosition())},_initPath:function(){var n=this.options,t=this.drawingElement=new r.Path({fill:n.fill,stroke:n.stroke,closed:!0});this._drawPath()},_drawPath:function(){var r=this.drawingElement,n=ri(this.options),t=n.width,i=n.height;r.segments.elements([a(0,0),a(t,0),a(t,i),a(0,i)])}}),ct=i.extend({init:function(n){i.fn.init.call(this,n);var t=this.options.anchor;this.anchor=new o.Point(t.x,t.y);this.createElement()},options:{stroke:{color:ut,width:0},fill:{color:"black"}},_transformToPath:function(n,t){var i=t.transform();return n&&i&&(n=n.transformCopy(i)),n},redraw:function(n){n&&(n.position&&(this.options.position=n.position),i.fn.redraw.call(this,n))}}),gt=ct.extend({options:{radius:4,anchor:{x:0,y:0}},createElement:function(){var n=this.options;this.drawingElement=new r.Circle(new o.Circle(this.anchor,n.radius),{fill:n.fill,stroke:n.stroke})},positionMarker:function(n){var u=this.options,f=u.position,t=n.segments,i,r;i=f==l?t[0]:t[t.length-1];i&&(r=this._transformToPath(i.anchor(),n),this.drawingElement.transform(o.transform().translate(r.x,r.y)))}}),ni=ct.extend({options:{path:"M 0 0 L 10 5 L 0 10 L 3 5 z",anchor:{x:10,y:5}},createElement:function(){var n=this.options;this.drawingElement=r.Path.parse(n.path,{fill:n.fill,stroke:n.stroke})},positionMarker:function(n){var f=this._linePoints(n),e=f.start,t=f.end,i=o.transform(),r,u;e&&i.rotate(hi(e,t),t);t&&(r=this.anchor,u=t.clone().translate(-r.x,-r.y),i.translate(u.x,u.y));this.drawingElement.transform(i)},_linePoints:function(n){var o=this.options,r=n.segments,i,u,t,f,e;return o.position==l?(t=r[0],t&&(u=t.anchor(),i=t.controlOut(),f=r[1],!i&&f&&(i=f.anchor()))):(t=r[r.length-1],t&&(u=t.anchor(),i=t.controlIn(),e=r[r.length-2],!i&&e&&(i=e.anchor()))),u?{start:this._transformToPath(i,n),end:this._transformToPath(u,n)}:void 0}}),lt={_getPath:function(n){var t=this.drawingElement;return t instanceof r.MultiPath&&(t=n==l?t.paths[0]:t.paths[t.paths.length-1]),t&&t.segments.length?t:void 0},_removeMarker:function(n){var t=this._markers[n];t&&(this.drawingContainer().remove(t.drawingElement),delete this._markers[n])},_createMarkers:function(){var n=this.options,t=n.startCap,i=n.endCap;this._markers={};this._markers[l]=this._createMarker(t,l);this._markers[nt]=this._createMarker(i,nt)},_createMarker:function(n,t){var u=this._getPath(t),i,r;if(!u){this._removeMarker(t);return}return n==g.filledCircle?i=gt:n==g.arrowStart||n==g.arrowEnd?i=ni:this._removeMarker(t),i?(r=new i({position:t}),r.positionMarker(u),this.drawingContainer().append(r.drawingElement),r):void 0},_positionMarker:function(n){var i=this._markers[n],t;i&&(t=this._getPath(n),t?i.positionMarker(t):this._removeMarker(n))},_capMap:{start:"startCap",end:"endCap"},_redrawMarker:function(n,t,i){var u=this.options,r=this._capMap[t],f=i[r],e=!1;return f&&u[r]!=f?(u[r]=f,this._removeMarker(t),this._markers[t]=this._createMarker(f,t),e=!0):n&&!this._markers[t]&&u[r]&&(this._markers[t]=this._createMarker(u[r],t),e=!0),e},_redrawMarkers:function(n,t){!this._redrawMarker(n,l,t)&&n&&this._positionMarker(l);!this._redrawMarker(n,nt,t)&&n&&this._positionMarker(nt)}},at=i.extend({init:function(n){i.fn.init.call(this,n);this.container=new r.Group;this._createElements();this._initSize()},options:{autoSize:!0},drawingContainer:function(){return this.container},data:function(n){var t=this.options;if(n)t.data!=n&&(t.data=n,this._setData(n),this._initSize(),this._redrawMarkers(!0,{}));else return t.data},redraw:function(n){if(n){i.fn.redraw.call(this,n);var r=this.options,t=n.data;u(t)&&r.data!=t?(r.data=t,this._setData(t),this._updateSize(n)||this._initSize(),this._redrawMarkers(!0,n)):(this._updateSize(n),this._redrawMarkers(!1,n))}},_createElements:function(){var n=this.options;this.drawingElement=r.Path.parse(n.data||"",{fill:n.fill,stroke:n.stroke});this.container.append(this.drawingElement);this._createMarkers()},_setData:function(n){var i=this.drawingElement,t=r.Path.parse(n||""),u=t.paths.slice(0);t.paths.elements([]);i.paths.elements(u)}});e(at.fn,it);e(at.fn,lt);vt=i.extend({init:function(n){i.fn.init.call(this,n);this.container=new r.Group;this._initPath();this._createMarkers()},drawingContainer:function(){return this.container},redraw:function(n){if(n){n=n||{};var t=n.from,r=n.to;t&&(this.options.from=t);r&&(this.options.to=r);t||r?(this._drawPath(),this._redrawMarkers(!0,n)):this._redrawMarkers(!1,n);i.fn.redraw.call(this,n)}},_initPath:function(){var n=this.options,t=this.drawingElement=new r.Path({fill:n.fill,stroke:n.stroke});this._drawPath();this.container.append(t)},_drawPath:function(){var n=this.options,r=this.drawingElement,t=n.from||new y,i=n.to||new y;r.segments.elements([a(t.x,t.y),a(i.x,i.y)])}});e(vt.fn,lt);yt=i.extend({init:function(n){i.fn.init.call(this,n);this.container=new r.Group;this._initPath();this._createMarkers()},drawingContainer:function(){return this.container},points:function(n){var t=this.options;if(n)t.points=n,this._updatePath();else return t.points},redraw:function(n){if(n){var t=n.points;i.fn.redraw.call(this,n);t&&this._pointsDiffer(t)?(this.points(t),this._redrawMarkers(!0,n)):this._redrawMarkers(!1,n)}},_initPath:function(){var n=this.options;this.drawingElement=new r.Path({fill:n.fill,stroke:n.stroke});this.container.append(this.drawingElement);n.points&&this._updatePath()},_pointsDiffer:function(n){var i=this.options.points,r=i.length!==n.length,t;if(!r)for(t=0;t<n.length;t++)if(i[t].x!==n[t].x||i[t].y!==n[t].y){r=!0;break}return r},_updatePath:function(){for(var u=this.drawingElement,f=this.options,i=f.points,r=[],n,t=0;t<i.length;t++)n=i[t],r.push(a(n.x,n.y));u.segments.elements(r)},options:{points:[]}});e(yt.fn,lt);ti=h.extend({init:function(n){h.fn.init.call(this,n);this._initImage()},redraw:function(n){n&&(n.source&&this.drawingElement.src(n.source),this._diffNumericOptions(n,[ft,et,ot,st])&&this.drawingElement.rect(this._rect()),h.fn.redraw.call(this,n))},_initImage:function(){var n=this.options,t=this._rect();this.drawingElement=new r.Image(n.source,t,{})},_rect:function(){var n=ri(this.options),t=new o.Point(n.x,n.y),i=new o.Size(n.width,n.height);return new o.Rect(t,i)}});pt=h.extend({init:function(n){this.children=[];h.fn.init.call(this,n);this.drawingElement=new r.Group;this._initSize()},options:{autoSize:!1},append:function(n){this.drawingElement.append(n.drawingContainer());this.children.push(n);this._childrenChange=!0},remove:function(n){this._remove(n)&&(this._childrenChange=!0)},_remove:function(n){var t=kt(n,this.children);if(t>=0)return this.drawingElement.removeAt(t),this.children.splice(t,1),!0},clear:function(){this.drawingElement.clear();this.children=[];this._childrenChange=!0},toFront:function(n){for(var t,i=0;i<n.length;i++)t=n[i],this._remove(t)&&this.append(t)},toBack:function(n){this._reorderChildren(n,0)},toIndex:function(n,t){this._reorderChildren(n,t)},_reorderChildren:function(n,t){for(var r=this.drawingElement,e=r.children.slice(0),o=this.children,c=d(t),u,s,h,f,i=0;i<n.length;i++)f=n[i],h=f.drawingContainer(),u=kt(f,o),u>=0&&(e.splice(u,1),o.splice(u,1),s=c?t:t[i],e.splice(s,0,h),o.splice(s,0,f));r.clear();r.append.apply(r,e)},redraw:function(n){n&&(this._childrenChange?(this._childrenChange=!1,this._updateSize(n)||this._initSize()):this._updateSize(n),h.fn.redraw.call(this,n))},_boundingBox:function(){for(var u=this.children,n,t,i,r=0;r<u.length;r++)t=u[r],t.visible()&&t._includeInBBox!==!1&&(i=t.drawingContainer().bbox(null),i&&(n=n?b.union(n,i):i));return n}});e(pt.fn,it);wt=i.extend({init:function(n){i.fn.init.call(this,n);this._initCircle();this._initSize()},redraw:function(n){if(n){var t=this.options;n.center&&(e(t,{center:n.center}),this._center.move(t.center.x,t.center.y));this._diffNumericOptions(n,["radius"])&&this._circle.setRadius(t.radius);this._updateSize(n);i.fn.redraw.call(this,n)}},_initCircle:function(){var n=this.options,i=n.width,f=n.height,t=n.radius,e;u(t)||(u(i)||(i=f),u(f)||(f=i),n.radius=t=Math.min(i,f)/2);e=n.center||{x:t,y:t};this._center=new o.Point(e.x,e.y);this._circle=new o.Circle(this._center,t);this.drawingElement=new r.Circle(this._circle,{fill:n.fill,stroke:n.stroke})}});e(wt.fn,it);ii=v.extend({init:function(n,t){t=t||{};this.element=n;this.surface=r.Surface.create(n,t);f.isFunction(this.surface.translate)&&(this.translate=this._translate);this.drawingElement=new r.Group;this._viewBox=new b(0,0,t.width,t.height);this.size(this._viewBox)},bounds:function(){var n=this.drawingElement.bbox();return new b(0,0,n.width(),n.height())},size:function(n){var t=this._viewBox;return u(n)&&(t.width=n.width,t.height=n.height,this.surface.setSize(n)),{width:t.width,height:t.height}},_translate:function(n,t){var i=this._viewBox;return u(n)&&u(t)&&(i.x=n,i.y=t,this.surface.translate({x:n,y:t})),{x:i.x,y:i.y}},draw:function(){this.surface.draw(this.drawingElement)},append:function(n){return this.drawingElement.append(n.drawingContainer()),this},remove:function(n){this.drawingElement.remove(n.drawingContainer())},insertBefore:function(){},clear:function(){this.drawingElement.clear()},destroy:function(t){this.surface.destroy();t&&n(this.element).remove()}});f.deepExtend(c,{init:function(n){f.init(n,c.ui)},diffNumericOptions:ui,Element:h,Scale:tt,Translation:w,Rotation:s,Circle:wt,Group:pt,Rectangle:si,Canvas:ii,Path:at,Line:vt,MarkerBase:ct,ArrowMarker:ni,CircleMarker:gt,Polyline:yt,CompositeTransform:ht,TextBlock:dt,Image:ti,VisualBase:i})}(window.kendo.jQuery),function(n,t){function nt(n,t){n.isSelected?t.ctrlKey&&n.select(!1):n.diagram.select(n,{addToSelection:t.ctrlKey})}function nr(n){return n.ctrlKey===!1&&n.altKey===!1&&n.shiftKey===!1}function tt(n,t){var i=n!==!1;return n.key&&n.key!="none"&&(i=t[n.key+"Key"]),i}function c(n,t){return t.charCodeAt(0)==n||t.toUpperCase().charCodeAt(0)==n}function or(n,t){var i;return n.x==-1&&n.y==-1?i=t.bottomRight():n.x==1&&n.y==1?i=t.topLeft():n.x==-1&&n.y==1?i=t.topRight():n.x==1&&n.y==-1?i=t.bottomLeft():n.x===0&&n.y==-1?i=t.bottom():n.x===0&&n.y==1?i=t.top():n.x==1&&n.y===0?i=t.left():n.x==-1&&n.y===0&&(i=t.right()),i}var s=window.kendo,wt=s.dataviz,u=wt.diagram,r=s.Class,bt=u.Group,lr=u.TextBlock,e=u.Rect,w=u.Rectangle,h=u.Utils,rt=h.isUndefined,i=u.Point,b=u.Circle,ar=u.Path,kt=u.Ticker,f=s.deepExtend,dt=s.ui.Movable,ut=s.support.browser,l=s.util.defined,ft=n.proxy,o={arrow:"default",grip:"pointer",cross:"pointer",add:"pointer",move:"move",select:"pointer",south:"s-resize",east:"e-resize",west:"w-resize",north:"n-resize",rowresize:"row-resize",colresize:"col-resize"},gt=10,v="Top",k="Right",d="Left",y="Bottom",et=[v,k,y,d,"Auto"],ni="itemRotate",g="itemBoundsChange",ti="zoomStart",ii="zoomEnd",ri=-2e4,ui=2e4,fi=.9,ei=.93,oi=5,ot="transparent",si="pan";u.Cursors=o;var hi=s.Class.extend({init:function(n){this.layoutState=n;this.diagram=n.diagram},initState:function(){function n(n,t){var i=this.diagram.getShapeById(n);i&&(this.subjects.push(i),this.froms.push(i.bounds().topLeft()),this.tos.push(t.topLeft()))}this.froms=[];this.tos=[];this.subjects=[];this.layoutState.nodeMap.forEach(n,this)},update:function(n){if(!(this.subjects.length<=0))for(var t=0;t<this.subjects.length;t++)this.subjects[t].position(new i(this.froms[t].x+(this.tos[t].x-this.froms[t].x)*n,this.froms[t].y+(this.tos[t].y-this.froms[t].y)*n))}}),ci=r.extend({init:function(n,t,i){this.animate=rt(i)?!1:i;this._initialState=n;this._finalState=t;this.title="Diagram layout"},undo:function(){this.setState(this._initialState)},redo:function(){this.setState(this._finalState)},setState:function(n){var t=n.diagram,i;if(this.animate){n.linkMap.forEach(function(n,i){var r=t.getShapeById(n);r.visible(!1);r&&r.points(i)});i=new kt;i.addAdapter(new hi(n));i.onComplete(function(){n.linkMap.forEach(function(n){var i=t.getShapeById(n);i.visible(!0)})});i.play()}else n.nodeMap.forEach(function(n,i){var r=t.getShapeById(n);r&&r.position(i.topLeft())}),n.linkMap.forEach(function(n,i){var r=t.getShapeById(n);r&&r.points(i)})}}),st=r.extend({init:function(n){this.units=[];this.title="Composite unit";n!==t&&this.units.push(n)},add:function(n){this.units.push(n)},undo:function(){for(var n=0;n<this.units.length;n++)this.units[n].undo()},redo:function(){for(var n=0;n<this.units.length;n++)this.units[n].redo()}}),li=r.extend({init:function(n,t,i){this.item=n;this._redoSource=t;this._redoTarget=i;this._undoSource=n.source();this._undoTarget=n.target();this.title="Connection Editing"},undo:function(){this._undoSource!==t&&this.item.source(this._undoSource,!1);this._undoTarget!==t&&this.item.target(this._undoTarget,!1);this.item.updateModel(this._undoSource,this._undoTarget)},redo:function(){this._redoSource!==t&&this.item.source(this._redoSource,!1);this._redoTarget!==t&&this.item.target(this._redoTarget,!1);this.item.updateModel(this._undoSource,this._undoTarget)}}),ai=r.extend({init:function(n,t,i){this.item=n;this._undoSource=t;this._undoTarget=i;this._redoSource=n.source();this._redoTarget=n.target();this.title="Connection Editing"},undo:function(){this.item.source(this._undoSource,!1);this.item.target(this._undoTarget,!1);this.item.updateModel(this._undoSource,this._undoTarget)},redo:function(){this.item.source(this._redoSource,!1);this.item.target(this._redoTarget,!1);this.item.updateModel(this._undoSource,this._undoTarget)}}),vi=r.extend({init:function(n){this.connection=n;this.diagram=n.diagram;this.targetConnector=n.targetConnector;this.title="Delete connection"},undo:function(){this.diagram._addConnection(this.connection,!1)},redo:function(){this.diagram._remove(this.connection,!1)}}),yi=r.extend({init:function(n){this.shape=n;this.diagram=n.diagram;this.title="Deletion"},undo:function(){this.diagram._addShape(this.shape,{undoable:!1});this.shape.select(!1)},redo:function(){this.shape.select(!1);this.diagram._remove(this.shape,!1)}}),ht=r.extend({init:function(n,t,i){var r,u;for(this.shapes=n,this.undoStates=t,this.title="Transformation",this.redoStates=[],this.adorner=i,r=0;r<this.shapes.length;r++)u=this.shapes[r],this.redoStates.push(u.bounds())},undo:function(){for(var t,n=0;n<this.shapes.length;n++)t=this.shapes[n],t.bounds(this.undoStates[n]),t.hasOwnProperty("layout")&&t.layout(t,this.redoStates[n],this.undoStates[n]);this.adorner&&(this.adorner.refreshBounds(),this.adorner.refresh())},redo:function(){for(var t,n=0;n<this.shapes.length;n++)t=this.shapes[n],t.bounds(this.redoStates[n]),t.hasOwnProperty("layout")&&t.layout(t,this.undoStates[n],this.redoStates[n]);this.adorner&&(this.adorner.refreshBounds(),this.adorner.refresh())}}),pi=r.extend({init:function(n,t){this.connection=n;this.diagram=t;this.title="New connection"},undo:function(){this.diagram._remove(this.connection,!1)},redo:function(){this.diagram._addConnection(this.connection,!1)}}),wi=r.extend({init:function(n,t){this.shape=n;this.diagram=t;this.title="New shape"},undo:function(){this.diagram.deselect();this.diagram._remove(this.shape,!1)},redo:function(){this.diagram._addShape(this.shape,!1)}}),bi=r.extend({init:function(n,t,i){this.initial=n;this.finalPos=t;this.diagram=i;this.title="Pan Unit"},undo:function(){this.diagram.pan(this.initial)},redo:function(){this.diagram.pan(this.finalPos)}}),ct=r.extend({init:function(n,t,i){var r,u;for(this.shapes=t,this.undoRotates=i,this.title="Rotation",this.redoRotates=[],this.redoAngle=n._angle,this.adorner=n,this.center=n._innerBounds.center(),r=0;r<this.shapes.length;r++)u=this.shapes[r],this.redoRotates.push(u.rotate().angle)},undo:function(){for(var t,n=0;n<this.shapes.length;n++)t=this.shapes[n],t.rotate(this.undoRotates[n],this.center,!1),t.hasOwnProperty("layout")&&t.layout(t);this.adorner&&(this.adorner._initialize(),this.adorner.refresh())},redo:function(){for(var t,n=0;n<this.shapes.length;n++)t=this.shapes[n],t.rotate(this.redoRotates[n],this.center,!1),t.hasOwnProperty("layout")&&t.layout(t);this.adorner&&(this.adorner._initialize(),this.adorner.refresh())}}),ki=r.extend({init:function(n,t,i){this.diagram=n;this.indices=i;this.items=t;this.title="Rotate Unit"},undo:function(){this.diagram._toIndex(this.items,this.indices)},redo:function(){this.diagram.toFront(this.items,!1)}}),di=r.extend({init:function(n,t,i){this.diagram=n;this.indices=i;this.items=t;this.title="Rotate Unit"},undo:function(){this.diagram._toIndex(this.items,this.indices)},redo:function(){this.diagram.toBack(this.items,!1)}}),gi=r.extend({init:function(){this.stack=[];this.index=0;this.capacity=100},begin:function(){this.composite=new st},cancel:function(){this.composite=t},commit:function(){this.composite.units.length>0&&this._restart(this.composite);this.composite=t},addCompositeItem:function(n){this.composite?this.composite.add(n):this.add(n)},add:function(n,t){this._restart(n,t)},count:function(){return this.stack.length},undo:function(){this.index>0&&(this.index--,this.stack[this.index].undo())},redo:function(){this.stack.length>0&&this.index<this.stack.length&&(this.stack[this.index].redo(),this.index++)},_restart:function(n,t){this.stack.splice(this.index,this.stack.length-this.index);this.stack.push(n);rt(t)||t&&t===!0?this.redo():this.index++;this.stack.length>this.capacity&&(this.stack.splice(0,this.stack.length-this.capacity),this.index=this.capacity)},clear:function(){this.stack=[];this.index=0}}),lt=r.extend({init:function(n){this.toolService=n},start:function(){},move:function(){},end:function(){},tryActivate:function(){return!1},getCursor:function(){return o.arrow}});var at=lt.extend({init:function(t){var i=this,o=s.support.mobileOS?ei:fi,f;lt.fn.init.call(i,t);var r=i.toolService.diagram,e=r.canvas,u=r.scroller=i.scroller=n(r.scrollable).kendoMobileScroller({friction:o,velocityMultiplier:oi,mousewheelScrolling:!1,zoom:!1,scroll:ft(i._move,i)}).data("kendoMobileScroller");e.translate&&(i.movableCanvas=new dt(e.element));f=function(n,t,i){n.makeVirtual();n.virtualSize(t||ri,i||ui)};f(u.dimensions.x);f(u.dimensions.y);u.disable()},tryActivate:function(n,t){var r=this.toolService,i=r.diagram.options.pannable,u=t.ctrlKey;return l(i.key)&&(u=i.key&&i.key!="none"?t[i.key+"Key"]&&!(t.ctrlKey&&l(r.hoveredItem)):nr(t)),i!==!1&&u&&!l(r.hoveredAdorner)&&!l(r._hoveredConnector)},start:function(){this.scroller.enable()},move:function(){},_move:function(n){var u=this,r=u.toolService.diagram,f=r.canvas,t=new i(n.scrollLeft,n.scrollTop);f.translate?(r._storePan(t.times(-1)),u.movableCanvas.moveTo(t),f.translate(t.x,t.y)):t=t.plus(r._pan.times(-1));r.trigger(si,{pan:t})},end:function(){this.scroller.disable()},getCursor:function(){return o.move}}),vt=r.extend({init:function(n){this.toolService=n},tryActivate:function(){return!0},start:function(n,t){var u=this.toolService,r=u.diagram,i=u.hoveredItem,f=r.options.selectable;i&&(tt(f,t)&&nt(i,t),i.adorner&&(this.adorner=i.adorner,this.handle=this.adorner._hitTest(n)));this.handle||(this.handle=r._resizingAdorner._hitTest(n),this.handle&&(this.adorner=r._resizingAdorner));this.adorner&&this.adorner.start(n)},move:function(n){var t=this;this.adorner&&this.adorner.move(t.handle,n)},end:function(n,i){var f=this.toolService.diagram,u=this.toolService,r;this.adorner&&(r=this.adorner.stop(),r&&f.undoRedoService.add(r,!1));u.hoveredItem&&this.toolService.triggerClick({item:u.hoveredItem,point:n,meta:i});this.adorner=t;this.handle=t},getCursor:function(n){return this.toolService.hoveredItem?this.toolService.hoveredItem._getCursor(n):o.arrow}}),yt=r.extend({init:function(n){this.toolService=n},tryActivate:function(n,t){var i=this.toolService,r=tt(i.diagram.options.selectable,t);return r&&!l(i.hoveredItem)&&!l(i.hoveredAdorner)},start:function(n){var t=this.toolService.diagram;t.deselect();t.selector.start(n)},move:function(n){var t=this.toolService.diagram;t.selector.move(n)},end:function(n,t){var i=this.toolService.diagram,r=this.toolService.hoveredItem,u=i.selector.bounds();r&&r.isSelected||t.ctrlKey||i.deselect();u.isEmpty()||i.selectArea(u);i.selector.end()},getCursor:function(){return o.arrow}}),tr=r.extend({init:function(n){this.toolService=n;this.type="ConnectionTool"},tryActivate:function(){return this.toolService._hoveredConnector},start:function(n,t){var r=this.toolService.diagram,i=this.toolService._hoveredConnector,u=r.connect(i._c,n);this.toolService._connectionManipulation(u,i._c.shape,!0);this.toolService._removeHover();nt(this.toolService.activeConnection,t)},move:function(n){return this.toolService.activeConnection.target(n),!0},end:function(){var n=this.toolService.activeConnection,i=this.toolService.hoveredItem,t=this.toolService._hoveredConnector;t&&t._c!=n.sourceConnector?n.target(t._c):i&&n.target(i);n.updateModel();this.toolService._connectionManipulation()},getCursor:function(){return o.arrow}}),pt=r.extend({init:function(n){this.toolService=n;this.type="ConnectionTool"},tryActivate:function(n,t){var r=this.toolService,f=r.diagram,e=f.options.selectable,i=r.hoveredItem,u=tt(e,t)&&i&&i.path&&!(i.isSelected&&t.ctrlKey);return u&&(this._c=i),u},start:function(n,t){nt(this._c,t);this.handle=this._c.adorner._hitTest(n);this._c.adorner.start(n)},move:function(n){return this._c.adorner.move(this.handle,n),!0},end:function(n,t){this.toolService.triggerClick({item:this._c,point:n,meta:t});var i=this._c.adorner.stop(n);this.toolService.diagram.undoRedoService.add(i,!1)},getCursor:function(){return o.move}});var ir=r.extend({init:function(n){this.diagram=n;this.tools=[new at(this),new pt(this),new tr(this),new yt(this),new vt(this)];this.activeTool=t},start:function(n,t){return t=f({},t),this.activeTool&&this.activeTool.end(n,t),this._updateHoveredItem(n),this._activateTool(n,t),this.activeTool.start(n,t),this._updateCursor(n),this.diagram.focus(),this.startPoint=n,!0},move:function(n,t){t=f({},t);var i=!0;return this.activeTool&&(i=this.activeTool.move(n,t)),i&&this._updateHoveredItem(n),this._updateCursor(n),!0},end:function(n,i){return i=f({},i),this.activeTool&&this.activeTool.end(n,i),this.activeTool=t,this._updateCursor(n),!0},keyDown:function(n,t){var i=this.diagram;if(t=f({ctrlKey:!1,metaKey:!1,altKey:!1},t),(t.ctrlKey||t.metaKey)&&!t.altKey){if(c(n,"a"))return i.selectAll(),i._destroyToolBar(),!0;if(c(n,"z"))return i.undo(),i._destroyToolBar(),!0;if(c(n,"y"))return i.redo(),i._destroyToolBar(),!0;c(n,"c")?(i.copy(),i._destroyToolBar()):c(n,"x")?(i.cut(),i._destroyToolBar()):c(n,"v")?(i.paste(),i._destroyToolBar()):c(n,"l")?(i.layout(),i._destroyToolBar()):c(n,"d")&&(i._destroyToolBar(),i.copy(),i.paste())}else{if(n===46||n===8)return i.remove(i.select(),!0),i._destroyToolBar(),!0;if(n===27)return this._discardNewConnection(),i.deselect(),i._destroyToolBar(),!0}},wheel:function(n,t){var r=this.diagram,o=t.delta,i=r.zoom(),f=r.options,e=f.zoomRate,u={point:n,meta:t,zoom:i};return r.trigger(ti,u),o<0?i+=e:i-=e,i=s.dataviz.round(Math.max(f.minZoom,Math.min(f.maxZoom,i)),2),u.zoom=i,r.zoom(i,u),r.trigger(ii,u),!0},setTool:function(n,t){n.toolService=this;this.tools[t]=n},triggerClick:function(n){this.startPoint.equals(n.point)&&this.diagram.trigger("click",n)},_discardNewConnection:function(){this.newConnection&&(this.diagram.remove(this.newConnection),this.newConnection=t)},_activateTool:function(n,t){for(var r,i=0;i<this.tools.length;i++)if(r=this.tools[i],r.tryActivate(n,t)){this.activeTool=r;break}},_updateCursor:function(n){var t=this.diagram.element,i=this.activeTool?this.activeTool.getCursor(n):this.hoveredAdorner?this.hoveredAdorner._getCursor(n):this.hoveredItem?this.hoveredItem._getCursor(n):o.arrow;t.css({cursor:i});ut.msie&&ut.version==7&&(t[0].style.cssText=t[0].style.cssText)},_connectionManipulation:function(n,i,r){this.activeConnection=n;this.disabledShape=i;this.newConnection=r?this.activeConnection:t},_updateHoveredItem:function(n){var i=this._hitTest(n);i==this.hoveredItem||this.disabledShape&&i==this.disabledShape||(this.hoveredItem&&this.hoveredItem._hover(!1),i&&i.options.enable?(this.hoveredItem=i,this.hoveredItem._hover(!0)):this.hoveredItem=t)},_removeHover:function(){this.hoveredItem&&(this.hoveredItem._hover(!1),this.hoveredItem=t)},_hitTest:function(n){var i,r=this.diagram,e,f,o;if(this._hoveredConnector&&(this._hoveredConnector._hover(!1),this._hoveredConnector=t),r._connectorsAdorner._visible&&(i=r._connectorsAdorner._hitTest(n),i))return i;if(i=this.diagram._resizingAdorner._hitTest(n),i){if(this.hoveredAdorner=r._resizingAdorner,i.x!==0&&i.y!==0)return;i=t}else this.hoveredAdorner=t;if(!this.activeTool||this.activeTool.type!=="ConnectionTool"){for(o=[],f=0;f<r._selectedItems.length;f++)e=r._selectedItems[f],e instanceof u.Connection&&o.push(e);i=this._hitTestItems(o,n)}return i||this._hitTestItems(r.shapes,n)||this._hitTestItems(r.connections,n)},_hitTestItems:function(n,t){for(var u,r,i=n.length-1;i>=0;i--)if(u=n[i],r=u._hitTest(t),r)return r}}),it=s.Class.extend({init:function(){}}),p=it.extend({init:function(n){var t=this;it.fn.init.call(t);this.connection=n},hitTest:function(n){var t=this.getBounds().inflate(10);return t.contains(n)?u.Geometry.distanceToPolyline(n,this.connection.allPoints())<gt:!1},getBounds:function(){for(var n=this.connection.allPoints(),i=n[0],r=n[n.length-1],o=Math.max(i.x,r.x),u=Math.min(i.x,r.x),f=Math.min(i.y,r.y),s=Math.max(i.y,r.y),t=1;t<n.length-1;++t)o=Math.max(o,n[t].x),u=Math.min(u,n[t].x),f=Math.min(f,n[t].y),s=Math.max(s,n[t].y);return new e(u,f,o-u,s-f)}}),rr=p.extend({init:function(n){var t=this;p.fn.init.call(t);this.connection=n},route:function(){}}),ur=p.extend({init:function(n){var t=this;p.fn.init.call(t);this.connection=n},route:function(){function w(){if(f!==null){if(f===k||f===d)return!0;if(f===v||f===y)return!1}return Math.abs(n.x-e.x)>Math.abs(n.y-e.y)}var o=this.connection,n=this.connection.sourcePoint(),e=this.connection.targetPoint(),t=[n,n,e,e],p=e.x-n.x,c=e.y-n.y,u=t.length,l,a,f=null,s=null,r;if(h.isDefined(o._resolvedSourceConnector)&&(f=o._resolvedSourceConnector.options.name),h.isDefined(o._resolvedTargetConnector)&&(s=o._resolvedTargetConnector.options.name),f!==null&&s!==null&&h.contains(et,f)&&h.contains(et,s))f===v||f==y?s==v||s==y?this.connection.points([new i(n.x,n.y+c/2),new i(e.x,n.y+c/2)]):this.connection.points([new i(n.x,n.y+c)]):s==d||s==k?this.connection.points([new i(n.x+p/2,n.y),new i(n.x+p/2,n.y+c)]):this.connection.points([new i(e.x,n.y)]);else{for(this.connection.cascadeStartHorizontal=w(this.connection),r=1;r<u-1;++r)o.cascadeStartHorizontal?r%2!=0?(l=p/(u/2),a=0):(l=0,a=c/((u-1)/2)):r%2!=0?(l=0,a=c/(u/2)):(l=p/((u-1)/2),a=0),t[r]=new i(t[r-1].x+l,t[r-1].y+a);r--;t[u-2]=o.cascadeStartHorizontal&&r%2!=0||!o.cascadeStartHorizontal&&r%2==0?new i(t[u-1].x,t[u-2].y):new i(t[u-2].x,t[u-1].y);this.connection.points([t[1],t[2]])}}}),a=r.extend({init:function(n,t){var i=this;i.diagram=n;i.options=f({},i.options,t);i.visual=new bt;i.diagram._adorners.push(i)},refresh:function(){}}),fr=a.extend({init:function(n,t){var i=this,r,u,e;i.connection=n;r=i.connection.diagram;i._ts=r.toolService;a.fn.init.call(i,r,t);u=i.connection.sourcePoint();e=i.connection.targetPoint();i.spVisual=new b(f(i.options.handles,{center:u}));i.epVisual=new b(f(i.options.handles,{center:e}));i.visual.append(i.spVisual);i.visual.append(i.epVisual)},options:{handles:{}},_getCursor:function(){return o.move},start:function(n){this.handle=this._hitTest(n);this.startPoint=n;this._initialSource=this.connection.source();this._initialTarget=this.connection.target();switch(this.handle){case-1:this.connection.targetConnector&&this._ts._connectionManipulation(this.connection,this.connection.targetConnector.shape);break;case 1:this.connection.sourceConnector&&this._ts._connectionManipulation(this.connection,this.connection.sourceConnector.shape)}},move:function(n,t){switch(n){case-1:this.connection.source(t);break;case 1:this.connection.target(t);break;default:var i=t.minus(this.startPoint);this.startPoint=t;this.connection.sourceConnector||this.connection.source(this.connection.sourcePoint().plus(i));this.connection.targetConnector||this.connection.target(this.connection.targetPoint().plus(i))}return this.refresh(),!0},stop:function(n){var i=this.diagram.toolService,r=i.hoveredItem,f;return f=i._hoveredConnector?i._hoveredConnector._c:r&&r instanceof u.Shape?r:n,this.handle===-1?this.connection.source(f):this.handle===1&&this.connection.target(f),this.handle&&this.connection.updateModel(),this.handle=t,this._ts._connectionManipulation(),new ai(this.connection,this._initialSource,this._initialTarget)},_hitTest:function(n){var t=this.connection.sourcePoint(),i=this.connection.targetPoint(),r=this.options.handles.width/2,u=this.options.handles.height/2,f=new e(t.x,t.y).inflate(r,u),o=new e(i.x,i.y).inflate(r,u);return f.contains(n)?-1:o.contains(n)?1:0},refresh:function(){this.spVisual.redraw({center:this.diagram.modelToLayer(this.connection.sourcePoint())});this.epVisual.redraw({center:this.diagram.modelToLayer(this.connection.targetPoint())})}}),er=a.extend({init:function(n,t){var i=this;a.fn.init.call(i,n,t);i._refreshHandler=function(n){n.item==i.shape&&i.refresh()}},show:function(n){var t=this,u,i,r;for(t._visible=!0,t.shape=n,t.diagram.bind(g,t._refreshHandler),u=n.connectors.length,t.connectors=[],t.visual.clear(),i=0;i<u;i++)r=new cr(n.connectors[i]),t.connectors.push(r),t.visual.append(r.visual);t.visual.visible(!0);t.refresh()},destroy:function(){var n=this;n.diagram.unbind(g,n._refreshHandler);n.shape=t;n._visible=t;n.visual.visible(!1)},_hitTest:function(n){for(var t,i=0;i<this.connectors.length;i++)if(t=this.connectors[i],t._hitTest(n)){t._hover(!0);this.diagram.toolService._hoveredConnector=t;break}},refresh:function(){if(this.shape){var t=this.shape.bounds();t=this.diagram.modelToLayer(t);this.visual.position(t.topLeft());n.each(this.connectors,function(){this.refresh()})}}});var sr=a.extend({init:function(n,t){var i=this;a.fn.init.call(i,n,t);i._manipulating=!1;i.map=[];i.shapes=[];i._initSelection();i._createHandles();i.redraw();i.diagram.bind("select",function(n){i._initialize(n.selected)});i._refreshHandler=function(){i._internalChange||(i.refreshBounds(),i.refresh())};i._rotatedHandler=function(){i.shapes.length==1&&(i._angle=i.shapes[0].rotate().angle);i._refreshHandler()};i.diagram.bind(g,i._refreshHandler).bind(ni,i._rotatedHandler);i.refreshBounds();i.refresh()},options:{editable:{},selectable:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:ot}},offset:10},_initSelection:function(){var n=this,t=n.diagram,i=t.options.selectable,r=f({},n.options.selectable,i);n.rect=new w(r);n.visual.append(n.rect)},_createHandles:function(){var r=this.options.editable,u,i,n,t;if(r&&r.resize)for(u=r.resize.handles,t=-1;t<=1;t++)for(n=-1;n<=1;n++)(t!==0||n!==0)&&(i=new w(u),i.drawingElement._hover=ft(this._hover,this),this.map.push({x:t,y:n,visual:i}),this.visual.append(i))},bounds:function(n){if(n)this._innerBounds=n.clone(),this._bounds=this.diagram.modelToLayer(n).inflate(this.options.offset,this.options.offset);else return this._bounds},_hitTest:function(n){var t=this.diagram.modelToLayer(n),r=this.options.editable,u,f,e,s=this.map.length,o;if(this._angle&&(t=t.clone().rotate(this._bounds.center(),this._angle)),r&&r.rotate&&this._rotationThumbBounds&&this._rotationThumbBounds.contains(t))return new i(-1,-2);if(r&&r.resize)for(u=0;u<s;u++)if(o=this.map[u],f=new i(o.x,o.y),e=this._getHandleBounds(f),e.offset(this._bounds.x,this._bounds.y),e.contains(t))return f;if(this._bounds.contains(t))return new i(0,0)},_getHandleBounds:function(n){var u=this.options.editable;if(u&&u.resize){var f=u.resize.handles||{},i=f.width,r=f.height,t=new e(0,0,i,r);return n.x<0?t.x=-i/2:n.x===0?t.x=Math.floor(this._bounds.width/2)-i/2:n.x>0&&(t.x=this._bounds.width+1-i/2),n.y<0?t.y=-r/2:n.y===0?t.y=Math.floor(this._bounds.height/2)-r/2:n.y>0&&(t.y=this._bounds.height+1-r/2),t}},_getCursor:function(n){var t=this._hitTest(n),r;if(t&&t.x>=-1&&t.x<=1&&t.y>=-1&&t.y<=1&&this.options.editable&&this.options.editable.resize){if(r=this._angle,r&&(r=360-r,t.rotate(new i(0,0),r),t=new i(Math.round(t.x),Math.round(t.y))),t.x==-1&&t.y==-1)return"nw-resize";if(t.x==1&&t.y==1)return"se-resize";if(t.x==-1&&t.y==1)return"sw-resize";if(t.x==1&&t.y==-1)return"ne-resize";if(t.x===0&&t.y==-1)return"n-resize";if(t.x===0&&t.y==1)return"s-resize";if(t.x==1&&t.y===0)return"e-resize";if(t.x==-1&&t.y===0)return"w-resize"}return this._manipulating?o.move:o.select},_initialize:function(){var n=this,t,r,f=n.diagram.select();for(n.shapes=[],t=0;t<f.length;t++)r=f[t],r instanceof u.Shape&&(n.shapes.push(r),r._rotationOffset=new i);n._angle=n.shapes.length==1?n.shapes[0].rotate().angle:0;n._startAngle=n._angle;n._rotates();n._positions();n.refreshBounds();n.refresh();n.redraw()},_rotates:function(){var n=this,t,i;for(n.initialRotates=[],t=0;t<n.shapes.length;t++)i=n.shapes[t],n.initialRotates.push(i.rotate().angle)},_positions:function(){var n=this,t,i;for(n.initialStates=[],t=0;t<n.shapes.length;t++)i=n.shapes[t],n.initialStates.push(i.bounds())},_hover:function(n,t){var u=this.options.editable;if(u&&u.resize){var e=u.resize.handles,r=e.hover,i=e.stroke,o=e.fill;n&&h.isDefined(r.stroke)&&(i=f({},i,r.stroke));n&&h.isDefined(r.fill)&&(o=r.fill);t.stroke(i.color,i.width,i.opacity);t.fill(o.color,o.opacity)}},start:function(n){var t,i;for(this._sp=n,this._cp=n,this._lp=n,this._manipulating=!0,this._internalChange=!0,this.shapeStates=[],t=0;t<this.shapes.length;t++)i=this.shapes[t],this.shapeStates.push(i.bounds())},redraw:function(){for(var i=this,r,t=i.options.editable,u=t.resize,f=t.rotate,e=t&&u?!0:!1,o=t&&f?!0:!1,n=0;n<this.map.length;n++)r=this.map[n],r.visual.visible(e);i.rotationThumb&&i.rotationThumb.visible(o)},angle:function(n){return l(n)&&(this._angle=n),this._angle},rotate:function(){var r=this._innerBounds.center(),t=this.angle(),n,i;for(this._internalChange=!0,n=0;n<this.shapes.length;n++)i=this.shapes[n],t=(t+this.initialRotates[n]-this._startAngle)%360,i.rotate(t,r);this.refresh()},move:function(n,t){var f,c,l=new i,a=new i,v,p,r,o,w,u,b=0,k,d,g,s,y,nt;if(n.y===-2&&n.x===-1){for(p=this._innerBounds.center(),this._angle=this._truncateAngle(h.findAngle(p,t)),o=0;o<this.shapes.length;o++)r=this.shapes[o],w=(this._angle+this.initialRotates[o]-this._startAngle)%360,r.rotate(w,p),r.hasOwnProperty("layout")&&r.layout(r),this._rotating=!0;this.refresh()}else{if(this.diagram.options.snap.enabled===!0){if(s=this._truncateDistance(t.minus(this._lp)),s.x===0&&s.y===0){this._cp=t;return}f=s;this._lp=new i(this._lp.x+s.x,this._lp.y+s.y)}else f=t.minus(this._cp);for(n.x===0&&n.y===0?(a=l=f,c=!0):(this._angle&&f.rotate(new i(0,0),this._angle),n.x==-1?l.x=f.x:n.x==1&&(a.x=f.x),n.y==-1?l.y=f.y:n.y==1&&(a.y=f.y)),c||(k=or(n,this._innerBounds),d=(this._innerBounds.width+f.x*n.x)/this._innerBounds.width,g=(this._innerBounds.height+f.y*n.y)/this._innerBounds.height),o=0;o<this.shapes.length;o++)r=this.shapes[o],v=r.bounds(),c?u=this._displaceBounds(v,l,a,c):(u=v.clone(),u.scale(d,g,k,this._innerBounds.center(),r.rotate().angle),y=u.center(),y.rotate(v.center(),-this._angle),u=new e(y.x-u.width/2,y.y-u.height/2,u.width,u.height)),u.width>=r.options.minWidth&&u.height>=r.options.minHeight&&(nt=v,r.bounds(u),r.hasOwnProperty("layout")&&r.layout(r,nt,u),r.rotate(r.rotate().angle),b+=1);b==o&&(u=this._displaceBounds(this._innerBounds,l,a,c),this.bounds(u),this.refresh());this._positions()}this._cp=t},_truncatePositionToGuides:function(n){return this.diagram.ruler?this.diagram.ruler.truncatePositionToGuides(n):n},_truncateSizeToGuides:function(n){return this.diagram.ruler?this.diagram.ruler.truncateSizeToGuides(n):n},_truncateAngle:function(n){var t=Math.max(this.diagram.options.snap.angle,5);return this.diagram.options.snap.enabled===!0?Math.floor(n%360/t)*t:n%360},_truncateDistance:function(n){if(n instanceof u.Point)return new u.Point(this._truncateDistance(n.x),this._truncateDistance(n.y));var t=Math.max(this.diagram.options.snap.size,5);return this.diagram.options.snap.enabled===!0?Math.floor(n/t)*t:n},_displaceBounds:function(n,t,i,r){var o=n.topLeft().plus(t),s=n.bottomRight().plus(i),u=e.fromPoints(o,s),f;return r||(f=u.center(),f.rotate(n.center(),-this._angle),u=new e(f.x-u.width/2,f.y-u.height/2,u.width,u.height)),u},stop:function(){var u,n,i,r;if(this._cp!=this._sp)if(this._rotating)u=new ct(this,this.shapes,this.initialRotates),this._rotating=!1;else{if(this.diagram.ruler)for(n=0;n<this.shapes.length;n++)i=this.shapes[n],r=i.bounds(),r=this._truncateSizeToGuides(this._truncatePositionToGuides(r)),i.bounds(r),this.refreshBounds(),this.refresh();for(n=0;n<this.shapes.length;n++)i=this.shapes[n],i.updateModel();u=new ht(this.shapes,this.shapeStates,this)}return this._manipulating=t,this._internalChange=t,this._rotating=t,u},refreshBounds:function(){var n=this.shapes.length==1?this.shapes[0].bounds().clone():this.diagram.boundingBox(this.shapes,!0);this.bounds(n)},refresh:function(){var o=this,u,t,f,r;this.shapes.length>0?(t=this.bounds(),this.visual.visible(!0),this.visual.position(t.topLeft()),n.each(this.map,function(){u=o._getHandleBounds(new i(this.x,this.y));this.visual.position(u.topLeft())}),this.visual.position(t.topLeft()),f=new i(t.width/2,t.height/2),this.visual.rotate(this._angle,f),this.rect.redraw({width:t.width,height:t.height}),this.rotationThumb&&(r=this.options.editable.rotate.thumb,this._rotationThumbBounds=new e(t.center().x,t.y+r.y,0,0).inflate(r.width),this.rotationThumb.redraw({x:t.width/2-r.width/2}))):this.visual.visible(!1)}}),hr=r.extend({init:function(n){var t=n.options.selectable;this.options=f({},this.options,t);this.visual=new w(this.options);this.diagram=n},options:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:ot}},start:function(n){this._sp=this._ep=n;this.refresh();this.diagram._adorn(this,!0)},end:function(){this._sp=this._ep=t;this.diagram._adorn(this,!1)},bounds:function(n){return n&&(this._bounds=n),this._bounds},move:function(n){this._ep=n;this.refresh()},refresh:function(){if(this._sp){var n=e.fromPoints(this.diagram.modelToLayer(this._sp),this.diagram.modelToLayer(this._ep));this.bounds(e.fromPoints(this._sp,this._ep));this.visual.position(n.topLeft());this.visual.redraw({height:n.height+1,width:n.width+1})}}}),cr=r.extend({init:function(n){this.options=f({},n.options);this._c=n;this.visual=new b(this.options);this.refresh()},_hover:function(n){var i=this.options,t=i.hover,r=i.stroke,u=i.fill;n&&h.isDefined(t.stroke)&&(r=f({},r,t.stroke));n&&h.isDefined(t.fill)&&(u=t.fill);this.visual.redraw({stroke:r,fill:u})},refresh:function(){var n=this._c.shape.diagram.modelToView(this._c.position()),t=n.minus(this._c.shape.bounds("transformed").topLeft()),r=new e(n.x,n.y,0,0);r.inflate(this.options.width/2,this.options.height/2);this._visualBounds=r;this.visual.redraw({center:new i(t.x,t.y)})},_hitTest:function(n){var t=this._c.shape.diagram.modelToView(n);return this._visualBounds.contains(t)}});f(u,{CompositeUnit:st,TransformUnit:ht,PanUndoUnit:bi,AddShapeUnit:wi,AddConnectionUnit:pi,DeleteShapeUnit:yi,DeleteConnectionUnit:vi,ConnectionEditAdorner:fr,UndoRedoService:gi,ResizingAdorner:sr,Selector:hr,ToolService:ir,ConnectorsAdorner:er,LayoutUndoUnit:ci,ConnectionEditUnit:li,ToFrontUnit:ki,ToBackUnit:di,ConnectionRouterBase:it,PolylineRouter:rr,CascadingRouter:ur,SelectionTool:yt,ScrollerTool:at,PointerTool:vt,ConnectionEditTool:pt,RotateUnit:ct})}(window.kendo.jQuery),function(n){var e=window.kendo,u=e.dataviz.diagram,w=u.Graph,y=u.Node,p=u.Link,k=e.deepExtend,o=u.Size,f=u.Rect,i=u.Dictionary,c=u.Set,d=u.Graph,t=u.Utils,r=u.Point,a=1e-6,b=Math.PI/180,s=t.contains,l=n.grep,h=e.Class.extend({defaultOptions:{type:"Tree",subtype:"Down",roots:null,animate:!1,limitToView:!1,friction:.9,nodeDistance:50,iterations:300,horizontalSeparation:90,verticalSeparation:50,underneathVerticalTopOffset:15,underneathHorizontalOffset:15,underneathVerticalSeparation:15,grid:{width:1500,offsetX:50,offsetY:50,componentSpacingX:20,componentSpacingY:20},layerSeparation:50,layeredIterations:2,startRadialAngle:0,endRadialAngle:360,radialSeparation:150,radialFirstLevelSeparation:200,keepComponentsInOneRadialLayout:!1,ignoreContainers:!0,layoutContainerChildren:!1,ignoreInvisible:!0,animateTransitions:!1},init:function(){},gridLayoutComponents:function(n){var u,h,f,e;if(!n)throw"No components supplied.";t.forEach(n,function(n){n.calcBounds()});n.sort(function(n,t){return t.bounds.width-n.bounds.width});for(var y=this.options.grid.width,p=this.options.grid.componentSpacingX,w=this.options.grid.componentSpacingY,o=0,c=this.options.grid.offsetX,b=this.options.grid.offsetY,s=c,l=b,i,a=[],v=[];n.length>0;){for(s>=y&&(s=c,l+=o+w,o=0),u=n.pop(),this.moveToOffset(u,new r(s,l)),i=0;i<u.nodes.length;i++)v.push(u.nodes[i]);for(i=0;i<u.links.length;i++)a.push(u.links[i]);h=u.bounds;f=h.height;(f<=0||isNaN(f))&&(f=0);e=h.width;(e<=0||isNaN(e))&&(e=0);f>=o&&(o=f);s+=e+p}return{nodes:v,links:a}},moveToOffset:function(n,t){for(var e,h=n.bounds,c=t.x-h.x,l=t.y-h.y,a,i,o,v,y,s,u=0;u<n.nodes.length;u++)a=n.nodes[u],i=a.bounds(),i.width===0&&i.height===0&&i.x===0&&i.y===0&&(i=new f(0,0,0,0)),i.x+=c,i.y+=l,a.bounds(i);for(u=0;u<n.links.length;u++)if(o=n.links[u],o.points){for(v=[],y=o.points,e=0;e<y.length;e++)s=y[e],s.x+=c,s.y+=l,v.push(s);o.points=v}return this.currentHorizontalOffset+=h.width+this.options.grid.offsetX,new r(c,l)},transferOptions:function(n){(this.options=e.deepExtend({},this.defaultOptions),t.isUndefined(n))||(this.options=e.deepExtend(this.options,n||{}))}}),v=e.Class.extend({init:function(n){this.nodeMap=new i;this.shapeMap=new i;this.nodes=[];this.edges=[];this.edgeMap=new i;this.finalNodes=[];this.finalLinks=[];this.ignoredConnections=[];this.ignoredShapes=[];this.hyperMap=new i;this.hyperTree=new w;this.finalGraph=null;this.diagram=n},convert:function(n){if(t.isUndefined(this.diagram))throw"No diagram to convert.";return this.options=e.deepExtend({ignoreInvisible:!0,ignoreContainers:!0,layoutContainerChildren:!1},n||{}),this.clear(),this._renormalizeShapes(),this._renormalizeConnections(),this.finalNodes=new i(this.nodes),this.finalLinks=new i(this.edges),this.finalGraph=new w,this.finalNodes.forEach(function(n){this.finalGraph.addNode(n)},this),this.finalLinks.forEach(function(n){this.finalGraph.addExistingLink(n)},this),this.finalGraph},mapConnection:function(n){return this.edgeMap.first(function(t){return s(this.edgeMap.get(t),n)})},mapShape:function(n){for(var i,r=this.nodeMap.keys(),t=0,u=r.length;t<u;t++)if(i=r[t],s(this.nodeMap.get(i),n))return i},getEdge:function(n,i){return t.first(n.links,function(t){return t.getComplement(n)===i})},clear:function(){this.finalGraph=null;this.hyperTree=!this.options.ignoreContainers&&this.options.layoutContainerChildren?new d:null;this.hyperMap=!this.options.ignoreContainers&&this.options.layoutContainerChildren?new i:null;this.nodeMap=new i;this.shapeMap=new i;this.nodes=[];this.edges=[];this.edgeMap=new i;this.ignoredConnections=[];this.ignoredShapes=[];this.finalNodes=[];this.finalLinks=[]},listToRoot:function(n){var i=[],t=n.container;if(!t)return i;for(i.push(t);t.parentContainer;)t=t.parentContainer,i.push(t);return i.reverse(),i},firstNonIgnorableContainer:function(n){return n.isContainer&&!this._isIgnorableItem(n)?n:n.parentContainer?this.firstNonIgnorableContainer(n.parentContainer):null},isContainerConnection:function(n,t){return n.isContainer&&this.isDescendantOf(n,t)?!0:t.isContainer&&this.isDescendantOf(t,n)},isDescendantOf:function(n,t){var u,i,f,r;if(!n.isContainer)throw"Expecting a container.";if(n===t)return!1;if(s(n.children,t))return!0;for(u=[],i=0,f=n.children.length;i<f;i++)r=n.children[i],r.isContainer&&this.isDescendantOf(r,t)&&u.push(r);return u.length>0},isIgnorableItem:function(n){return this.options.ignoreInvisible?n.isCollapsed&&this._isVisible(n)?!1:!n.isCollapsed&&this._isVisible(n)?!1:!0:n.isCollapsed&&!this._isTop(n)},isShapeMapped:function(n){return n.isCollapsed&&!this._isVisible(n)&&!this._isTop(n)},leastCommonAncestor:function(n,i){if(!n)throw"Parameter should not be null.";if(!i)throw"Parameter should not be null.";if(!this.hyperTree)throw"No hypertree available.";var u=this.listToRoot(n),f=this.listToRoot(i),e=null;if(t.isEmpty(u)||t.isEmpty(f))return this.hyperTree.root.data;for(var o=u[0],s=f[0],r=0;o===s;){if(e=u[r],r++,r>=u.length||r>=f.length)break;o=u[r];s=f[r]}return e?l(this.hyperTree.nodes,function(n){return n.data.container===e}):this.hyperTree.root.data},_isTop:function(n){return!n.parentContainer},_isVisible:function(n){return n.visible()?n.parentContainer?this._isVisible(n.parentContainer):n.visible():!1},_isCollapsed:function(n){return n.isContainer&&n.isCollapsed?!0:n.parentContainer&&this._isCollapsed(n.parentContainer)},_renormalizeShapes:function(){var t,r,n,i;if(this.options.ignoreContainers)for(t=0,r=this.diagram.shapes.length;t<r;t++){if(n=this.diagram.shapes[t],this.options.ignoreInvisible&&!this._isVisible(n)||n.isContainer){this.ignoredShapes.push(n);continue}i=new y(n.id,n);i.isVirtual=!1;this.nodeMap.add(i,[n]);this.nodes.push(i)}else throw"Containers are not supported yet, but stay tuned.";},_renormalizeConnections:function(){var f,o,n,t,i,r,u,e;if(this.diagram.connections.length!==0)for(f=0,o=this.diagram.connections.length;f<o;f++){if(n=this.diagram.connections[f],this.isIgnorableItem(n)){this.ignoredConnections.push(n);continue}if(t=n.sourceConnector?n.sourceConnector.shape:null,i=n.targetConnector?n.targetConnector.shape:null,!t||!i){this.ignoredConnections.push(n);continue}if(s(this.ignoredShapes,t)&&!this.shapeMap.containsKey(t)){this.ignoredConnections.push(n);continue}if(s(this.ignoredShapes,i)&&!this.shapeMap.containsKey(i)){this.ignoredConnections.push(n);continue}if(this.shapeMap.containsKey(t)&&(t=this.shapeMap[t]),this.shapeMap.containsKey(i)&&(i=this.shapeMap[i]),r=this.mapShape(t),u=this.mapShape(i),r===u||this.areConnectedAlready(r,u)){this.ignoredConnections.push(n);continue}if(r===null||u===null)throw"A shape was not mapped to a node.";if(this.options.ignoreContainers){if(r.isVirtual||u.isVirtual){this.ignoredConnections.push(n);continue}e=new p(r,u,n.id,n);this.edgeMap.add(e,[n]);this.edges.push(e)}else throw"Containers are not supported yet, but stay tuned.";}},areConnectedAlready:function(n,i){return t.any(this.edges,function(t){return t.source===n&&t.target===i||t.source===i&&t.target===n})}}),g=h.extend({init:function(n){var i=this;if(h.fn.init.call(i),t.isUndefined(n))throw"Diagram is not specified.";this.diagram=n},layout:function(n){var e,f,i,r,o,s;if((this.transferOptions(n),e=new v(this.diagram),f=e.convert(n),!f.isEmpty())&&(i=f.getConnectedComponents(),!t.isEmpty(i))){for(r=0;r<i.length;r++)o=i[r],this.layoutGraph(o,n);return s=this.gridLayoutComponents(i),new u.LayoutState(this.diagram,s)}},layoutGraph:function(n,i){var u,f,r;for(t.isDefined(i)&&this.transferOptions(i),this.graph=n,u=this.options.nodeDistance*9,this.temperature=u,f=this._expectedBounds(),this.width=f.width,this.height=f.height,r=0;r<this.options.iterations;r++)this.refineStage=r>=this.options.iterations*5/6,this.tick(),this.temperature=this.refineStage?u/30:u*(1-r/(2*this.options.iterations))},tick:function(){for(var n,i,t=0;t<this.graph.nodes.length;t++)this._repulsion(this.graph.nodes[t]);for(t=0;t<this.graph.links.length;t++)this._attraction(this.graph.links[t]);for(t=0;t<this.graph.nodes.length;t++){if(n=this.graph.nodes[t],i=Math.sqrt(n.dx*n.dx+n.dy*n.dy),i===0)return;n.x+=Math.min(i,this.temperature)*n.dx/i;n.y+=Math.min(i,this.temperature)*n.dy/i;this.options.limitToView&&(n.x=Math.min(this.width,Math.max(n.width/2,n.x)),n.y=Math.min(this.height,Math.max(n.height/2,n.y)))}},_shake:function(n){var t=Math.random()*this.options.nodeDistance/4,i=Math.random()*2*Math.PI;n.x+=t*Math.cos(i);n.y-=t*Math.sin(i)},_InverseSquareForce:function(n,t,i){var r;if(this.refineStage){var u=t.x-i.x,f=t.y-i.y,e=t.width/2,o=t.height/2,s=i.width/2,h=i.height/2;r=Math.pow(u,2)/Math.pow(e+s+this.options.nodeDistance,2)+Math.pow(f,2)/Math.pow(o+h+this.options.nodeDistance,2)}else r=Math.pow(n,2)/Math.pow(this.options.nodeDistance,2);return r*4/3},_SquareForce:function(n,t,i){return 1/this._InverseSquareForce(n,t,i)},_repulsion:function(n){n.dx=0;n.dy=0;t.forEach(this.graph.nodes,function(t){if(t!==n){while(n.x===t.x&&n.y===t.y)this._shake(t);var i=n.x-t.x,r=n.y-t.y,u=Math.sqrt(i*i+r*r),f=this._SquareForce(u,n,t)*2;n.dx+=i/u*f;n.dy+=r/u*f}},this)},_attraction:function(n){var t=n.target,i=n.source;if(i!==t){while(i.x===t.x&&i.y===t.y)this._shake(t);var r=i.x-t.x,u=i.y-t.y,f=Math.sqrt(r*r+u*u),e=this._InverseSquareForce(f,i,t)*5,o=r/f*e,s=u/f*e;t.dx+=o;t.dy+=s;i.dx-=o;i.dy-=s}},_expectedBounds:function(){var n,i=this.graph.nodes.length,r=1.5,u=4;if(i===0)return n;n=t.fold(this.graph.nodes,function(n,t){var i=t.width*t.height;return i>0?n+Math.sqrt(i):0},0,this);var e=n/i,f=e*Math.ceil(Math.sqrt(i)),o=f*Math.sqrt(r),s=f/Math.sqrt(r);return{width:o*u,height:s*u}}}),nt=e.Class.extend({init:function(n){this.center=null;this.options=n},layout:function(n,t){if(this.graph=n,this.graph.nodes&&this.graph.nodes.length!==0){if(!s(this.graph.nodes,t))throw"The given root is not in the graph.";this.center=t;this.graph.cacheRelationships();this.layoutSwitch()}},layoutLeft:function(n){var u,f,e,t,i,s,h,c;for(this.setChildrenDirection(this.center,"Left",!1),this.setChildrenLayout(this.center,"Default",!1),u=0,f=0,t=0;t<n.length;t++)i=n[t],i.TreeDirection="Left",s=this.measure(i,o.Empty),f=Math.max(f,s.Width),u+=s.height+this.options.verticalSeparation;for(u-=this.options.verticalSeparation,h=this.center.x-this.options.horizontalSeparation,e=this.center.y+(this.center.height-u)/2,t=0;t<n.length;t++)i=n[t],c=new r(h-i.Size.width,e),this.arrange(i,c),e+=i.Size.height+this.options.verticalSeparation},layoutRight:function(n){var u,f,e,t,i,s,h,c;for(this.setChildrenDirection(this.center,"Right",!1),this.setChildrenLayout(this.center,"Default",!1),u=0,f=0,t=0;t<n.length;t++)i=n[t],i.TreeDirection="Right",s=this.measure(i,o.Empty),f=Math.max(f,s.Width),u+=s.height+this.options.verticalSeparation;for(u-=this.options.verticalSeparation,h=this.center.x+this.options.horizontalSeparation+this.center.width,e=this.center.y+(this.center.height-u)/2,t=0;t<n.length;t++)i=n[t],c=new r(h,e),this.arrange(i,c),e+=i.Size.height+this.options.verticalSeparation},layoutUp:function(n){var u,e,i,t,s,f,h;for(this.setChildrenDirection(this.center,"Up",!1),this.setChildrenLayout(this.center,"Default",!1),u=0,t=0;t<n.length;t++)i=n[t],i.TreeDirection="Up",s=this.measure(i,o.Empty),u+=s.width+this.options.horizontalSeparation;for(u-=this.options.horizontalSeparation,f=this.center.x+this.center.width/2-u/2,t=0;t<n.length;t++)i=n[t],e=this.center.y-this.options.verticalSeparation-i.Size.height,h=new r(f,e),this.arrange(i,h),f+=i.Size.width+this.options.horizontalSeparation},layoutDown:function(n){var i,t,u,e,s,f,h;for(this.setChildrenDirection(this.center,"Down",!1),this.setChildrenLayout(this.center,"Default",!1),u=0,t=0;t<n.length;t++)i=n[t],i.treeDirection="Down",s=this.measure(i,o.Empty),u+=s.width+this.options.horizontalSeparation;for(u-=this.options.horizontalSeparation,f=this.center.x+this.center.width/2-u/2,e=this.center.y+this.options.verticalSeparation+this.center.height,t=0;t<n.length;t++)i=n[t],h=new r(f,e),this.arrange(i,h),f+=i.Size.width+this.options.horizontalSeparation},layoutRadialTree:function(){this.setChildrenDirection(this.center,"Radial",!1);this.setChildrenLayout(this.center,"Default",!1);this.previousRoot=null;var n=this.options.startRadialAngle*b,t=this.options.endRadialAngle*b;if(t<=n)throw"Final angle should not be less than the start angle.";this.maxDepth=0;this.origin=new r(this.center.x,this.center.y);this.calculateAngularWidth(this.center,0);this.maxDepth>0&&this.radialLayout(this.center,this.options.radialFirstLevelSeparation,n,t);this.center.Angle=t-n},tipOverTree:function(n,i){var f,h,e,u,c,s,l;for(t.isUndefined(i)&&(i=0),this.setChildrenDirection(this.center,"Down",!1),this.setChildrenLayout(this.center,"Default",!1),this.setChildrenLayout(this.center,"Underneath",!1,i),f=0,u=0;u<n.length;u++)e=n[u],e.TreeDirection="Down",c=this.measure(e,o.Empty),f+=c.width+this.options.horizontalSeparation;for(f-=this.options.horizontalSeparation,f-=n[n.length-1].width,f+=n[n.length-1].associatedShape.bounds().width,s=this.center.x+this.center.width/2-f/2,h=this.center.y+this.options.verticalSeparation+this.center.height,u=0;u<n.length;u++)e=n[u],l=new r(s,h),this.arrange(e,l),s+=e.Size.width+this.options.horizontalSeparation},calculateAngularWidth:function(n,t){var r,o,s;t>this.maxDepth&&(this.maxDepth=t);var i=0,u=1e3,f=1e3,e=t===0?0:Math.sqrt(u*u+f*f)/t;if(n.children.length>0){for(r=0,o=n.children.length;r<o;r++)s=n.children[r],i+=this.calculateAngularWidth(s,t+1);i=Math.max(e,i)}else i=e;return n.sectorAngle=i,i},sortChildren:function(n){var v=0,i,f,s,h,e,c,o,l,u,a,y;if(n.parents.length>1)throw"Node is not part of a tree.";if(f=n.parents[0],f&&(s=new r(f.x,f.y),h=new r(n.x,n.y),v=this.normalizeAngle(Math.atan2(s.y-h.y,s.x-h.x))),e=n.children.length,e===0)return null;for(c=[],o=[],i=0;i<e;++i)l=n.children[i],u=new r(l.x,l.y),o[i]=i,c[i]=this.normalizeAngle(-v+Math.atan2(u.y-u.y,u.x-u.x));for(t.bisort(c,o),a=[],y=n.children,i=0;i<e;++i)a.push(y[o[i]]);return a},normalizeAngle:function(n){while(n>Math.PI*2)n-=2*Math.PI;while(n<0)n+=Math.PI*2;return n},radialLayout:function(n,t,i,r){for(var u=r-i,l=u/2,a=n.sectorAngle,f=0,h=this.sortChildren(n),s=0,v=h.length;s<v;s++){var e=h[s],c=e,o=c.sectorAngle/a;e.children.length>0&&this.radialLayout(e,t+this.options.radialSeparation,i+f*u,i+(f+o)*u);this.setPolarLocation(e,t,i+f*u+o*l);c.angle=o*u;f+=o}},setPolarLocation:function(n,t,i){n.x=this.origin.x+t*Math.cos(i);n.y=this.origin.y+t*Math.sin(i);n.BoundingRectangle=new f(n.x,n.y,n.width,n.height)},setChildrenDirection:function(n,t,i){var r=n.treeDirection;this.graph.depthFirstTraversal(n,function(n){n.treeDirection=t});i||(n.treeDirection=r)},setChildrenLayout:function(n,i,r,u){t.isUndefined(u)&&(u=0);var f=n.childrenLayout;u>0?(this.graph.assignLevels(n),this.graph.depthFirstTraversal(n,function(n){n.level>=u+1&&(n.childrenLayout=i)})):(this.graph.depthFirstTraversal(n,function(n){n.childrenLayout=i}),r||(n.childrenLayout=f))},measure:function(n,i){var u=0,f=0,r,l=new o(0,0),y,e,c;if(!n)throw"";var v=n.associatedShape.bounds(),s=v.width,h=v.height;if(n.parents.length!==1)throw"Node not in a spanning tree.";if(y=n.parents[0],n.treeDirection==="Undefined"&&(n.treeDirection=y.treeDirection),t.isEmpty(n.children))l=new o(Math.abs(s)<a?50:s,Math.abs(h)<a?25:h);else if(n.children.length===1){switch(n.treeDirection){case"Radial":r=this.measure(n.children[0],i);u=s+this.options.radialSeparation*Math.cos(n.AngleToParent)+r.width;f=h+Math.abs(this.options.radialSeparation*Math.sin(n.AngleToParent))+r.height;break;case"Left":case"Right":switch(n.childrenLayout){case"TopAlignedWithParent":break;case"BottomAlignedWithParent":break;case"Underneath":r=this.measure(n.children[0],i);u=s+r.width+this.options.underneathHorizontalOffset;f=h+this.options.underneathVerticalTopOffset+r.height;break;case"Default":r=this.measure(n.children[0],i);u=s+this.options.horizontalSeparation+r.width;f=Math.max(h,r.height);break;default:throw"Unhandled TreeDirection in the Radial layout measuring.";}break;case"Up":case"Down":switch(n.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":r=this.measure(n.children[0],i);u=Math.max(s,r.width+this.options.underneathHorizontalOffset);f=h+this.options.underneathVerticalTopOffset+r.height;break;case"Default":r=this.measure(n.children[0],i);f=h+this.options.verticalSeparation+r.height;u=Math.max(s,r.width);break;default:throw"Unhandled TreeDirection in the Down layout measuring.";}break;default:throw"Unhandled TreeDirection in the layout measuring.";}l=new o(u,f)}else{switch(n.treeDirection){case"Left":case"Right":switch(n.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(u=s,f=h+this.options.underneathVerticalTopOffset,e=0;e<n.children.length;e++)c=n.children[e],r=this.measure(c,i),u=Math.max(u,r.width+this.options.underneathHorizontalOffset),f+=r.height+this.options.underneathVerticalSeparation;f-=this.options.underneathVerticalSeparation;break;case"Default":for(u=s,f=0,e=0;e<n.children.length;e++)c=n.children[e],r=this.measure(c,i),u=Math.max(u,s+this.options.horizontalSeparation+r.width),f+=r.height+this.options.verticalSeparation;f-=this.options.verticalSeparation;break;default:throw"Unhandled TreeDirection in the Right layout measuring.";}break;case"Up":case"Down":switch(n.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(u=s,f=h+this.options.underneathVerticalTopOffset,e=0;e<n.children.length;e++)c=n.children[e],r=this.measure(c,i),u=Math.max(u,r.width+this.options.underneathHorizontalOffset),f+=r.height+this.options.underneathVerticalSeparation;f-=this.options.underneathVerticalSeparation;break;case"Default":for(u=0,f=0,e=0;e<n.children.length;e++)c=n.children[e],r=this.measure(c,i),u+=r.width+this.options.horizontalSeparation,f=Math.max(f,r.height+this.options.verticalSeparation+h);u-=this.options.horizontalSeparation;break;default:throw"Unhandled TreeDirection in the Down layout measuring.";}break;default:throw"Unhandled TreeDirection in the layout measuring.";}l=new o(u,f)}return n.SectorAngle=Math.sqrt(u*u/4+f*f/4),n.Size=l,l},arrange:function(n,i){var u,c,p,o,l,w=n.associatedShape.bounds(),v=w.width,y=w.height,h,s,e;if(t.isEmpty(n.children))n.x=i.x,n.y=i.y,n.BoundingRectangle=new f(i.x,i.y,v,y);else switch(n.treeDirection){case"Left":switch(n.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(e=i,n.x=e.x,n.y=e.y,n.BoundingRectangle=new f(n.x,n.y,n.width,n.height),s=i.y+y+this.options.underneathVerticalTopOffset,u=0;u<o.children.length;u++)o=o.children[u],h=e.x-o.associatedShape.width-this.options.underneathHorizontalOffset,c=new r(h,s),this.arrange(o,c),s+=o.Size.height+this.options.underneathVerticalSeparation;break;case"Default":for(e=new r(i.x+n.Size.width-v,i.y+(n.Size.height-y)/2),n.x=e.x,n.y=e.y,n.BoundingRectangle=new f(n.x,n.y,n.width,n.height),h=e.x-this.options.horizontalSeparation,s=i.y,u=0;u<n.children.length;u++)o=n.children[u],c=new r(h-o.Size.width,s),this.arrange(o,c),s+=o.Size.height+this.options.verticalSeparation;break;default:throw"Unsupported TreeDirection";}break;case"Right":switch(n.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(e=i,n.x=e.x,n.y=e.y,n.BoundingRectangle=new f(n.x,n.y,n.width,n.height),h=i.x+v+this.options.underneathHorizontalOffset,s=i.y+y+this.options.underneathVerticalTopOffset,u=0;u<n.children.length;u++)o=n.children[u],c=new r(h,s),this.arrange(o,c),s+=o.Size.height+this.options.underneathVerticalSeparation;break;case"Default":for(e=new r(i.x,i.y+(n.Size.height-y)/2),n.x=e.x,n.y=e.y,n.BoundingRectangle=new f(n.x,n.y,n.width,n.height),h=i.x+v+this.options.horizontalSeparation,s=i.y,u=0;u<n.children.length;u++)o=n.children[u],c=new r(h,s),this.arrange(o,c),s+=o.Size.height+this.options.verticalSeparation;break;default:throw"Unsupported TreeDirection";}break;case"Up":if(e=new r(i.x+(n.Size.width-v)/2,i.y+n.Size.height-y),n.x=e.x,n.y=e.y,n.BoundingRectangle=new f(n.x,n.y,n.width,n.height),Math.abs(e.x-i.x)<a){for(l=0,u=0;u<n.children.length;u++)p=n.children[u],l+=p.Size.width+this.options.horizontalSeparation;l-=this.options.horizontalSeparation;h=i.x+(v-l)/2}else h=i.x;for(u=0;u<n.children.length;u++)o=n.children[u],s=e.y-this.options.verticalSeparation-o.Size.height,c=new r(h,s),this.arrange(o,c),h+=o.Size.width+this.options.horizontalSeparation;break;case"Down":switch(n.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":for(e=i,n.x=e.x,n.y=e.y,n.BoundingRectangle=new f(n.x,n.y,n.width,n.height),h=i.x+this.options.underneathHorizontalOffset,s=i.y+y+this.options.underneathVerticalTopOffset,u=0;u<n.children.length;u++)o=n.children[u],c=new r(h,s),this.arrange(o,c),s+=o.Size.height+this.options.underneathVerticalSeparation;break;case"Default":if(e=new r(i.x+(n.Size.width-v)/2,i.y),n.x=e.x,n.y=e.y,n.BoundingRectangle=new f(n.x,n.y,n.width,n.height),Math.abs(e.x-i.x)<a){for(l=0,u=0;u<n.children.length;u++)p=n.children[u],l+=p.Size.width+this.options.horizontalSeparation;l-=this.options.horizontalSeparation;h=i.x+(v-l)/2}else h=i.x;for(u=0;u<n.children.length;u++)o=n.children[u],s=e.y+this.options.verticalSeparation+y,c=new r(h,s),this.arrange(o,c),h+=o.Size.width+this.options.horizontalSeparation;break;default:throw"Unsupported TreeDirection";}break;case"None":break;default:throw"Unsupported TreeDirection";}},layoutSwitch:function(){var r,u,f,e,i,n;if(this.center&&!t.isEmpty(this.center.children)){r=this.options.subtype;t.isUndefined(r)&&(r="Down");n=this.center.children;switch(r.toLowerCase()){case"radial":case"radialtree":this.layoutRadialTree();break;case"mindmaphorizontal":case"mindmap":u=this.center.children;this.center.children.length===1?this.layoutRight(u):(i=n.length/2,f=l(this.center.children,function(r){return t.indexOf(n,r)<i}),e=l(this.center.children,function(r){return t.indexOf(n,r)>=i}),this.layoutLeft(f),this.layoutRight(e));break;case"mindmapvertical":u=this.center.children;this.center.children.length===1?this.layoutDown(u):(i=n.length/2,f=l(this.center.children,function(r){return t.indexOf(n,r)<i}),e=l(this.center.children,function(r){return t.indexOf(n,r)>=i}),this.layoutUp(f),this.layoutDown(e));break;case"right":this.layoutRight(this.center.children);break;case"left":this.layoutLeft(this.center.children);break;case"up":case"bottom":this.layoutUp(this.center.children);break;case"down":case"top":this.layoutDown(this.center.children);break;case"tipover":case"tipovertree":if(this.options.tipOverTreeStartLevel<0)throw"The tip-over level should be a positive integer.";this.tipOverTree(this.center.children,this.options.tipOverTreeStartLevel)}}}}),tt=h.extend({init:function(n){var i=this;if(h.fn.init.call(i),t.isUndefined(n))throw"No diagram specified.";this.diagram=n},layout:function(n){var t,i;return this.transferOptions(n),t=new v(this.diagram),this.graph=t.convert(),i=this.layoutComponents(),new u.LayoutState(this.diagram,i)},layoutComponents:function(){var n,e,u,i,o,r,s,f;if(!this.graph.isEmpty()&&(n=this.graph.getConnectedComponents(),!t.isEmpty(n))){for(e=new nt(this.options),u=[],i=0;i<n.length;i++){if(o=n[i],r=this.getTree(o),!r)throw"Failed to find a spanning tree for the component.";s=r.root;f=r.tree;e.layout(f,s);u.push(f)}return this.gridLayoutComponents(u)}},getTree:function(n){var t=null,i,f,u,r,e;if(this.options.roots&&this.options.roots.length>0)for(i=0,f=n.nodes.length;i<f;i++)for(u=n.nodes[i],r=0;r<this.options.roots.length;r++)if(e=this.options.roots[r],e===u.associatedShape){t=u;break}if(!t&&(t=n.root(),!t))throw"Unable to find a root for the tree.";return this.getTreeForRoot(n,t)},getTreeForRoot:function(n,i){var r=n.getSpanningTree(i);return t.isUndefined(r)||r.isEmpty()?null:{tree:r,root:r.root}}}),it=h.extend({init:function(n){var i=this;if(h.fn.init.call(i),t.isUndefined(n))throw"Diagram is not specified.";this.diagram=n},layout:function(n){var e,f,i,r,o,s;if((this.transferOptions(n),e=new v(this.diagram),f=e.convert(n),!f.isEmpty())&&(i=f.getConnectedComponents(),!t.isEmpty(i))){for(r=0;r<i.length;r++)o=i[r],this.layoutGraph(o,n);return s=this.gridLayoutComponents(i),new u.LayoutState(this.diagram,s)}},_initRuntimeProperties:function(){for(var n,t=0;t<this.graph.nodes.length;t++)n=this.graph.nodes[t],n.layer=-1,n.downstreamLinkCount=0,n.upstreamLinkCount=0,n.isVirtual=!1,n.uBaryCenter=0,n.dBaryCenter=0,n.upstreamPriority=0,n.downstreamPriority=0,n.gridPosition=0},_prepare:function(n){for(var o=[],u,v,r,h,e,y,c,p,l,a,w,f=0;f<n.links.length;f++)n.links[f].depthOfDumminess=0;for(r=new i,t.forEach(n.nodes,function(n){n.incoming.length===0&&(r.set(n,0),o.push(n))});o.length>0;)for(h=o.shift(),u=0;u<h.outgoing.length;u++)v=h.outgoing[u],e=v.target,r.containsKey(e)?r.set(e,Math.max(r.get(h)+1,r.get(e))):r.set(e,r.get(h)+1),s(o,e)||o.push(e);for(y=0,r.forEachValue(function(n){y=Math.max(y,n)}),c=[],t.addRange(c,r.keys()),c.sort(function(n,i){var u=r.get(n),f=r.get(i);return t.sign(f-u)}),p=0;p<c.length;++p)if(l=c[p],a=Number.MAX_VALUE,l.outgoing.length!==0){for(f=0;f<l.outgoing.length;++f)v=l.outgoing[f],a=Math.min(a,r.get(v.target));a>1&&r.set(l,a-1)}for(this.layers=[],u=0;u<y+1;u++)this.layers.push([]);for(r.forEach(function(n,t){n.layer=t;this.layers[t].push(n)},this),f=0;f<this.layers.length;f++)for(w=this.layers[f],u=0;u<w.length;u++)w[u].gridPosition=u},layoutGraph:function(n,i){if(t.isUndefined(n))throw"No graph given or graph analysis of the diagram failed.";t.isDefined(i)&&this.transferOptions(i);this.graph=n;n.setItemIndices();var r=n.makeAcyclic();this._initRuntimeProperties();this._prepare(n,i);this._dummify();this._optimizeCrossings();this._swapPairs();this.arrangeNodes();this._moveThingsAround();this._dedummify();t.forEach(r,function(n){n.points&&n.points.reverse()})},setMinDist:function(n,t,i){var r=n.layer,u=n.layerIndex;this.minDistances[r][u]=i},getMinDist:function(n,t){for(var r=0,u=n.layerIndex,f=t.layerIndex,e=n.layer,o=Math.min(u,f),s=Math.max(u,f),i=o;i<s;++i)r+=this.minDistances[e][i];return r},placeLeftToRight:function(n){for(var e,h,c,f,l,a,v,o=new i,r,u,s=0;s<this.layers.length;++s)if(e=n[s],e){for(r=0;r<e.length;r++)u=e[r],o.containsKey(u)||this.placeLeft(u,o,s);for(h=Number.POSITIVE_INFINITY,r=0;r<e.length;r++)u=e[r],c=this.rightSibling(u),c&&this.nodeLeftClass.get(c)!==s&&(h=Math.min(h,o.get(c)-o.get(u)-this.getMinDist(u,c)));if(h===Number.POSITIVE_INFINITY){for(f=[],r=0;r<e.length;r++)for(u=e[r],l=[],t.addRange(l,this.upNodes.get(u)),t.addRange(l,this.downNodes.get(u)),a=0;a<l.length;a++)v=l[a],this.nodeLeftClass.get(v)<s&&f.push(o.get(v)-o.get(u));f.sort();h=f.length===0?0:f.length%2==1?f[this.intDiv(f.length,2)]:(f[this.intDiv(f.length,2)-1]+f[this.intDiv(f.length,2)])/2}for(r=0;r<e.length;r++)u=e[r],o.set(u,o.get(u)+h)}return o},placeRightToLeft:function(n){for(var e,h,c,f,l,a,v,o=new i,r,u,s=0;s<this.layers.length;++s)if(e=n[s],e){for(r=0;r<e.length;r++)u=e[r],o.containsKey(u)||this.placeRight(u,o,s);for(h=Number.NEGATIVE_INFINITY,r=0;r<e.length;r++)u=e[r],c=this.leftSibling(u),c&&this.nodeRightClass.get(c)!==s&&(h=Math.max(h,o.get(c)-o.get(u)+this.getMinDist(c,u)));if(h===Number.NEGATIVE_INFINITY){for(f=[],r=0;r<e.length;r++)for(u=e[r],l=[],t.addRange(l,this.upNodes.get(u)),t.addRange(l,this.downNodes.get(u)),a=0;a<l.length;a++)v=l[a],this.nodeRightClass.get(v)<s&&f.push(o.get(u)-o.get(v));f.sort();h=f.length===0?0:f.length%2==1?f[this.intDiv(f.length,2)]:(f[this.intDiv(f.length,2)-1]+f[this.intDiv(f.length,2)])/2}for(r=0;r<e.length;r++)u=e[r],o.set(u,o.get(u)+h)}return o},_getLeftWing:function(){var n={value:null},t=this.computeClasses(n,1);return this.nodeLeftClass=n.value,t},_getRightWing:function(){var n={value:null},t=this.computeClasses(n,-1);return this.nodeRightClass=n.value,t},computeClasses:function(n,t){for(var h,e,r,l,c,v,u,a,o=0,f=n.value=new i,s=0;s<this.layers.length;++s)for(o=s,h=this.layers[s],e=t===1?0:h.length-1;0<=e&&e<h.length;e+=t)if(r=h[e],f.containsKey(r))o=f.get(r);else if(f.set(r,o),r.isVirtual)for(l=this._nodesInLink(r),c=0;c<l.length;c++)v=l[c],f.set(v,o);for(u=[],a=0;a<this.layers.length;a++)u.push(null);return f.forEach(function(n,t){u[t]===null&&(u[t]=[]);u[t].push(n)}),u},_isVerticalLayout:function(){return this.options.subtype.toLowerCase()==="up"||this.options.subtype.toLowerCase()==="down"||this.options.subtype.toLowerCase()==="vertical"},_isHorizontalLayout:function(){return this.options.subtype.toLowerCase()==="right"||this.options.subtype.toLowerCase()==="left"||this.options.subtype.toLowerCase()==="horizontal"},_isIncreasingLayout:function(){return this.options.subtype.toLowerCase()==="right"||this.options.subtype.toLowerCase()==="down"},_moveThingsAround:function(){function st(n,t){for(var u,i=Number.MIN_VALUE,r=0;r<n.length;++r)u=n[r],i=t._isVerticalLayout()?Math.max(i,u.height):Math.max(i,u.width);return i}for(var n,e,u,r,a,p,h,c,d,w,b,v,l,s,g,nt,y,f=0;f<this.layers.length;++f)u=this.layers[f],u.sort(this._gridPositionComparer);for(this.minDistances=[],f=0;f<this.layers.length;++f)for(u=this.layers[f],this.minDistances[f]=[],r=0;r<u.length;++r)e=u[r],e.layerIndex=r,this.minDistances[f][r]=this.options.nodeDistance,r<u.length-1&&(this.minDistances[f][r]+=this._isVerticalLayout()?(e.width+u[r+1].width)/2:(e.height+u[r+1].height)/2);for(this.downNodes=new i,this.upNodes=new i,t.forEach(this.graph.nodes,function(n){this.downNodes.set(n,[]);this.upNodes.set(n,[])},this),t.forEach(this.graph.links,function(n){var r=n.source,u=n.target,t=null,i=null;r.layer>u.layer?(t=n.source,i=n.target):(i=n.source,t=n.target);this.downNodes.get(i).push(t);this.upNodes.get(t).push(i)},this),this.downNodes.forEachValue(function(n){n.sort(this._gridPositionComparer)},this),this.upNodes.forEachValue(function(n){n.sort(this._gridPositionComparer)},this),f=0;f<this.layers.length-1;++f)for(u=this.layers[f],a=0;a<u.length-1;a++)if((p=u[a],p.isVirtual)&&(h=this.downNodes.get(p)[0],h.isVirtual))for(r=a+1;r<u.length;++r)(e=u[r],e.isVirtual)&&(c=this.downNodes.get(e)[0],c.isVirtual)&&h.gridPosition>c.gridPosition&&(d=h.gridPosition,h.gridPosition=c.gridPosition,c.gridPosition=d,w=h.layerIndex,b=c.layerIndex,this.layers[f+1][w]=c,this.layers[f+1][b]=h,h.layerIndex=b,c.layerIndex=w);var tt=this._getLeftWing(),it=this._getRightWing(),rt=this.placeLeftToRight(tt),ut=this.placeRightToLeft(it),o=new i;for(t.forEach(this.graph.nodes,function(n){o.set(n,(rt.get(n)+ut.get(n))/2)}),v=new i,l=new i,f=0;f<this.layers.length;++f)for(u=this.layers[f],s=-1,g=-1,r=0;r<u.length;++r)e=u[r],v.set(e,0),l.set(e,!1),e.isVirtual&&(s===-1?s=r:s===r-1?s=r:(g=r,v.set(u[s],0),o.get(e)-o.get(u[s])===this.getMinDist(u[s],e)?l.set(u[s],!0):l.set(u[s],!1),s=r));nt=[1,-1];t.forEach(nt,function(t){for(var s,h,c=t===1?0:this.layers.length-1,e=c;0<=e&&e<this.layers.length;e+=t){var u=this.layers[e],f=this._firstVirtualNode(u),r=null,i=null;if(f!==-1)for(r=u[f],i=[],n=0;n<f;n++)i.push(u[n]);else r=null,i=u;if(i.length>0){for(this._sequencer(o,null,r,t,i),n=0;n<i.length-1;++n)this.setMinDist(i[n],i[n+1],o.get(i[n+1])-o.get(i[n]));r&&this.setMinDist(i[i.length-1],r,o.get(r)-o.get(i[i.length-1]))}while(r){if(s=this.nextVirtualNode(u,r),s){if(v.get(r)===t){for(f=r.layerIndex,h=s.layerIndex,i=[],n=f+1;n<h;n++)i.push(u[n]);i.length>0&&this._sequencer(o,r,s,t,i);l.set(r,!0)}}else{for(f=r.layerIndex,i=[],n=f+1;n<u.length;n++)i.push(u[n]);if(i.length>0){for(this._sequencer(o,r,null,t,i),n=0;n<i.length-1;++n)this.setMinDist(i[n],i[n+1],o.get(i[n+1])-o.get(i[n]));this.setMinDist(r,i[0],o.get(i[0])-o.get(r))}}r=s}this.adjustDirections(e,t,v,l)}},this);var ft=this._isIncreasingLayout()?0:this.layers.length-1,et=function(n,t){return t._isIncreasingLayout()?n<t.layers.length:n>=0},ot=this._isIncreasingLayout()?1:-1,k=0;for(n=ft;et(n,this);n+=ot){for(u=this.layers[n],y=st(u,this),r=0;r<u.length;++r)e=u[r],this._isVerticalLayout()?(e.x=o.get(e),e.y=k+y/2):(e.x=k+y/2,e.y=o.get(e));k+=this.options.layerSeparation+y}},adjustDirections:function(n,t,i,r){var h,u,c,f,y,p,e;if(!(n+t<0)&&!(n+t>=this.layers.length)){var o=null,l=null,s=this.layers[n+t];for(h=0;h<s.length;++h)if(u=s[h],u.isVirtual&&(c=this.getNeighborOnLayer(u,n),c.isVirtual)){if(o){var a=r.get(l),v=this.layers[n],w=l.layerIndex,b=c.layerIndex;for(f=w+1;f<b;++f)v[f].isVirtual&&(a=a&&r.get(v[f]));if(a)for(i.set(o,t),y=o.layerIndex,p=u.layerIndex,e=y+1;e<p;++e)s[e].isVirtual&&i.set(s[e],t)}o=u;l=c}}},getNeighborOnLayer:function(n,t){var i=this.upNodes.get(n)[0];return i.layer===t?i:(i=this.downNodes.get(n)[0],i.layer===t)?i:null},_sequencer:function(n,t,i,r,u){if(u.length===1&&this._sequenceSingle(n,t,i,r,u[0]),u.length>1){var e=u.length,f=this.intDiv(e,2);this._sequencer(n,t,i,r,u.slice(0,f));this._sequencer(n,t,i,r,u.slice(f));this.combineSequences(n,t,i,r,u)}},_sequenceSingle:function(n,t,i,r,u){var e=r===-1?this.downNodes.get(u):this.upNodes.get(u),f=e.length;f!==0&&(f%2==1?n.set(u,n.get(e[this.intDiv(f,2)])):n.set(u,(n.get(e[this.intDiv(f,2)-1])+n.get(e[this.intDiv(f,2)]))/2),t&&n.set(u,Math.max(n.get(u),n.get(t)+this.getMinDist(t,u))),i&&n.set(u,Math.min(n.get(u),n.get(i)-this.getMinDist(u,i))))},combineSequences:function(n,t,i,r,u){for(var p=u.length,f=this.intDiv(p,2),c=[],o,s,l,a,v,h,e=0;e<f;++e){for(o=0,l=r===-1?this.downNodes.get(u[e]):this.upNodes.get(u[e]),s=0;s<l.length;++s)a=l[s],n.get(a)>=n.get(u[e])?o++:(o--,c.push({k:n.get(a)+this.getMinDist(u[e],u[f-1]),v:2}));c.push({k:n.get(u[e])+this.getMinDist(u[e],u[f-1]),v:o})}for(t&&c.push({k:n.get(t)+this.getMinDist(t,u[f-1]),v:Number.MAX_VALUE}),c.sort(this._positionDescendingComparer),h=[],e=f;e<p;++e){for(o=0,l=r===-1?this.downNodes.get(u[e]):this.upNodes.get(u[e]),s=0;s<l.length;++s)a=l[s],n.get(a)<=n.get(u[e])?o++:(o--,h.push({k:n.get(a)-this.getMinDist(u[e],u[f]),v:2}));h.push({k:n.get(u[e])-this.getMinDist(u[e],u[f]),v:o})}i&&h.push({k:n.get(i)-this.getMinDist(i,u[f]),v:Number.MAX_VALUE});h.sort(this._positionAscendingComparer);for(var w=0,b=0,y=this.getMinDist(u[f-1],u[f]);n.get(u[f])-n.get(u[f-1])<y;)if(w<b)if(c.length===0){n.set(u[f-1],n.get(u[f])-y);break}else v=c.shift(),w=w+v.v,n.set(u[f-1],v.k),n.set(u[f-1],Math.max(n.get(u[f-1]),n.get(u[f])-y));else if(h.length===0){n.set(u[f],n.get(u[f-1])+y);break}else v=h.shift(),b=b+v.v,n.set(u[f],v.k),n.set(u[f],Math.min(n.get(u[f]),n.get(u[f-1])+y));for(e=f-2;e>=0;e--)n.set(u[e],Math.min(n.get(u[e]),n.get(u[f-1])-this.getMinDist(u[e],u[f-1])));for(e=f+1;e<p;e++)n.set(u[e],Math.max(n.get(u[e]),n.get(u[f])+this.getMinDist(u[e],u[f])))},placeLeft:function(n,i,r){var u=Number.NEGATIVE_INFINITY;t.forEach(this._getComposite(n),function(n){var t=this.leftSibling(n);t&&this.nodeLeftClass.get(t)===this.nodeLeftClass.get(n)&&(i.containsKey(t)||this.placeLeft(t,i,r),u=Math.max(u,i.get(t)+this.getMinDist(t,n)))},this);u===Number.NEGATIVE_INFINITY&&(u=0);t.forEach(this._getComposite(n),function(n){i.set(n,u)})},placeRight:function(n,i,r){var u=Number.POSITIVE_INFINITY;t.forEach(this._getComposite(n),function(n){var t=this.rightSibling(n);t&&this.nodeRightClass.get(t)===this.nodeRightClass.get(n)&&(i.containsKey(t)||this.placeRight(t,i,r),u=Math.min(u,i.get(t)-this.getMinDist(n,t)))},this);u===Number.POSITIVE_INFINITY&&(u=0);t.forEach(this._getComposite(n),function(n){i.set(n,u)})},leftSibling:function(n){var i=this.layers[n.layer],t=n.layerIndex;return t===0?null:i[t-1]},rightSibling:function(n){var t=this.layers[n.layer],i=n.layerIndex;return i===t.length-1?null:t[i+1]},_getComposite:function(n){return n.isVirtual?this._nodesInLink(n):[n]},arrangeNodes:function(){for(var u,t,r,i,o,e,f,n=0;n<this.layers.length;n++)for(r=this.layers[n],t=0;t<r.length;t++)i=r[t],i.upstreamPriority=i.upstreamLinkCount,i.downstreamPriority=i.downstreamLinkCount;for(o=2,e=0;e<o;e++){for(u=this.layers.length-1;u>=1;u--)this.layoutLayer(!1,u);for(u=0;u<this.layers.length-1;u++)this.layoutLayer(!0,u)}for(f=Number.MAX_VALUE,n=0;n<this.layers.length;n++)for(r=this.layers[n],t=0;t<r.length;t++)i=r[t],f=Math.min(f,i.gridPosition);if(f<0)for(n=0;n<this.layers.length;n++)for(r=this.layers[n],t=0;t<r.length;t++)i=r[t],i.gridPosition=i.gridPosition-f},layoutLayer:function(n,i){var r,u,f,e;for(u=n?this.layers[r=i+1]:this.layers[r=i-1],f=[],e=0;e<u.length;e++)f.push(u[e]);f.sort(function(n,t){var i=(n.upstreamPriority+n.downstreamPriority)/2,r=(t.upstreamPriority+t.downstreamPriority)/2;return Math.abs(i-r)<.0001?0:i<r?1:-1});t.forEach(f,function(n){var t=n.gridPosition,i=this.calcBaryCenter(n),r=(n.upstreamPriority+n.downstreamPriority)/2;if(!(Math.abs(t-i)<.0001)&&!(Math.abs(t-i)<.25+.0001))if(t<i)while(t<i){if(!this.moveRight(n,u,r))break;t=n.gridPosition}else while(t>i){if(!this.moveLeft(n,u,r))break;t=n.gridPosition}},this);r>0&&this.calcDownData(r-1);r<this.layers.length-1&&this.calcUpData(r+1)},moveRight:function(n,i,r){var e=t.indexOf(i,n),u,f;return e===i.length-1?(n.gridPosition=n.gridPosition+.5,!0):(u=i[e+1],f=(u.upstreamPriority+u.downstreamPriority)/2,u.gridPosition>n.gridPosition+1)?(n.gridPosition=n.gridPosition+.5,!0):f>r||Math.abs(f-r)<.0001?!1:this.moveRight(u,i,r)?(n.gridPosition=n.gridPosition+.5,!0):!1},moveLeft:function(n,i,r){var e=t.indexOf(i,n),u,f;return e===0?(n.gridPosition=n.gridPosition-.5,!0):(u=i[e-1],f=(u.upstreamPriority+u.downstreamPriority)/2,u.gridPosition<n.gridPosition-1)?(n.gridPosition=n.gridPosition-.5,!0):f>r||Math.abs(f-r)<.0001?!1:this.moveLeft(u,i,r)?(n.gridPosition=n.gridPosition-.5,!0):!1},mapVirtualNode:function(n,t){this.nodeToLinkMap.set(n,t);this.linkToNodeMap.containsKey(t)||this.linkToNodeMap.set(t,[]);this.linkToNodeMap.get(t).push(n)},_nodesInLink:function(n){return this.linkToNodeMap.get(this.nodeToLinkMap.get(n))},_dummify:function(){var u,r,n,a,h,v,f,k,d;for(this.linkToNodeMap=new i,this.nodeToLinkMap=new i,d=this.graph.links.slice(0),k=0;k<d.length;k++){var c=d[k],e=c.source,g=c.target,o=e.layer,s=g.layer,l=e.gridPosition,b=g.gridPosition,nt=(b-l)/Math.abs(s-o),w=e;if(o-s>1){for(f=o-1;f>s;f--){for(n=new y,n.x=e.x,n.y=e.y,n.width=e.width/100,n.height=e.height/100,u=this.layers[f],r=(f-s)*nt+l,r>u.length&&(r=u.length),l>=this.layers[o].length-1&&b>=this.layers[s].length-1?r=u.length:l===0&&b===0&&(r=0),n.layer=f,n.uBaryCenter=0,n.dBaryCenter=0,n.upstreamLinkCount=0,n.downstreamLinkCount=0,n.gridPosition=r,n.isVirtual=!0,t.insert(u,n,r),h=r+1;h<u.length;h++)a=u[h],a.gridPosition=a.gridPosition+1;v=new p(w,n);v.depthOfDumminess=0;w=n;this.graph.nodes.push(n);this.graph.addLink(v);n.index=this.graph.nodes.length-1;this.mapVirtualNode(n,c)}c.changeSource(w);c.depthOfDumminess=o-s-1}if(o-s<-1){for(f=o+1;f<s;f++){for(n=new y,n.x=e.x,n.y=e.y,n.width=e.width/100,n.height=e.height/100,u=this.layers[f],r=(f-o)*nt+l,r>u.length&&(r=u.length),l>=this.layers[o].length-1&&b>=this.layers[s].length-1?r=u.length:l===0&&b===0&&(r=0),n.layer=f,n.uBaryCenter=0,n.dBaryCenter=0,n.upstreamLinkCount=0,n.downstreamLinkCount=0,n.gridPosition=r,n.isVirtual=!0,r&=r,t.insert(u,n,r),h=r+1;h<u.length;h++)a=u[h],a.gridPosition=a.gridPosition+1;v=new p(w,n);v.depthOfDumminess=0;w=n;this.graph.nodes.push(n);this.graph.addLink(v);n.index=this.graph.nodes.length-1;this.mapVirtualNode(n,c)}c.changeSource(w);c.depthOfDumminess=s-o-1}}},_dedummify:function(){for(var f=!0,i,n,t,r,o,e,s,u;f;)for(f=!1,i=0;i<this.graph.links.length;i++)if(n=this.graph.links[i],n.depthOfDumminess!==0){for(t=[],t.unshift({x:n.target.x,y:n.target.y}),t.unshift({x:n.source.x,y:n.source.y}),r=n,o=n.depthOfDumminess,e=0;e<o;e++)s=r.source,u=s.incoming[0],t.unshift({x:u.source.x,y:u.source.y}),r=u;n.changeSource(r.source);n.depthOfDumminess=0;t.length>2?(t.splice(0,1),t.splice(t.length-1),n.points=t):n.points=[];f=!0;break}},_optimizeCrossings:function(){for(var t=-1,n,i=0;t!==0;){if(i++>3)break;for(t=0,n=this.layers.length-1;n>=1;n--)t+=this.optimizeLayerCrossings(!1,n);for(n=0;n<this.layers.length-1;n++)t+=this.optimizeLayerCrossings(!0,n)}},calcUpData:function(n){if(n!==0){for(var s=this.layers[n],i,u,e=new c,h=this.layers[n-1],t=0;t<h.length;t++)e.add(h[t]);for(t=0;t<s.length;t++){var r=s[t],o=0,f=0;for(i=0;i<r.incoming.length;i++)u=r.incoming[i],e.contains(u.source)&&(f++,o+=u.source.gridPosition);for(i=0;i<r.outgoing.length;i++)u=r.outgoing[i],e.contains(u.target)&&(f++,o+=u.target.gridPosition);f>0?(r.uBaryCenter=o/f,r.upstreamLinkCount=f):(r.uBaryCenter=t,r.upstreamLinkCount=0)}}},calcDownData:function(n){if(n!==this.layers.length-1){for(var s=this.layers[n],i,u,e=new c,h=this.layers[n+1],t=0;t<h.length;t++)e.add(h[t]);for(t=0;t<s.length;t++){var r=s[t],o=0,f=0;for(i=0;i<r.incoming.length;i++)u=r.incoming[i],e.contains(u.source)&&(f++,o+=u.source.gridPosition);for(i=0;i<r.outgoing.length;i++)u=r.outgoing[i],e.contains(u.target)&&(f++,o+=u.target.gridPosition);f>0?(r.dBaryCenter=o/f,r.downstreamLinkCount=f):(r.dBaryCenter=t,r.downstreamLinkCount=0)}}},optimizeLayerCrossings:function(n,t){var f,r,o,u,i,e,s,h;for(r=n?this.layers[f=t+1]:this.layers[f=t-1],o=r.slice(0),n?this.calcUpData(f):this.calcDownData(f),u=this,r.sort(function(n,t){var r=u.calcBaryCenter(n),f=u.calcBaryCenter(t),i;return Math.abs(r-f)<.0001?n.degree()===t.degree()?u.compareByIndex(n,t):n.degree()<t.degree()?1:-1:(i=(f-r)*1e3,i>0)?-1:i<0?1:u.compareByIndex(n,t)}),e=0,i=0;i<r.length;i++)r[i]!==o[i]&&e++;if(e>0)for(s=0,i=0;i<r.length;i++)h=r[i],h.gridPosition=s++;return e},_swapPairs:function(){for(var k=this.options.layeredIterations,h=0,o,p,n,t,v,y;;){if(h++>k)break;for(o=h%4<=1,p=h%4==1,n=o?0:this.layers.length-1;o?n<=this.layers.length-1:n>=0;n+=o?1:-1){var i=this.layers[n],w=!1,c=!0,b=0;for(t=0;t<i.length-1;t++){var r=0,u=0,s=0;if(c?(n!==0&&(r=this.countLinksCrossingBetweenTwoLayers(n-1,n)),n!==this.layers.length-1&&(u=this.countLinksCrossingBetweenTwoLayers(n,n+1)),o?r*=2:u*=2,s=r+u):s=b,s!==0){var f=i[t],e=i[t+1],l=f.gridPosition,a=e.gridPosition;i[t]=e;i[t+1]=f;f.gridPosition=a;e.gridPosition=l;r=0;n!==0&&(r=this.countLinksCrossingBetweenTwoLayers(n-1,n));u=0;n!==this.layers.length-1&&(u=this.countLinksCrossingBetweenTwoLayers(n,n+1));o?r*=2:u*=2;v=r+u;y=!1;y=p?v>=s:v>s;y?(f=i[t],e=i[t+1],l=f.gridPosition,a=e.gridPosition,i[t]=e,i[t+1]=f,f.gridPosition=a,e.gridPosition=l,b=s,c=!1):(w=!0,c=!0)}}w&&(n!==this.layers.length-1&&this.calcUpData(n+1),n!==0&&this.calcDownData(n-1))}}},countLinksCrossingBetweenTwoLayers:function(n,i){for(var nt=0,l=new c,tt=this.layers[n],a,p,y,u,s,e,h,o,b,k,d,g,r=0;r<tt.length;r++)l.add(tt[r]);for(a=new c,p=this.layers[i],r=0;r<p.length;r++)a.add(p[r]);var w=new c,f=[],v=[];for(l.forEach(function(n){t.addRange(v,n.incoming);t.addRange(v,n.outgoing)}),y=0;y<v.length;y++)u=v[y],l.contains(u.source)&&a.contains(u.target)?(w.add(u),f.push(u)):a.contains(u.source)&&l.contains(u.target)&&f.push(u);for(s=0;s<f.length;s++)for(e=f[s],h=0;h<f.length;h++)if(s!==h){o=f[h];w.contains(e)?(b=e.source,k=e.target):(b=e.target,k=e.source);w.contains(o)?(d=o.source,g=o.target):(d=o.target,g=o.source);var it=b.gridPosition,rt=k.gridPosition,ut=d.gridPosition,ft=g.gridPosition;(it-ut)*(rt-ft)<0&&nt++}return nt/2},calcBaryCenter:function(n){var t=n.upstreamLinkCount,i=n.downstreamLinkCount,r=n.uBaryCenter,u=n.dBaryCenter;return t>0&&i>0?(r+u)/2:t>0?r:i>0?u:0},_gridPositionComparer:function(n,t){return n.gridPosition<t.gridPosition?-1:n.gridPosition>t.gridPosition?1:0},_positionAscendingComparer:function(n,t){return n.k<t.k?-1:n.k>t.k?1:0},_positionDescendingComparer:function(n,t){return n.k<t.k?1:n.k>t.k?-1:0},_firstVirtualNode:function(n){for(var t=0;t<n.length;t++)if(n[t].isVirtual)return t;return-1},compareByIndex:function(n,t){var i=n.index,r=t.index;return i<r?1:i>r?-1:0},intDiv:function(n,t){return(n-n%t)/t},nextVirtualNode:function(n,t){for(var r=t.layerIndex,i=r+1;i<n.length;++i)if(n[i].isVirtual)return n[i];return null}}),rt=e.Class.extend({init:function(n,r){if(t.isUndefined(n))throw"No diagram given";this.diagram=n;this.nodeMap=new i;this.linkMap=new i;this.capture(r?r:n)},capture:function(n){var i,o,r,t,e,s,h,c,l;if(n instanceof u.Graph){for(t=0;t<n.nodes.length;t++)i=n.nodes[t],r=i.associatedShape,this.nodeMap.set(r.visual.id,new f(i.x,i.y,i.width,i.height));for(t=0;t<n.links.length;t++)s=n.links[t],e=s.associatedConnection,this.linkMap.set(e.visual.id,s.points())}else if(n instanceof Array)for(o=n,t=0;t<o.length;t++)i=o[t],r=i.associatedShape,r&&this.nodeMap.set(r.visual.id,new f(i.x,i.y,i.width,i.height));else if(n.hasOwnProperty("links")&&n.hasOwnProperty("nodes")){for(o=n.nodes,h=n.links,t=0;t<o.length;t++)i=o[t],r=i.associatedShape,r&&this.nodeMap.set(r.visual.id,new f(i.x,i.y,i.width,i.height));for(t=0;t<h.length;t++)s=h[t],e=s.associatedConnection,e&&this.linkMap.set(e.visual.id,s.points)}else{for(c=this.diagram.shapes,l=this.diagram.connections,t=0;t<c.length;t++)r=c[t],this.nodeMap.set(r.visual.id,r.bounds());for(t=0;t<l.length;t++)e=l[t],this.linkMap.set(e.visual.id,e.points())}}});k(u,{init:function(n){e.init(n,u.ui)},SpringLayout:g,TreeLayout:tt,GraphAdapter:v,LayeredLayout:it,LayoutBase:h,LayoutState:rt})}(window.kendo.jQuery),function(n,t){function ri(u){var e=u.useButtonTag?n("<button><\/button>"):n("<a><\/a>");return e.data({type:"button"}),e.attr(i,u.uid),u.attributes&&e.attr(u.attributes),u.togglable&&(e.addClass(h),u.selected&&e.addClass(f)),u.enable===!1&&e.addClass(o),u.url===t||u.useButtonTag||(e.attr("href",u.url),u.mobile&&e.attr(r.attr("role"),"button")),u.group&&e.attr(r.attr("group"),u.group),!u.togglable&&u.click&&s(u.click)&&e.data("click",u.click),u.togglable&&u.toggle&&s(u.toggle)&&e.data("toggle",u.toggle),e}function ui(n){var t=u.button.base(n),i;return t.addClass(e),n.primary&&t.addClass(k),n.align&&t.addClass("k-align-"+n.align),n.id&&t.attr("id",n.id),n.showText!="overflow"&&n.text&&(n.mobile?t.html('<span class="km-text">'+n.text+"<\/span>"):t.html(n.text)),i=n.showIcon!="overflow"&&(n.icon||n.spriteCssClass||n.imageUrl),i&&ct(n,t),t}function fi(n){var t=u.button.base(n),i;return t.addClass(c+" "+e),n.primary&&t.addClass(k),n.id&&t.attr("id",n.id+"_overflow"),n.showText!="toolbar"&&n.text&&(n.mobile?t.html('<span class="km-text">'+n.text+"<\/span>"):t.html(n.text)),i=n.showIcon!="toolbar"&&(n.icon||n.spriteCssClass||n.imageUrl),i&&ct(n,t),t}function ct(t,i){var f=t.icon,e=t.spriteCssClass,o=t.imageUrl,s,r,u;(e||o||f)&&(s=!0,i.contents().not("span.k-sprite,span."+a+",img.k-image").each(function(t,i){(i.nodeType==1||i.nodeType==3&&n.trim(i.nodeValue).length>0)&&(s=!1)}),s?i.addClass(dt):i.addClass(gt));f?(r=i.children("span."+a).first(),r[0]||(r=n('<span class="'+a+'"><\/span>').prependTo(i)),r.addClass(d+f)):e?(r=i.children("span.k-sprite").first(),r[0]||(r=n('<span class="k-sprite"><\/span>').prependTo(i)),r.addClass(e)):o&&(u=i.children("img.k-image").first(),u[0]||(u=n('<img alt="icon" class="k-image" />').prependTo(i)),u.attr("src",o))}function ei(){var n=this.options.anchor,t=n.outerWidth(),i;r.wrap(this.element).addClass("k-split-wrapper");i=this.element.css("box-sizing")!=="border-box"?t-(this.element.outerWidth()-this.element.width()):t;this.element.css({fontFamily:n.css("font-family"),"min-width":i})}function lt(n){n.target.is(".k-toggle-button")||n.target.toggleClass(f,n.type=="press")}function at(t){return t=n(t),t.hasClass("km-actionsheet")?t.closest(".km-popup-wrapper"):t.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"><\/div>').parent().wrap('<div class="km-popup-wrapper k-popup"><\/div>').parent()}var r=window.kendo,si=r.Class,y=r.ui.Widget,b=n.proxy,s=r.isFunction,vt="k-toolbar",e="k-button",c="k-overflow-button",h="k-toggle-button",p="k-button-group",l="k-split-button",yt="k-separator",pt="k-popup",wt="k-toolbar-resizable",f="k-state-active",o="k-state-disabled",bt="k-group-start",kt="k-group-end",k="k-primary",a="k-icon",d="k-i-",dt="k-button-icon",gt="k-button-icontext",ni="k-list-container k-split-container",g="k-split-button-arrow",w="k-overflow-anchor",ti="k-overflow-container",nt="k-toolbar-first-visible",tt="k-toolbar-last-visible",it="click",rt="toggle",ut="open",ft="close",et="overflowOpen",ot="overflowClose",st="never",ht="auto",ii="always",v="k-overflow-hidden",i=r.attr("uid"),hi=r.template,u={button:{base:ri,toolbar:ui,overflow:fi},buttonGroup:{base:function(t,u,f){var o=t.buttons,s,e;if(o){for(t.attributes&&f.attr(t.attributes),f.data({type:"buttonGroup"}),f.attr(i,t.uid),e=0;e<o.length;e++)o[e].uid||(o[e].uid=r.guid()),s=u(n.extend({mobile:t.mobile},o[e])),s.appendTo(f);f.children().first().addClass(bt);f.children().last().addClass(kt)}},toolbar:function(t){var i=n("<div><\/div>");return u.buttonGroup.base(t,u.button.toolbar,i),i.addClass(p),t.align&&i.addClass("k-align-"+t.align),t.id&&i.attr("id",t.id),i},overflow:function(t){var i=n("<li><\/li>");return u.buttonGroup.base(t,u.button.overflow,i),i.addClass((t.mobile?"":p)+" k-overflow-group"),t.id&&i.attr("id",t.id+"_overflow"),i}},splitButton:{toolbar:function(t){var r=n('<div class="'+l+'"><\/div>'),a=u.button.toolbar(t),v=n('<a class="'+e+" "+g+'"><span class="'+(t.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-s")+'"><\/span><\/a>'),f=n('<ul class="'+ni+'"><\/ul>'),s,h=t.menuButtons,c,o;for(a.appendTo(r),v.appendTo(r),f.appendTo(r),o=0;o<h.length;o++)c=u.button.toolbar(n.extend({mobile:t.mobile,click:t.click},h[o])),c.wrap("<li><\/li>").parent().appendTo(f);return t.align&&r.addClass("k-align-"+t.align),t.id||(t.id=t.uid),r.attr("id",t.id+"_wrapper"),f.attr("id",t.id+"_optionlist").attr(i,t.rootUid),t.mobile&&(f=at(f)),s=f.kendoPopup({appendTo:t.mobile?n(t.mobile).children(".km-pane"):null,anchor:r,copyAnchorStyles:!1,animation:t.animation,open:ei}).data("kendoPopup"),r.data({type:"splitButton",kendoPopup:s}),r.attr(i,t.uid),r},overflow:function(t){var r=n('<li class="'+l+'"><\/li>'),s=u.button.overflow(t),e=t.menuButtons,o,f;for(s.appendTo(r),f=0;f<e.length;f++)o=u.button.overflow(n.extend({mobile:t.mobile},e[f])),o.appendTo(r);return t.id&&r.attr("id",t.id+"_overflow"),r.data({type:"splitButton"}),r.attr(i,t.uid),r}},separator:{base:function(t,r){var u=r?n("<li>&nbsp;<\/li>"):n("<div>&nbsp;<\/div>");return u.data({type:"separator"}),u.attr(i,t.uid),t.attributes&&u.attr(t.attributes),u.addClass(yt),u},toolbar:function(n){return u.separator.base(n,!1)},overflow:function(n){return u.separator.base(n,!0)}},overflowAnchor:'<div class="k-overflow-anchor"><\/div>',overflowContainer:'<ul class="k-overflow-container k-list-container"><\/ul>'},oi=y.extend({init:function(t,u){var s=this,h;if(y.fn.init.call(s,t,u),u=s.options,t=s.wrapper=s.element,t.addClass(vt+" k-widget"),this.uid=r.guid(),t.attr(i,this.uid),s.isMobile=typeof u.mobile=="boolean"?u.mobile:s.element.closest(".km-root")[0],s.animation=s.isMobile?{open:{effects:"fade"}}:{},s.isMobile&&(t.addClass("km-widget"),a="km-icon",d="km-",e="km-button",p="km-buttongroup km-widget",f="km-state-active",o="km-state-disabled"),u.resizable){s._renderOverflow();t.addClass(wt);s.overflowUserEvents=new r.UserEvents(s.element,{threshold:5,allowSelection:!0,filter:"."+w,tap:b(s._toggleOverflow,s)});r.onResize(function(){s.resize()})}else s.popup={element:n([])};if(u.items&&u.items.length)for(h=0;h<u.items.length;h++)s.add(u.items[h]);s.userEvents=new r.UserEvents(document,{threshold:5,allowSelection:!0,filter:"["+i+"="+this.uid+"] ."+e+", ["+i+"="+this.uid+"] ."+c,tap:b(s._buttonClick,s),press:lt,release:lt});u.resizable&&this._toggleOverflowAnchor();r.notify(s)},events:[it,rt,ut,ft,et,ot],options:{name:"ToolBar",items:[],resizable:!0,mobile:null},destroy:function(){var t=this;t.element.find("."+l).each(function(t,i){n(i).data("kendoPopup").destroy()});t.userEvents.destroy();t.options.resizable&&(t.overflowUserEvents.destroy(),t.popup.destroy());y.fn.destroy.call(t)},add:function(t){var l=u[t.type],h=t.template,f,e=this,a=e.isMobile?"":"k-item k-state-default",c=t.overflowTemplate,o;n.extend(t,{uid:r.guid(),animation:e.animation,mobile:e.isMobile,rootUid:e.uid});h&&!c&&(t.overflow=st);t.overflow!==st&&e.options.resizable&&(c?o=s(c)?n(c(t)):n(c):l&&(o=(l.overflow||n.noop)(t)),o&&o.length&&(o.prop("tagName")!=="LI"&&(o.removeAttr(i),o=o.wrap("<li><\/li>").parent(),o.attr(i,t.uid)),e._attributes(o,t),o.addClass(a).appendTo(e.popup.container),o.data("overflow")===ht&&o.addClass(v),e.angular("compile",function(){return{elements:o.get()}})));t.overflow!==ii&&(h?(f=s(h)?h(t):h,f instanceof jQuery||(f=n(f.replace(/^\s+|\s+$/g,""))),f=f.wrap("<div><\/div>").parent(),f.attr(i,t.uid)):l&&(f=(l.toolbar||n.noop)(t)),f&&f.length&&(e._attributes(f,t),e.options.resizable?(f.appendTo(e.element).css("visibility","hidden"),e._shrink(e.element.innerWidth()),f.css("visibility","visible")):f.appendTo(e.element),e.angular("compile",function(){return{elements:f.get()}})))},remove:function(n){var t=this.element.find(n),r,u;!t.length&&this.options.resizable?(t=this.popup.element.find(n),u=t.parent().attr(i)):u=t.attr(i);r=t.data("type");t.parent("."+l).data("type")&&(r="splitButton",t=t.parent());r==="splitButton"&&t.data("kendoPopup").destroy();t.add(this.popup.element.find("["+i+"='"+u+"']")).remove()},enable:function(t,r){var u=this.element.find(t).attr(i);!u&&this.popup&&(u=this.popup.element.find(t).parent("li").attr(i));typeof r=="undefined"&&(r=!0);r?n("["+i+"='"+u+"']").removeClass(o):n("["+i+"='"+u+"']").addClass(o)},getSelectedFromGroup:function(n){return this.element.find("."+h+"[data-group='"+n+"']").filter("."+f)},toggle:function(t,r){var u=n(t),o=u.data("uid"),s=u.data("group"),e;u.hasClass(h)&&(s&&this.element.add(this.popup.element).find("."+h+"[data-group='"+s+"']").filter("."+f).removeClass(f),n.contains(this.element[0],u[0])?(e=this.popup.element.find("["+i+"='"+o+"']"),e.prop("tagName")==="LI"&&(e=e.find("."+h+":first"))):(o=o?o:u.parent().data("uid"),e=this.element.find("["+i+"='"+o+"']")),u.add(e).toggleClass(f,r))},_attributes:function(n,t){n.attr(r.attr("overflow"),t.overflow||ht)},_renderOverflow:function(){var t=this,f=u.overflowContainer;t.overflowAnchor=n(u.overflowAnchor).addClass(e);t.element.append(t.overflowAnchor);t.isMobile?(t.overflowAnchor.append('<span class="km-icon km-more"><\/span>'),f=at(f)):t.overflowAnchor.append('<span class="k-icon k-i-more"><\/span>');t.popup=new r.ui.Popup(f,{origin:"bottom right",position:"top right",anchor:t.overflowAnchor,animation:t.animation,appendTo:t.isMobile?n(t.isMobile).children(".km-pane"):null,copyAnchorStyles:!1,open:function(i){var u=r.wrap(t.popup.element).addClass("k-overflow-wrapper");t.isMobile?t.popup.container.css("max-height",parseFloat(n(".km-content:visible").innerHeight())-15+"px"):u.css("margin-left",(u.outerWidth()-u.width())/2+1);t.trigger(et)&&i.preventDefault()},close:function(n){t.trigger(ot)&&n.preventDefault()}});t.popup.container=t.isMobile?t.popup.element.find("."+ti):t.popup.element;t.popup.container.attr(i,this.uid)},_toggleOverflowAnchor:function(){this.popup.element.children(":not(."+v+", ."+pt+")").length>0?this.overflowAnchor.css({visibility:"visible",width:""}):this.overflowAnchor.css({visibility:"hidden",width:"1px"})},_buttonClick:function(i){var u=this,y,r,v,b,k,d,l,a,p;if((i.preventDefault(),r=n(i.target).closest("."+e,u.element),!r.hasClass(w))&&(!r.length&&u.popup&&(r=n(i.target).closest("."+c,u.popup.container)),b=r.hasClass(c)?r.parent("li").hasClass(o):r.hasClass(o),!b)){if(i.target.closest("."+g).length){u._toggle(i);return}p=r.attr("id")?r.attr("id").replace(/(_overflow$)/,""):t;r.hasClass(h)?(d=r.data("group"),l=s(r.data("toggle"))?r.data("toggle"):null,u.toggle(r),k=r.hasClass(f),a={target:r,group:d,checked:k,id:p},l&&l.call(u,a),u.trigger(rt,a)):(l=s(r.data("click"))?r.data("click"):null,a={target:r,id:p},l&&l.call(u,a),u.trigger(it,a));r.hasClass(c)&&u.popup.close();v=r.closest(".k-split-container");v[0]&&(y=v.data("kendoPopup"),(y?y:v.parents(".km-popup-wrapper").data("kendoPopup")).close())}},_toggle:function(t){var i=n(t.target).closest("."+l),r=i.data("kendoPopup"),u;(t.preventDefault(),i.hasClass(o))||(u=r.element.is(":visible")?this.trigger(ft,{target:i}):this.trigger(ut,{target:i}),u||r.toggle())},_toggleOverflow:function(){this.popup.toggle()},_resize:function(n){var t=n.width;this.options.resizable&&(this.popup.close(),this._shrink(t),this._stretch(t),this._markVisibles(),this._toggleOverflowAnchor())},_childrenWidth:function(){var t=0;return this.element.children(":visible").each(function(){t+=n(this).outerWidth(!0)}),Math.ceil(t)},_shrink:function(n){var r,i,t;if(n<this._childrenWidth())for(i=this.element.children(":visible:not([data-overflow='never'], ."+w+")"),t=i.length-1;t>=0;t--)if(r=i.eq(t),n>this._childrenWidth())break;else this._hideItem(r)},_stretch:function(n){var r,i,t;if(n>this._childrenWidth())for(i=this.element.children(":hidden"),t=0;t<i.length;t++)if(r=i.eq(t),n<this._childrenWidth()||!this._showItem(r,n))break},_hideItem:function(n){n.hide();this.popup&&this.popup.container.find(">li[data-uid='"+n.data("uid")+"']").removeClass(v)},_showItem:function(n,t){return n.length&&t>this._childrenWidth()+n.outerWidth(!0)?(n.show(),this.popup&&this.popup.container.find(">li[data-uid='"+n.data("uid")+"']").addClass(v),!0):!1},_markVisibles:function(){var n=this.popup.container.children(),t=this.element.children(":not(.k-overflow-anchor)"),i=n.filter(":not(.k-overflow-hidden)"),r=t.filter(":visible");n.add(t).removeClass(nt+" "+tt);i.first().add(r.first()).addClass(nt);i.last().add(r.last()).addClass(tt)}});r.ui.plugin(oi)}(window.kendo.jQuery),function(n,t){function li(n,t,i,r){var u=n.getFullYear(),e=t.getFullYear(),o=i.getFullYear(),f;return u=u-u%r,f=u+(r-1),u<e&&(u=e),f>o&&(f=o),u+"-"+f}function d(n){for(var t=0,i,f=n.min,e=n.max,r=n.start,o=n.setter,s=n.build,h=n.cells||12,c=n.perRow||4,l=n.content||bi,a=n.empty||ki,u=n.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';t<h;t++)t>0&&t%c==0&&(u+='<\/tr><tr role="row">'),i=s(r,t),u+=nt(r,f,e)?l(i):a(i),o(r,1);return u+"<\/tr><\/tbody><\/table>"}function st(n,t,i){var f=n.getFullYear(),r=t.getFullYear(),e=r,u=0;return i&&(r=r-r%i,e=r-r%i+i-1),f>e?u=1:f<r&&(u=-1),u}function g(){var n=new i;return new i(n.getFullYear(),n.getMonth(),n.getDate())}function v(n,t,r){var u=g();return n&&(u=new i(+n)),t>u?u=new i(+t):r<u&&(u=new i(+r)),u}function nt(n,t,i){return+n>=+t&&+n<=+i}function ai(n,t){return n.slice(t).concat(n.slice(0,t))}function vi(n,t,r){t=t instanceof i?t.getFullYear():n.getFullYear()+r*t;n.setFullYear(t)}function yi(t){n(this).toggleClass(nr,tr.indexOf(t.type)>-1||t.type==ri)}function ur(n){n.preventDefault()}function ht(n){return at(n).calendars.standard}function ct(n){var i=o[n.start],r=o[n.depth],u=at(n.culture);n.format=wi(n.format||u.calendars.standard.patterns.d);isNaN(i)&&(i=0,n.start=a);(r===t||r>i)&&(n.depth=a);n.dates||(n.dates=[])}function pi(n){di&&n.find("*").attr("unselectable","on")}function fr(n,t){for(var i=0,r=t.length;i<r;i++)if(n===+t[i])return!0;return!1}function er(n,t){return n?n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()&&n.getDate()===t.getDate():!1}function or(n,t){return n?n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth():!1}var r=window.kendo,tt=r.support,lt=r.ui,y=lt.Widget,f=r.keys,it=r.parseDate,p=r.date.adjustDST,wi=r._extractFormat,l=r.template,at=r.getCulture,vt=r.support.transitions,yt=vt?vt.css+"transform-origin":"",bi=l('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#<\/a><\/td>',{useWithBlock:!1}),ki=l('<td role="gridcell">&nbsp;<\/td>',{useWithBlock:!1}),pt=r.support.browser,di=pt.msie&&pt.version<9,u=".kendoCalendar",s="click"+u,gi="keydown"+u,rt="id",wt="min",bt="left",ut="slideIn",a="month",kt="century",ft="change",dt="navigate",et="value",nr="k-state-hover",h="k-state-disabled",c="k-state-focused",w="k-other-month",gt=' class="'+w+'"',ni="k-nav-today",ti="td:has(.k-link)",ii="blur"+u,ri="focus",ui=ri+u,tr=tt.touch?"touchstart":"mouseenter",fi=tt.touch?"touchstart"+u:"mouseenter"+u,ei=tt.touch?"touchend"+u+" touchmove"+u:"mouseleave"+u,ir=6e4,oi=864e5,b="_prevArrow",k="_nextArrow",ot="aria-disabled",si="aria-selected",hi=n.proxy,ci=n.extend,i=Date,o={month:0,year:1,decade:2,century:3},rr=y.extend({init:function(t,f){var e=this,h,l;y.fn.init.call(e,t,f);t=e.wrapper=e.element;f=e.options;f.url=window.unescape(f.url);e._templates();e._header();e._footer(e.footer);l=t.addClass("k-widget k-calendar").on(fi+" "+ei,ti,yi).on(gi,"table.k-content",hi(e._move,e)).on(s,ti,function(t){var i=t.currentTarget.firstChild;i.href.indexOf("#")!=-1&&t.preventDefault();e._click(n(i))}).on("mouseup"+u,"table.k-content, .k-footer",function(){e._focusView(e.options.focusOnNav!==!1)}).attr(rt);l&&(e._cellID=l+"_cell_selected");ct(f);h=it(f.value,f.format,f.culture);e._index=o[f.start];e._current=new i(+v(h,f.min,f.max));e._addClassProxy=function(){e._active=!0;e._cell.addClass(c)};e._removeClassProxy=function(){e._active=!1;e._cell.removeClass(c)};e.value(h);r.notify(e)},options:{name:"Calendar",value:null,min:new i(1900,0,1),max:new i(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:a,depth:a,animation:{horizontal:{effects:ut,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[ft,dt],setOptions:function(n){var t=this;ct(n);n.dates[0]||(n.dates=t.options.dates);y.fn.setOptions.call(t,n);t._templates();t._footer(t.footer);t._index=o[t.options.start];t.navigate()},destroy:function(){var n=this,t=n._today;n.element.off(u);n._title.off(u);n[b].off(u);n[k].off(u);r.destroy(n._table);t&&r.destroy(t.off(u));y.fn.destroy.call(n)},current:function(){return this._current},view:function(){return this._view},focus:function(n){n=n||this._table;this._bindTable(n);n.focus()},min:function(n){return this._option(wt,n)},max:function(n){return this._option("max",n)},navigateToPast:function(){this._navigate(b,-1)},navigateToFuture:function(){this._navigate(k,1)},navigateUp:function(){var n=this,t=n._index;n._title.hasClass(h)||n.navigate(n._current,++t)},navigateDown:function(n){var t=this,i=t._index,r=t.options.depth;if(n){if(i===o[r]){+t._value!=+n&&(t.value(n),t.trigger(ft));return}t.navigate(n,--i)}},navigate:function(r,u){u=isNaN(u)?o[u]:u;var f=this,l=f.options,tt=l.culture,p=l.min,w=l.max,it=f._title,y=f._table,d=f._oldTable,rt=f._value,ut=f._current,ft=r&&+r>+ut,et=u!==t&&u!==f._index,g,a,nt,s;r||(r=ut);f._current=r=new i(+v(r,p,w));u===t?u=f._index:f._index=u;f._view=a=e.views[u];nt=a.compare;s=u===o[kt];it.toggleClass(h,s).attr(ot,s);s=nt(r,p)<1;f[b].toggleClass(h,s).attr(ot,s);s=nt(r,w)>-1;f[k].toggleClass(h,s).attr(ot,s);y&&d&&d.data("animating")&&(d.kendoStop(!0,!0),y.kendoStop(!0,!0));f._oldTable=y;(!y||f._changeView)&&(it.html(a.title(r,p,w,tt)),f._table=g=n(a.content(ci({min:p,max:w,date:r,url:l.url,dates:l.dates,format:l.format,culture:tt},f[a.name]))),pi(g),f._animate({from:y,to:g,vertical:et,future:ft}),f._focus(r),f.trigger(dt));u===o[l.depth]&&rt&&f._class("k-state-selected",a.toDateString(rt));f._class(c,a.toDateString(r));!y&&f._cell&&f._cell.removeClass(c);f._changeView=!0},value:function(n){var r=this,f=r._view,u=r.options,e=r._view,o=u.min,s=u.max;if(n===t)return r._value;n=it(n,u.format,u.culture);n!==null&&(n=new i(+n),nt(n,o,s)||(n=null));r._value=n;e&&n===null&&r._cell?r._cell.removeClass("k-state-selected"):(r._changeView=!n||f&&f.compare(n,r._current)!==0,r.navigate(n))},_move:function(t){var u=this,y=u.options,e=t.keyCode,p=u._view,w=u._index,s=new i(+u._current),h=r.support.isRtl(u.wrapper),c,o,l,a;return t.target===u._table[0]&&(u._active=!0),t.ctrlKey?e==f.RIGHT&&!h||e==f.LEFT&&h?(u.navigateToFuture(),o=!0):e==f.LEFT&&!h||e==f.RIGHT&&h?(u.navigateToPast(),o=!0):e==f.UP?(u.navigateUp(),o=!0):e==f.DOWN&&(u._click(n(u._cell[0].firstChild)),o=!0):(e==f.RIGHT&&!h||e==f.LEFT&&h?(c=1,o=!0):e==f.LEFT&&!h||e==f.RIGHT&&h?(c=-1,o=!0):e==f.UP?(c=w===0?-7:-4,o=!0):e==f.DOWN?(c=w===0?7:4,o=!0):e==f.ENTER?(u._click(n(u._cell[0].firstChild)),o=!0):e==f.HOME||e==f.END?(l=e==f.HOME?"first":"last",a=p[l](s),s=new i(a.getFullYear(),a.getMonth(),a.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),o=!0):e==f.PAGEUP?(o=!0,u.navigateToPast()):e==f.PAGEDOWN&&(o=!0,u.navigateToFuture()),(c||l)&&(l||p.setDate(s,c),u._focus(v(s,y.min,y.max)))),o&&t.preventDefault(),u._current},_animate:function(n){var i=this,t=n.from,r=n.to,f=i._active;t?t.parent().data("animating")?(t.off(u),t.parent().kendoStop(!0,!0).remove(),t.remove(),r.insertAfter(i.element[0].firstChild),i._focusView(f)):t.is(":visible")&&i.options.animation!==!1?i[n.vertical?"_vertical":"_horizontal"](t,r,n.future):(r.insertAfter(t),t.off(u).remove(),i._focusView(f)):(r.insertAfter(i.element[0].firstChild),i._bindTable(r))},_horizontal:function(n,t,i){var r=this,o=r._active,f=r.options.animation.horizontal,s=f.effects,e=n.outerWidth();s&&s.indexOf(ut)!=-1&&(n.add(t).css({width:e}),n.wrap("<div/>"),r._focusView(o,n),n.parent().css({position:"relative",width:e*2,float:bt,"margin-left":i?0:-e}),t[i?"insertAfter":"insertBefore"](n),ci(f,{effects:ut+":"+(i?"right":bt),complete:function(){n.off(u).remove();r._oldTable=null;t.unwrap();r._focusView(o)}}),n.parent().kendoStop(!0,!0).kendoAnimate(f))},_vertical:function(n,t){var i=this,e=i.options.animation.vertical,o=e.effects,s=i._active,f,r;o&&o.indexOf("zoom")!=-1&&(t.css({position:"absolute",top:n.prev().outerHeight(),left:0}).insertBefore(n),yt&&(f=i._cellByDate(i._view.toDateString(i._current)),r=f.position(),r=r.left+parseInt(f.width()/2,10)+"px "+(r.top+parseInt(f.height()/2,10)+"px"),t.css(yt,r)),n.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){n.off(u).remove();i._oldTable=null;t.css({position:"static",top:0,left:0});i._focusView(s)}}),t.kendoStop(!0,!0).kendoAnimate(e))},_cellByDate:function(t){return this._table.find("td:not(."+w+")").filter(function(){return n(this.firstChild).attr(r.attr(et))===t})},_class:function(t,i){var u=this,e=u._cellID,f=u._cell;f&&f.removeAttr(si).removeAttr("aria-label").removeAttr(rt);f=u._table.find("td:not(."+w+")").removeClass(t).filter(function(){return n(this.firstChild).attr(r.attr(et))===i}).attr(si,!0);t!==c||u._active||u.options.focusOnNav===!1||(t="");f.addClass(t);f[0]&&(u._cell=f);e&&(f.attr(rt,e),u._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",e))},_bindTable:function(n){n.on(ui,this._addClassProxy).on(ii,this._removeClassProxy)},_click:function(n){var u=this,f=u.options,e=new Date(+u._current),t=n.attr(r.attr(et)).split("/");t=new i(t[0],t[1],t[2]);p(t,0);u._view.setDate(e,t);u.navigateDown(v(e,f.min,f.max))},_focus:function(n){var t=this,i=t._view;i.compare(n,t._current)!==0?t.navigate(n):(t._current=n,t._class(c,i.toDateString(n)))},_focusView:function(n,t){n&&this.focus(t)},_footer:function(t){var i=this,f=g(),e=i.element,u=e.find(".k-footer");if(!t){i._toggle(!1);u.hide();return}u[0]||(u=n('<div class="k-footer"><a href="#" class="k-link k-nav-today"><\/a><\/div>').appendTo(e));i._today=u.show().find(".k-link").html(t(f)).attr("title",r.toString(f,"D",i.options.culture));i._toggle()},_header:function(){var n=this,i=n.element,t;i.find(".k-header")[0]||i.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"><\/span><\/a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"><\/a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"><\/span><\/a><\/div>');t=i.find(".k-link").on(fi+" "+ei+" "+ui+" "+ii,yi).click(!1);n._title=t.eq(1).on(s,function(){n._active=n.options.focusOnNav!==!1;n.navigateUp()});n[b]=t.eq(0).on(s,function(){n._active=n.options.focusOnNav!==!1;n.navigateToPast()});n[k]=t.eq(2).on(s,function(){n._active=n.options.focusOnNav!==!1;n.navigateToFuture()})},_navigate:function(n,t){var r=this,f=r._index+1,u=new i(+r._current);n=r[n];n.hasClass(h)||(f>3?u.setFullYear(u.getFullYear()+100*t):e.views[f].setDate(u,t),r.navigate(u))},_option:function(n,r){var u=this,f=u.options,e=u._value||u._current,o;if(r===t)return f[n];(r=it(r,f.format,f.culture),r)&&(f[n]=new i(+r),o=n===wt?r>e:e>r,(o||or(e,r))&&(o&&(u._value=null),u._changeView=!0),u._changeView||(u._changeView=!!(f.month.content||f.month.empty)),u.navigate(u._value),u._toggle())},_toggle:function(n){var i=this,u=i.options,r=i._today;if(n===t&&(n=nt(g(),u.min,u.max)),r)if(r.off(s),n)r.addClass(ni).removeClass(h).on(s,hi(i._todayClick,i));else r.removeClass(ni).addClass(h).on(s,ur)},_todayClick:function(n){var t=this,r=o[t.options.depth],i=g();n.preventDefault();t._view.compare(t._current,i)===0&&t._index==r&&(t._changeView=!1);t._value=i;t.navigate(i,r);t.trigger(ft)},_templates:function(){var n=this,t=n.options,i=t.footer,u=t.month,f=u.content,e=u.empty;n.month={content:l('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+r.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(f||"#=data.value#")+"<\/a><\/td>",{useWithBlock:!!f}),empty:l('<td role="gridcell">'+(e||"&nbsp;")+"<\/td>",{useWithBlock:!!e})};n.footer=i!==!1?l(i||'#= kendo.toString(data,"D","'+t.culture+'") #',{useWithBlock:!1}):null}}),e;lt.plugin(rr);e={firstDayOfMonth:function(n){return new i(n.getFullYear(),n.getMonth(),1)},firstVisibleDay:function(n,t){t=t||r.culture().calendar;for(var f=t.firstDay,u=new i(n.getFullYear(),n.getMonth(),0,n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds());u.getDay()!=f;)e.setTime(u,-1*oi);return u},setTime:function(n,t){var u=n.getTimezoneOffset(),r=new i(n.getTime()+t),f=r.getTimezoneOffset()-u;n.setTime(r.getTime()+f*ir)},views:[{name:a,title:function(n,t,i,r){return ht(r).months.names[n.getMonth()]+" "+n.getFullYear()},content:function(n){for(var u=this,f=0,o=n.min,s=n.max,h=n.date,c=n.dates,nt=n.format,l=n.culture,y=n.url,tt=y&&c[0],a=ht(l),b=a.firstDay,k=a.days,it=ai(k.names,b),rt=ai(k.namesShort,b),v=e.firstVisibleDay(h,a),ut=u.first(h),ft=u.last(h),et=u.toDateString,t=new i,g='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';f<7;f++)g+='<th scope="col" title="'+it[f]+'">'+rt[f]+"<\/th>";return t=new i(t.getFullYear(),t.getMonth(),t.getDate()),p(t,0),t=+t,d({cells:42,perRow:7,html:g+='<\/tr><\/thead><tbody><tr role="row">',start:new i(v.getFullYear(),v.getMonth(),v.getDate()),min:new i(o.getFullYear(),o.getMonth(),o.getDate()),max:new i(s.getFullYear(),s.getMonth(),s.getDate()),content:n.content,empty:n.empty,setter:u.setDate,build:function(n){var i=[],u=n.getDay(),f="",e="#";return(n<ut||n>ft)&&i.push(w),+n===t&&i.push("k-today"),(u===0||u===6)&&i.push("k-weekend"),tt&&fr(+n,c)&&(e=y.replace("{0}",r.toString(n,nt,l)),f=" k-action-link"),{date:n,dates:c,ns:r.ns,title:r.toString(n,"D",l),value:n.getDate(),dateString:et(n),cssClass:i[0]?' class="'+i.join(" ")+'"':"",linkClass:f,url:e}}})},first:function(n){return e.firstDayOfMonth(n)},last:function(n){var t=new i(n.getFullYear(),n.getMonth()+1,0),r=e.firstDayOfMonth(n),u=Math.abs(t.getTimezoneOffset()-r.getTimezoneOffset());return u&&t.setHours(r.getHours()+u/60),t},compare:function(n,t){var i=n.getMonth(),r=n.getFullYear(),u=t.getMonth(),f=t.getFullYear();return r>f?1:r<f?-1:i==u?0:i>u?1:-1},setDate:function(n,t){var r=n.getHours();t instanceof i?n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):e.setTime(n,t*oi);p(n,r)},toDateString:function(n){return n.getFullYear()+"/"+n.getMonth()+"/"+n.getDate()}},{name:"year",title:function(n){return n.getFullYear()},content:function(n){var f=ht(n.culture).months.namesAbbr,e=this.toDateString,t=n.min,u=n.max;return d({min:new i(t.getFullYear(),t.getMonth(),1),max:new i(u.getFullYear(),u.getMonth(),1),start:new i(n.date.getFullYear(),0,1),setter:this.setDate,build:function(n){return{value:f[n.getMonth()],ns:r.ns,dateString:e(n),cssClass:""}}})},first:function(n){return new i(n.getFullYear(),0,n.getDate())},last:function(n){return new i(n.getFullYear(),11,n.getDate())},compare:function(n,t){return st(n,t)},setDate:function(n,t){var r,u=n.getHours();t instanceof i?(r=t.getMonth(),n.setFullYear(t.getFullYear(),r,n.getDate()),r!==n.getMonth()&&n.setDate(0)):(r=n.getMonth()+t,n.setMonth(r),r>11&&(r-=12),r>0&&n.getMonth()!=r&&n.setDate(0));p(n,u)},toDateString:function(n){return n.getFullYear()+"/"+n.getMonth()+"/1"}},{name:"decade",title:function(n,t,i){return li(n,t,i,10)},content:function(n){var t=n.date.getFullYear(),u=this.toDateString;return d({start:new i(t-t%10-1,0,1),min:new i(n.min.getFullYear(),0,1),max:new i(n.max.getFullYear(),0,1),setter:this.setDate,build:function(n,t){return{value:n.getFullYear(),ns:r.ns,dateString:u(n),cssClass:t===0||t==11?gt:""}}})},first:function(n){var t=n.getFullYear();return new i(t-t%10,n.getMonth(),n.getDate())},last:function(n){var t=n.getFullYear();return new i(t-t%10+9,n.getMonth(),n.getDate())},compare:function(n,t){return st(n,t,10)},setDate:function(n,t){vi(n,t,1)},toDateString:function(n){return n.getFullYear()+"/0/1"}},{name:kt,title:function(n,t,i){return li(n,t,i,100)},content:function(n){var o=n.date.getFullYear(),f=n.min.getFullYear(),e=n.max.getFullYear(),s=this.toDateString,t=f,u=e;return t=t-t%10,u=u-u%10,u-t<10&&(u=t+9),d({start:new i(o-o%100-10,0,1),min:new i(t,0,1),max:new i(u,0,1),setter:this.setDate,build:function(n,t){var i=n.getFullYear(),u=i+9;return i<f&&(i=f),u>e&&(u=e),{ns:r.ns,value:i+" - "+u,dateString:s(n),cssClass:t===0||t==11?gt:""}}})},first:function(n){var t=n.getFullYear();return new i(t-t%100,n.getMonth(),n.getDate())},last:function(n){var t=n.getFullYear();return new i(t-t%100+99,n.getMonth(),n.getDate())},compare:function(n,t){return st(n,t,100)},setDate:function(n,t){vi(n,t,10)},toDateString:function(n){var t=n.getFullYear();return t-t%10+"/0/1"}}]};e.isEqualDatePart=er;e.makeUnselectable=pi;e.restrictValue=v;e.isInRange=nt;e.normalize=ct;e.viewsEnum=o;r.calendar=e}(window.kendo.jQuery),function(n,t){function d(t){var i=t.parseFormats,r=t.format;s.normalize(t);i=n.isArray(i)?i:[i];n.inArray(r,i)===-1&&i.splice(0,0,t.format);t.parseFormats=i}function pt(n){n.preventDefault()}var i=window.kendo,e=i.ui,o=e.Widget,u=i.parseDate,f=i.keys,bt=i.template,kt=i._activeElement,g="<div />",nt="<span />",r=".kendoDatePicker",tt="click"+r,l="open",a="close",v="change",it="disabled",rt="readonly",y="k-state-default",ut="k-state-focused",ft="k-state-selected",p="k-state-disabled",dt="k-state-hover",ii="keydown"+r,gt="mouseenter"+r+" mouseleave"+r,et="mousedown"+r,w="id",ot="min",st="max",ht="month",ct="aria-disabled",lt="aria-expanded",b="aria-hidden",at="aria-readonly",s=i.calendar,ni=s.isInRange,vt=s.restrictValue,ti=s.isEqualDatePart,k=n.extend,h=n.proxy,yt=Date,c=function(t){var r=this,u,o=document.body,f=n(g).attr(b,"true").addClass("k-calendar-container").appendTo(o);r.options=t=t||{};u=t.id;u&&(u+="_dateview",f.attr(w,u),r._dateViewID=u);r.popup=new e.Popup(f,k(t.popup,t,{name:"Popup",isRtl:i.support.isRtl(t.anchor)}));r.div=f;r.value(t.value)},wt;c.prototype={_calendar:function(){var t=this,r=t.calendar,u=t.options,f;r||(f=n(g).attr(w,i.guid()).appendTo(t.popup.element).on(et,pt).on(tt,"td:has(.k-link)",h(t._click,t)),t.calendar=r=new e.Calendar(f),t._setOptions(u),i.calendar.makeUnselectable(r.element),r.navigate(t._value||t._current,u.start),t.value(t._value))},_setOptions:function(n){this.calendar.setOptions({focusOnNav:!1,change:n.change,culture:n.culture,dates:n.dates,depth:n.depth,footer:n.footer,format:n.format,max:n.max,min:n.min,month:n.month,start:n.start})},setOptions:function(n){var t=this.options;this.options=k(t,n,{change:t.change,close:t.close,open:t.open});this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){var n=this;n._calendar();n.popup.open()},close:function(){this.popup.close()},min:function(n){this._option(ot,n)},max:function(n){this._option(st,n)},toggle:function(){var n=this;n[n.popup.visible()?a:l]()},move:function(n){var t=this,i=n.keyCode,r=t.calendar,u=n.ctrlKey&&i==f.DOWN||i==f.ENTER;if(i==f.ESC){t.close();return}if(n.altKey){i==f.DOWN?(t.open(),n.preventDefault()):i==f.UP&&(t.close(),n.preventDefault());return}if(t.popup.visible()){if(u&&r._cell.hasClass(ft)){t.close();n.preventDefault();return}t._current=r._move(n)}},current:function(n){this._current=n;this.calendar._focus(n)},value:function(n){var t=this,i=t.calendar,r=t.options;t._value=n;t._current=new yt(+vt(n,r.min,r.max));i&&i.value(n)},_click:function(n){n.currentTarget.className.indexOf(ft)!==-1&&this.close()},_option:function(n,t){var i=this,r=i.calendar;i.options[n]=t;r&&r[n](t)}};c.normalize=d;i.DateView=c;wt=o.extend({init:function(n,t){var r=this,e,f;o.fn.init.call(r,n,t);n=r.element;t=r.options;t.min=u(n.attr("min"))||u(t.min);t.max=u(n.attr("max"))||u(t.max);d(t);r._wrapper();r.dateView=new c(k({},t,{id:n.attr(w),anchor:r.wrapper,change:function(){r._change(this.value());r.close()},close:function(t){r.trigger(a)?t.preventDefault():(n.attr(lt,!1),f.attr(b,!0))},open:function(t){var e=r.options,i;r.trigger(l)?t.preventDefault():(r.element.val()!==r._oldText&&(i=u(n.val(),e.parseFormats,e.culture),r.dateView[i?"current":"value"](i)),n.attr(lt,!0),f.attr(b,!1),r._updateARIA(i))}}));f=r.dateView.div;r._icon();try{n[0].setAttribute("type","text")}catch(s){n[0].type="text"}n.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":r.dateView._dateViewID});r._reset();r._template();e=n.is("[disabled]");e?r.enable(!1):r.readonly(n.is("[readonly]"));r._old=r._update(t.value||r.element.val());r._oldText=n.val();i.notify(r)},events:[l,a,v],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:ht,depth:ht,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(n){var t=this,r=t._value;o.fn.setOptions.call(t,n);n=t.options;n.min=u(n.min);n.max=u(n.max);d(n);t.dateView.setOptions(n);r&&(t.element.val(i.toString(r,n.format,n.culture)),t._updateARIA(r))},_editable:function(n){var t=this,o=t._dateIcon.off(r),f=t.element.off(r),e=t._inputWrapper.off(r),u=n.readonly,i=n.disable;if(u||i)e.addClass(i?p:y).removeClass(i?y:p),f.attr(it,i).attr(rt,u).attr(ct,i).attr(at,u);else{e.addClass(y).removeClass(p).on(gt,t._toggleHover);f.removeAttr(it).removeAttr(rt).attr(ct,!1).attr(at,!1).on("keydown"+r,h(t._keydown,t)).on("focusout"+r,h(t._blur,t)).on("focus"+r,function(){t._inputWrapper.addClass(ut)});o.on(tt,h(t._click,t)).on(et,pt)}},readonly:function(n){this._editable({readonly:n===t?!0:n,disable:!1})},enable:function(n){this._editable({readonly:!1,disable:!(n=n===t?!0:n)})},destroy:function(){var n=this;o.fn.destroy.call(n);n.dateView.destroy();n.element.off(r);n._dateIcon.off(r);n._inputWrapper.off(r);n._form&&n._form.off("reset",n._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(n){return this._option(ot,n)},max:function(n){return this._option(st,n)},value:function(n){var i=this;if(n===t)return i._value;i._old=i._update(n);i._old===null&&i.element.val("");i._oldText=i.element.val()},_toggleHover:function(t){n(t.currentTarget).toggleClass(dt,t.type==="mouseenter")},_blur:function(){var n=this,t=n.element.val();n.close();t!==n._oldText&&n._change(t);n._inputWrapper.removeClass(ut)},_click:function(){var n=this,t=n.element;n.dateView.toggle();i.support.touch||t[0]===kt()||t.focus()},_change:function(n){var t=this;n=t._update(n);+t._old!=+n&&(t._old=n,t._oldText=t.element.val(),t.element.trigger(v),t.trigger(v))},_keydown:function(n){var t=this,i=t.dateView,r=t.element.val();i.popup.visible()||n.keyCode!=f.ENTER||r===t._oldText?(i.move(n),t._updateARIA(i._current)):t._change(r)},_icon:function(){var i=this,r=i.element,t;t=r.next("span.k-select");t[0]||(t=n('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select<\/span><\/span>').insertAfter(r));i._dateIcon=t.attr({role:"button","aria-controls":i.dateView._dateViewID})},_option:function(n,i){var f=this,r=f.options;if(i===t)return r[n];(i=u(i,r.parseFormats,r.culture),i)&&(r[n]=new yt(+i),f.dateView[n](i))},_update:function(n){var f=this,r=f.options,e=r.min,h=r.max,o=f._value,t=u(n,r.parseFormats,r.culture),c=t===null&&o===null||t instanceof Date&&o instanceof Date,s;return+t==+o&&c?(s=i.toString(t,r.format,r.culture),s!==n&&f.element.val(t===null?n:s),t):(t!==null&&ti(t,e)?t=vt(t,e,h):ni(t,e,h)||(t=null),f._value=t,f.dateView.value(t),f.element.val(t?i.toString(t,r.format,r.culture):n),f._updateARIA(t),t)},_wrapper:function(){var r=this,i=r.element,t;t=i.parents(".k-datepicker");t[0]||(t=i.wrap(nt).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(nt).parent());t[0].style.cssText=i[0].style.cssText;i.css({width:"100%",height:i[0].style.height});r.wrapper=t.addClass("k-widget k-datepicker k-header").addClass(i[0].className);r._inputWrapper=n(t[0].firstChild)},_reset:function(){var t=this,i=t.element,r=i.attr("form"),u=r?n("#"+r):i.closest("form");u[0]&&(t._resetHandler=function(){t.value(i[0].defaultValue)},t._form=u.on("reset",t._resetHandler))},_template:function(){this._ariaTemplate=bt(this.options.ARIATemplate)},_updateARIA:function(n){var i,t=this,r=t.dateView.calendar;t.element.removeAttr("aria-activedescendant");r&&(i=r._cell,i.attr("aria-label",t._ariaTemplate({current:n||r.current()})),t.element.attr("aria-activedescendant",i.attr("id")))}});e.plugin(wt)}(window.kendo.jQuery),function(n,t){function ut(n,t){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+n+'" title="'+t+'">'+t+"<\/span><\/span>"}var r=window.kendo,s=r.caret,e=r.keys,p=r.ui,h=p.Widget,ft=r._activeElement,et=r._extractFormat,ot=r.parseFloat,st=r.support.placeholder,ht=r.getCulture,w=r._round,c="change",b="disabled",k="readonly",ct="k-input",d="spin",u=".kendoNumericTextBox",lt="touchend",at="mouseleave"+u,g="mouseenter"+u+" "+at,l="k-state-default",nt="k-state-focused",tt="k-state-hover",a="focus",f=".",v="k-state-selected",y="k-state-disabled",it="aria-disabled",rt="aria-readonly",vt=/^(-)?(\d*)$/,i=null,o=n.proxy,yt=h.extend({init:function(n,f){var e=this,p=f&&f.step!==t,s,c,l,v,y;if(h.fn.init.call(e,n,f),f=e.options,n=e.element.on("focusout"+u,o(e._focusout,e)).attr("role","spinbutton"),f.placeholder=f.placeholder||n.attr("placeholder"),e._reset(),e._wrapper(),e._arrows(),e._input(),r.support.mobileOS)e._text.on(lt+u+" "+a+u,function(t){e._toggleText(!1);t.type===a&&n.focus()});else e._text.on(a+u,o(e._click,e));s=e.min(n.attr("min"));c=e.max(n.attr("max"));l=e._parse(n.attr("step"));f.min===i&&s!==i&&(f.min=s);f.max===i&&c!==i&&(f.max=c);p||l===i||(f.step=l);n.attr("aria-valuemin",f.min).attr("aria-valuemax",f.max);f.format=et(f.format);v=f.value;e.value(v!==i?v:n.val());y=n.is("[disabled]");y?e.enable(!1):e.readonly(n.is("[readonly]"));r.notify(e)},options:{name:"NumericTextBox",decimals:i,min:i,max:i,value:i,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[c,d],_editable:function(n){var t=this,f=t.element,i=n.disable,r=n.readonly,e=t._text.add(f),s=t._inputWrapper.off(g);if(t._toggleText(!0),t._upArrowEventHandler.unbind("press"),t._downArrowEventHandler.unbind("press"),f.off("keydown"+u).off("keypress"+u).off("paste"+u),r||i)s.addClass(i?y:l).removeClass(i?l:y),e.attr(b,i).attr(k,r).attr(it,i).attr(rt,r);else{s.addClass(l).removeClass(y).on(g,t._toggleHover);e.removeAttr(b).removeAttr(k).attr(it,!1).attr(rt,!1);t._upArrowEventHandler.bind("press",function(n){n.preventDefault();t._spin(1);t._upArrow.addClass(v)});t._downArrowEventHandler.bind("press",function(n){n.preventDefault();t._spin(-1);t._downArrow.addClass(v)});t.element.on("keydown"+u,o(t._keydown,t)).on("keypress"+u,o(t._keypress,t)).on("paste"+u,o(t._paste,t))}},readonly:function(n){this._editable({readonly:n===t?!0:n,disable:!1})},enable:function(n){this._editable({readonly:!1,disable:!(n=n===t?!0:n)})},destroy:function(){var n=this;n.element.add(n._text).add(n._upArrow).add(n._downArrow).add(n._inputWrapper).off(u);n._upArrowEventHandler.destroy();n._downArrowEventHandler.destroy();n._form&&n._form.off("reset",n._resetHandler);h.fn.destroy.call(n)},min:function(n){return this._option("min",n)},max:function(n){return this._option("max",n)},step:function(n){return this._option("step",n)},value:function(n){var i=this,r;if(n===t)return i._value;(n=i._parse(n),r=i._adjust(n),n===r)&&(i._update(n),i._old=i._value)},focus:function(){this._focusin()},_adjust:function(n){var f=this,u=f.options,t=u.min,r=u.max;return n===i?n:(t!==i&&n<t?n=t:r!==i&&n>r&&(n=r),n)},_arrows:function(){var t=this,i,f=function(){clearTimeout(t._spinning);i.removeClass(v)},u=t.options,e=u.spinners,o=t.element;i=o.siblings(".k-icon");i[0]||(i=n(ut("n",u.upArrowText)+ut("s",u.downArrowText)).insertAfter(o),i.wrapAll('<span class="k-select"/>'));e||(i.parent().toggle(e),t._inputWrapper.addClass("k-expand-padding"));t._upArrow=i.eq(0);t._upArrowEventHandler=new r.UserEvents(t._upArrow,{release:f});t._downArrow=i.eq(1);t._downArrowEventHandler=new r.UserEvents(t._downArrow,{release:f})},_blur:function(){var n=this;n._toggleText(!0);n._change(n.element.val())},_click:function(n){var t=this;clearTimeout(t._focusing);t._focusing=setTimeout(function(){var o=n.target,a=s(o)[0],h=o.value.substring(0,a),c=t._format(t.options.format),i=c[","],r,l,u,e=0;i&&(l=new RegExp("\\"+i,"g"),u=new RegExp("([\\d\\"+i+"]+)(\\"+c[f]+")?(\\d+)?"));u&&(r=u.exec(h));r&&(e=r[0].replace(l,"").length,h.indexOf("(")!=-1&&t._value<0&&e++);t._focusin();s(t.element[0],e)})},_change:function(n){var t=this;t._update(n);n=t._value;t._old!=n&&(t._old=n,t.element.trigger(c),t.trigger(c))},_culture:function(n){return n||ht(this.options.culture)},_focusin:function(){var n=this;n._inputWrapper.addClass(nt);n._toggleText(!1);n.element[0].focus()},_focusout:function(){var n=this;clearTimeout(n._focusing);n._inputWrapper.removeClass(nt).removeClass(tt);n._blur()},_format:function(n,t){var i=this._culture(t).numberFormat;return n=n.toLowerCase(),n.indexOf("c")>-1?i=i.currency:n.indexOf("p")>-1&&(i=i.percent),i},_input:function(){var r=this,u="k-formatted-value",t=r.element.addClass(ct).show()[0],e=t.accessKey,o=r.wrapper,i;i=o.find(f+u);i[0]||(i=n('<input type="text"/>').insertBefore(t).addClass(u));try{t.setAttribute("type","text")}catch(s){t.type="text"}i[0].tabIndex=t.tabIndex;i[0].style.cssText=t.style.cssText;i.prop("placeholder",r.options.placeholder);e&&(i.attr("accesskey",e),t.accessKey="");r._text=i.addClass(t.className)},_keydown:function(n){var t=this,i=n.keyCode;t._key=i;i==e.DOWN?t._step(-1):i==e.UP?t._step(1):i==e.ENTER&&t._change(t.element.val())},_keypress:function(n){if(n.which!==0&&!n.ctrlKey&&n.keyCode!==e.BACKSPACE&&n.keyCode!==e.ENTER){var t=this,h=t.options.min,r=t.element,c=s(r),l=c[0],y=c[1],u=String.fromCharCode(n.which),a=t._format(t.options.format),v=t._key===e.NUMPAD_DOT,i=r.val(),o;v&&(u=a[f]);i=i.substring(0,l)+u+i.substring(y);o=t._numericRegex(a).test(i);o&&v?(r.val(i),s(r,l+u.length),n.preventDefault()):(h!==null&&h>=0&&i.charAt(0)==="-"||!o)&&n.preventDefault();t._key=0}},_numericRegex:function(n){var r=this,t=n[f],u=r.options.decimals;return(t===f&&(t="\\"+t),u===i&&(u=n.decimals),u===0)?vt:(r._separator!==t&&(r._separator=t,r._floatRegExp=new RegExp("^(-)?(((\\d+("+t+"\\d*)?)|("+t+"\\d*)))?$")),r._floatRegExp)},_paste:function(n){var t=this,r=n.target,u=r.value;setTimeout(function(){t._parse(r.value)===i&&t._update(u)})},_option:function(n,i){var r=this,u=r.options;if(i===t)return u[n];(i=r._parse(i),i||n!=="step")&&(u[n]=i,r.element.attr("aria-value"+n,i).attr(n,i))},_spin:function(n,t){var i=this;t=t||500;clearTimeout(i._spinning);i._spinning=setTimeout(function(){i._spin(n,50)},t);i._step(n)},_step:function(n){var t=this,i=t.element,r=t._parse(i.val())||0;ft()!=i[0]&&t._focusin();r+=t.options.step*n;t._update(t._adjust(r));t.trigger(d)},_toggleHover:function(t){n(t.currentTarget).toggleClass(tt,t.type==="mouseenter")},_toggleText:function(n){var t=this;t._text.toggle(n);t.element.toggle(!n)},_parse:function(n,t){return ot(n,this._culture(t),this.options.format)},_update:function(n){var t=this,s=t.options,h=s.format,u=s.decimals,e=t._culture(),c=t._format(h,e),o;u===i&&(u=c.decimals);n=t._parse(n,e);o=n!==i;o&&(n=parseFloat(w(n,u)));t._value=n=t._adjust(n);t._placeholder(r.toString(n,h,e));o?(n=n.toString(),n.indexOf("e")!==-1&&(n=w(+n,u)),n=n.replace(f,c[f])):n="";t.element.val(n).attr("aria-valuenow",n)},_placeholder:function(n){this._text.val(n);st||n||this._text.val(this.options.placeholder)},_wrapper:function(){var i=this,r=i.element,u=r[0],t;t=r.parents(".k-numerictextbox");t.is("span.k-numerictextbox")||(t=r.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),t=t.wrap("<span/>").parent());t[0].style.cssText=u.style.cssText;u.style.width="";i.wrapper=t.addClass("k-widget k-numerictextbox").addClass(u.className).css("display","");i._inputWrapper=n(t[0].firstChild)},_reset:function(){var t=this,i=t.element,r=i.attr("form"),u=r?n("#"+r):i.closest("form");u[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(i[0].value)})},t._form=u.on("reset",t._resetHandler))}});p.plugin(yt)}(window.kendo.jQuery),function(n){function nt(i){var r=t.ui.validator.ruleResolvers||{},u={};for(var f in r)n.extend(!0,u,r[f].resolve(i));return u}function tt(n){return n.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function it(n){return(n=(n+"").split("."),n.length>1)?n[1].length:0}function rt(t){return n.parseHTML?n(n.parseHTML(t)):n(t)}function ut(i,r){for(var f=n(),u,o,e=0,s=i.length;e<s;e++)u=i[e],p.test(u.className)&&(o=u.getAttribute(t.attr("for")),o===r&&(f=f.add(u)));return f}var t=window.kendo,f=t.ui.Widget,i=".kendoValidator",r="k-invalid-msg",p=new RegExp(r,"i"),w="k-invalid",b=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,k=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,u=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",o=":checkbox:not([disabled],[readonly])",e="[type=number],[type=range]",s="blur",h="name",c="form",l="novalidate",d=n.proxy,a=function(n,t){return typeof t=="string"&&(t=new RegExp("^(?:"+t+")$")),t.test(n)},v=function(n,t,i){var r=n.val();return n.filter(t).length&&r!==""?a(r,i):!0},g=function(n,t){return n.length?n[0].attributes[t]!=null:!1},y;t.ui.validator||(t.ui.validator={rules:{},messages:{}});y=f.extend({init:function(i,r){var e=this,s=nt(i),h="["+t.attr("validate")+"!=false]";r=r||{};r.rules=n.extend({},t.ui.validator.rules,s.rules,r.rules);r.messages=n.extend({},t.ui.validator.messages,s.messages,r.messages);f.fn.init.call(e,i,r);e._errorTemplate=t.template(e.options.errorTemplate);e.element.is(c)&&e.element.attr(l,l);e._inputSelector=u+h;e._checkboxSelector=o+h;e._errors={};e._attachEvents();e._isValidated=!1},events:["validate","change"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> <\/span> #=message#<\/span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date"},rules:{required:function(n){var i=n.filter("[type=checkbox]").length&&!n.is(":checked"),t=n.val();return!(g(n,"required")&&(t===""||!t||i))},pattern:function(n){return n.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&n.val()!==""?a(n.val(),n.attr("pattern")):!0},min:function(n){if(n.filter(e+",["+t.attr("type")+"=number]").filter("[min]").length&&n.val()!==""){var i=parseFloat(n.attr("min"))||0,r=t.parseFloat(n.val());return i<=r}return!0},max:function(n){if(n.filter(e+",["+t.attr("type")+"=number]").filter("[max]").length&&n.val()!==""){var i=parseFloat(n.attr("max"))||0,r=t.parseFloat(n.val());return i>=r}return!0},step:function(n){if(n.filter(e+",["+t.attr("type")+"=number]").filter("[step]").length&&n.val()!==""){var f=parseFloat(n.attr("min"))||0,i=parseFloat(n.attr("step"))||1,o=parseFloat(n.val()),r=it(i),u;return r?(u=Math.pow(10,r),(o-f)*u%(i*u)/Math.pow(100,r)==0):(o-f)%i==0}return!0},email:function(n){return v(n,"[type=email],["+t.attr("type")+"=email]",b)},url:function(n){return v(n,"[type=url],["+t.attr("type")+"=url]",k)},date:function(n){return n.filter("[type^=date],["+t.attr("type")+"=date]").length&&n.val()!==""?t.parseDate(n.val(),n.attr(t.attr("format")))!==null:!0}},validateOnBlur:!0},destroy:function(){f.fn.destroy.call(this);this.element.off(i)},value:function(){return this._isValidated?this.errors().length===0:!1},_submit:function(n){return this.validate()?!0:(n.stopPropagation(),n.stopImmediatePropagation(),n.preventDefault(),!1)},_checkElement:function(n){var t=this.value();this.validateInput(n);this.value()!==t&&this.trigger("change")},_attachEvents:function(){var t=this;if(t.element.is(c))t.element.on("submit"+i,d(t._submit,t));if(t.options.validateOnBlur)if(t.element.is(u)){t.element.on(s+i,function(){t._checkElement(t.element)});if(t.element.is(o))t.element.on("click"+i,function(){t._checkElement(t.element)})}else{t.element.on(s+i,t._inputSelector,function(){t._checkElement(n(this))});t.element.on("click"+i,t._checkboxSelector,function(){t._checkElement(n(this))})}},validate:function(){var i,t,n=!1,f,e=this.value(),r;if(this._errors={},this.element.is(u))n=this.validateInput(this.element);else{for(r=!1,i=this.element.find(this._inputSelector),t=0,f=i.length;t<f;t++)this.validateInput(i.eq(t))||(r=!0);n=!r}return this.trigger("validate",{valid:n}),e!==n&&this.trigger("change"),n},validateInput:function(i){var e;i=n(i);this._isValidated=!0;var u=this,l=u._errorTemplate,c=u._checkValidity(i),o=c.valid,a="."+r,f=i.attr(h)||"",v=u._findMessageContainer(f).add(i.next(a).filter(function(){var i=n(this);return i.filter("["+t.attr("for")+"]").length?i.attr(t.attr("for"))===f:!0})).hide(),s;return i.removeAttr("aria-invalid"),o?delete u._errors[f]:(s=u._extractMessage(i,c.key),u._errors[f]=s,e=rt(l({message:tt(s)})),u._decorateMessageContainer(e,f),v.replaceWith(e).length||e.insertAfter(i),e.show(),i.attr("aria-invalid",!0)),i.toggleClass(w,!o),o},hideMessages:function(){var i=this,t="."+r,n=i.element;n.is(u)?n.next(t).hide():n.find(t).hide()},_findMessageContainer:function(i){for(var f=t.ui.validator.messageLocators,e,r=n(),u=0,o=this.element.length;u<o;u++)r=r.add(ut(this.element[u].getElementsByTagName("*"),i));for(e in f)r=r.add(f[e].locate(this.element,i));return r},_decorateMessageContainer:function(n,i){var u=t.ui.validator.messageLocators,f;n.addClass(r).attr(t.attr("for"),i||"");for(f in u)u[f].decorate(n,i);n.attr("role","alert")},_extractMessage:function(n,i){var u=this,r=u.options.messages[i],f=n.attr(h);return r=t.isFunction(r)?r(n):r,t.format(n.attr(t.attr(i+"-msg"))||n.attr("validationMessage")||n.attr("title")||r||"",f,n.attr(i))},_checkValidity:function(n){var t=this.options.rules;for(var i in t)if(!t[i].call(this,n))return{valid:!1,key:i};return{valid:!0}},errors:function(){var n=[],t=this._errors;for(var i in t)n.push(t[i]);return n}});t.ui.plugin(y)}(window.kendo.jQuery),function(n,t){function a(t){return t=t!=null?t:"",t.type||n.type(t)||"string"}function w(t){t.find(":input:not(:button, ["+i.attr("role")+"=upload], ["+i.attr("skip")+"], [type=file]), select").each(function(){var r=i.attr("bind"),t=this.getAttribute(r)||"",u=this.type==="checkbox"||this.type==="radio"?"checked:":"value:",f=this.name;t.indexOf(u)===-1&&f&&(t+=(t.length?",":"")+u+f,n(this).attr(r,t))})}function r(n){var o=(n.model.fields||n.model)[n.field],h=a(o),c=o?o.validation:{},t,v=i.attr("type"),y=i.attr("bind"),r,e={name:n.field};for(t in c)r=c[t],f(t,l)>=0?e[v]=t:s(r)||(e[t]=u(r)?r.value||t:r),e[i.attr(t+"-msg")]=r.message;return f(h,l)>=0&&(e[v]=h),e[y]=(h==="boolean"?"checked:":"value:")+n.field,e}function b(n){var i,u,t,f,e,r;if(n&&n.length)for(r=[],i=0,u=n.length;i<u;i++)t=n[i],e=t.text||t.value||t,f=t.value==null?t.text||t:t.value,r[i]={text:e,value:f};return r}function v(n,t){var f=n?n.validation||{}:{},r,i;for(r in f)i=f[r],u(i)&&i.value&&(i=i.value),s(i)&&(t[r]=i)}var i=window.kendo,o=i.ui,e=o.Widget,y=n.extend,p=i.support.browser.msie&&i.support.browser.version<9,s=i.isFunction,u=n.isPlainObject,f=n.inArray,h=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,c="change",l=["url","email","number","date","boolean"],k={number:function(t,u){var f=r(u);n('<input type="text"/>').attr(f).appendTo(t).kendoNumericTextBox({format:u.format});n("<span "+i.attr("for")+'="'+u.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},date:function(t,u){var e=r(u),f=u.format;f&&(f=i._extractFormat(f));e[i.attr("format")]=f;n('<input type="text"/>').attr(e).appendTo(t).kendoDatePicker({format:u.format});n("<span "+i.attr("for")+'="'+u.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},string:function(t,i){var u=r(i);n('<input type="text" class="k-input k-textbox"/>').attr(u).appendTo(t)},boolean:function(t,i){var u=r(i);n('<input type="checkbox" />').attr(u).appendTo(t)},values:function(t,u){var f=r(u);n("<select "+i.attr("text-field")+'="text"'+i.attr("value-field")+'="value"'+i.attr("source")+"='"+i.stringify(b(u.values)).replace(/\'/g,"&apos;")+"'"+i.attr("role")+'="dropdownlist"/>').attr(f).appendTo(t);n("<span "+i.attr("for")+'="'+u.field+'" class="k-invalid-msg"/>').hide().appendTo(t)}},d=e.extend({init:function(t,i){var r=this;i.target&&(i.$angular=i.target.options.$angular);e.fn.init.call(r,t,i);r._validateProxy=n.proxy(r._validate,r);r.refresh()},events:[c],options:{name:"Editable",editors:k,clearContainer:!0,errorTemplate:'<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> <\/span>#=message#<div class="k-callout k-callout-n"><\/div><\/div>'},editor:function(n,t){var f=this,s=f.options.editors,e=u(n),c=e?n.field:n,v=f.options.model||{},p=e&&n.values,w=p?"values":a(t),l=e&&n.editor,r=l?n.editor:s[w],o=f.element.find("["+i.attr("container-for")+"="+c.replace(h,"\\$1")+"]");r=r?r:s.string;l&&typeof n.editor=="string"&&(r=function(t){t.append(n.editor)});o=o.length?o:f.element;r(o,y(!0,{},e?n:{field:c},{model:v}))},_validate:function(t){var r=this,u,v=t.value,y=r._validationEventInProgress,o={},e=i.attr("bind"),s=t.field.replace(h,"\\$1"),l="checked:"+s,a="value:"+s;o[t.field]=t.value;u=n(":input["+e+'*="'+a+'"],:input['+e+'*="'+l+'"]',r.element).filter("["+i.attr("validate")+"!='false']");u.length>1&&(u=u.filter(function(){var t=n(this),i=t.attr(e).split(","),r=f(a,i)>=0||f(l,i)>=0;return r&&(!t.is(":radio")||t.val()==v)}));try{r._validationEventInProgress=!0;r.validatable.validateInput(u)&&(y||!r.trigger(c,{values:o}))||t.preventDefault()}finally{r._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){var n=this;n.angular("cleanup",function(){return{elements:n.element}});e.fn.destroy.call(n);n.options.model.unbind("set",n._validateProxy);i.unbind(n.element);n.validatable&&n.validatable.destroy();i.destroy(n.element);n.element.removeData("kendoValidator")},refresh:function(){var r=this,h,l,f=r.options.fields||[],e=r.options.clearContainer?r.element.empty():r.element,o=r.options.model||{},a={},s,k,c,y,b,d;for(n.isArray(f)||(f=[f]),h=0,l=f.length;h<l;h++)s=f[h],k=u(s),c=k?s.field:s,y=(o.fields||o)[c],v(y,a),r.editor(s,y);if(r.options.target&&r.angular("compile",function(){return{elements:e,data:[{dataItem:o}]}}),!l){b=o.fields||o;for(c in b)v(b[c],a)}w(e);r.validatable&&r.validatable.destroy();i.bind(e,r.options.model);r.options.model.unbind("set",r._validateProxy);r.options.model.bind("set",r._validateProxy);r.validatable=new i.ui.Validator(e,{validateOnBlur:!1,errorTemplate:r.options.errorTemplate||t,rules:a});d=e.find(":kendoFocusable").eq(0).focus();p&&d.focus()}});o.plugin(d)}(window.kendo.jQuery),function(n,t){function rt(n){return typeof n!="undefined"}function s(n,t,i){return Math.max(Math.min(parseInt(n,10),i===Infinity?i:parseInt(i,10)),parseInt(t,10))}function ri(n,t){return function(){var i=this,r=i.wrapper,u=r[0].style,o=i.options;if(!o.isMaximized&&!o.isMinimized)return i.restoreOptions={width:u.width,height:u.height},r.children(c).hide().end().children(f).find(gt).parent().hide().eq(0).before(e.action({name:"Restore"})),t.call(i),n=="maximize"?i.wrapper.children(f).find(ot).parent().hide():i.wrapper.children(f).find(ot).parent().show(),i}}function hi(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}function ui(n){var t=this;t.owner=n;t._draggable=new st(n.wrapper,{filter:">"+c,group:n.wrapper.id+"-resizing",dragstart:i(t.dragstart,t),drag:i(t.drag,t),dragend:i(t.dragend,t)});t._draggable.userEvents.bind("press",i(t.addOverlay,t));t._draggable.userEvents.bind("release",i(t.removeOverlay,t))}function fi(n,t){var r=this;r.owner=n;r._draggable=new st(n.wrapper,{filter:t,group:n.wrapper.id+"-moving",dragstart:i(r.dragstart,r),drag:i(r.drag,r),dragend:i(r.dragend,r),dragcancel:i(r.dragcancel,r)});r._draggable.userEvents.stopPropagation=!1}var r=window.kendo,k=r.ui.Widget,st=r.ui.Draggable,ht=n.isPlainObject,ei=r._activeElement,i=n.proxy,d=n.extend,oi=n.each,h=r.template,g="body",e,u=".kendoWindow",l=".k-window",ut=".k-window-title",f=ut+"bar",o=".k-window-content",c=".k-resize-handle",nt=".k-overlay",p="k-content-frame",ct="k-loading",lt="k-state-hover",at="k-state-focused",vt="k-window-maximized",a=":visible",tt="hidden",v="cursor",ft="open",et="activate",yt="deactivate",pt="close",it="refresh",wt="resizeEnd",bt="dragstart",kt="dragend",dt="error",y="overflow",w="zIndex",gt=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",ni=".k-i-pin",ti=".k-i-unpin",ot=ni+","+ti,b=".k-window-titlebar .k-window-action",ii=".k-window-titlebar .k-i-refresh",si=r.isLocalUrl,ci=k.extend({init:function(e,s){var h=this,c,w={},g,nt,v,it=!1,y,d,ot=s&&s.actions&&!s.actions.length,p;k.fn.init.call(h,e,s);s=h.options;v=s.position;e=h.element;y=s.content;ot&&(s.actions=[]);h.appendTo=n(s.appendTo);h._animations();y&&!ht(y)&&(y=s.content={url:y});e.find("script").filter(hi).remove();e.parent().is(h.appendTo)||v.top!==t&&v.left!==t||(e.is(a)?(w=e.offset(),it=!0):(g=e.css("visibility"),nt=e.css("display"),e.css({visibility:tt,display:""}),w=e.offset(),e.css({visibility:g,display:nt})),v.top===t&&(v.top=w.top),v.left===t&&(v.left=w.left));rt(s.visible)&&s.visible!==null||(s.visible=e.is(a));c=h.wrapper=e.closest(l);e.is(".k-content")&&c[0]||(e.addClass("k-window-content k-content"),h._createWindow(e,s),c=h.wrapper=e.closest(l),h._dimensions());h._position();s.pinned&&h.pin(!0);y&&h.refresh(y);s.visible&&h.toFront();d=c.children(o);h._tabindex(d);s.visible&&s.modal&&h._overlay(c.is(a)).css({opacity:.5});c.on("mouseenter"+u,b,i(h._buttonEnter,h)).on("mouseleave"+u,b,i(h._buttonLeave,h)).on("click"+u,"> "+b,i(h._windowActionHandler,h));d.on("keydown"+u,i(h._keydown,h)).on("focus"+u,i(h._focus,h)).on("blur"+u,i(h._blur,h));this._resizable();this._draggable();p=e.attr("id");p&&(p=p+"_wnd_title",c.children(f).children(ut).attr("id",p),d.attr({role:"dialog","aria-labelledby":p}));c.add(c.children(".k-resize-handle,"+f)).on("mousedown"+u,i(h.toFront,h));h.touchScroller=r.touchScroller(e);h._resizeHandler=i(h._onDocumentResize,h);h._marker=r.guid().substring(0,8);n(window).on("resize"+u+h._marker,h._resizeHandler);s.visible&&(h.trigger(ft),h.trigger(et));r.notify(h)},_buttonEnter:function(t){n(t.currentTarget).addClass(lt)},_buttonLeave:function(t){n(t.currentTarget).removeClass(lt)},_focus:function(){this.wrapper.addClass(at)},_blur:function(){this.wrapper.removeClass(at)},_dimensions:function(){var t=this.wrapper,n=this.options,r=n.width,u=n.height,e=n.maxHeight,o=["minWidth","minHeight","maxWidth","maxHeight"],i,f;for(this.title(n.title),i=0;i<o.length;i++)f=n[o[i]],f&&f!=Infinity&&t.css(o[i],f);e&&e!=Infinity&&this.element.css("maxHeight",e);r&&(r.toString().indexOf("%")>0?t.width(r):t.width(s(r,n.minWidth,n.maxWidth)));u&&(u.toString().indexOf("%")>0?t.height(u):t.height(s(u,n.minHeight,n.maxHeight)));n.visible||t.hide()},_position:function(){var t=this.wrapper,n=this.options.position;n.top===0&&(n.top=n.top.toString());n.left===0&&(n.left=n.left.toString());t.css({top:n.top||"",left:n.left||""})},_animations:function(){var n=this.options;n.animation===!1&&(n.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},_resize:function(){r.resize(this.element.children())},_resizable:function(){var r=this.options.resizable,t=this.wrapper;if(this.resizing&&(t.off("dblclick"+u).children(c).remove(),this.resizing.destroy(),this.resizing=null),r){t.on("dblclick"+u,f,i(function(t){n(t.target).closest(".k-window-action").length||this.toggleMaximization()},this));oi("n e s w se sw ne nw".split(" "),function(n,i){t.append(e.resizeHandle(i))});this.resizing=new ui(this)}t=null},_draggable:function(){var n=this.options.draggable;this.dragging&&(this.dragging.destroy(),this.dragging=null);n&&(this.dragging=new fi(this,n.dragHandle||f))},_actions:function(){var t=this.options.actions,i=this.wrapper.children(f),u=i.find(".k-window-actions");t=n.map(t,function(n){return{name:n}});u.html(r.render(e.action,t))},setOptions:function(n){k.fn.setOptions.call(this,n);this._animations();this._dimensions();this._position();this._resizable();this._draggable();this._actions()},events:[ft,et,yt,pt,it,"resize",wt,bt,kt,dt],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:Infinity,maxHeight:Infinity,pinned:!1,position:{},content:null,visible:null,height:null,width:null,appendTo:"body"},_closable:function(){return n.inArray("close",n.map(this.options.actions,function(n){return n.toLowerCase()}))>-1},_keydown:function(n){var u=this,h=u.options,f=r.keys,e=n.keyCode,t=u.wrapper,c,i,o=10,p=u.options.isMaximized,v,y,l,a;n.target!=n.currentTarget||u._closing||(e==f.ESC&&u._closable()&&u._close(!1),!h.draggable||n.ctrlKey||p||(c=r.getOffset(t),e==f.UP?i=t.css("top",c.top-o):e==f.DOWN?i=t.css("top",c.top+o):e==f.LEFT?i=t.css("left",c.left-o):e==f.RIGHT&&(i=t.css("left",c.left+o))),h.resizable&&n.ctrlKey&&!p&&(e==f.UP?(i=!0,y=t.height()-o):e==f.DOWN&&(i=!0,y=t.height()+o),e==f.LEFT?(i=!0,v=t.width()-o):e==f.RIGHT&&(i=!0,v=t.width()+o),i&&(l=s(v,h.minWidth,h.maxWidth),a=s(y,h.minHeight,h.maxHeight),isNaN(l)||(t.width(l),u.options.width=l+"px"),isNaN(a)||(t.height(a),u.options.height=a+"px"),u.resize())),i&&n.preventDefault())},_overlay:function(t){var i=this.appendTo.children(nt),r=this.wrapper;return i.length||(i=n("<div class='k-overlay' />")),i.insertBefore(r[0]).toggle(t).css(w,parseInt(r.css(w),10)-1),i},_actionForIcon:function(n){var t=/\bk-i-\w+\b/.exec(n[0].className)[0];return{"k-i-close":"_close","k-i-maximize":"maximize","k-i-minimize":"minimize","k-i-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[t]},_windowActionHandler:function(t){if(!this._closing){var r=n(t.target).closest(".k-window-action").find(".k-icon"),i=this._actionForIcon(r);if(i)return t.preventDefault(),this[i](),!1}},_modals:function(){var t=this,i=n(l).filter(function(){var r=n(this),u=t._object(r),i=u&&u.options;return i&&i.modal&&i.visible&&r.is(a)}).sort(function(t,i){return+n(t).css("zIndex")-+n(i).css("zIndex")});return t=null,i},_object:function(n){var t=n.children(o);return t.data("kendoWindow")||t.data("kendo"+this.options.name)},center:function(){var t=this,e=t.options.position,i=t.wrapper,r=n(window),o=0,s=0,u,f;return t.options.isMaximized?t:(t.options.pinned||(o=r.scrollTop(),s=r.scrollLeft()),f=s+Math.max(0,(r.width()-i.width())/2),u=o+Math.max(0,(r.height()-i.height()-parseInt(i.css("paddingTop"),10))/2),i.css({left:f,top:u}),e.top=u,e.left=f,t)},title:function(n){var i=this,r=i.wrapper,s=i.options,t=r.children(f),o=t.children(ut),u;return arguments.length?(n===!1?(r.addClass("k-window-titleless"),t.remove()):(t.length?o.html(n):(r.prepend(e.titlebar(s)),i._actions(),t=r.children(f)),u=t.outerHeight(),r.css("padding-top",u),t.css("margin-top",-u)),i.options.title=n,i):o.text()},content:function(n,t){var i=this.wrapper.children(o),u=i.children(".km-scroll-container");return(i=u[0]?u:i,!rt(n))?i.html():(this.angular("cleanup",function(){return{elements:i.children()}}),r.destroy(this.element.children()),i.empty().html(n),this.angular("compile",function(){for(var n=[],r=i.length;--r>=0;)n.push({dataItem:t});return{elements:i.children(),data:n}}),this)},open:function(){var t=this,e=t.wrapper,u=t.options,s=u.animation.open,c=e.children(o),f,h;return t.trigger(ft)||(t._closing&&e.kendoStop(!0,!0),t._closing=!1,t.toFront(),u.autoFocus&&t.element.focus(),u.visible=!0,u.modal&&(f=t._overlay(!1),f.kendoStop(!0,!0),s.duration&&r.effects.Fade?(h=r.fx(f).fadeIn(),h.duration(s.duration||0),h.endValue(.5),h.play()):f.css("opacity",.5),f.show()),e.is(a)||(c.css(y,tt),e.show().kendoStop().kendoAnimate({effects:s.effects,duration:s.duration,complete:i(this._activate,this)}))),u.isMaximized&&(t._documentScrollTop=n(document).scrollTop(),n("html, body").css(y,tt)),t},_activate:function(){this.options.autoFocus&&this.element.focus();this.trigger(et);this.wrapper.children(o).css(y,"")},_removeOverlay:function(i){var f=this._modals(),e=this.options,s=e.modal&&!f.length,h=e.modal?this._overlay(!0):n(t),o=e.animation.close,u;s?!i&&o.duration&&r.effects.Fade?(u=r.fx(h).fadeOut(),u.duration(o.duration||0),u.startValue(.5),u.play()):this._overlay(!1).remove():f.length&&this._object(f.last())._overlay(!0)},_close:function(t){var r=this,u=r.wrapper,f=r.options,s=f.animation.open,e=f.animation.close;if(u.is(a)&&!r.trigger(pt,{userTriggered:!t})){if(r._closing)return;r._closing=!0;f.visible=!1;n(l).each(function(t,i){var r=n(i).children(o);i!=u&&r.find("> ."+p).length>0&&r.children(nt).remove()});this._removeOverlay();u.kendoStop().kendoAnimate({effects:e.effects||s.effects,reverse:e.reverse===!0,duration:e.duration,complete:i(this._deactivate,this)})}r.options.isMaximized&&(n("html, body").css(y,""),r._documentScrollTop&&r._documentScrollTop>0&&n(document).scrollTop(r._documentScrollTop))},_deactivate:function(){this.wrapper.hide().css("opacity","");this.trigger(yt);var n=this._object(this._modals().last());n&&n.toFront()},close:function(){return this._close(!0),this},_actionable:function(t){return n(t).is(b+","+b+" .k-icon,:input,a")},_shouldFocus:function(t){var r=ei(),i=this.element;return this.options.autoFocus&&!n(r).is(i)&&!this._actionable(t)&&(!i.find(r).length||!i.find(t).length)},toFront:function(t){var r=this,i=r.wrapper,h=i[0],u=+i.css(w),c=u,a=t&&t.target||null,f,s;return n(l).each(function(t,i){var r=n(i),f=r.css(w),s=r.children(o);isNaN(f)||(u=Math.max(+f,u));i!=h&&s.find("> ."+p).length>0&&s.append(e.overlay)}),(!i[0].style.zIndex||c<u)&&i.css(w,u+2),r.element.find("> .k-overlay").remove(),r._shouldFocus(a)&&(r.element.focus(),f=n(window).scrollTop(),s=parseInt(i.position().top,10),s>0&&s<f&&(f>0?n(window).scrollTop(s):i.css("top",f))),i=null,r},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var t=this,i=t.options,u=i.minHeight,r=t.restoreOptions;return!i.isMaximized&&!i.isMinimized?t:(u&&u!=Infinity&&t.wrapper.css("min-height",u),t.wrapper.css({position:i.pinned?"fixed":"absolute",left:r.left,top:r.top,width:r.width,height:r.height}).removeClass(vt).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(gt).parent().show().end().end().find(ot).parent().show(),t.options.width=r.width,t.options.height=r.height,n("html, body").css(y,""),this._documentScrollTop&&this._documentScrollTop>0&&n(document).scrollTop(this._documentScrollTop),i.isMaximized=i.isMinimized=!1,t.resize(),t)},maximize:ri("maximize",function(){var t=this,i=t.wrapper,r=i.position();d(t.restoreOptions,{left:r.left,top:r.top});i.css({left:0,top:0,position:"fixed"}).addClass(vt);this._documentScrollTop=n(document).scrollTop();n("html, body").css(y,tt);t.options.isMaximized=!0;t._onDocumentResize()}),minimize:ri("minimize",function(){var n=this;n.wrapper.css({height:"",minHeight:""});n.element.hide();n.options.isMinimized=!0}),pin:function(t){var i=this,u=n(window),r=i.wrapper,e=parseInt(r.css("top"),10),o=parseInt(r.css("left"),10);!t&&(i.options.pinned||i.options.isMaximized)||(r.css({position:"fixed",top:e-u.scrollTop(),left:o-u.scrollLeft()}),r.children(f).find(ni).addClass("k-i-unpin").removeClass("k-i-pin"),i.options.pinned=!0)},unpin:function(){var t=this,r=n(window),i=t.wrapper,u=parseInt(i.css("top"),10),e=parseInt(i.css("left"),10);t.options.pinned&&!t.options.isMaximized&&(i.css({position:"",top:u+r.scrollTop(),left:e+r.scrollLeft()}),i.children(f).find(ti).addClass("k-i-pin").removeClass("k-i-unpin"),t.options.pinned=!1)},_onDocumentResize:function(){var t=this,u=t.wrapper,f=n(window),i,r;t.options.isMaximized&&(i=f.width(),r=f.height()-parseInt(u.css("padding-top"),10),u.css({width:i,height:r}),t.options.width=i,t.options.height=r,t.resize())},refresh:function(t){var r=this,o=r.options,s=n(r.element),c,f,l;if(ht(t)||(t={url:t}),t=d({},o.content,t),f=rt(o.iframe)?o.iframe:t.iframe,l=t.url,l)if(rt(f)||(f=!si(l)),f){c=s.find("."+p)[0];c?c.src=l||c.src:s.html(e.contentFrame(d({},o,{content:t})));s.find("."+p).unbind("load"+u).on("load"+u,i(this._triggerRefresh,this))}else r._ajaxRequest(t);else t.template&&r.content(h(t.template)({})),r.trigger(it);return s.toggleClass("k-window-iframecontent",!!f),r},_triggerRefresh:function(){this.trigger(it)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout);this.wrapper.find(ii).removeClass(ct)},_ajaxError:function(n,t){this.trigger(dt,{status:t,xhr:n})},_ajaxSuccess:function(n){return function(t){var i=t;n&&(i=h(n)(t||{}));this.content(i,t);this.element.prop("scrollTop",0);this.trigger(it)}},_showLoading:function(){this.wrapper.find(ii).addClass(ct)},_ajaxRequest:function(t){this._loadingIconTimeout=setTimeout(i(this._showLoading,this),100);n.ajax(d({type:"GET",dataType:"html",cache:!1,error:i(this._ajaxError,this),complete:i(this._ajaxComplete,this),success:i(this._ajaxSuccess(t.template),this)},t))},destroy:function(){var i=this;i.resizing&&i.resizing.destroy();i.dragging&&i.dragging.destroy();i.wrapper.off(u).children(o).off(u).end().find(".k-resize-handle,.k-window-titlebar").off(u);n(window).off("resize"+u+i._marker);clearTimeout(i._loadingIconTimeout);k.fn.destroy.call(i);i.unbind(t);r.destroy(i.wrapper);i._removeOverlay(!0);i.wrapper.empty().remove();i.wrapper=i.appendTo=i.element=n()},_createWindow:function(){var t=this.element,u=this.options,f,i,o=r.support.isRtl(t);u.scrollable===!1&&t.attr("style","overflow:hidden;");i=n(e.wrapper(u));f=t.find("iframe:not(.k-content)").map(function(){var n=this.getAttribute("src");return this.src="",n});i.toggleClass("k-rtl",o).appendTo(this.appendTo).append(t).find("iframe:not(.k-content)").each(function(n){this.src=f[n]});i.find(".k-window-title").css(o?"left":"right",i.find(".k-window-actions").outerWidth()+10);t.css("visibility","").show();t.find("[data-role=editor]").each(function(){var t=n(this).data("kendoEditor");t&&t.refresh()});i=t=null}});e={wrapper:h("<div class='k-widget k-window' />"),action:h("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #<\/span><\/a>"),titlebar:h("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #<\/span><div class='k-window-actions' /><\/div>"),overlay:"<div class='k-overlay' />",contentFrame:h("<iframe frameborder='0' title='#= title #' class='"+p+"' src='#= content.url #'>This page requires frames in order to show content<\/iframe>"),resizeHandle:h("<div class='k-resize-handle k-resize-#= data #'><\/div>")};ui.prototype={addOverlay:function(){this.owner.wrapper.append(e.overlay)},removeOverlay:function(){this.owner.wrapper.find(nt).remove()},dragstart:function(t){var i=this,f=i.owner,u=f.wrapper;i.elementPadding=parseInt(u.css("padding-top"),10);i.initialPosition=r.getOffset(u,"position");i.resizeDirection=t.currentTarget.prop("className").replace("k-resize-handle k-resize-","");i.initialSize={width:u.width(),height:u.height()};i.containerOffset=r.getOffset(f.appendTo,"position");u.children(c).not(t.currentTarget).hide();n(g).css(v,t.currentTarget.css(v))},drag:function(n){var u=this,f=u.owner,e=f.wrapper,t=f.options,o=u.resizeDirection,h=u.containerOffset,c=u.initialPosition,v=u.initialSize,i,r,l,a,y=Math.max(n.x.location,h.left),p=Math.max(n.y.location,h.top);o.indexOf("e")>=0?(i=y-c.left,e.width(s(i,t.minWidth,t.maxWidth))):o.indexOf("w")>=0&&(a=c.left+v.width,i=s(a-y,t.minWidth,t.maxWidth),e.css({left:a-i-h.left,width:i}));o.indexOf("s")>=0?(r=p-c.top-u.elementPadding,e.height(s(r,t.minHeight,t.maxHeight))):o.indexOf("n")>=0&&(l=c.top+v.height,r=s(l-p,t.minHeight,t.maxHeight),e.css({top:l-r-h.top,height:r}));i&&(f.options.width=i+"px");r&&(f.options.height=r+"px");f.resize()},dragend:function(t){var r=this,i=r.owner,u=i.wrapper;return u.children(c).not(t.currentTarget).show(),n(g).css(v,""),i.touchScroller&&i.touchScroller.reset(),t.keyCode==27&&u.css(r.initialPosition).css(r.initialSize),i.trigger(wt),!1},destroy:function(){this._draggable&&this._draggable.destroy();this._draggable=this.owner=null}};fi.prototype={dragstart:function(t){var i=this.owner,u=i.element,f=u.find(".k-window-actions"),o=r.getOffset(i.appendTo);i.trigger(bt);i.initialWindowPosition=r.getOffset(i.wrapper,"position");i.startPosition={left:t.x.client-i.initialWindowPosition.left,top:t.y.client-i.initialWindowPosition.top};i.minLeftPosition=f.length>0?f.outerWidth()+parseInt(f.css("right"),10)-u.outerWidth():20-u.outerWidth();i.minLeftPosition-=o.left;i.minTopPosition=-o.top;i.wrapper.append(e.overlay).children(c).hide();n(g).css(v,t.currentTarget.css(v))},drag:function(t){var i=this.owner,r=i.options.position,u=Math.max(t.y.client-i.startPosition.top,i.minTopPosition),f=Math.max(t.x.client-i.startPosition.left,i.minLeftPosition),e={left:f,top:u};n(i.wrapper).css(e);r.top=u;r.left=f},_finishDrag:function(){var t=this.owner;t.wrapper.children(c).toggle(!t.options.isMinimized).end().find(nt).remove();n(g).css(v,"")},dragcancel:function(n){this._finishDrag();n.currentTarget.closest(l).css(this.owner.initialWindowPosition)},dragend:function(){return this._finishDrag(),this.owner.trigger(kt),!1},destroy:function(){this._draggable&&this._draggable.destroy();this._draggable=this.owner=null}};r.ui.plugin(ci)}(window.kendo.jQuery),function(n,t){function b(t,i){var u,r=!1;return t.filters&&(u=n.grep(t.filters,function(n){return r=b(n,i),n.filters?n.filters.length:n.field!=i}),r||t.filters.length===u.length||(r=!0),t.filters=u),r}var i=window.kendo,h=i.ui,c=h.Widget,e=i.keys,f=i.support,ut=i.htmlEncode,ft=i._activeElement,o="id",l="li",u="change",k="k-state-focused",a="k-state-hover",d="k-loading",v="open",g="close",nt="select",y="selected",tt="progress",it="requestEnd",rt="width",p=n.extend,r=n.proxy,w=f.browser,et=w.msie&&w.version<9,ot=/"/g,st={ComboBox:"DropDownList",DropDownList:"ComboBox"},s=i.ui.DataBoundWidget.extend({init:function(t,i){var u=this,s=u.ns,e;c.fn.init.call(u,t,i);t=u.element;u._isSelect=t.is(nt);u._template();u.ul=n('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:f.kineticScrollNeeded?"":"auto"}).on("mouseenter"+s,l,function(){n(this).addClass(a)}).on("mouseleave"+s,l,function(){n(this).removeClass(a)}).on("click"+s,l,r(u._click,u)).attr({tabIndex:-1,role:"listbox","aria-hidden":!0});u.list=n("<div class='k-list-container'/>").append(u.ul).on("mousedown"+s,r(u._listMousedown,u));e=t.attr(o);e&&(u.list.attr(o,e+"-list"),u.ul.attr(o,e+"_listbox"),u._optionID=e+"_option_selected");u._header();u._accessors();u._initValue()},options:{valuePrimitive:!1,headerTemplate:""},setOptions:function(n){c.fn.setOptions.call(this,n);n&&n.enable!==t&&(n.enabled=n.enable)},focus:function(){this._focused.focus()},readonly:function(n){this._editable({readonly:n===t?!0:n,disable:!1})},enable:function(n){this._editable({readonly:!1,disable:!(n=n===t?!0:n)})},_listMousedown:function(n){this.filterInput&&this.filterInput[0]===n.target||n.preventDefault()},_filterSource:function(n,t){var r=this,f=r.options,u=r.dataSource,i=p({},u.filter()||{}),e=b(i,f.dataTextField);(n||e)&&r.trigger("filtering",{filter:n})||(n&&(i=i.filters||[],i.push(n)),t?u.read(i):u.filter(i))},_header:function(){var t=this,i=t.options.headerTemplate,r;n.isFunction(i)&&(i=i({}));i&&(t.list.prepend(i),r=t.ul.prev(),t.header=r[0]?r:null,t.header&&t.angular("compile",function(){return{elements:t.header}}))},_initValue:function(){var n=this,t=n.options.value;t!==null?n.element.val(t):(t=n._accessor(),n.options.value=t);n._old=t},_ignoreCase:function(){var t=this,i=t.dataSource.reader.model,n;i&&i.fields&&(n=i.fields[t.options.dataTextField],n&&n.type&&n.type!=="string"&&(t.options.ignoreCase=!1))},items:function(){return this.ul[0].children},current:function(n){var i=this,u=i._focused.add(i.filterInput),r=i._optionID;if(n!==t)i._current&&(i._current.removeClass(k).removeAttr("aria-selected").removeAttr(o),u.removeAttr("aria-activedescendant")),n&&(n.addClass(k),i._scroll(n),r&&(n.attr("id",r),u.attr("aria-activedescendant",r))),i._current=n;else return i._current},destroy:function(){var n=this,t=n.ns;c.fn.destroy.call(n);n._unbindDataSource();n.ul.off(t);n.list.off(t);n._touchScroller&&n._touchScroller.destroy();n.popup.destroy();n._form&&n._form.off("reset",n._resetHandler)},dataItem:function(i){var r=this;return i===t?i=r.selectedIndex:typeof i!="number"&&(i=n(r.items()).index(i)),r._data()[i]},_accessors:function(){var t=this,r=t.element,n=t.options,u=i.getter,f=r.attr(i.attr("text-field")),e=r.attr(i.attr("value-field"));!n.dataTextField&&f&&(n.dataTextField=f);!n.dataValueField&&e&&(n.dataValueField=e);t._text=u(n.dataTextField);t._value=u(n.dataValueField)},_aria:function(n){var i=this,r=i.options,u=i._focused.add(i.filterInput);r.suggest!==t&&u.attr("aria-autocomplete",r.suggest?"both":"list");n=n?n+" "+i.ul[0].id:i.ul[0].id;u.attr("aria-owns",n);i.ul.attr("aria-live",!r.filter||r.filter==="none"?"off":"polite")},_blur:function(){var n=this;n._change();n.close()},_change:function(){var n=this,i=n.selectedIndex,e=n.options.value,r=n.value(),f;n._isSelect&&!n._bound&&e&&(r=e);r!==n._old?f=!0:i!==t&&i!==n._oldIndex&&(f=!0);f&&(n._old=r,n._oldIndex=i,n.element.trigger(u),n.trigger(u))},_click:function(t){t.isDefaultPrevented()||this._accept(n(t.currentTarget))},_data:function(){return this.dataSource.view()},_enable:function(){var n=this,i=n.options,r=n.element.is("[disabled]");i.enable!==t&&(i.enabled=i.enable);!i.enabled||r?n.enable(!1):n.readonly(n.element.is("[readonly]"))},_focus:function(n){var t=this;if(t.popup.visible()&&n&&t.trigger(nt,{item:n})){t.close();return}t._select(n);t._triggerCascade(!0);t._blur()},_index:function(n){for(var i=this,u=i._data(),t=0,r=u.length;t<r;t++)if(i._dataValue(u[t])==n)return t;return-1},_dataValue:function(n){var i=this._value(n);return i===t&&(i=this._text(n)),i},_height:function(n){if(n){var i=this,r=i.list,t=i.options.height,e=i.popup.visible(),u,f;f=r.add(r.parent(".k-animation-container")).show();t=i.ul[0].scrollHeight>t?t:"auto";f.height(t);t!=="auto"&&(u=i.ul[0].offsetTop,u&&(t=r.height()-u));i.ul.height(t);e||f.hide()}},_adjustListWidth:function(){var t=this.list,i=t[0].style.width,u=this.wrapper,n,r;if(t.data(rt)||!i)return n=window.getComputedStyle?window.getComputedStyle(u[0],null):0,r=n?parseFloat(n.width):u.outerWidth(),n&&w.msie&&(r+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth)),i=t.css("box-sizing")!=="border-box"?r-(t.outerWidth()-t.width()):r,t.css({fontFamily:u.css("font-family"),width:i}).data(rt,i),!0},_openHandler:function(n){this._adjustListWidth();this.trigger(v)?n.preventDefault():(this._focused.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))},_closeHandler:function(n){this.trigger(g)?n.preventDefault():(this._focused.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_firstOpen:function(){this._height(this._data().length)},_popup:function(){var n=this;n.popup=new h.Popup(n.list,p({},n.options.popup,{anchor:n.wrapper,open:r(n._openHandler,n),close:r(n._closeHandler,n),animation:n.options.animation,isRtl:f.isRtl(n.wrapper)}));n.popup.one(v,r(n._firstOpen,n));n._touchScroller=i.touchScroller(n.popup.element)},_makeUnselectable:function(){et&&this.list.find("*").not(".k-textbox").attr("unselectable","on")},_toggleHover:function(t){n(t.currentTarget).toggleClass(a,t.type==="mouseenter")},_toggle:function(n,i){var r=this,u=f.touch&&f.MSPointers&&f.pointers;n=n!==t?n:!r.popup.visible();i||u||r._focused[0]===ft()||r._focused.focus();r[n?v:g]()},_scroll:function(n){if(n){n[0]&&(n=n[0]);var u=this.ul[0],t=n.offsetTop,o=n.offsetHeight,f=u.scrollTop,s=u.clientHeight,h=t+o,e=this._touchScroller,i,r;e?(i=e.dimensions.y,i.enabled&&t>i.size&&(t=t-i.size+o+4,e.scrollTo(0,-t))):(r=this.header?this.header.outerHeight():0,r+=this.filterInput?this.filterInput.outerHeight():0,u.scrollTop=f>t?t-r:h>f+s?h-s-r:f)}},_template:function(){var t=this,n=t.options,r=n.template,u=n.dataSource;t._isSelect&&t.element[0].length&&(u||(n.dataTextField=n.dataTextField||"text",n.dataValueField=n.dataValueField||"value"));r?(r=i.template(r),t.template=function(n){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+r(n)+"<\/li>"}):t.template=i.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+i.expr(n.dataTextField,"data")+"}<\/li>",{useWithBlock:!1})},_triggerCascade:function(n){var t=this,i=t.value();(!t._bound&&i||t._old!==i)&&t.trigger("cascade",{userTriggered:n})},_unbindDataSource:function(){var n=this;n.dataSource.unbind(u,n._refreshHandler).unbind(tt,n._progressHandler).unbind(it,n._requestEndHandler).unbind("error",n._errorHandler)}});p(s,{inArray:function(n,t){var i,r,u=t.children;if(!n||n.parentNode!==t)return-1;for(i=0,r=u.length;i<r;i++)if(n===u[i])return i;return-1}});i.ui.List=s;h.Select=s.extend({init:function(n,t){s.fn.init.call(this,n,t);this._initial=this.element.val()},setDataSource:function(n){this.options.dataSource=n;this._dataSource();this._bound=!1;this.options.autoBind&&this.dataSource.fetch()},close:function(){this.popup.close()},select:function(n){var i=this;if(n===t)return i.selectedIndex;i._select(n);i._triggerCascade();i._old=i._accessor();i._oldIndex=i.selectedIndex},search:function(n){n=typeof n=="string"?n:this.text();var t=this,r=n.length,i=t.options,u=i.ignoreCase,f=i.filter,e=i.dataTextField;clearTimeout(t._typing);(!r||r>=i.minLength)&&(t._state="filter",f==="none"?t._filter(n):(t._open=!0,t._filterSource({value:u?n.toLowerCase():n,field:e,operator:f,ignoreCase:u})))},_accessor:function(n,i){var r=this.element[0],e=this._isSelect,f=r.selectedIndex,u;if(n===t)return e?f>-1&&(u=r.options[f],u&&(n=u.value)):n=r.value,n;e?(f>-1&&r.options[f].removeAttribute(y),r.selectedIndex=i,u=r.options[i],u&&u.setAttribute(y,y)):r.value=n},_hideBusy:function(){var n=this;clearTimeout(n._busy);n._arrow.removeClass(d);n._focused.attr("aria-busy",!1);n._busy=null},_showBusy:function(){var n=this;(n._request=!0,n._busy)||(n._busy=setTimeout(function(){n._arrow&&(n._focused.attr("aria-busy",!0),n._arrow.addClass(d))},100))},_requestEnd:function(){this._request=!1},_dataSource:function(){var t=this,s=t.element,e=t.options,f=e.dataSource||{},o;f=n.isArray(f)?{data:f}:f;t._isSelect&&(o=s[0].selectedIndex,o>-1&&(e.index=o),f.select=s,f.fields=[{field:e.dataTextField},{field:e.dataValueField}]);t.dataSource&&t._refreshHandler?t._unbindDataSource():(t._refreshHandler=r(t.refresh,t),t._progressHandler=r(t._showBusy,t),t._requestEndHandler=r(t._requestEnd,t),t._errorHandler=r(t._hideBusy,t));t.dataSource=i.data.DataSource.create(f).bind(u,t._refreshHandler).bind(tt,t._progressHandler).bind(it,t._requestEndHandler).bind("error",t._errorHandler)},_get:function(t){var r=this,u=r._data(),i,f;if(typeof t=="function")for(i=0,f=u.length;i<f;i++)if(t(u[i])){t=i;break}if(typeof t=="number"){if(t<0)return n();t=n(r.ul[0].children[t])}return t&&t.nodeType&&(t=n(t)),t},_move:function(n){var t=this,f=n.keyCode,o=t.ul[0],c=t.popup.visible()?"_select":"_accept",i=t._current,h=f===e.DOWN,r,s;if(f===e.UP||h){if(n.altKey)t.toggle(h);else{if(r=o.firstChild,!r&&!t._accessor()&&t._state!=="filter"){if(!t._fetch){t.dataSource.one(u,function(){t._move(n);t._fetch=!1});t._fetch=!0;t._filterSource()}return n.preventDefault(),!0}h?(i&&(t.selectedIndex!==-1||t.value()||i[0]!==r)?(i=i[0].nextSibling,i||r!==o.lastChild||(i=r)):i=r,t[c](i)):(i=i?i[0].previousSibling:o.lastChild,i||r!==o.lastChild||(i=r),t[c](i))}n.preventDefault();s=!0}else f===e.ENTER||f===e.TAB?(t.popup.visible()&&n.preventDefault(),t.popup.visible()||i&&i.hasClass("k-state-selected")||(i=null),t._accept(i,f),s=!0):f===e.ESC&&(t.popup.visible()&&n.preventDefault(),t.close(),s=!0);return s},_selectItem:function(){var n=this,u=n._bound===t,i=n.options,f,r;f=n._isSelect&&!n._initial&&!i.value&&i.index&&!n._bound;f||(r=n._selectedValue||u&&i.value||n._accessor());r?n.value(r):u&&n.select(i.index)},_fetchItems:function(n){var i=this,r=i.ul[0].firstChild;if(i._request)return!0;if(!i._bound&&!i._fetch&&!r){if(i.options.cascadeFrom)return!r;i.dataSource.one(u,function(){i._old=t;i.value(n);i._fetch=!1});return i._fetch=!0,i.dataSource.fetch(),!0}},_options:function(n,i){var e=this,c=e.element,l=n.length,o="",u,s,h,r,f=0;for(i&&(f=1,o=i);f<l;f++)u="<option",s=n[f],h=e._text(s),r=e._value(s),r!==t&&(r+="",r.indexOf('"')!==-1&&(r=r.replace(ot,"&quot;")),u+=' value="'+r+'"'),u+=">",h!==t&&(u+=ut(h)),u+="<\/option>",o+=u;c.html(o)},_reset:function(){var t=this,i=t.element,r=i.attr("form"),u=r?n("#"+r):i.closest("form");u[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initial)})},t._form=u.on("reset",t._resetHandler))},_cascade:function(){var t=this,r=t.options,h=r.cascadeFrom,i,f,e,o,s;if(h){if(t._selectedValue=r.value||t._accessor(),f=n("#"+h),i=f.data("kendo"+r.name),i||(i=f.data("kendo"+st[r.name])),!i)return;r.autoBind=!1;o=r.cascadeFromField||i.options.dataValueField;s=function(){t.dataSource.unbind(u,s);var n=t._selectedValue||t.value();t._userTriggered?t._clearSelection(i,!0):n?(t.value(n),t.dataSource.view()[0]&&t.selectedIndex!==-1||t._clearSelection(i,!0)):t.select(r.index);t.enable();t._triggerCascade(t._userTriggered);t._userTriggered=!1};e=function(){var e=i.dataItem(),n=e?i._value(e):null,r,u,f;n||n===0?(r=t.dataSource.filter()||{},b(r,o),u=r.filters||[],u.push({field:o,operator:"eq",value:n}),f=function(){t.unbind("dataBound",f);s.apply(t,arguments)},t.first("dataBound",f),t.dataSource.filter(u)):(t.enable(!1),t._clearSelection(i),t._triggerCascade(t._userTriggered),t._userTriggered=!1)};i.first("cascade",function(n){t._userTriggered=n.userTriggered;e()});i._bound?e():i.value()||t.enable(!1)}}})}(window.kendo.jQuery),function(n,t){function h(n,t,i){for(var u=0,f=t.length-1,r;u<f;++u)r=t[u],r in n||(n[r]={}),n=n[r];n[t[f]]=i}var r=window.kendo,c=r.ui,e=c.Select,o=r.support.mobileOS,p=r._activeElement,f=r.keys,i=".kendoDropDownList",w="disabled",b="readonly",k="change",d="k-state-focused",l="k-state-default",a="k-state-disabled",g="aria-disabled",nt="aria-readonly",v="k-state-selected",tt="mouseenter"+i+" mouseleave"+i,s="tabindex",y="filter",it="accept",u=n.proxy,rt=e.extend({init:function(f,o){var h=this,v=o&&o.index,l,a,c;h.ns=i;o=n.isArray(o)?{dataSource:o}:o;e.fn.init.call(h,f,o);o=h.options;f=h.element.on("focus"+i,u(h._focusHandler,h));h._inputTemplate();h._reset();h._prev="";h._word="";h._wrapper();h._tabindex();h.wrapper.data(s,h.wrapper.attr(s));h._span();h._popup();h._mobile();h._dataSource();h._ignoreCase();h._filterHeader();h._aria();h._enable();h._oldIndex=h.selectedIndex=-1;h._cascade();v!==t&&(o.index=v);o.autoBind?h.dataSource.fetch():h.selectedIndex===-1&&(c=o.text||"",c||(l=o.optionLabel,a=l&&o.index===0,h._isSelect?c=a?l:f.children(":selected").text():!f[0].value&&a&&(c=l)),h._textAccessor(c));r.notify(h)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,template:"",valueTemplate:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{},filter:"none",minLength:1},events:["open","close",k,"select","filtering","dataBinding","dataBound","cascade"],setOptions:function(n){e.fn.setOptions.call(this,n);this._template();this._inputTemplate();this._accessors();this._filterHeader();this._enable();this._aria()},destroy:function(){var n=this;n.wrapper.off(i);n.element.off(i);n._inputWrapper.off(i);n._arrow.off();n._arrow=null;e.fn.destroy.call(n)},open:function(){var n=this;n.popup.visible()||(n.ul[0].firstChild&&n._state!==it?(n.popup.open(),n._focusElement(n.filterInput),n._scroll(n._current)):(n._open=!0,n._state="rebind",n.filterInput&&n.filterInput.val(""),n._filterSource()))},toggle:function(n){this._toggle(n,!0)},refresh:function(){var t=this,e=t._data(),i=e.length,u=t.options.optionLabel,s=t._state===y,h=t.element[0],f,o;t.trigger("dataBinding");t._current&&t.current(null);t._angularItems("cleanup");t.ul[0].innerHTML=r.render(t.template,e);t._angularItems("compile");t._height(s?i||1:i);t.popup.visible()&&t.popup._position();t._isSelect&&(f=h.selectedIndex,o=t.value(),i?u&&(u=t._option("",t._optionLabelText(u))):o&&(f=0,u=t._option(o,t.text())),t._options(e,u),h.selectedIndex=f===-1?0:f);t._hideBusy();t._makeUnselectable();s?t.current(n(t.ul[0].firstChild)):(t._open&&t.toggle(!!i),t._open=!1,t._fetch||(i?t._selectItem():t._textAccessor()!==u&&(t.element.val(""),t._textAccessor(""))));t._bound=!!i;t.trigger("dataBound")},text:function(n){var i=this,r,u,f=i.options.ignoreCase;if(n=n===null?"":n,n!==t)typeof n=="string"&&(u=f?n.toLowerCase():n,r=i._select(function(n){return n=i._text(n),f&&(n=(n+"").toLowerCase()),n===u}),r&&(n=r)),i._textAccessor(n);else return i._textAccessor()},value:function(n){var i=this,r,u;if(n!==t){if(n!==null&&(n=n.toString()),i._selectedValue=n,u=n||i.options.optionLabel&&!i.element[0].disabled&&n==="",u&&i._fetchItems(n))return;r=i._index(n);i.select(r>-1?r:0)}else return i._accessor()},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass(d);this._prevent=!1},_focusoutHandler:function(){var n=this,t=n._state===y,i=window.self!==window.top;n._prevent||(t&&n._select(n._current),(!t||n.dataItem())&&n._triggerCascade(),r.support.mobileOS.ios&&i?n._change():n._blur(),n._inputWrapper.removeClass(d),n._prevent=!0,n._open=!1,n.element.blur())},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(n){n.preventDefault();this._focused=this.wrapper;this._toggle()},_editable:function(n){var t=this,h=t.element,f=n.disable,e=n.readonly,r=t.wrapper.add(t.filterInput).off(i),o=t._inputWrapper.off(tt);if(e||f)if(f)r.removeAttr(s),o.addClass(a).removeClass(l);else{o.addClass(l).removeClass(a);r.on("focusin"+i,u(t._focusinHandler,t)).on("focusout"+i,u(t._focusoutHandler,t))}else{h.removeAttr(w).removeAttr(b);o.addClass(l).removeClass(a).on(tt,t._toggleHover);r.attr(s,r.data(s)).attr(g,!1).attr(nt,!1).on("keydown"+i,u(t._keydown,t)).on("focusin"+i,u(t._focusinHandler,t)).on("focusout"+i,u(t._focusoutHandler,t)).on("mousedown"+i,u(t._wrapperMousedown,t));t.wrapper.on("click"+i,u(t._wrapperClick,t));if(!t.filterInput)r.on("keypress"+i,u(t._keypress,t))}h.attr(w,f).attr(b,e);r.attr(g,f).attr(nt,e)},_accept:function(n,t){var i=this,r=i.filterInput&&i.filterInput[0]===p();i._focus(n);i._focusElement(i.wrapper);r&&t===f.TAB&&i.wrapper.focusout()},_option:function(n,t){return'<option value="'+n+'">'+t+"<\/option>"},_optionLabelText:function(){var t=this.options,i=t.dataTextField,n=t.optionLabel;return n&&i&&typeof n=="object"?this._text(n):n},_data:function(){var s=this,f=s.options,t=f.optionLabel,i=f.dataTextField,e=f.dataValueField,u=s.dataSource.view(),c=u.length,n=t,o=0;if(t&&c){for(typeof t=="object"?n=t:i&&(n={},i=i.split("."),e=e.split("."),h(n,e,""),h(n,i,t)),n=new r.data.ObservableArray([n]);o<c;o++)n.push(u[o]);u=n}return u},_selectItem:function(){e.fn._selectItem.call(this);this.current()||this.select(0)},_keydown:function(n){var t=this,i=n.keyCode,u=n.altKey,e=t.ul[0],r;i===f.LEFT?i=f.UP:i===f.RIGHT&&(i=f.DOWN);n.keyCode=i;r=t._move(n);t.popup.visible()&&t.filterInput||(i===f.HOME?(r=!0,n.preventDefault(),t._select(e.firstChild)):i===f.END&&(r=!0,n.preventDefault(),t._select(e.lastChild)));u&&i===f.UP&&t._focusElement(t.wrapper);u||r||!t.filterInput||t._search()},_selectNext:function(n,t){for(var i=this,r,u=t,f=i._data(),e=f.length,s=i.options.ignoreCase,o=function(t,r){return t=t+"",s&&(t=t.toLowerCase()),t.indexOf(n)===0?(i._select(r),i._triggerEvents(),!0):void 0};t<e;t++)if(r=i._text(f[t]),r&&o(r,t))return!0;if(u>0&&u<e)for(t=0;t<=u;t++)if(r=i._text(f[t]),r&&o(r,t))return!0;return!1},_keypress:function(n){var t=this;if(n.which!==0&&n.keyCode!==r.keys.ENTER){var i=String.fromCharCode(n.charCode||n.keyCode),f=t.selectedIndex,u=t._word;(t.options.ignoreCase&&(i=i.toLowerCase()),i===" "&&n.preventDefault(),t._last===i&&u.length<=1&&f>-1&&(u||(u=i),t._selectNext(u,f+1)))||(t._word=u+i,t._last=i,t._search())}},_popupOpen:function(){var n=this.popup;n.wrapper=r.wrap(n.element);n.element.closest(".km-root")[0]&&(n.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},_popup:function(){e.fn._popup.call(this);this.popup.one("open",u(this._popupOpen,this))},_focusElement:function(n){var i=p(),r=this.wrapper,t=this.filterInput,u=n===t?r:t;t&&u[0]===i&&(this._prevent=!0,this._focused=n.focus())},_filter:function(n){if(n){var i=this,r=i.options.ignoreCase;r&&(n=n.toLowerCase());i._select(function(u){var f=i._text(u);if(f!==t)return f=f+"",r&&(f=f.toLowerCase()),f.indexOf(n)===0})}},_search:function(){var n=this,i=n.dataSource,t=n.selectedIndex,r=n._word;if(clearTimeout(n._typing),n.options.filter!=="none")n._typing=setTimeout(function(){var t=n.filterInput.val();n._prev!==t&&(n._prev=t,n.search(t));n._typing=null},n.options.delay);else{if(n._typing=setTimeout(function(){n._word=""},n.options.delay),t===-1&&(t=0),!n.ul[0].firstChild){i.one(k,function(){i.data()[0]&&t>-1&&n._selectNext(r,t)}).fetch();return}n._selectNext(r,t);n._triggerEvents()}},_select:function(n){var i=this,e=i._current,r=null,u,f;return n=i._get(n),n&&n[0]&&!n.hasClass(v)&&(i._state===y&&(i._state=it),e&&e.removeClass(v),f=c.List.inArray(n[0],i.ul[0]),f>-1&&(i.selectedIndex=f,r=i._data()[f],u=i._value(r),u===null&&(u=""),i._textAccessor(r),i._accessor(u!==t?u:i._text(r),f),i._selectedValue=i._accessor(),i.current(n.addClass(v)),i._optionID&&i._current.attr("aria-selected",!0))),r},_triggerEvents:function(){this.popup.visible()||(this._triggerCascade(),this._change())},_mobile:function(){var t=this,n=t.popup,i=n.element.parents(".km-root").eq(0);i.length&&o&&(n.options.animation.open.effects=o.android||o.meego?"fadeIn":o.ios||o.wp?"slideIn:up":n.options.animation.open.effects)},_filterHeader:function(){var t,r=this.options,u=r.filter!=="none";this.filterInput&&(this.filterInput.off(i).parent().remove(),this.filterInput=null);u&&(t='<span unselectable="on" class="k-icon k-i-search">select<\/span>',this.filterInput=n('<input class="k-textbox"/>').attr({role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),this.list.prepend(n('<span class="k-list-filter" />').append(this.filterInput.add(t))))},_span:function(){var t=this,i=t.wrapper,u="span.k-input",r;r=i.find(u);r[0]||(i.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;<\/span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select<\/span><\/span><\/span>').append(t.element),r=i.find(u));t.span=r;t._inputWrapper=n(i[0].firstChild);t._arrow=i.find(".k-icon")},_wrapper:function(){var i=this,t=i.element,r=t[0],n;n=t.parent();n.is("span.k-widget")||(n=t.wrap("<span />").parent(),n[0].style.cssText=r.style.cssText);t.hide();i._focused=i.wrapper=n.addClass("k-widget k-dropdown k-header").addClass(r.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(){var n=this,t=n.options.optionLabel;if(n.options.value="",n._selectedValue="",n.dataSource.view()[0]&&(t||n._userTriggered)){n.select(0);return}n.selectedIndex=-1;n.element.val("");n._textAccessor(n.options.optionLabel)},_inputTemplate:function(){var i=this,t=i.options.valueTemplate;t=t?r.template(t):n.proxy(r.template("#:this._text(data)#",{useWithBlock:!1}),i);i.valueTemplate=t},_textAccessor:function(i){var u=this.dataItem(),f=this.options,e=this.span,o;if(i!==t)n.isPlainObject(i)||i instanceof r.data.ObservableObject?u=i:u&&this._text(u)===i||(f.dataTextField?(u={},h(u,f.dataTextField.split("."),i),h(u,f.dataValueField.split("."),this._accessor())):u=i),o=function(){return{elements:e.get(),data:[{dataItem:u}]}},this.angular("cleanup",o),e.html(this.valueTemplate(u)),this.angular("compile",o);else return e.text()}});c.plugin(rt)}(window.kendo.jQuery),function(n,t){function cu(n){var i=n.originalEvent,t=0;return i.wheelDelta?(t=-i.wheelDelta/40,t=t>0?h.ceil(t):h.floor(t)):i.detail&&(t=i.detail),t}function rt(n){return n.options.name.toLowerCase()===k.toLowerCase()}function lu(n){var l=ri,o,s,t=n.source(),i=n.target(),r,f,c,b=[0,2,3,1,4],a,e;if(t instanceof u?o=t:t instanceof v&&(rt(t)?r=t.shape:(n._resolvedSourceConnector=t,o=t.position())),i instanceof u?s=i:i instanceof v&&(rt(i)?f=i.shape:(n._resolvedTargetConnector=i,s=i.position())),o)f&&(n._resolvedTargetConnector=ut(o,f));else if(r)if(s)n._resolvedSourceConnector=ut(s,r);else if(f)for(e=0;e<r.connectors.length;e++)if(a=r.connectors.length==5?b[e]:e,c=r.connectors[a],!rt(c)){var y=c.position(),p=ut(y,f),w=h.round(p.position().distanceTo(y));w<l&&(l=w,n._resolvedSourceConnector=c,n._resolvedTargetConnector=p)}}function ut(n,t){for(var i,u,f=ri,e,o=t.connectors,r=0;r<o.length;r++)i=o[r],rt(i)||(u=n.distanceTo(i.position()),u<f&&(f=u,e=i));return e}function li(n,t){for(var u=[],f,e=n.drawingContainer().children,o=e.length,i,r=0;r<t.length;r++)for(f=t[r],i=0;i<o;i++)if(e[i]==f.drawingContainer()){u.push(i);break}return u}function au(n){var t={};return n=n||{},r(n.text)&&n.text!==null&&(t.text=n.text),r(n.x)&&n.x!==null&&(t.x=n.x),r(n.y)&&n.y!==null&&(t.y=n.y),r(n.width)&&n.width!==null&&(t.width=n.width),r(n.height)&&n.height!==null&&(t.height=n.height),r(n.type)&&n.type!==null&&(t.type=n.type),t}function vu(n){var t={};return n=n||{},r(n.text)&&n.text!==null&&(t.content=n.text),r(n.type)&&n.type!==null&&(t.type=n.type),r(n.from)&&n.from!==null&&(t.from=n.from),r(n.fromX)&&n.fromX!==null&&(t.fromX=n.fromX),r(n.fromY)&&n.fromY!==null&&(t.fromY=n.fromY),r(n.to)&&n.to!==null&&(t.to=n.to),r(n.toX)&&n.toX!==null&&(t.toX=n.toX),r(n.toY)&&n.toY!==null&&(t.toY=n.toY),t}function pu(t,i){var f=i.model.fields[i.field],r=this.dataSource.reader.model,u=r.fn.fields.text?"text":r.idField;n("<input name='"+i.field+"' />").appendTo(t).kendoDropDownList({dataValueField:r.idField,dataTextField:u,dataSource:this.dataSource.data().toJSON(),optionLabel:" "})}var d=kendo.dataviz,et=kendo.drawing,ot=kendo.geometry,i=d.diagram,st=kendo.ui.Widget,ai=kendo.Class,e=n.proxy,f=kendo.deepExtend,vi=n.extend,yi=kendo.data.HierarchicalDataSource,pi=i.Canvas,ht=i.Group,wu=i.Visual,wt=i.Rectangle,wi=i.Circle,ct=i.CompositeTransform,a=i.Rect,bt=i.Path,bi=i.DeleteShapeUnit,ki=i.DeleteConnectionUnit,kt=i.TextBlock,di=i.Image,u=i.Point,gi=i.Intersect,nr=i.ConnectionEditAdorner,tr=i.UndoRedoService,dt=i.ToolService,ir=i.Selector,rr=i.ResizingAdorner,ur=i.ConnectorsAdorner,fr=i.Cursors,s=i.Utils,gt=kendo.Observable,bu=i.Ticker,er=i.ToBackUnit,or=i.ToFrontUnit,sr=i.Dictionary,hr=i.PolylineRouter,cr=i.CascadingRouter,p=s.isUndefined,y=s.isDefined,r=kendo.util.defined,b=n.isArray,ni=kendo.isFunction,g=s.isString,lr=n.isPlainObject,h=Math,c=".kendoDiagram",lt="cascading",ti="itemBoundsChange",nt="change",tt="click",ii="error",k="Auto",ri=9007199254740992,ui="select",fi="itemRotate",at="pan",vt="zoomStart",ei="zoomEnd",oi="none",ar=600,vr=600,yr="rectangle",pr=100,wr=100,br=20,kr=20,si=0,dr=Number.MAX_VALUE,gr=-Number.MAX_VALUE,nu="absolute",hi="transformed",it="rotated",tu="transparent",iu="width",ru="height",uu="x",fu="y",eu="DOMMouseScroll"+c+" mousewheel"+c,ou=.05,su=5,hu='<a class="k-button k-button-icontext #=className#" href="\\#"><span class="#=iconClass# #=imageClass#"><\/span>#=text#<\/a>',ci,w,v,o,l,ft;i.DefaultConnectors=[{name:"Top",description:"Top Connector"},{name:"Right",description:"Right Connector"},{name:"Bottom",description:"Bottom Connector"},{name:"Left",Description:"Left Connector"},{name:k,Description:"Auto Connector",position:function(n){return n.getPosition("center")}}];ci={cancel:{text:"Cancel",imageClass:"k-cancel",className:"k-diagram-cancel",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-diagram-update",iconClass:"k-icon"}};i.shapeDefaults=function(n){var t={type:yr,path:"",autoSize:!0,visual:null,x:si,y:si,minWidth:br,minHeight:kr,width:pr,height:wr,hover:{},editable:{connect:!0,tools:[]},connectors:i.DefaultConnectors,rotation:{angle:0}};return s.simpleExtend(t,n),t};w=gt.extend({init:function(n){var t=this;t.dataItem=(n||{}).dataItem;gt.fn.init.call(t);t.options=f({id:i.randomId()},t.options,n);t.dataItem&&(t.options.dataItem=t.dataItem);t.isSelected=!1;t.visual=new ht({id:t.options.id,autoSize:t.options.autoSize});t._template()},options:{hover:{},cursor:fr.grip,content:{align:"center middle"},selectable:!0,serializable:!0,enable:!0},_getCursor:function(n){return this.adorner?this.adorner._getCursor(n):this.options.cursor},visible:function(n){if(p(n))return this.visual.visible();this.visual.visible(n)},bounds:function(){},refresh:function(){this.visual.redraw()},position:function(n){this.options.x=n.x;this.options.y=n.y;this.visual.position(n)},toString:function(){return this.options.id},serialize:function(){var n=f({},{options:this.options});return this.options.dataItem&&(n.dataItem=this.options.dataItem.toString()),n},_content:function(n){var r,o,u,e;return n!==t&&(r=this.options,o=this.bounds(),i.Utils.isString(n)?r.content.text=n:f(r.content,n),u=r.content,e=this._contentVisual,!e&&u.text?(this._contentVisual=new kt(u),this._contentVisual._includeInBBox=!1,this.visual.append(this._contentVisual)):e&&e.redraw(u)),this.options.content.text},_hitTest:function(n){var t=this.bounds();return this.visible()&&t.contains(n)&&this.options.enable},_template:function(){var n=this,t,i;n.options.content.template&&(t=n.options.dataItem||{},i=kendo.template(n.options.content.template,{paramName:"dataItem"}),n.options.content.text=i(t))},_canSelect:function(){return this.options.selectable!==!1},toJSON:function(){return{id:this.options.id}}});v=ai.extend({init:function(n,t){this.options=f({},this.options,t);this.connections=[];this.shape=n},options:{width:7,height:7,fill:{color:"Yellow"},hover:{}},position:function(){return this.options.position?this.options.position(this.shape):this.shape.getPosition(this.options.name)},toJSON:function(){return{shapeId:this.shape.toString(),connector:this.options.name}}});v.parse=function(n,t){for(var r,u=t.split(":"),f=u[0],e=u[1]||k,i=0;i<n.shapes.length;i++)if(r=n.shapes[i],r.options.id==f)return r.getConnector(e.trim())};o=w.extend({init:function(n){var i=this;w.fn.init.call(i,n);this.updateOptionsFromModel();n=i.options;i.connectors=[];i.type=n.type;i.shapeVisual=o.createShapeVisual(i.options);i.visual.append(this.shapeVisual);i.updateBounds();i.content(i.content());i._createConnectors();i.parentContainer=null;i.isContainer=!1;i.isCollapsed=!1;i.id=i.visual.id;n.hasOwnProperty("layout")&&n.layout!==t&&(i.layout=n.layout.bind(n))},options:i.shapeDefaults(),updateOptionsFromModel:function(n,t){if(this.diagram&&this.diagram._isEditable){var i=au(n||this.options.dataItem);n?t&&!d.inArray(t,["x","y","width","height"])&&(this.options.visual?this.redrawVisual():i.type&&(this.options=f({},this.options,i),this.redrawVisual()),this.options.content&&(this._template(),this.content(this.options.content))):this.options=f({},this.options,i)}},redrawVisual:function(){this.visual.clear();this._contentVisual=null;this.shapeVisual=o.createShapeVisual(this.options);this.visual.append(this.shapeVisual);this.updateBounds()},updateModel:function(){if(this.diagram&&this.diagram._isEditable){var t=this._bounds,n;this.options.dataItem&&(n=this.diagram.dataSource.getByUid(this.options.dataItem.uid));n&&(r(n.x)&&t.x!==n.x&&n.set("x",t.x),r(n.y)&&t.y!==n.y&&n.set("y",t.y),r(n.width)&&t.width!==n.width&&n.set("width",t.width),r(n.height)&&t.height!==n.height&&n.set("height",t.height),this.dataItem=this.options.dataItem=n)}},updateBounds:function(){var n=this.visual._measure(!0),t=this.options;this.bounds(new a(t.x,t.y,n.width,n.height));this._rotate();this._alignContent()},content:function(n){var t=this._content(n);return this._alignContent(),t},_alignContent:function(){var t=this.options.content||{},n=this._contentVisual;if(n&&t.align){var u=this.visual._measure(),f=new i.RectAlign(u),r=n.drawingElement.bbox(null),e=new a(0,0,r.width(),r.height()),o=f.align(e,t.align);n.position(o.topLeft())}},_createConnectors:function(){for(var t=this.options,r=t.connectors.length,u=t.connectorDefaults,i,n=0;n<r;n++)i=new v(this,f({},u,t.connectors[n])),this.connectors.push(i)},bounds:function(n){var t,i;if(n)if(g(n))switch(n){case hi:t=this._transformedBounds();break;case nu:t=this._transformedBounds();i=this.diagram._pan;t.x+=i.x;t.y+=i.y;break;case it:t=this._rotatedBounds();break;default:t=this._bounds}else this._setBounds(n),this.refreshConnections(),this._triggerBoundsChange();else t=this._bounds;return t},_setBounds:function(n){var t=this.options,i=n.topLeft(),r=t.x=i.x,u=t.y=i.y,f=t.width=h.max(n.width,t.minWidth),e=t.height=h.max(n.height,t.minHeight);this._bounds=new a(r,u,f,e);this.visual.redraw({x:r,y:u,width:f,height:e})},position:function(n){if(n)this.bounds(new a(n.x,n.y,this._bounds.width,this._bounds.height));else return this._bounds.topLeft()},clone:function(){var n=this.serialize();return n.options.id=i.randomId(),this.diagram&&this.diagram._isEditable&&r(this.options.dataItem)&&(n.options.dataItem=this.options.dataItem.toJSON(),n.options.dataItem[this.options.dataItem.idField]=this.options.dataItem._defaultId),new o(n.options)},select:function(n){var t=this.diagram,i,r;return p(n)&&(n=!0),this._canSelect()&&this.isSelected!=n?(i=[],r=[],this.isSelected=n,this.isSelected?(t._selectedItems.push(this),i.push(this)):(s.remove(t._selectedItems,this),r.push(this)),t._internalSelection||t._selectionChanged(i,r),!0):void 0},rotate:function(n,r,f){var o=this.visual.rotate(),e,s,c,h;return n!==t&&(f!==!1&&this.diagram&&this.diagram.undoRedoService&&this.diagram.undoRedoService.add(new i.RotateUnit(this.diagram._resizingAdorner,[this],[o.angle]),!1),e=this.bounds(),s=new u(e.width/2,e.height/2),r&&(c=n-o.angle,h=e.center().rotate(r,360-c).minus(s),this._rotationOffset=this._rotationOffset.plus(h.minus(e.topLeft())),this.position(h)),this.visual.rotate(n,s),this.options.rotation.angle=n,this.diagram&&this.diagram._connectorsAdorner&&this.diagram._connectorsAdorner.refresh(),this.refreshConnections(),this.diagram&&this.diagram.trigger(fi,{item:this})),o},connections:function(n){for(var i=[],u,t,f,s,e,o,r=0;r<this.connectors.length;r++)for(s=this.connectors[r],f=s.connections,u=0,f;u<f.length;u++)t=f[u],n=="out"?(e=t.source(),e.shape&&e.shape==this&&i.push(t)):n=="in"?(o=t.target(),o.shape&&o.shape==this&&i.push(t)):i.push(t);return i},refreshConnections:function(){n.each(this.connections(),function(){this.refresh()})},getConnector:function(n){var t,i;if(g(n)){for(n=n.toLocaleLowerCase(),t=0;t<this.connectors.length;t++)if(i=this.connectors[t],i.options.name.toLocaleLowerCase()==n)return i}else return n instanceof u?ut(n,this):this.connectors.length?this.connectors[0]:null},getPosition:function(n){var t=this.bounds(),i=n.charAt(0).toLowerCase()+n.slice(1);return ni(t[i])?this._transformPoint(t[i]()):t.center()},redraw:function(n){if(n){var t=this.options,i;this.shapeVisual.redraw(this._visualOptions(n));this._diffNumericOptions(n,[iu,ru,uu,fu])&&(this.bounds(new a(t.x,t.y,t.width,t.height)),i=!0);t=f(t,n);(n.rotation||i)&&this._rotate();t.content&&this.content(t.content)}},_diffNumericOptions:i.diffNumericOptions,_visualOptions:function(n){return{data:n.path,source:n.source,hover:n.hover,fill:n.fill,stroke:n.stroke,startCap:n.startCap,endCap:n.endCap}},_triggerBoundsChange:function(){this.diagram&&this.diagram.trigger(ti,{item:this,bounds:this._bounds.clone()})},_transformPoint:function(n){var t=this.rotate(),i=this.bounds(),r=i.topLeft();return t.angle&&n.rotate(t.center().plus(r),360-t.angle),n},_transformedBounds:function(){var n=this.bounds(),t=n.topLeft(),i=n.bottomRight();return a.fromPoints(this.diagram.modelToView(t),this.diagram.modelToView(i))},_rotatedBounds:function(){var n=this.bounds().rotatedBounds(this.rotate().angle),t=n.topLeft(),i=n.bottomRight();return a.fromPoints(t,i)},_rotate:function(){var n=this.options.rotation;n&&n.angle&&this.rotate(n.angle);this._rotationOffset=new u},_hover:function(n){var t=this.options,i=t.hover,r=t.stroke,u=t.fill;n&&y(i.stroke)&&(r=f({},r,i.stroke));n&&y(i.fill)&&(u=i.fill);this.shapeVisual.redraw({stroke:r,fill:u});t.editable&&t.editable.connect&&this.diagram._showConnectors(this,n)},_hitTest:function(n){if(this.visible()){var t=this.bounds(),r,i=this.rotate().angle;if(n.isEmpty&&!n.isEmpty())return gi.rects(n,t,i?i:0);if(r=n.clone().rotate(t.center(),i),t.contains(r))return this}},toJSON:function(){return{shapeId:this.options.id}}});o.createShapeVisual=function(n){function u(n,t){switch(n.toLocaleLowerCase()){case"rectangle":return new wt(t);case"circle":return new wi(t);case"text":return new kt(t);case"image":return new di(t);default:return new bt(t)}}function e(n,t){return t.data=n,new bt(t)}function o(n,t,i){return n.call(t,i)}var s=n.diagram;delete n.diagram;var t=f({},n,{x:0,y:0}),i=t.visual,r=t.type;return ni(i)?o(i,this,t):t.path?e(t.path,t):g(r)?u(t.type.toLocaleLowerCase(),t):new wt(t)};l=w.extend({init:function(n,t,f){var e=this;w.fn.init.call(e,f);this.updateOptionsFromModel();this._initRouter();e.path=new i.Polyline(e.options);e.path.fill(tu);e.visual.append(e.path);e._sourcePoint=e._targetPoint=new u;e.source(n);e.target(t);e.content(e.options.content);e.definers=[];r(f)&&f.points&&e.points(f.points);e.refresh()},options:{hover:{stroke:{}},startCap:oi,endCap:oi,points:[],selectable:!0},updateOptionsFromModel:function(n){if(this.diagram&&this.diagram._isEditable){var t=vu(n||this.options.dataItem);n?(r(t.from)?this.source(t.from):r(t.fromX)&&r(t.fromY)&&this.source(new u(t.fromX,t.fromY)),r(t.to)?this.target(t.to):r(t.toX)&&r(t.toY)&&this.target(new u(t.toX,t.toY)),this.options.dataItem=n,this._template(),this.redraw(this.options)):this.options=f({},t,this.options)}},updateModel:function(n){if(this.diagram&&this.diagram._isEditable&&this.diagram.connectionsDataSource){var t=this.diagram.connectionsDataSource.getByUid(this.options.dataItem.uid);t&&(this.diagram._shouldRefresh=!1,r(this.options.fromX)&&this.options.fromX!==null?(t._set("from",null),t._set("fromX",this.options.fromX),t._set("fromY",this.options.fromY)):(t._set("from",this.options.from),t._set("fromX",null),t._set("fromY",null)),r(this.options.toX)&&this.options.toX!==null?(t._set("to",null),t._set("toX",this.options.toX),t._set("toY",this.options.toY)):(t._set("to",this.options.to),t._set("toX",null),t._set("toY",null)),this.dataItem=this.options.dataItem=t,n!==!1&&(this.diagram._shouldRefresh=!0,t.trigger("change")))}},sourcePoint:function(){return this._resolvedSourceConnector?this._resolvedSourceConnector.position():this._sourcePoint},source:function(n,r){var f;return y(n)&&(r&&this.diagram?this.diagram.undoRedoService.addCompositeItem(new i.ConnectionEditUnit(this,n)):(n!==t&&(this.from=n),n===null?this.sourceConnector&&(this._sourcePoint=this._resolvedSourceConnector.position(),this._clearSourceConnector()):n instanceof v?(f=n.shape.options.dataItem,f&&(this.options.from=f.id,this.options.fromX=null,this.options.fromY=null),this.sourceConnector=n,this.sourceConnector.connections.push(this)):n instanceof u?(this.options.fromX=n.x,this.options.fromY=n.y,this.options.from=null,this._sourcePoint=n,this.sourceConnector&&this._clearSourceConnector()):n instanceof o&&(f=n.options.dataItem,f&&(this.options.from=f.id,this.options.fromX=null,this.options.fromY=null),this.sourceConnector=n.getConnector(k),this.sourceConnector.connections.push(this)),this.refresh())),this.sourceConnector?this.sourceConnector:this._sourcePoint},sourceDefiner:function(n){if(n)if(n instanceof i.PathDefiner)n.left=null,this._sourceDefiner=n,this.source(n.point);else throw"The sourceDefiner needs to be a PathDefiner.";else return this._sourceDefiner||(this._sourceDefiner=new i.PathDefiner(this.sourcePoint(),null,null)),this._sourceDefiner},targetPoint:function(){return this._resolvedTargetConnector?this._resolvedTargetConnector.position():this._targetPoint},target:function(n,r){var f;return y(n)&&(r&&this.diagram?this.diagram.undoRedoService.addCompositeItem(new i.ConnectionEditUnit(this,n)):(n!==t&&(this.to=n),n===null?this.targetConnector&&(this._targetPoint=this._resolvedTargetConnector.position(),this._clearTargetConnector()):n instanceof v?(f=n.shape.options.dataItem,f&&(this.options.to=f.id,this.options.toX=null,this.options.toY=null),this.targetConnector=n,this.targetConnector.connections.push(this)):n instanceof u?(this.options.toX=n.x,this.options.toY=n.y,this.options.to=null,this._targetPoint=n,this.targetConnector&&this._clearTargetConnector()):n instanceof o&&(f=n.options.dataItem,f&&(this.options.to=f.id,this.options.toX=null,this.options.toY=null),this.targetConnector=n.getConnector(k),this.targetConnector.connections.push(this))),this.refresh()),this.targetConnector?this.targetConnector:this._targetPoint},targetDefiner:function(n){if(n)if(n instanceof i.PathDefiner)n.right=null,this._targetDefiner=n,this.target(n.point);else throw"The sourceDefiner needs to be a PathDefiner.";else return this._targetDefiner||(this._targetDefiner=new i.PathDefiner(this.targetPoint(),null,null)),this._targetDefiner},content:function(n){return this._content(n)},select:function(n){var i=this.diagram,r,u;if(this._canSelect()&&this.isSelected!==n)return this.isSelected=n,r=[],u=[],this.isSelected?(this.adorner=new nr(this,this.options.selection),i._adorn(this.adorner,!0),i._selectedItems.push(this),r.push(this)):this.adorner&&(i._adorn(this.adorner,!1),s.remove(i._selectedItems,this),this.adorner=t,u.push(this)),this.refresh(),i._internalSelection||i._selectionChanged(r,u),!0},bounds:function(n){if(n&&!g(n))this._bounds=n;else return this._bounds},type:function(n){var t=this.options;if(n)n!==t.type&&(t.type=n,this._initRouter(),this.refresh());else return t.type},_initRouter:function(){var n=(this.options.type||"").toLowerCase();this._router=n==lt?new cr(this):new hr(this)},points:function(n){var r,t,e,f;if(n)for(this.definers=[],r=0;r<n.length;r++)if(t=n[r],t instanceof i.Point)this.definers.push(new i.PathDefiner(t));else if(t.hasOwnProperty("x")&&t.hasOwnProperty("y"))this.definers.push(new i.PathDefiner(new u(t.x,t.y)));else throw"A Connection point needs to be a Point or an object with x and y properties.";else{if(e=[],y(this.definers))for(f=0;f<this.definers.length;f++)e.push(this.definers[f].point);return e}},allPoints:function(){var t=[this.sourcePoint()],n;if(this.definers)for(n=0;n<this.definers.length;n++)t.push(this.definers[n].point);return t.push(this.targetPoint()),t},refresh:function(){lu(this);var f=this.sourcePoint(),e=this.targetPoint(),n,i,r,t;this._refreshPath();n=this._bounds.topLeft();i=f.minus(n);r=e.minus(n);this._contentVisual&&(t=u.fn.middleOf(i,r),this._contentVisual.position(new u(t.x+n.x,t.y+n.y)));this.adorner&&this.adorner.refresh()},redraw:function(n){if(n){this.options=f({},this.options,n);var t=this.options.points;(n&&n.content||n.text)&&this.content(n.content);r(t)&&t.length>0&&(this.points(t),this._refreshPath());this.path.redraw({fill:n.fill,stroke:n.stroke,startCap:n.startCap,endCap:n.endCap})}},clone:function(){var n=this.serialize();return this.diagram&&this.diagram._isEditable&&r(this.options.dataItem)&&(n.options.dataItem=this.options.dataItem.toJSON(),n.options.dataItem[this.options.dataItem.idField]=this.options.dataItem._defaultId),new l(this.from,this.to,n.options)},serialize:function(){var t=this.from.toJSON?this.from.toJSON:this.from.toString(),i=this.to.toJSON?this.to.toJSON:this.to.toString(),n=f({},{options:this.options,from:t,to:i});return r(this.dataItem)&&(n.dataItem=this.dataItem.toString()),n.options.points=this.points(),n},_hitTest:function(n){if(this.visible()){var t=new u(n.x,n.y),i=this.sourcePoint(),r=this.targetPoint();if(n.isEmpty&&!n.isEmpty()&&n.contains(i)&&n.contains(r)||this._router.hitTest(t))return this}},_hover:function(n){var t=(this.options.stroke||{}).color;n&&y(this.options.hover.stroke.color)&&(t=this.options.hover.stroke.color);this.path.redraw({stroke:{color:t}})},_refreshPath:function(){r(this.path)&&(this._drawPath(),this.bounds(this._router.getBounds()))},_drawPath:function(){this._router&&this._router.route();var n=this.sourcePoint(),t=this.targetPoint(),i=this.points();this.path.redraw({points:[n].concat(i,[t])})},_clearSourceConnector:function(){s.remove(this.sourceConnector.connections,this);this.sourceConnector=t;this._resolvedSourceConnector=t},_clearTargetConnector:function(){s.remove(this.targetConnector.connections,this);this.targetConnector=t;this._resolvedTargetConnector=t}});ft=st.extend({init:function(n,t){var i=this;kendo.destroy(n);st.fn.init.call(i,n,t);i._initTheme();i._initElements();i._extendLayoutOptions(i.options);i._initShapeDefaults();i._initCanvas();i.mainLayer=new ht({id:"main-layer"});i.canvas.append(i.mainLayer);i._pan=new u;i._adorners=[];i.adornerLayer=new ht({id:"adorner-layer"});i.canvas.append(i.adornerLayer);i._createHandlers();i._initialize();i._fetchFreshData();i._createGlobalToolBar();i._resizingAdorner=new rr(i,{editable:i.options.editable});i._connectorsAdorner=new ur(i);i._adorn(i._resizingAdorner,!0);i._adorn(i._connectorsAdorner,!0);i.selector=new ir(i);i._clipboard=[];i.options.layout&&i.layout(i.options.layout);i.pauseMouseHandlers=!1;i._createShapes();i._createConnections();i.zoom(i.options.zoom);i.canvas.draw();this._shouldRefresh=!0},options:{name:"Diagram",theme:"default",layout:"",zoomRate:.1,zoom:1,minZoom:0,maxZoom:2,dataSource:{},draggable:!0,template:"",autoBind:!0,editable:{rotate:{},resize:{},text:!0,tools:[]},pannable:{key:"ctrl"},selectable:{key:"none"},tooltip:{enabled:!0,format:"{0}"},copy:{enabled:!0,offsetX:20,offsetY:20},snap:{enabled:!0,size:10,angle:10},shapeDefaults:i.shapeDefaults({undoable:!0}),connectionDefaults:{editable:{tools:[]}},shapes:[],connections:[]},events:[ei,vt,at,ui,fi,ti,nt,tt,"toolBarClick","save","cancel","edit","remove","add","dataBound"],_createGlobalToolBar:function(){var n=this.options.editable.tools;this._isEditable&&n.length===0&&(n=["createShape","undo","redo","rotateClockwise","rotateAnticlockwise"]);n&&n.length&&(this.toolBar=new yt(this,{tools:n||{},click:e(this._toolBarClick,this),modal:!1}),this.toolBar.element.css({position:"absolute",top:0,left:0,width:this.element.width(),textAlign:"left"}),this.element.append(this.toolBar.element))},createShape:function(){var n=this;if((this.editor&&this.editor.end()||!this.editor)&&!this.trigger("add",{shape:{}})){var t=this.dataSource.view()||[],i=t.length,r=this.dataSource.insert(i,{});this.dataSource.one("sync",function(){var t=n._dataMap[r.id];n.edit(t)});this.dataSource.sync()}},createConnection:function(){if((this.editor&&this.editor.end()||!this.editor)&&!this.trigger("add",{connection:{}})){var n=this.connectionsDataSource.view()||[],t=n.length,i=this.connectionsDataSource.insert(t,{}),r=this._connectionsDataMap[i.uid];this.edit(r)}},edit:function(n){var i,r,u,t,s;if(this.cancelEdit(),t=this.options.editable,n instanceof o)i="shape",r=t.shapeEditors,u=t.shapeTemplate;else if(n instanceof l)i="connection",s=e(pu,this),r=f({},{from:s,to:s},t.connectionEditors),u=t.connectionTemplate;else return;n.options.dataItem&&(this.editor=new yu(this.element,{update:e(this._update,this),cancel:e(this._cancel,this),model:n.dataItem,type:i,target:this,editors:r,template:u}),this.trigger("edit",this._editArgs()))},cancelEdit:function(){this.editor&&(this._getEditDataSource().cancelChanges(this.editor.model),this._destroyEditor())},saveEdit:function(){this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())&&this._getEditDataSource().sync()},_update:function(){this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())&&(this._getEditDataSource().sync(),this._destroyEditor())},_cancel:function(){this.editor&&!this.trigger("cancel",this._editArgs())&&(this._getEditDataSource().cancelChanges(this.editor.model),this._destroyEditor())},_getEditDataSource:function(){return this.editor.options.type==="shape"?this.dataSource:this.connectionsDataSource},_editArgs:function(){var n={container:this.editor.element};return n[this.editor.options.type]=this.editor.model,n},_destroyEditor:function(){this.editor&&(this.editor.close(),this.editor=null)},_initElements:function(){this.wrapper=this.element.empty().css("position","relative").attr("tabindex",0).addClass("k-widget k-diagram");this.scrollable=n("<div />").appendTo(this.element)},_initShapeDefaults:function(){var n=this.options;n.editable===!1&&f(n.shapeDefaults,{editable:{connect:!1}})},_initCanvas:function(){var i=n("<div class='k-layer'><\/div>").appendTo(this.scrollable)[0],t=this.viewport();this.canvas=new pi(i,{width:t.width||ar,height:t.height||vr})},_createHandlers:function(){var n=this,t=n.element;t.on(eu,e(n._wheel,n));if(kendo.support.touch||kendo.support.mobileOS)n._userEvents=new kendo.UserEvents(t,{multiTouch:!0,tap:e(n._tap,n)}),n._userEvents.bind(["gesturestart","gesturechange","gestureend"],{gesturestart:e(n._gestureStart,n),gesturechange:e(n._gestureChange,n),gestureend:e(n._gestureEnd,n)}),n.toolService=new dt(n),n.options.pannable!==!1&&n.scroller.enable();else{n.toolService=new dt(n);this.scroller.wrapper.on("mousemove"+c,e(n._mouseMove,n)).on("mouseup"+c,e(n._mouseUp,n)).on("mousedown"+c,e(n._mouseDown,n)).on("mouseover"+c,e(n._mouseover,n)).on("mouseout"+c,e(n._mouseout,n));t.on("keydown"+c,e(n._keydown,n))}n._resizeHandler=e(n.resize,n);kendo.onResize(n._resizeHandler);this.bind(vt,e(n._destroyToolBar,n));this.bind(at,e(n._destroyToolBar,n))},_tap:function(n){var i=this.toolService,r=this._caculateMobilePosition(n),t;i._updateHoveredItem(r);i.hoveredItem&&(t=i.hoveredItem,this.options.selectable!==!1&&(this._destroyToolBar(),t.isSelected?t.select(!1):this.select(t,{addToSelection:!0}),this._createToolBar()),this.trigger("click",{item:t,point:r}))},_caculateMobilePosition:function(n){return this.documentToModel(u(n.x.location,n.y.location))},_gestureStart:function(n){this._destroyToolBar();this.scroller.disable();this._gesture=n;this._initialCenter=this.documentToModel(new u(n.center.x,n.center.y));this.trigger(vt,{point:this._initialCenter,zoom:this.zoom()})},_gestureChange:function(n){var o=this._gesture,s=this._initialCenter,c=this.documentToView(new u(n.center.x,n.center.y)),r=n.distance/o.distance,t=this._zoom,f=!1,e,i;h.abs(r-1)>=ou&&(this._zoom=t=this._getValidZoom(t*r),this.options.zoom=t,this._gesture=n,f=!0);e=s.times(t);i=c.minus(e);(f||this._pan.distanceTo(i)>=su)&&(this._panTransform(i),this._updateAdorners());n.preventDefault()},_gestureEnd:function(){this.options.pannable!==!1&&this.scroller.enable();this.trigger(ei,{point:this._initialCenter,zoom:this.zoom()})},_resize:function(n){this.canvas&&this.canvas.size(n);this.toolBar&&this.toolBar._toolBar.element.width(this.element.width())},_mouseover:function(n){var t=n.target._kendoNode;t&&t.srcElement._hover&&t.srcElement._hover(!0,t.srcElement)},_mouseout:function(n){var t=n.target._kendoNode;t&&t.srcElement._hover&&t.srcElement._hover(!1,t.srcElement)},_initTheme:function(){var n=this,t=d.ui.themes||{},i=((n.options||{}).theme||"").toLowerCase(),r=(t[i]||{}).diagram;n.options=f({},r,n.options)},_createShapes:function(){for(var t=this,u=t.options,i=u.shapes,r,n=0;n<i.length;n++)r=i[n],t.addShape(r)},_createConnections:function(){for(var n=this,r=n.options,s=r.connectionDefaults,u=r.connections,t,e,o,i=0;i<u.length;i++)t=u[i],e=n._findConnectionShape(t.from),o=n._findConnectionShape(t.to),n.connect(e,o,f({},s,t))},_findConnectionShape:function(n){var t=this,i=g(n)?n:n.shapeId,r=t.getShapeById(i);return r.getConnector(n.connector||k)},destroy:function(){var n=this;st.fn.destroy.call(n);this._userEvents&&this._userEvents.destroy();kendo.unbindResize(n._resizeHandler);n.clear();n.element.off(c);n.scroller.wrapper.off(c);n.canvas.destroy(!0);n.canvas=t;n._destroyEditor();n.destroyScroller();n._destroyGlobalToolBar();n._destroyToolBar()},destroyScroller:function(){var n=this.scroller;n&&(n.destroy(),n.element.remove(),this.scroller=null)},save:function(){var t={},n,r,i,u;for(t.shapes=[],t.connections=[],n=0;n<this.shapes.length;n++)r=this.shapes[n],r.options.serializable&&t.shapes.push(r.options);for(n=0;n<this.connections.length;n++)i=this.connections[n],u=f({},i.options,{from:i.from.toJSON(),to:i.to.toJSON()}),t.connections.push(u);return t},focus:function(){if(!this.element.is(kendo._activeElement())){var r=this.element,n=r[0],i=[],u=[],f=document.documentElement,t;do n=n.parentNode,n.scrollHeight>n.clientHeight&&(i.push(n),u.push(n.scrollTop));while(n!=f);for(r.focus(),t=0;t<i.length;t++)i[t].scrollTop=u[t]}},load:function(n){this.clear();this.setOptions(n);this._createShapes();this._createConnections()},setOptions:function(n){f(this.options,n)},clear:function(){var n=this;n.select(!1);n.mainLayer.clear();n._initialize()},connect:function(n,t,i){var r,u;return this.connectionsDataSource&&this._isEditable?(u=this.connectionsDataSource.add({}),r=this._connectionsDataMap[u.uid],r.source(n),r.target(t),this.connectionsDataSource.sync()):(r=new l(n,t,f({},this.options.connectionDefaults,i)),this.addConnection(r)),r},connected:function(n,t){for(var r,i=0;i<this.connections.length;i++)if(r=this.connections[i],r.from==n&&r.to==t)return!0;return!1},addConnection:function(n,t){return t!==!1&&this.undoRedoService.add(new i.AddConnectionUnit(n,this),!1),n.diagram=this,this.mainLayer.append(n.visual),this.connections.push(n),n.updateOptionsFromModel(),n},_addConnection:function(n,t){var r=this,i;if(this.connectionsDataSource&&this._isEditable)if(this.trigger("add",{connection:n.options.dataItem}))this._remove(n,!1);else{i=this.connectionsDataSource.add(n.options.dataItem);this.connectionsDataSource.one("sync",function(){for(var u,t=0;t<r.connections.length;t++)u=r.connections[t],u.options.dataItem.uid===i.uid&&u.redraw(n.options)});n.options.dataItem=i;this.connectionsDataSource.sync()}else return this.addConnection(n,t)},addShape:function(n,t){var r,u=this.options.shapeDefaults;if(n instanceof o)u=f({},u,t),n.redraw(t),r=n;else{if(n instanceof kendo.Class)return;u=f({},u,n||{});r=new o(u)}return u.undoable&&this.undoRedoService.add(new i.AddShapeUnit(r,this),!1),this.shapes.push(r),r.diagram=this,this.mainLayer.append(r.visual),this.trigger(nt,{added:[r],removed:[]}),r.hasOwnProperty("layout")&&r.layout(r),r},_addShape:function(n,t){var r=this,i;if(this.dataSource&&this._isEditable)if(this.trigger("add",{shape:n.options.dataItem}))this._remove(n,!1);else{i=this.dataSource.add(n.options.dataItem);this.dataSource.one("sync",function(){for(var u,t=0;t<r.shapes.length;t++)u=r.shapes[t],u.options.dataItem.uid===i.uid&&u.redraw(n.options)});n.options.dataItem=i;this.dataSource.sync()}else return this.addShape(n,t)},remove:function(n,t){var r=b(n),i;if(p(t)&&(t=!0),t&&this.undoRedoService.begin(),r)for(n=n.slice(0),i=0;i<n.length;i++)this._removeItem(n[i],t);else(n instanceof o||n instanceof l)&&this._removeItem(n,t);t&&this.undoRedoService.commit();this.trigger(nt,{added:[],removed:r?n:[n]})},_remove:function(n,t){var r={},i;this._isEditable&&(n.length?this._destroyToolBar():(n instanceof l?this.connectionsDataSource&&(i=this.connectionsDataSource,r.connection=n.options.dataItem):this.dataSource&&(i=this.dataSource,r.shape=n.options.dataItem),i&&!this.trigger("remove",r)&&(i.remove(n.options.dataItem),i.sync())));this.remove(n,t)},undo:function(){this.undoRedoService.undo()},redo:function(){this.undoRedoService.redo()},select:function(n,t){if(y(n)){t=f({addToSelection:!1},t);var o=t.addToSelection,i=[],e=[],r,u;for(o||this.deselect(),this._internalSelection=!0,n instanceof Array?i=n:n instanceof w&&(i=[n]),r=0;r<i.length;r++)u=i[r],u.select(!0)&&e.push(u);this._selectionChanged(e,[]);this._internalSelection=!1}else return this._selectedItems},selectAll:function(){this.select(this.shapes.concat(this.connections))},selectArea:function(n){var i,r,t,u;if(this._internalSelection=!0,u=[],n instanceof a)for(r=this.shapes.concat(this.connections),i=0;i<r.length;i++)t=r[i],(!n||t._hitTest(n))&&t.options.enable&&t.select(!0)&&u.push(t);this._selectionChanged(u,[]);this._internalSelection=!1},deselect:function(n){this._internalSelection=!0;var u=[],t=[],r,i;for(n instanceof Array?t=n:n instanceof w?t.push(n):y(n)||(t=this._selectedItems.slice(0)),i=0;i<t.length;i++)r=t[i],r.select(!1)&&u.push(r);this._selectionChanged([],u);this._internalSelection=!1},toFront:function(n,t){var i,u,f;n||(n=this._selectedItems.slice());i=this._getDiagramItems(n);!r(t)||t?(u=li(this.mainLayer,i.visuals),f=new or(this,n,u),this.undoRedoService.add(f)):(this.mainLayer.toFront(i.visuals),this._fixOrdering(i,!0))},toBack:function(n,t){var i,u,f;n||(n=this._selectedItems.slice());i=this._getDiagramItems(n);!r(t)||t?(u=li(this.mainLayer,i.visuals),f=new er(this,n,u),this.undoRedoService.add(f)):(this.mainLayer.toBack(i.visuals),this._fixOrdering(i,!1))},bringIntoView:function(n,t){var e=this.viewport(),l=new i.RectAlign(e),s,r,o,c;e.width!==0&&e.height!==0&&(t=f({animate:!1,align:"center middle"},t),t.align=="none"&&(t.align="center middle"),n instanceof w?r=n.bounds(hi):b(n)?r=this.boundingBox(n):n instanceof a&&(r=n.clone()),o=r.clone(),r.zoom(this._zoom),this._storePan(new u),(r.width>e.width||r.height>e.height)&&(this._zoom=this._getValidZoom(h.min(e.width/o.width,e.height/o.height)),r=o.clone().zoom(this._zoom)),this._zoomMainLayer(),s=r.clone(),l.align(r,t.align),c=r.topLeft().minus(s.topLeft()),this.pan(c.times(-1),t.animate))},alignShapes:function(n){var e,r,t,f,s,c,l;if(p(n)&&(n="Left"),e=this.select(),e.length!==0){switch(n.toLowerCase()){case"left":case"top":r=dr;break;case"right":case"bottom":r=gr}for(f=0;f<e.length;f++)if(t=e[f],t instanceof o)switch(n.toLowerCase()){case"left":r=h.min(r,t.options.x);break;case"top":r=h.min(r,t.options.y);break;case"right":r=h.max(r,t.options.x);break;case"bottom":r=h.max(r,t.options.y)}for(s=[],c=[],f=0;f<e.length;f++)if(t=e[f],t instanceof o){c.push(t);s.push(t.bounds());switch(n.toLowerCase()){case"left":case"right":t.position(new u(r,t.options.y));break;case"top":case"bottom":t.position(new u(t.options.x,r))}}l=new i.TransformUnit(c,s);this.undoRedoService.add(l,!1)}},zoom:function(n,t){var r;if(n){if(r=t?t.point:new i.Point(0,0),n=this._zoom=this._getValidZoom(n),!p(r)){r=new i.Point(h.round(r.x),h.round(r.y));var f=r.times(n),e=this.modelToView(r),u=e.minus(f);this._storePan(new i.Point(h.round(u.x),h.round(u.y)))}t&&(t.zoom=n);this._panTransform();this._updateAdorners()}return this._zoom},_getPan:function(n){var t=this.canvas;return t.translate||(n=n.plus(this._pan)),n},pan:function(n,t){if(n instanceof u){var i=this,r=i.scroller;n=i._getPan(n);n=n.times(-1);t?r.animatedScrollTo(n.x,n.y,function(){i._updateAdorners()}):(r.scrollTo(n.x,n.y),i._updateAdorners())}},viewport:function(){var n=this.element;return new a(0,0,n.width(),n.height())},copy:function(){var n,t;if(this.options.copy.enabled)for(this._clipboard=[],this._copyOffset=1,n=0;n<this._selectedItems.length;n++)t=this._selectedItems[n],this._clipboard.push(t)},cut:function(){var n,t;if(this.options.copy.enabled){for(this._clipboard=[],this._copyOffset=0,n=0;n<this._selectedItems.length;n++)t=this._selectedItems[n],this._clipboard.push(t);this.remove(this._clipboard,!0)}},paste:function(){var e,s,n,t,i,h,r,f;if(this._clipboard.length>0){for(f=new sr,e=this._copyOffset*this.options.copy.offsetX,s=this._copyOffset*this.options.copy.offsetY,this.deselect(),r=0;r<this._clipboard.length;r++)(n=this._clipboard[r],n instanceof l)||(t=n.clone(),f.set(n.id,t.id),t.position(new u(n.options.x+e,n.options.y+s)),t.diagram=this,this._addShape(t),t.select(),t.updateModel());for(r=0;r<this._clipboard.length;r++)(n=this._clipboard[r],n instanceof o)||(t=n.clone(),n.source()instanceof v&&(i=n.source(),f.containsKey(i.shape.id)?(h=this.getShapeById(f.get(i.shape.id)),t.source(h.getConnector(i.options.name))):t.source(new u(n.sourcePoint().x+e,n.sourcePoint().y+s))),n.target()instanceof v&&(i=n.target(),f.containsKey(i.shape.id)?(h=this.getShapeById(f.get(i.shape.id)),t.target(h.getConnector(i.options.name))):t.target(new u(n.targetPoint().x+e,n.targetPoint().y+s))),t.diagram=this,this._addConnection(t),t.position(new u(n.options.x+e,n.options.y+s)),t.select(!0),t.updateModel());this._copyOffset+=1}},boundingBox:function(n,t){var r=a.empty(),u,f=y(n)?this._getDiagramItems(n):{shapes:this.shapes},i,e;if(f.shapes.length>0)for(i=f.shapes[0],r=i.bounds(it),e=1;e<f.shapes.length;e++)i=f.shapes[e],u=i.bounds(it),t===!0&&(u.x-=i._rotationOffset.x,u.y-=i._rotationOffset.y),r=r.union(u);return r},documentToView:function(n){var t=this.element.offset();return new u(n.x-t.left,n.y-t.top)},viewToDocument:function(n){var t=this.element.offset();return new u(n.x+t.left,n.y+t.top)},viewToModel:function(n){return this._transformWithMatrix(n,this._matrixInvert)},modelToView:function(n){return this._transformWithMatrix(n,this._matrix)},modelToLayer:function(n){return this._transformWithMatrix(n,this._layerMatrix)},layerToModel:function(n){return this._transformWithMatrix(n,this._layerMatrixInvert)},documentToModel:function(n){var t=this.documentToView(n);return this.canvas.translate||(t.x=t.x+this.scroller.scrollLeft,t.y=t.y+this.scroller.scrollTop),this.viewToModel(t)},modelToDocument:function(n){return this.viewToDocument(this.modelToView(n))},_transformWithMatrix:function(n,t){var i=n,r,f;return n instanceof u?t&&(i=t.apply(n)):(r=this._transformWithMatrix(n.topLeft(),t),f=this._transformWithMatrix(n.bottomRight(),t),i=a.fromPoints(r,f)),i},setDataSource:function(n){this.options.dataSource=n;this._dataSource();this.options.autoBind&&this.dataSource.fetch()},setConnectionsDataSource:function(n){this.options.connectionsDataSource=n;this._connectionDataSource();this.options.autoBind&&this.connectionsDataSource.fetch()},layout:function(n){var r,t,f,u,e;this.isLayouting=!0;p(n)&&(n=this.options.layout);r=p(n)||p(n.type)?"Tree":n.type;switch(r.toLowerCase()){case"tree":t=new i.TreeLayout(this);break;case"layered":t=new i.LayeredLayout(this);break;case"forcedirected":case"force":case"spring":case"springembedder":t=new i.SpringLayout(this);break;default:throw"Layout algorithm '"+r+"' is not supported.";}f=new i.LayoutState(this);u=t.layout(n);u&&(e=new i.LayoutUndoUnit(f,u,n?n.animate:null),this.undoRedoService.add(e));this.isLayouting=!1},getShapeById:function(n){var t;return(t=s.first(this.shapes,function(t){return t.visual.id===n}),t)?t:s.first(this.connections,function(t){return t.visual.id===n})},_extendLayoutOptions:function(n){n.layout&&(n.layout=f(i.LayoutBase.fn.defaultOptions||{},n.layout))},_selectionChanged:function(n,t){(n.length||t.length)&&this.trigger(ui,{selected:n,deselected:t})},_getValidZoom:function(n){return h.min(h.max(n,this.options.minZoom),this.options.maxZoom)},_panTransform:function(n){var t=this,i=n||t._pan;t.canvas.translate?(t.scroller.scrollTo(i.x,i.y),t._zoomMainLayer()):(t._storePan(i),t._transformMainLayer())},_finishPan:function(){this.trigger(at,{total:this._pan,delta:Number.NaN})},_storePan:function(n){this._pan=n;this._storeViewMatrix()},_zoomMainLayer:function(){var n=this._zoom,t=new ct(0,0,n,n);t.render(this.mainLayer);this._storeLayerMatrix(t);this._storeViewMatrix()},_transformMainLayer:function(){var n=this._pan,t=this._zoom,i=new ct(n.x,n.y,t,t);i.render(this.mainLayer);this._storeLayerMatrix(i);this._storeViewMatrix()},_storeLayerMatrix:function(n){this._layerMatrix=n.toMatrix();this._layerMatrixInvert=n.invert().toMatrix()},_storeViewMatrix:function(){var n=this._pan,t=this._zoom,i=new ct(n.x,n.y,t,t);this._matrix=i.toMatrix();this._matrixInvert=i.invert().toMatrix()},_toIndex:function(n,t){var i=this._getDiagramItems(n);this.mainLayer.toIndex(i.visuals,t);this._fixOrdering(i,!1)},_fixOrdering:function(n,t){for(var u=t?this.shapes.length-1:0,f=t?this.connections.length-1:0,r,i=0;i<n.shapes.length;i++)r=n.shapes[i],s.remove(this.shapes,r),s.insert(this.shapes,r,u);for(i=0;i<n.cons.length;i++)r=n.cons[i],s.remove(this.connections,r),s.insert(this.connections,r,f)},_getDiagramItems:function(n){var r,t={},u=n,i;for(t.visuals=[],t.shapes=[],t.cons=[],n?b(n)||(u=[n]):u=this._selectedItems.slice(),r=0;r<u.length;r++)i=u[r],i instanceof o?(t.shapes.push(i),t.visuals.push(i.visual)):i instanceof l&&(t.cons.push(i),t.visuals.push(i.visual));return t},_removeItem:function(n,t){n.select(!1);n instanceof o?this._removeShape(n,t):n instanceof l&&this._removeConnection(n,t);t||this.mainLayer.remove(n.visual)},_removeShape:function(n,t){var i,r,u,e=[],o=[],f;for(this.toolService._removeHover(),t?this.undoRedoService.addCompositeItem(new bi(n)):s.remove(this.shapes,n),i=0;i<n.connectors.length;i++)for(u=n.connectors[i],f=0;f<u.connections.length;f++)r=u.connections[f],r.sourceConnector==u?e.push(r):r.targetConnector==u&&o.push(r);for(i=0;i<e.length;i++)e[i].source(null,t);for(i=0;i<o.length;i++)o[i].target(null,t)},_removeConnection:function(n,t){n.sourceConnector&&s.remove(n.sourceConnector.connections,n);n.targetConnector&&s.remove(n.targetConnector.connections,n);t?this.undoRedoService.addCompositeItem(new ki(n)):s.remove(this.connections,n)},_removeDataItems:function(n,t){var i,f,r,u;for(n=b(n)?n:[n];n.length;)if(i=n.shift(),r=this._dataMap[i.uid],r&&(this._removeShapeConnections(r),this._removeItem(r,!1),delete this._dataMap[i.uid],t&&i.hasChildren&&i.loaded()))for(f=i.children.data(),u=0;u<f.length;u++)n.push(f[u])},_removeShapeConnections:function(n){var i=n.connections(),t;if(i)for(t=0;t<i.length;t++)this._removeItem(i[t],!1)},_addDataItem:function(n,t){if(r(n)){var i=this._dataMap[n.id];return i?i:(t=f({},this.options.shapeDefaults,t),t.dataItem=n,i=new o(t),this.addShape(i),this._dataMap[n.id]=i,i)}},_addDataItemByUid:function(n){var t,i;if(r(n))return(t=this._dataMap[n.uid],t)?t:(i=f({},this.options.shapeDefaults),i.dataItem=n,t=new o(i),this.addShape(t),this._dataMap[n.uid]=t,t)},_addDataItems:function(n,t){for(var f,u,r,e,i=0;i<n.length;i++)f=n[i],u=this._addDataItemByUid(f),r=this._addDataItemByUid(t),r&&!this.connected(r,u)&&(e=this.connect(r,u),e.type(lt))},_refreshSource:function(n){var i=this,u=n.node,f=n.action,r=n.items,e=i.options,t;if(!n.field){if(f=="remove")this._removeDataItems(n.items,!0);else for(f||u||i.clear(),this._addDataItems(r,u),t=0;t<r.length;t++)r[t].load();e.layout&&i.layout(e.layout)}},_mouseDown:function(n){var t=this._calculatePosition(n);n.which==1&&this.toolService.start(t,this._meta(n))&&(this._destroyToolBar(),n.preventDefault())},_addItem:function(n){n instanceof o?this.addShape(n):n instanceof l&&this.addConnection(n)},_mouseUp:function(n){var t=this._calculatePosition(n);n.which==1&&this.toolService.end(t,this._meta(n))&&(this._createToolBar(),n.preventDefault())},_createToolBar:function(){var s=this.toolService.diagram,t,i,c,n,r,f;if(!this.singleToolBar&&s.select().length===1&&(t=s.select()[0],t&&(i=t.options.editable.tools,this._isEditable&&i.length===0&&(t instanceof o?i=["edit","rotateClockwise","rotateAnticlockwise","delete"]:t instanceof l&&(i=["edit","delete"])),i))){c=20;this.singleToolBar=new yt(s,{tools:i,click:e(this._toolBarClick,this),modal:!0});var y=this.singleToolBar.element,a=this.singleToolBar._popup.element.outerWidth(),v=this.singleToolBar._popup.element.outerHeight();t instanceof o?(r=this.modelToView(t.bounds(it)),n=u(r.x,r.y).minus(u((a-r.width)/2,v+c))):t instanceof l&&(f=this.modelToView(t.bounds()),n=u(f.x,f.y).minus(u((a-f.width-20)/2,v+c)));n?(this.canvas.translate||(n=n.minus(u(this.scroller.scrollLeft,this.scroller.scrollTop))),n=this.viewToDocument(n),n=u(h.max(n.x,0),h.max(n.y,0)),this.singleToolBar.showAt(n)):this._destroyToolBar()}},_toolBarClick:function(n){this.trigger("toolBarClick",n);this._destroyToolBar()},_mouseMove:function(n){if(!this.pauseMouseHandlers){var t=this._calculatePosition(n);(n.which===0||n.which==1)&&this.toolService.move(t,this._meta(n))&&n.preventDefault()}},_keydown:function(n){this.toolService.keyDown(n.keyCode,this._meta(n))&&n.preventDefault()},_wheel:function(n){var t=cu(n),i=this._calculatePosition(n),r=f(this._meta(n),{delta:t});this.toolService.wheel(i,r)&&n.preventDefault()},_meta:function(n){return{ctrlKey:n.ctrlKey,metaKey:n.metaKey,altKey:n.altKey,shiftKey:n.shiftKey}},_calculatePosition:function(n){var i=n.pageX===t?n.originalEvent:n,r=new u(i.pageX,i.pageY);return this.documentToModel(r)},_normalizePointZoom:function(n){return n.times(1/this.zoom())},_initialize:function(){this.shapes=[];this._selectedItems=[];this.connections=[];this._dataMap={};this._connectionsDataMap={};this._inactiveShapeItems=[];this._inactiveConnectionItems=[];this.undoRedoService=new tr;this.id=i.randomId()},_fetchFreshData:function(){var t=this,i;t._dataSource();t._isEditable&&t._connectionDataSource();t.options.autoBind&&(t._isEditable?(t._preventRefresh=!0,t._preventConnectionsRefresh=!0,i=n.map([t.dataSource,t.connectionsDataSource],function(n){return n.fetch()}),n.when.apply(null,i).done(function(){t._preventRefresh=!1;t._preventConnectionsRefresh=!1;t.refresh()})):t.dataSource.fetch())},_dataSource:function(){if(r(this.options.connectionsDataSource)){this._isEditable=!0;var n=this.options.dataSource||{},t=b(n)?{data:n}:n;this.dataSource&&this._shapesRefreshHandler?this.dataSource.unbind("change",this._shapesRefreshHandler).unbind("error",this._shapesErrorHandler):(this._shapesRefreshHandler=e(this._refreshShapes,this),this._shapesErrorHandler=e(this._error,this));this.dataSource=kendo.data.DataSource.create(t).bind("change",this._shapesRefreshHandler).bind("error",this._shapesErrorHandler)}else this._treeDataSource(),this._isEditable=!1},_connectionDataSource:function(){var n=this.options.connectionsDataSource,t;n&&(t=b(n)?{data:n}:n,this.connectionsDataSource&&this._connectionsRefreshHandler?this.connectionsDataSource.unbind("change",this._connectionsRefreshHandler).unbind("error",this._connectionsErrorHandler):(this._connectionsRefreshHandler=e(this._refreshConnections,this),this._connectionsErrorHandler=e(this._error,this)),this.connectionsDataSource=kendo.data.DataSource.create(t).bind("change",this._connectionsRefreshHandler).bind("error",this._connectionsErrorHandler))},_refreshShapes:function(n){n.action==="remove"?this._removeShapes(n.items):n.action==="itemchange"?this._updateShapes(n.items,n.field):n.action==="add"?this._inactiveShapeItems=this._inactiveShapeItems.concat(n.items):n.action==="sync"?this._syncShapes(n.items):this.refresh()},refresh:function(){this._preventRefresh||(this.trigger("dataBound"),this.clear(),this._addShapes(this.dataSource.view()),this.connectionsDataSource&&this._addConnections(this.connectionsDataSource.view()),this.options.layout&&this.layout(this.options.layout))},refreshConnections:function(){this._preventConnectionsRefresh||(this.trigger("dataBound"),this._addConnections(this.connectionsDataSource.view()),this.options.layout&&this.layout(this.options.layout))},_removeShapes:function(n){for(var t=0;t<n.length;t++)this.remove(this._dataMap[n[t].id],!1),this._dataMap[n[t].id]=null},_syncShapes:function(n){for(var f=[],t,r,u,i=0;i<this._inactiveShapeItems.length;i++)for(u=this._inactiveShapeItems[i],t=0;t<n.length;t++)if(r=n[t],u.uid===r.uid){this._addDataItem(r);f.push(u);break}this._inactiveShapeItems=f},_updateShapes:function(n,t){for(var r,u,i=0;i<n.length;i++)r=n[i],u=this._dataMap[r.id],u.updateOptionsFromModel(r,t)},_addShapes:function(n){for(var t=0;t<n.length;t++)this._addDataItem(n[t])},_refreshConnections:function(n){n.action==="remove"?this._removeConnections(n.items):n.action==="add"?(this._inactiveConnectionItems=this._inactiveConnectionItems.concat(n.items),this._addConnections(n.items)):n.action==="sync"?this._syncConnections(n.items):n.action==="itemchange"?this._shouldRefresh&&this._updateConnections(n.items):this.refreshConnections()},_removeConnections:function(n){for(var t=0;t<n.length;t++)this.remove(this._connectionsDataMap[n[t].uid],!1),this._connectionsDataMap[n[t].uid]=null},_syncConnections:function(n){for(var f=[],t,r,u,i=0;i<this._inactiveConnectionItems.length;i++)for(u=this._inactiveConnectionItems[i],t=0;t<n.length;t++)if(r=n[t],u.uid===r.uid){this._addConnectionDataItem(r);f.push(u);break}this._inactiveConnectionDataMaps=f},_updateConnections:function(n){for(var t,r,u,f,i=0;i<n.length;i++)t=n[i],r=this._connectionsDataMap[t.uid],r.updateOptionsFromModel(t),u=this._validateConnector(t.from),u&&r.source(u),f=this._validateConnector(t.to),f&&r.target(f)},_addConnections:function(n){for(var i,r=n.length,t=0;t<r;t++)i=n[t],this._addConnectionDataItem(i)},_addConnectionDataItem:function(n){var t,i,o,e;this._connectionsDataMap[n.uid]||(t=this._validateConnector(n.from),r(t)&&t!==null||(t=new u(n.fromX,n.fromY)),i=this._validateConnector(n.to),r(i)&&i!==null||(i=new u(n.toX,n.toY)),r(t)&&r(i)&&(o=f({},this.options.connectionDefaults),o.dataItem=n,e=new l(t,i,o),e.type(lt),this._connectionsDataMap[n.uid]=e,this.addConnection(e)))},_validateConnector:function(n){var t;return r(n)&&n!==null&&(t=this._dataMap[n]),t},_treeDataSource:function(){var n=this,i=n.options,t=i.dataSource;t=b(t)?{data:t}:t;t.fields||(t.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]);n.dataSource&&n._refreshHandler&&n._unbindDataSource();n._refreshHandler=e(n._refreshSource,n);n._errorHandler=e(n._error,n);n.dataSource=yi.create(t).bind(nt,n._refreshHandler).bind(ii,n._errorHandler)},_unbindDataSource:function(){var n=this;n.dataSource.unbind(nt,n._refreshHandler).unbind(ii,n._errorHandler)},_error:function(){},_adorn:function(n,i){i!==t&&n&&(i?(this._adorners.push(n),this.adornerLayer.append(n.visual)):(s.remove(this._adorners,n),this.adornerLayer.remove(n.visual)))},_showConnectors:function(n,t){t?this._connectorsAdorner.show(n):this._connectorsAdorner.destroy()},_updateAdorners:function(){for(var n,i=this._adorners,t=0;t<i.length;t++)n=i[t],n.refreshBounds&&n.refreshBounds(),n.refresh()},_refresh:function(){for(var n=0;n<this.connections.length;n++)this.connections[n].refresh()},_destroyToolBar:function(){this.singleToolBar&&(this.singleToolBar.hide(),this.singleToolBar.destroy(),this.singleToolBar=null)},_destroyGlobalToolBar:function(){this.toolBar&&(this.toolBar.hide(),this.toolBar.destroy(),this.toolBar=null)},exportDOMVisual:function(){var n=this.canvas._viewBox,i=ot.transform().translate(-n.x,-n.y),r=new ot.Rect([0,0],[n.width,n.height]),u=et.Path.fromRect(r),t=new et.Group({transform:i,clip:u}),f=this.canvas.drawingElement.children[0];return t.children.push(f),t},exportVisual:function(){var t=ot.transform().scale(1/this._zoom),n=new et.Group({transform:t}),i=this.canvas.drawingElement.children[0];return n.children.push(i),n}});d.ExportMixin.extend(ft.fn,!0);kendo.PDFMixin&&kendo.PDFMixin.extend(ft.fn);var yt=kendo.Observable.extend({init:function(n,t){kendo.Observable.fn.init.call(this);this.diagram=n;this.options=f({},this.options,t);this._tools=[];this.createToolBar();this.createTools();this.appendTools();this.options.modal&&this.createPopup();this.bind(this.events,t)},events:["click"],createPopup:function(){this.container=n("<div/>").append(this.element);this._popup=this.container.kendoPopup({}).getKendoPopup()},appendTools:function(){for(var n,t=0;t<this._tools.length;t++)n=this._tools[t],(n.buttons&&n.buttons.length||!r(n.buttons))&&this._toolBar.add(n)},createToolBar:function(){this.element=n("<div/>");this._toolBar=this.element.kendoToolBar({click:e(this.click,this),resizable:!1}).getKendoToolBar();this.element.css("border","none")},createTools:function(){for(var n=0;n<this.options.tools.length;n++)this.createTool(this.options.tools[n])},createTool:function(n){lr(n)?n.name?this[n.name+"Tool"](n):n.template&&this._toolBar.add({template:n.template}):(n=this[n+"Tool"]({}),n&&n.call(this))},showAt:function(n){this._popup&&this._popup.open(n.x,n.y)},hide:function(){this._popup&&this._popup.close()},newGroup:function(){return{type:"buttonGroup",buttons:[]}},editTool:function(){this._tools.push({spriteCssClass:"k-icon k-i-pencil",showText:"overflow",type:"button",text:"Edit",attributes:this._setAttributes({action:"edit"})})},deleteTool:function(){this._tools.push({spriteCssClass:"k-icon k-i-close",showText:"overflow",type:"button",text:"Delete",attributes:this._setAttributes({action:"delete"})})},rotateAnticlockwiseTool:function(n){this._appendGroup("rotate");this._rotateGroup.buttons.push({spriteCssClass:"k-icon k-i-rotateccw",showText:"overflow",text:"RotateAnticlockwise",group:"rotate",attributes:this._setAttributes({action:"rotateAnticlockwise",step:n.step})})},rotateClockwiseTool:function(n){this._appendGroup("rotate");this._rotateGroup.buttons.push({spriteCssClass:"k-icon k-i-rotatecw",attributes:this._setAttributes({action:"rotateClockwise",step:n.step}),showText:"overflow",text:"RotateClockwise",group:"rotate"})},createShapeTool:function(){this._appendGroup("create");this._createGroup.buttons.push({spriteCssClass:"k-icon k-i-shape",showText:"overflow",text:"CreateShape",group:"create",attributes:this._setAttributes({action:"createShape"})})},createConnectionTool:function(){this._appendGroup("create");this._createGroup.buttons.push({spriteCssClass:"k-icon k-i-connector",showText:"overflow",text:"CreateConnection",group:"create",attributes:this._setAttributes({action:"createConnection"})})},undoTool:function(){this._appendGroup("history");this._historyGroup.buttons.push({spriteCssClass:"k-icon k-i-undo",showText:"overflow",text:"Undo",group:"history",attributes:this._setAttributes({action:"undo"})})},redoTool:function(){this._appendGroup("history");this._historyGroup.buttons.push({spriteCssClass:"k-icon k-i-redo",showText:"overflow",text:"Redo",group:"history",attributes:this._setAttributes({action:"redo"})})},_appendGroup:function(n){var t="_"+n+"Group";this[t]||(this[t]=this.newGroup(),this._tools.push(this[t]))},_setAttributes:function(n){var t={};return n.action&&(t[kendo.attr("action")]=n.action),n.step&&(t[kendo.attr("step")]=n.step),t},_getAttributes:function(n){var t={},r=n.attr(kendo.attr("action")),i;return r&&(t.action=r),i=n.attr(kendo.attr("step")),i&&(t.step=i),t},click:function(t){var r=this._getAttributes(n(t.target)),i=r.action;i&&this[i](r);this.trigger("click",this.eventData(i))},eventData:function(n){var t=this.selectedElements(),i=[],r=[];return t instanceof o?i.push(t):r.push(t),{shapes:i,connections:r,action:n}},"delete":function(){this.diagram.remove(this.selectedElements(),!0)},edit:function(){this.diagram.edit(this.selectedElements()[0])},rotateClockwise:function(n){var i=this.selectedElements(),t=parseFloat(n.step||90);this._rotate(t)},rotateAnticlockwise:function(n){var i=this.selectedElements(),t=parseFloat(n.step||90);this._rotate(-t)},_rotate:function(n){var t=this.diagram._resizingAdorner;t.angle(t.angle()+n);t.rotate()},selectedElements:function(){return this.diagram.select()},createShape:function(){this.diagram.createShape()},createConnection:function(){this.diagram.createConnection()},undo:function(){this.diagram.undo()},redo:function(){this.diagram.redo()},destroy:function(){this.diagram=null;this.element=null;this.options=null;this._toolBar&&this._toolBar.destroy();this._popup&&this._popup.destroy()}}),pt=kendo.Observable.extend({init:function(n,t){kendo.Observable.fn.init.call(this);this.options=vi(!0,{},this.options,t);this.element=n;this.model=this.options.model;this.fields=this._getFields();this._initContainer();this.createEditable()},options:{editors:{}},_initContainer:function(){this.wrapper=this.element},createEditable:function(){var n=this.options;this.editable=new kendo.ui.Editable(this.wrapper,{fields:this.fields,target:n.target,clearContainer:!1,model:this.model})},_isEditable:function(n){return this.model.editable&&this.model.editable(n)},_getFields:function(){var r=[],u=this.model.fields,n,t,i;for(n in u)t={},this._isEditable(n)&&(i=this.options.editors[n],i&&(t.editor=i),t.field=n,r.push(t));return r},end:function(){return this.editable.end()},destroy:function(){this.editable.destroy();this.editable.element.find("["+kendo.attr("container-for")+"]").empty();this.model=this.wrapper=this.element=this.columns=this.editable=null}}),yu=pt.extend({init:function(n,t){pt.fn.init.call(this,n,t);this.bind(this.events,this.options);this.open()},events:["update","cancel"],options:{window:{modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1}},_initContainer:function(){var i=this,t;this.wrapper=n('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"),this.model.uid);t="";this.options.template?(t+=this._renderTemplate(),this.fields=[]):t+=this._renderFields();t+=this._renderButtons();this.wrapper.append(n('<div class="k-edit-form-container"/>').append(t));this.window=new kendo.ui.Window(this.wrapper,this.options.window);this.window.bind("close",function(n){n.userTriggered&&(n.sender.element.focus(),i._cancelClick())});this._attachButtonEvents()},_renderTemplate:function(){var n=this.options.template;return typeof n=="string"&&(n=window.unescape(n)),kendo.template(n)(this.model)},_renderFields:function(){for(var n,t="",i=0;i<this.fields.length;i++)n=this.fields[i],t+='<div class="k-edit-label"><label for="'+n.field+'">'+(n.field||"")+"<\/label><\/div>",this._isEditable(n.field)&&(t+="<div "+kendo.attr("container-for")+'="'+n.field+'" class="k-edit-field"><\/div>');return t},_renderButtons:function(){var n='<div class="k-edit-buttons k-state-default">';return n+=this._createButton("update"),n+=this._createButton("cancel"),n+"<\/div>"},_createButton:function(n){return kendo.template(hu)(ci[n])},_attachButtonEvents:function(){this._cancelClickHandler=e(this._cancelClick,this);this.window.element.on(tt+c,"a.k-diagram-cancel",this._cancelClickHandler);this._updateClickHandler=e(this._updateClick,this);this.window.element.on(tt+c,"a.k-diagram-update",this._updateClickHandler)},_updateClick:function(n){n.preventDefault();this.trigger("update")},_cancelClick:function(n){n.preventDefault();this.trigger("cancel")},open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",e(this.destroy,this)).close()},destroy:function(){this.window.close().destroy();this.window.element.off(tt+c,"a.k-diagram-cancel",this._cancelClickHandler);this.window.element.off(tt+c,"a.k-diagram-update",this._updateClickHandler);this._cancelClickHandler=null;this._editUpdateClickHandler=null;this.window=null;pt.fn.destroy.call(this)}});d.ui.plugin(ft);f(i,{Shape:o,Connection:l,Connector:v,DiagramToolBar:yt})}(window.kendo.jQuery),function(n,t){function y(n,t){if(t===null)return t;var i=et(n,!0);return i(t)}function u(n){return typeof n!==ht}function at(n,t,i){var f=w(n),e=w(t),o=d(n)-d(t)<0,u=[],r,s;for(u.push(n),r=0;r<i;r++)s={r:p(f.r,e.r,r,i,o),g:p(f.g,e.g,r,i,o),b:p(f.b,e.b,r,i,o)},u.push(vt(s));return u.push(t),u}function p(n,t,i,u,f){var e=r.min(r.abs(n),r.abs(t)),o=r.max(r.abs(n),r.abs(t)),h=(o-e)/(u+1),s=h*(i+1);return f?e+s:o-s}function vt(n){return"#"+b(n.r)+b(n.g)+b(n.b)}function w(n){n=n.replace("#","");var t=yt(n);return{r:k(t.r),g:k(t.g),b:k(t.b)}}function b(n){var t=r.round(n).toString(16).toUpperCase();return t.length===1&&(t="0"+t),t}function yt(n){var i=n.length,t={};return i===3?(t.r=n[0],t.g=n[1],t.b=n[2]):(t.r=n.substring(0,2),t.g=n.substring(2,4),t.b=n.substring(4,6)),t}function k(n){return parseInt(n.toString(16),16)}function d(n){var t=0;return n&&(n=w(n),t=r.sqrt(.241*n.r*n.r+.691*n.g*n.g+.068*n.b*n.b)),t}function s(n){var t=r.pow(10,4);return r.round(n*t)/t}var r=Math,h=n.proxy,i=window.kendo,c=i.Class,e=i.ui.Widget,ft=i.template,f=i.deepExtend,g=i.data.HierarchicalDataSource,et=i.getter,l=i.dataviz,a=".kendoTreeMap",o="change",nt="dataBound",v="itemCreated",tt=Number.MAX_VALUE,pt=-Number.MAX_VALUE,ot="mouseover"+a,st="mouseleave"+a,ht="undefined",ct=e.extend({init:function(t,r){i.destroy(t);n(t).empty();e.fn.init.call(this,t,r);this._initTheme(this.options);this.element.addClass("k-widget k-treemap");this._setLayout();this._originalOptions=f({},this.options);this._initDataSource();this._attachEvents();i.notify(this,l.ui)},options:{name:"TreeMap",theme:"default",autoBind:!0,textField:"text",valueField:"value",colorField:"color"},events:[nt,v],_initTheme:function(n){var t=this,i=l.ui.themes||{},r=((n||{}).theme||"").toLowerCase(),u=(i[r]||{}).treeMap;t.options=f({},u,n)},_attachEvents:function(){this.element.on(ot,h(this._mouseover,this)).on(st,h(this._mouseleave,this))},_setLayout:function(){this.options.type==="horizontal"?(this._layout=new rt(!1),this._view=new ut(this,this.options)):this.options.type==="vertical"?(this._layout=new rt(!0),this._view=new ut(this,this.options)):(this._layout=new lt,this._view=new it(this,this.options))},_initDataSource:function(){var n=this,i=n.options,t=i.dataSource;n._dataChangeHandler=h(n._onDataChange,n);n.dataSource=g.create(t).bind(o,n._dataChangeHandler);t&&n.options.autoBind&&n.dataSource.fetch()},setDataSource:function(n){var t=this;t.dataSource.unbind(o,t._dataChangeHandler);t.dataSource=n.bind(o,t._dataChangeHandler);n&&t.options.autoBind&&t.dataSource.fetch()},_onDataChange:function(n){var s=n.node,f=n.items,c=this.options,r,t,e,i,h,o;if(s){if(f.length){for(i=this._getByUid(s.uid),i.children=[],e=u(i.minColor)||u(i.maxColor)?at(i.minColor,i.maxColor,f.length)||[]:c.colors||[],t=0;t<f.length;t++)r=f[t],i.children.push(this._wrapItem(r));for(h=this._view.htmlSize(i),this._layout.compute(i.children,i.coord,h),t=0;t<i.children.length;t++)r=i.children[t],u(r.color)||(typeof e[0]=="string"?r.color=e[t%e.length]:(o=e[t%e.length],o&&(r.color=o[0],r.minColor=o[0],r.maxColor=o[1])));this._view.render(i)}}else this.element.empty(),r=this._wrapItem(f[0]),this._layout.createRoot(r,this.element.outerWidth(),this.element.outerHeight(),this.options.type==="vertical"),this._view.createRoot(r),this._root=r;for(t=0;t<f.length;t++)f[t].load();s&&this.trigger(nt,{node:s})},_contentSize:function(n){this.view.renderHeight(n)},_wrapItem:function(n){var t={};return u(this.options.valueField)&&(t.value=y(this.options.valueField,n)),u(this.options.colorField)&&(t.color=y(this.options.colorField,n)),u(this.options.textField)&&(t.text=y(this.options.textField,n)),t.level=n.level(),t.dataItem=n,t},_getByUid:function(n){for(var i=[this._root],t;i.length;){if(t=i.pop(),t.dataItem.uid===n)return t;t.children&&(i=i.concat(t.children))}},dataItem:function(t){var u=n(t).attr(i.attr("uid")),r=this.dataSource;return r&&r.getByUid(u)},findByUid:function(n){return this.element.find(".k-treemap-tile["+i.attr("uid")+"='"+n+"']")},_mouseover:function(t){var i=n(t.target);i.hasClass("k-leaf")&&(this._removeActiveState(),i.removeClass("k-state-hover").addClass("k-state-hover"))},_removeActiveState:function(){this.element.find(".k-state-hover").removeClass("k-state-hover")},_mouseleave:function(){this._removeActiveState()},destroy:function(){e.fn.destroy.call(this);this.element.off(a);this.dataSource&&this.dataSource.unbind(o,this._dataChangeHandler);this._root=null;i.destroy(this.element)},items:function(){return n()},getSize:function(){return i.dimensions(this.element)},_resize:function(){this.dataSource.fetch()},setOptions:function(n){var i=n.dataSource;n.dataSource=t;this._originalOptions=f(this._originalOptions,n);this.options=f({},this._originalOptions);this._setLayout();this._initTheme(this.options);e.fn._setEvents.call(this,n);i&&this.setDataSource(g.create(i));this.options.autoBind&&this.dataSource.fetch()}}),lt=c.extend({createRoot:function(n,t,i){n.coord={width:t,height:i,top:0,left:0}},leaf:function(n){return!n.children},layoutChildren:function(n,t){for(var h=t.width*t.height,f=0,u=[],e,o,s,r=0;r<n.length;r++)u[r]=parseFloat(n[r].value),f+=u[r];for(r=0;r<u.length;r++)n[r].area=h*u[r]/f;e=this.layoutHorizontal()?t.height:t.width;n=new i.data.Query(n)._sortForGrouping("value","desc");o=[n[0]];s=n.slice(1);this.squarify(s,o,e,t)},squarify:function(n,t,i,r){this.computeDim(n,t,i,r)},computeDim:function(n,t,i,r){var e,u,f;if(n.length+t.length==1){e=n.length==1?n:t;this.layoutLast(e,i,r);return}if(n.length>=2&&t.length===0&&(t=[n[0]],n=n.slice(1)),n.length===0){t.length>0&&this.layoutRow(t,i,r);return}u=n[0];this.worstAspectRatio(t,i)>=this.worstAspectRatio([u].concat(t),i)?this.computeDim(n.slice(1),t.concat([u]),i,r):(f=this.layoutRow(t,i,r),this.computeDim(n,[],f.dim,f))},layoutLast:function(n,t,i){n[0].coord=i},layoutRow:function(n,t,i){return this.layoutHorizontal()?this.layoutV(n,t,i):this.layoutH(n,t,i)},orientation:"h",layoutVertical:function(){return this.orientation==="v"},layoutHorizontal:function(){return this.orientation==="h"},layoutChange:function(){this.orientation=this.layoutVertical()?"h":"v"},worstAspectRatio:function(n,t){var o,i;if(!n||n.length===0)return tt;var u=0,f=0,e=tt;for(o=0;o<n.length;o++)i=n[o].area,u+=i,e=e<i?e:i,f=f>i?f:i;return r.max(t*t*f/(u*u),u*u/(t*t*e))},compute:function(n,t,i){if(t.width>=t.height&&this.layoutHorizontal()||this.layoutChange(),n&&n.length>0){var r={width:t.width,height:t.height-i.text,top:0,left:0};this.layoutChildren(n,r)}},layoutV:function(n,t,i){var h=this._totalArea(n),o=0,f,e,u;for(t=s(h/t),f=0;f<n.length;f++)e=s(n[f].area/t),n[f].coord={height:e,width:t,top:i.top+o,left:i.left},o+=e;return u={height:i.height,width:i.width-t,top:i.top,left:i.left+t},u.dim=r.min(u.width,u.height),u.dim!=u.height&&this.layoutChange(),u},layoutH:function(n,t,i){for(var u,h=this._totalArea(n),e=s(h/t),c=i.top,o=0,f=0;f<n.length;f++)n[f].coord={height:e,width:s(n[f].area/e),top:c,left:i.left+o},o+=n[f].coord.width;return u={height:i.height-e,width:i.width,top:i.top+e,left:i.left},u.dim=r.min(u.width,u.height),u.dim!=u.width&&this.layoutChange(),u},_totalArea:function(n){for(var i=0,t=0;t<n.length;t++)i+=n[t].area;return i}}),it=c.extend({init:function(t,i){this.options=f({},this.options,i);this.treeMap=t;this.element=n(t.element);this.offset=0},htmlSize:function(n){var t=this._getByUid(n.dataItem.uid),r={text:0},u,i;return n.children&&(this._clean(t),u=this._getText(n),u&&(i=this._createTitle(n),t.append(i),r.text=i.height()),t.append(this._createWrap()),this.offset=(t.outerWidth()-t.innerWidth())/2),r},_getByUid:function(n){return this.element.find(".k-treemap-tile["+i.attr("uid")+"='"+n+"']")},render:function(n){var e=this._getByUid(n.dataItem.uid),i=n.children,u,t,f,r;if(i)for(u=e.find(".k-treemap-wrap"),t=0;t<i.length;t++)f=i[t],r=this._createLeaf(f),u.append(r),this.treeMap.trigger(v,{element:r})},createRoot:function(n){var t=this._createLeaf(n);this.element.append(t);this.treeMap.trigger(v,{element:t})},_clean:function(n){n.css("background-color","");n.removeClass("k-leaf");n.removeClass("k-inverse");n.empty()},_createLeaf:function(t){return this._createTile(t).css("background-color",t.color).addClass("k-leaf").toggleClass("k-inverse",this._tileColorBrightness(t)>180).append(n("<div><\/div>").html(this._getText(t)))},_createTile:function(t){var r={width:t.coord.width,height:t.coord.height,left:t.coord.left,top:t.coord.top},f;return r.width+=r.left&&this.offset?this.offset*2:this.offset,r.height+=r.top?this.offset*2:this.offset,f=n("<div class='k-treemap-tile'><\/div>").css({width:r.width,height:r.height,left:r.left,top:r.top}),u(t.dataItem)&&u(t.dataItem.uid)&&f.attr(i.attr("uid"),t.dataItem.uid),f},_getText:function(n){var t=n.text;return this.options.template&&(t=this._renderTemplate(n)),t},_renderTemplate:function(n){var t=ft(this.options.template);return t({dataItem:n.dataItem,text:n.text})},_createTitle:function(t){return n("<div class='k-treemap-title'><\/div>").append(n("<div><\/div>").html(this._getText(t)))},_createWrap:function(){return n("<div class='k-treemap-wrap'><\/div>")},_tileColorBrightness:function(n){return d(n.color)}}),rt=c.extend({createRoot:function(n,t,i,r){n.coord={width:t,height:i,top:0,left:0};n.vertical=r},init:function(n){this.vertical=n;this.quotient=n?1:0},compute:function(n,t,i){var r,u,f;n.length>0&&(r=t.width,u=t.height,this.vertical?u-=i.text:r-=i.text,f={width:r,height:u,top:0,left:0},this.layoutChildren(n,f))},layoutChildren:function(n,t){for(var o=t.width*t.height,f=0,u=[],e,r=0;r<n.length;r++)e=n[r],u[r]=parseFloat(n[r].value),f+=u[r],e.vertical=this.vertical;for(r=0;r<u.length;r++)n[r].area=o*u[r]/f;n=new i.data.Query(n)._sortForGrouping("value","desc");this.sliceAndDice(n,t)},sliceAndDice:function(n,t){var i=this._totalArea(n);n[0].level%2===this.quotient?this.layoutHorizontal(n,t,i):this.layoutVertical(n,t,i)},layoutHorizontal:function(n,t,i){for(var u,f,e=0,r=0;r<n.length;r++)u=n[r],f=u.area/(i/t.width),u.coord={height:t.height,width:f,top:t.top,left:t.left+e},e+=f},layoutVertical:function(n,t,i){for(var u,f,e=0,r=0;r<n.length;r++)u=n[r],f=u.area/(i/t.height),u.coord={height:f,width:t.width,top:t.top+e,left:t.left},e+=f},_totalArea:function(n){for(var i=0,t=0;t<n.length;t++)i+=n[t].area;return i}}),ut=it.extend({htmlSize:function(n){var t=this._getByUid(n.dataItem.uid),r={text:0,offset:0},u,i;return n.children&&(this._clean(t),u=this._getText(n),u&&(i=this._createTitle(n),t.append(i),r.text=n.vertical?i.height():i.width()),t.append(this._createWrap()),this.offset=(t.outerWidth()-t.innerWidth())/2),r},_createTitle:function(t){var i;return i=t.vertical?n("<div class='k-treemap-title'><\/div>"):n("<div class='k-treemap-title-vertical'><\/div>"),i.append(n("<div><\/div>").html(this._getText(t)))}});l.ui.plugin(ct)}(window.kendo.jQuery),function(n,t,i){"use strict";function nt(n){var t=e;try{return e=function(n){return n()},n()}finally{e=t}}function v(n,r,u,f){r[u]=t.copy(n.$eval(f));r[u]===i&&f.match(/^\w*$/)&&a.warn(u+" attribute resolved to undefined. Maybe you meant to use a string literal like: '"+f+"'?")}function u(i,r,u,f,o){function l(){var y,l,p,a,s,w;u.kRebind&&(y=n(n(r)[0].cloneNode(!0)));var b=f.replace(/^kendo/,""),e=t.extend({},u.defaultOptions,i.$eval(u.kOptions||u.options)),c=n(r)[f];return c?(l=c.widget.prototype.options,p=c.widget.prototype.events,n.each(u,function(n,t){var f,o,r,u;n!=="source"&&n!=="kDataSource"&&(f="data"+n.charAt(0).toUpperCase()+n.slice(1),n.indexOf("on")===0&&(o=n.replace(/^on./,function(n){return n.charAt(2).toLowerCase()}),p.indexOf(o)>-1&&(e[o]=t)),l.hasOwnProperty(f)?v(i,e,f,t):l.hasOwnProperty(n)&&!rt[n]?v(i,e,n,t):it[n]||(r=n.match(/^k(On)?([A-Z].*)/),r&&(u=r[2].charAt(0).toLowerCase()+r[2].slice(1),r[1]&&n!="kOnLabel"?e[u]=t:(n=="kOnLabel"&&(u="onLabel"),v(i,e,u,t)))))}),a=u.kDataSource||u.source,a&&(e.dataSource=tt(i,r,b,a)),e.$angular=[i],r.is("select")&&function(t){if(t.length>0){var i=n(t[0]);!/\S/.test(i.text())&&/^\?/.test(i.val())&&i.remove()}}(r[0].options),s=c.call(r,h=e).data(f),ut(s,i,u,f,o),i.$emit("kendoWidgetCreated",s),w=st(i,s),u.kRebind&&ct(s,i,r,y,u.kRebind,w),s):(window.console.error("Could not find: "+f),null)}var s=u.kNgDelay,a=i.$eval(s),c;if(s&&!a){c=i.$watch(s,function(n,t){n!==t&&(c(),r.removeAttr(u.$attr.kNgDelay),s=null,e(l))});return}return l()}function ut(n,t,i,r,u){if(i[u]){var f=s(i[u]).assign;if(f)f(t,n);else throw new Error(u+" attribute used but expression in it is not assignable: "+i[r]);}}function ft(n){return/checkbox|radio/i.test(n.attr("type"))?n.prop("checked"):n.val()}function w(n){return p.test(n[0].tagName)}function et(n,t,r,u,f){var h,s,c,e;if(n.value){if(h=w(r)?function(){return ft(r)}:function(){return n.value()},u.$render=function(){var t=u.$viewValue;t===i&&(t=u.$modelValue);setTimeout(function(){n&&n.value(t)},0)},s=!1,w(r))r.on("change",function(){s=!0});c=function(n){return function(){var i;s||(s=!1,n&&f&&(i=f.$pristine),u.$setViewValue(h()),n&&(u.$setPristine(),i&&f.$setPristine()),o(t))}};n.first("change",c(!1));n.first("dataBound",c(!0));e=h();e!=u.$viewValue&&(u.$isEmpty(u.$viewValue)?e!=null&&e!==""&&e!=u.$viewValue&&u.$setViewValue(e):n.value(u.$viewValue));u.$setPristine()}}function ot(n,t,r){if(typeof n.value!="function"){a.warn("k-ng-model specified on a widget that does not have the value() method: "+n.options.name);return}var f=s(r),e=f.assign,u=!1;n.$angular_setLogicValue(f(t));t.$watch(r,function(t,r){(t===i&&(t=null),u)||t!==r&&n.$angular_setLogicValue(t)});n.first("change",function(){u=!0;t.$apply(function(){e(t,n.$angular_getLogicValue())});u=!1})}function st(n,t){var i=n.$on("$destroy",function(){i();t&&(t.element&&(t=d(t.element),t&&t.destroy()),t=null)});return i}function ht(t,i){function f(){u.disconnect()}function e(){u.observe(n(i)[0],{attributes:!0})}if(window.MutationObserver&&t.wrapper){var r=[].slice.call(n(i)[0].classList),u=new MutationObserver(function(i){(f(),t)&&(i.forEach(function(i){var f=n(t.wrapper)[0],u;switch(i.attributeName){case"class":u=[].slice.call(i.target.classList);u.forEach(function(n){r.indexOf(n)<0&&(f.classList.add(n),kendo.ui.ComboBox&&t instanceof kendo.ui.ComboBox&&t.input[0].classList.add(n))});r.forEach(function(n){u.indexOf(n)<0&&(f.classList.remove(n),kendo.ui.ComboBox&&t instanceof kendo.ui.ComboBox&&t.input[0].classList.remove(n))});r=u;break;case"disabled":typeof t.enable=="function"&&t.enable(!n(i.target).attr("disabled"));break;case"readonly":typeof t.readonly=="function"&&t.readonly(!!n(i.target).attr("readonly"))}}),e())});e();t.first("destroy",f)}}function ct(t,i,r,u,f,e){var s=i.$watch(f,function(f,o){if(f!==o){s();var h=n(t.wrapper)[0],c=n(t.element)[0],l=r.injector().get("$compile");t.destroy();e&&e();t=null;h&&c&&(h.parentNode.replaceChild(c,h),n(r).replaceWith(u));l(u)(i)}},!0);o(i)}function k(n,i){function e(n,t){f.directive(n,["directiveFactory",function(i){return i.create(t,n)}])}var r=i?"Mobile":"",o,u,s,h;(r+=n.fn.options.name,o=r,u="kendo"+r.charAt(0)+r.substr(1).toLowerCase(),r="kendo"+r,s=r.replace(/([A-Z])/g,"-$1"),at.indexOf(r.replace("kendo",""))==-1&&(h=r===u?[r]:[r,u],t.forEach(h,function(n){f.directive(n,function(){return{restrict:"E",replace:!0,template:function(n){var t=lt[o]||"div";return"<"+t+" "+s+">"+n.html()+"<\/"+t+">"}}})})),b.indexOf(r.replace("kendo",""))>-1)||(e(r,r),u!=r&&e(u,r))}function d(t){return t=n(t),kendo.widgetInstance(t,kendo.ui)||kendo.widgetInstance(t,kendo.mobile.ui)||kendo.widgetInstance(t,kendo.dataviz.ui)}function o(n,t){var i=n.$root||n,r=/^\$(digest|apply)$/.test(i.$$phase);t?r?t():i.$apply(t):r||i.$digest()}function vt(t,i){t.$destroy();i&&n(i).removeData("$scope").removeData("$isolateScope").removeData("$isolateScopeNoTemplate").removeClass("ng-scope")}function r(i,u,f){var o,e,s;if(n.isArray(i))return t.forEach(i,function(n){r(n,u,f)});if(typeof i=="string"){for(o=i.split("."),e=kendo;e&&o.length>0;)e=e[o.shift()];if(!e)return c.push([i,u,f]),!1;i=e.prototype}return s=i[u],i[u]=function(){var n=this,t=arguments;return f.apply({self:n,next:function(){return s.apply(n,arguments.length>0?arguments:t)}},t)},!0}var p,c,g;if(t){var f=t.module("kendo.directives",[]),l=t.injector(["ng"]),s=l.get("$parse"),e=l.get("$timeout"),y,a=l.get("$log");var h,tt=function(){var t={TreeList:"TreeListDataSource",TreeView:"HierarchicalDataSource",Scheduler:"SchedulerDataSource",PanelBar:"$PLAIN",Menu:"$PLAIN",ContextMenu:"$PLAIN"},n=function(n,t){return t=="$PLAIN"?n:kendo.data[t].create(n)};return function(i,r,u,f){var e=t[u]||"DataSource",o=n(i.$eval(f),e);return i.$watch(f,function(t,i){if(t!==i){var f=n(t,e),u=d(r);u&&typeof u.setDataSource=="function"&&u.setDataSource(f)}}),o}}(),it={kDataSource:!0,kOptions:!0,kRebind:!0,kNgModel:!0,kNgDelay:!0},rt={name:!0,title:!0,style:!0};p=/^(input|select|textarea)$/i;f.factory("directiveFactory",["$compile",function(t){var i=0,r=!1,f;return y=t,f=function(t,f){return{restrict:"AC",require:["?ngModel","^?form"],scope:!1,controller:["$scope","$attrs","$element",function(n,t){this.template=function(n,i){t[n]=kendo.stringify(i)}}],link:function(o,s,h,c){var v=c[0],p=c[1],l=n(s),a=t.replace(/([A-Z])/g,"-$1"),y=l.css("visibility")!=="hidden";l.attr(a,l.attr("data-"+a));l[0].removeAttribute("data-"+a);y&&l.css("visibility","hidden");++i;e(function(){y&&l.css("visibility","");var e=u(o,s,h,t,f);e&&(v&&et(e,o,s,v,p),h.kNgModel&&ot(e,o,h.kNgModel),ht(e,s),--i,i===0&&(r||(r=!0,o.$emit("kendoRendered"),n("form").each(function(){var t=n(this).controller("form");t&&t.$setPristine()}))))})}}},{create:f}}]);var lt={Editor:"textarea",NumericTextBox:"input",DatePicker:"input",DateTimePicker:"input",TimePicker:"input",AutoComplete:"input",ColorPicker:"input",MaskedTextBox:"input",MultiSelect:"input",Upload:"input",Validator:"form",Button:"button",MobileButton:"a",MobileBackButton:"a",MobileDetailButton:"a",ListView:"ul",MobileListView:"ul",TreeView:"ul",Menu:"ul",ContextMenu:"ul",ActionSheet:"ul"},at=["MobileView","MobileLayout","MobileSplitView","MobilePane","MobileModalView"],b=["MobileApplication","MobileView","MobileModalView","MobileLayout","MobileActionSheet","MobileDrawer","MobileSplitView","MobilePane","MobileScrollView","MobilePopOver"];t.forEach(["MobileNavBar","MobileButton","MobileBackButton","MobileDetailButton","MobileTabStrip","MobileScrollView"],function(n){b.push(n);n="kendo"+n;f.directive(n,function(){return{restrict:"A",link:function(t,i,r){u(t,i,r,n,n)}}})}),function(){function n(n){return function(i){t.forEach(i,function(t){t.fn&&t.fn.options&&t.fn.options.name&&/^[A-Z]/.test(t.fn.options.name)&&k(t,n)})}}t.forEach([kendo.ui,kendo.dataviz&&kendo.dataviz.ui],n(!1));t.forEach([kendo.mobile&&kendo.mobile.ui],n(!0))}();c=[];r(kendo.ui,"plugin",function(t,i,u){this.next();c=n.grep(c,function(n){return!r.apply(null,n)});k(t,u=="Mobile")});r(["ui.Widget","mobile.ui.Widget"],"angular",function(r,u){var e=this.self,f;if(r=="init"){!u&&h&&(u=h);h=null;u&&u.$angular&&(e.$angular_scope=u.$angular[0],e.$angular_init(e.element,u));return}f=e.$angular_scope;f&&nt(function(){var s=u(),h=s.elements,l=s.data,c,a;if(h.length>0)switch(r){case"cleanup":t.forEach(h,function(n){var i=t.element(n).scope();i&&i!==f&&i.$$kendoScope&&vt(i,n)});break;case"compile":c=e.element.injector();a=c?c.get("$compile"):y;t.forEach(h,function(r,u){var e,o;s.scopeFrom?e=t.element(s.scopeFrom).scope():(o=l&&l[u],o!==i&&(e=n.extend(f.$new(),o),e.$$kendoScope=!0));a(r)(e||f)});o(f)}})});r("ui.Widget","$angular_getLogicValue",function(){return this.self.value()});r("ui.Widget","$angular_setLogicValue",function(n){this.self.value(n)});r("ui.Select","$angular_getLogicValue",function(){var n=this.self.dataItem();return n?this.self.options.valuePrimitive?n[this.self.options.dataValueField]:n.toJSON():null});r("ui.Select","$angular_setLogicValue",function(n){var i=this.self,t=i.options,r=t.dataValueField;r&&!t.valuePrimitive&&(n=n!=null?n[t.dataValueField||t.dataTextField]:null);i.value(n)});r("ui.MultiSelect","$angular_getLogicValue",function(){var t=this.self.dataItems(),i=this.self.options.dataValueField;return i&&this.self.options.valuePrimitive&&(t=n.map(t,function(n){return n[i]})),t});r("ui.MultiSelect","$angular_setLogicValue",function(t){t==null&&(t=[]);var i=this.self,r=i.options.dataValueField;r&&!i.options.valuePrimitive&&(t=n.map(t,function(n){return n[r]}));i.value(t)});r("ui.AutoComplete","$angular_getLogicValue",function(){for(var t,f,i,n=this.self.options,e=this.self.value().split(n.separator),s=n.valuePrimitive,o=this.self.dataSource.data(),r=[],u=0,h=o.length;u<h;u++)for(t=o[u],f=n.dataTextField?t[n.dataTextField]:t,i=0;i<e.length;i++)if(f===e[i]){s?r.push(f):r.push(t.toJSON());break}return r});r("ui.AutoComplete","$angular_setLogicValue",function(t){t==null&&(t=[]);var i=this.self,r=i.options.dataTextField;r&&!i.options.valuePrimitive&&(t=n.map(t,function(n){return n[r]}));i.value(t)});r("ui.Widget","$angular_init",function(t,i){var r=this.self,o,e,u,f;if(i&&!n.isArray(i))for(o=r.$angular_scope,e=r.events.length;--e>=0;)u=r.events[e],f=i[u],f&&typeof f=="string"&&(i[u]=r.$angular_makeEventHandler(u,o,f))});r("ui.Widget","$angular_makeEventHandler",function(n,t,i){return i=s(i),function(n){o(t,function(){i(t,{kendoEvent:n})})}});r(["ui.Grid","ui.ListView","ui.TreeView"],"$angular_makeEventHandler",function(n,i,r){return n!="change"?this.next():(r=s(r),function(n){var y=n.sender,c=y.options,l,p,u={kendoEvent:n},f,s,a,v,e,w,h;for(t.isString(c.selectable)&&(l=c.selectable.indexOf("cell")!==-1,p=c.selectable.indexOf("multiple")!==-1),f=u.selected=this.select(),s=u.data=[],a=u.columns=[],e=0;e<f.length;e++)w=l?f[e].parentNode:f[e],h=y.dataItem(w),l?(t.element.inArray(h,s)<0&&s.push(h),v=t.element(f[e]).index(),t.element.inArray(v,a)<0&&a.push(v)):s.push(h);p||(u.dataItem=u.data=s[0],u.selected=f[0]);o(i,function(){r(i,u)})})});r("ui.Grid","$angular_init",function(r,u){if(this.next(),u.columns){var f=n.extend({},kendo.Template,u.templateSettings);t.forEach(u.columns,function(n){!n.field||n.template||n.format||n.values||n.encoded!==i&&!n.encoded||(n.template="<span ng-bind='"+kendo.expr(n.field,"dataItem")+"'>#: "+kendo.expr(n.field,f.paramName)+"#<\/span>")})}});r("mobile.ui.ButtonGroup","value",function(n){var t=this.self;return n!=null&&(t.select(t.element.children("li.km-button").eq(n)),t.trigger("change"),t.trigger("select",{index:t.selectedIndex})),t.selectedIndex});r("mobile.ui.ButtonGroup","_select",function(){this.next();this.self.trigger("change")});f.directive("kendoMobileApplication",function(){return{terminal:!0,link:function(n,t,i){u(n,t,i,"kendoMobileApplication","kendoMobileApplication")}}}).directive("kendoMobileView",function(){return{scope:!0,link:{pre:function(n,t,i){i.defaultOptions=n.viewOptions;i._instance=u(n,t,i,"kendoMobileView","kendoMobileView")},post:function(n,t,i){i._instance._layout();i._instance._scroller()}}}}).directive("kendoMobileDrawer",function(){return{scope:!0,link:{pre:function(n,t,i){i.defaultOptions=n.viewOptions;i._instance=u(n,t,i,"kendoMobileDrawer","kendoMobileDrawer")},post:function(n,t,i){i._instance._layout();i._instance._scroller()}}}}).directive("kendoMobileModalView",function(){return{scope:!0,link:{pre:function(n,t,i){i.defaultOptions=n.viewOptions;i._instance=u(n,t,i,"kendoMobileModalView","kendoMobileModalView")},post:function(n,t,i){i._instance._layout();i._instance._scroller()}}}}).directive("kendoMobileSplitView",function(){return{terminal:!0,link:{pre:function(n,t,i){i.defaultOptions=n.viewOptions;i._instance=u(n,t,i,"kendoMobileSplitView","kendoMobileSplitView")},post:function(n,t,i){i._instance._layout()}}}}).directive("kendoMobilePane",function(){return{terminal:!0,link:{pre:function(n,t,i){i.defaultOptions=n.viewOptions;u(n,t,i,"kendoMobilePane","kendoMobilePane")}}}}).directive("kendoMobileLayout",function(){return{link:{pre:function(n,t,i){u(n,t,i,"kendoMobileLayout","kendoMobileLayout")}}}}).directive("kendoMobileActionSheet",function(){return{restrict:"A",link:function(t,i,r){i.find("a[k-action]").each(function(){n(this).attr("data-"+kendo.ns+"action",n(this).attr("k-action"))});u(t,i,r,"kendoMobileActionSheet","kendoMobileActionSheet")}}}).directive("kendoMobilePopOver",function(){return{terminal:!0,link:{pre:function(n,t,i){i.defaultOptions=n.viewOptions;u(n,t,i,"kendoMobilePopOver","kendoMobilePopOver")}}}}).directive("kendoViewTitle",function(){return{restrict:"E",replace:!0,template:function(n){return"<span data-"+kendo.ns+"role='view-title'>"+n.html()+"<\/span>"}}}).directive("kendoMobileHeader",function(){return{restrict:"E",link:function(n,t){t.addClass("km-header").attr("data-role","header")}}}).directive("kendoMobileFooter",function(){return{restrict:"E",link:function(n,t){t.addClass("km-footer").attr("data-role","footer")}}}).directive("kendoMobileScrollViewPage",function(){return{restrict:"E",replace:!0,template:function(n){return"<div data-"+kendo.ns+"role='page'>"+n.html()+"<\/div>"}}});t.forEach(["align","icon","rel","transition","actionsheetContext"],function(n){var t="k"+n.slice(0,1).toUpperCase()+n.slice(1);f.directive(t,function(){return{restrict:"A",priority:2,link:function(i,r,u){r.attr(kendo.attr(kendo.toHyphens(n)),i.$eval(u[t]))}}})});g={TreeMap:["Template"],MobileListView:["HeaderTemplate","Template"],MobileScrollView:["EmptyTemplate","Template"],Grid:["AltRowTemplate","DetailTemplate","RowTemplate"],ListView:["EditTemplate","Template","AltTemplate"],Pager:["SelectTemplate","LinkTemplate"],PivotGrid:["ColumnHeaderTemplate","DataCellTemplate","RowHeaderTemplate"],Scheduler:["AllDayEventTemplate","DateHeaderTemplate","EventTemplate","MajorTimeHeaderTemplate","MinorTimeHeaderTemplate"],TreeView:["Template"],Validator:["ErrorTemplate"]},function(){var n={};t.forEach(g,function(i,r){t.forEach(i,function(t){n[t]||(n[t]=[]);n[t].push("?^^kendo"+r)})});t.forEach(n,function(n,t){var i="k"+t,r=kendo.toHyphens(i);f.directive(i,function(){return{restrict:"A",require:n,terminal:!0,compile:function(t,u){if(u[i]===""){t.removeAttr(r);var f=t[0].outerHTML;return function(u,e,o,s){for(var h;!h&&s.length;)h=s.shift();h?(h.template(i,f),t.remove()):a.warn(r+" without a matching parent widget found. It can be one of the following: "+n.join(", "))}}}}})})}()}}(window.kendo.jQuery,window.angular),function(n){var i=window.kendo,u=i.ui.Widget,r=n.proxy,t=Math.abs,f=20,e=i.Class.extend({init:function(r,u,f){f=n.extend({minXDelta:30,maxYDelta:20,maxDuration:1e3},f);new i.UserEvents(r,{surface:f.surface,allowSelection:!0,start:function(n){t(n.x.velocity)*2>=t(n.y.velocity)&&n.sender.capture()},move:function(n){var i=n.touch,r=n.event.timeStamp-i.startTime,e=i.x.initialDelta>0?"right":"left";t(i.x.initialDelta)>=f.minXDelta&&t(i.y.initialDelta)<f.maxYDelta&&r<f.maxDuration&&(u({direction:e,touch:i,target:i.target}),i.cancel())}})}}),o=u.extend({init:function(n,t){function e(n){return function(t){f._triggerTouch(n,t)}}function o(n){return function(t){f.trigger(n,{touches:t.touches,distance:t.distance,center:t.center,event:t.event})}}var f=this;u.fn.init.call(f,n,t);t=f.options;n=f.element;f.events=new i.UserEvents(n,{filter:t.filter,surface:t.surface,minHold:t.minHold,multiTouch:t.multiTouch,allowSelection:!0,press:e("touchstart"),hold:e("hold"),tap:r(f,"_tap"),gesturestart:o("gesturestart"),gesturechange:o("gesturechange"),gestureend:o("gestureend")});t.enableSwipe?(f.events.bind("start",r(f,"_swipestart")),f.events.bind("move",r(f,"_swipemove"))):(f.events.bind("start",r(f,"_dragstart")),f.events.bind("move",e("drag")),f.events.bind("end",e("dragend")));i.notify(f)},events:["touchstart","dragstart","drag","dragend","tap","doubletap","hold","swipe","gesturestart","gesturechange","gestureend"],options:{name:"Touch",surface:null,global:!1,multiTouch:!1,enableSwipe:!1,minXDelta:30,maxYDelta:20,maxDuration:1e3,minHold:800,doubleTapTimeout:800},cancel:function(){this.events.cancel()},_triggerTouch:function(n,t){this.trigger(n,{touch:t.touch,event:t.event})&&t.preventDefault()},_tap:function(n){var t=this,r=t.lastTap,u=n.touch;r&&u.endTime-r.endTime<t.options.doubleTapTimeout&&i.touchDelta(u,r).distance<f?(t._triggerTouch("doubletap",n),t.lastTap=null):(t._triggerTouch("tap",n),t.lastTap=u)},_dragstart:function(n){this._triggerTouch("dragstart",n)},_swipestart:function(n){t(n.x.velocity)*2>=t(n.y.velocity)&&n.sender.capture()},_swipemove:function(n){var u=this,r=u.options,i=n.touch,f=n.event.timeStamp-i.startTime,e=i.x.initialDelta>0?"right":"left";t(i.x.initialDelta)>=r.minXDelta&&t(i.y.initialDelta)<r.maxYDelta&&f<r.maxDuration&&(u.trigger("swipe",{direction:e,touch:n.touch}),i.cancel())}});window.jQuery.fn.kendoMobileSwipe=function(n,t){this.each(function(){new e(this,n,t)})};i.ui.plugin(o)}(window.kendo.jQuery),function(n){function g(n){for(var f=n.find(i("popover")),o=r.roles,u=0,e=f.length;u<e;u++)t.initWidget(f[u],{},o)}function nt(n){t.triggeredByInput(n)||n.preventDefault()}function tt(i){i.each(function(){t.initWidget(n(this),{},r.roles)})}var t=window.kendo,pt=window.angular,u=t.mobile,r=u.ui,h=t.attr,wt=t.Class,f=r.Widget,ht=t.ViewClone,e="init",ct='<div style="height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none" />',a="beforeShow",o="show",v="afterShow",y="beforeHide",p="transitionEnd",w="transitionStart",s="hide",b="destroy",k=t.attrValue,i=t.roleSelector,d=t.directiveSelector,c=t.compileMobileDirective,lt=f.extend({init:function(t,i){f.fn.init.call(this,t,i);this.params={};n.extend(this,i);this.transition=this.transition||this.defaultTransition;this._id();this.options.$angular?this._overlay():(this._layout(),this._overlay(),this._scroller(),this._model())},events:[e,a,o,v,y,s,b,w,p],options:{name:"View",title:"",layout:null,getLayout:n.noop,reload:!1,transition:"",defaultTransition:"",useNativeScrolling:!1,stretch:!1,zoom:!1,model:null,modelScope:window,scroller:{},initWidgets:!0},enable:function(n){typeof n=="undefined"&&(n=!0);n?this.overlay.hide():this.overlay.show()},destroy:function(){this.layout&&this.layout.detach(this);this.trigger(b);f.fn.destroy.call(this);this.scroller&&this.scroller.destroy();this.options.$angular&&this.element.scope().$destroy();t.destroy(this.element)},purge:function(){this.destroy();this.element.remove()},triggerBeforeShow:function(){return this.trigger(a,{view:this})?!1:!0},showStart:function(){var n=this.element;n.css("display","");this.inited?this._invokeNgController():(this.inited=!0,this.trigger(e,{view:this}));this.layout&&this.layout.attach(this);this._padIfNativeScrolling();this.trigger(o,{view:this});t.resize(n)},showEnd:function(){this.trigger(v,{view:this});this._padIfNativeScrolling()},hideStart:function(){this.trigger(y,{view:this})},hideEnd:function(){var n=this;n.element.hide();n.trigger(s,{view:n});n.layout&&n.layout.trigger(s,{view:n,layout:n.layout})},beforeTransition:function(n){this.trigger(w,{type:n})},afterTransition:function(n){this.trigger(p,{type:n})},_padIfNativeScrolling:function(){if(u.appLevelNativeScrolling()){var n=t.support.mobileOS&&t.support.mobileOS.android,i=u.application.os.android||u.application.skin().indexOf("android")>-1,r=n||i?"footer":"header",f=n||i?"header":"footer";this.content.css({paddingTop:this[r].height(),paddingBottom:this[f].height()})}},contentElement:function(){var n=this;return n.options.stretch?n.content:n.scrollerContent},clone:function(){return new ht(this)},_scroller:function(){var i=this;if(!u.appLevelNativeScrolling()&&(i.options.stretch?i.content.addClass("km-stretched-view"):(i.content.kendoMobileScroller(n.extend(i.options.scroller,{zoom:i.options.zoom,useNative:i.options.useNativeScrolling})),i.scroller=i.content.data("kendoMobileScroller"),i.scrollerContent=i.scroller.scrollElement),t.support.kineticScrollNeeded)){n(i.element).on("touchmove",".km-header",nt);if(!i.options.useNativeScrolling)n(i.element).on("touchmove",".km-content",nt)}},_model:function(){var n=this,f=n.element,i=n.options.model;typeof i=="string"&&(i=t.getter(i)(n.options.modelScope));n.model=i;g(f);n.element.css("display","");n.options.initWidgets&&(i?t.bind(f,i,r,t.ui,t.dataviz.ui):u.init(f.children()));n.element.css("display","none")},_id:function(){var n=this.element,i=n.attr("id")||"";this.id=k(n,"url")||"#"+i;this.id=="#"&&(this.id=t.guid(),n.attr("id",this.id))},_layout:function(){var t=i("content"),n=this.element;n.addClass("km-view");this.header=n.children(i("header")).addClass("km-header");this.footer=n.children(i("footer")).addClass("km-footer");n.children(t)[0]||n.wrapInner("<div "+h("role")+'="content"><\/div>');this.content=n.children(i("content")).addClass("km-content");this.element.prepend(this.header).append(this.footer);this.layout=this.options.getLayout(this.layout);this.layout&&this.layout.setup(this)},_overlay:function(){this.overlay=n(ct).appendTo(this.element)},_invokeNgController:function(){var n=this.element,t,i;this.options.$angular&&(t=n.controller(),i=n.scope(),t&&i.$apply(function(){n.injector().invoke(t.constructor,null,{$scope:i})}))}}),at=f.extend({init:function(n,i){f.fn.init.call(this,n,i);n=this.element;this.header=n.children(this._locate("header")).addClass("km-header");this.footer=n.children(this._locate("footer")).addClass("km-footer");this.elements=this.header.add(this.footer);g(n);this.options.$angular||t.mobile.init(this.element.children());this.element.detach();this.trigger(e,{layout:this})},_locate:function(n){return this.options.$angular?d(n):i(n)},options:{name:"Layout",id:null,platform:null},events:[e,o,s],setup:function(n){n.header[0]||(n.header=this.header);n.footer[0]||(n.footer=this.footer)},detach:function(n){var t=this;n.header===t.header&&t.header[0]&&n.element.prepend(t.header.detach()[0].cloneNode(!0));n.footer===t.footer&&t.footer.length&&n.element.append(t.footer.detach()[0].cloneNode(!0))},attach:function(n){var t=this,r=t.currentView;r&&t.detach(r);n.header===t.header&&(t.header.detach(),n.element.children(i("header")).remove(),n.element.prepend(t.header));n.footer===t.footer&&(t.footer.detach(),n.element.children(i("footer")).remove(),n.element.append(t.footer));t.trigger(o,{layout:t,view:n});t.currentView=n}}),it=t.Observable,vt=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,rt="loadStart",ut="loadComplete",ft="showStart",et="sameViewRequested",ot="viewShow",st="viewTypeDetermined",l="after",yt=it.extend({init:function(i){var r=this,e,o,u,f;if(it.fn.init.call(r),n.extend(r,i),r.sandbox=n("<div />"),u=r.container,e=r._hideViews(u),r.rootView=e.first(),!r.rootView[0]&&i.rootNeeded){o=u[0]==t.mobile.application.element[0]?'Your kendo mobile application element does not contain any direct child elements with data-role="view" attribute set. Make sure that you instantiate the mobile application using the correct container.':'Your pane element does not contain any direct child elements with data-role="view" attribute set.';throw new Error(o);}r.layouts={};r.viewContainer=new t.ViewContainer(r.container);r.viewContainer.bind("accepted",function(n){n.view.params=r.params});r.viewContainer.bind("complete",function(n){r.trigger(ot,{view:n.view})});r.viewContainer.bind(l,function(){r.trigger(l)});this.getLayoutProxy=n.proxy(this,"_getLayout");r._setupLayouts(u);f=u.children(r._locate("modalview drawer"));r.$angular?f.each(function(t,i){c(n(i),function(){})}):tt(f);this.bind(this.events,i)},events:[ft,l,ot,rt,ut,et,st],destroy:function(){t.destroy(this.container);for(var n in this.layouts)this.layouts[n].destroy()},view:function(){return this.viewContainer.view},showView:function(n,i,r){if(n=n.replace(new RegExp("^"+this.remoteViewURLPrefix),""),n===""&&this.remoteViewURLPrefix&&(n="/"),n===this.url)return this.trigger(et),!1;this.trigger(ft);var u=this,o=function(t){return u.viewContainer.show(t,i,n)},e=u._findViewElement(n),f=t.widgetInstance(e);return u.url=n,u.params=r,f&&f.reload&&(f.purge(),e=[]),this.trigger(st,{remote:e.length===0,url:n}),e[0]?(f||(f=u._createView(e)),o(f)):(this.serverNavigation?location.href=n:u._loadView(n,o),!0)},append:function(n,t){var i=this.sandbox,f=(t||"").split("?")[0],e=this.container,u,o,r;return vt.test(n)&&(n=RegExp.$1),i[0].innerHTML=n,e.append(i.children("script, style")),u=this._hideViews(i),r=u.first(),r.length||(u=r=i.wrapInner("<div data-role=view />").children()),f&&r.hide().attr(h("url"),f),this._setupLayouts(i),o=i.children(this._locate("modalview drawer")),e.append(i.children(this._locate("layout modalview drawer")).add(u)),tt(o),this._createView(r)},_locate:function(n){return this.$angular?d(n):i(n)},_findViewElement:function(n){var i,t=n.split("?")[0];return t?(i=this.container.children("["+h("url")+"='"+t+"']"),i[0]||t.indexOf("/")!==-1||(i=this.container.children(t.charAt(0)==="#"?t:"#"+t)),i):this.rootView},_createView:function(n){if(this.$angular){var i=this;return c(n,function(n){n.viewOptions={defaultTransition:i.transition,loader:i.loader,container:i.container,getLayout:i.getLayoutProxy}})}return t.initWidget(n,{defaultTransition:this.transition,loader:this.loader,container:this.container,getLayout:this.getLayoutProxy,modelScope:this.modelScope,reload:k(n,"reload")},r.roles)},_getLayout:function(n){return n===""?null:n?this.layouts[n]:this.layouts[this.layout]},_loadView:function(i,r){this._xhr&&this._xhr.abort();this.trigger(rt);this._xhr=n.get(t.absoluteURL(i,this.remoteViewURLPrefix),"html").always(n.proxy(this,"_xhrComplete",r,i))},_xhrComplete:function(n,t,i){var r=!0;typeof i=="object"&&(r=i.status===0&&i.responseText.length>0,i=i.responseText);this.trigger(ut);r&&n(this.append(i,t))},_hideViews:function(n){return n.children(this._locate("view splitview")).hide()},_setupLayouts:function(i){var e=this,f;i.children(e._locate("layout")).each(function(){f=e.$angular?c(n(this)):t.initWidget(n(this),{},r.roles);var i=f.options.platform;i&&i!==u.application.os.name?f.destroy():e.layouts[f.options.id]=f})}});t.mobile.ViewEngine=yt;r.plugin(lt);r.plugin(at)}(window.kendo.jQuery),function(n){var t=window.kendo,i=t.mobile.ui,r=i.Widget,u=n.map(t.eventMap,function(n){return n}).join(" ").split(" "),f=r.extend({init:function(t,i){var u=this,f=n('<div class="km-loader"><span class="km-loading km-spin"><\/span><span class="km-loading-left"><\/span><span class="km-loading-right"><\/span><\/div>');r.fn.init.call(u,f,i);u.container=t;u.captureEvents=!1;u._attachCapture();f.append(u.options.loading).hide().appendTo(t)},options:{name:"Loader",loading:"<h1>Loading...<\/h1>",timeout:100},show:function(){var n=this;(clearTimeout(n._loading),n.options.loading!==!1)&&(n.captureEvents=!0,n._loading=setTimeout(function(){n.element.show()},n.options.timeout))},hide:function(){this.captureEvents=!1;clearTimeout(this._loading);this.element.hide()},changeMessage:function(n){this.options.loading=n;this.element.find(">h1").html(n)},transition:function(){this.captureEvents=!0;this.container.css("pointer-events","none")},transitionDone:function(){this.captureEvents=!1;this.container.css("pointer-events","")},_attachCapture:function(){function i(n){t.captureEvents&&n.preventDefault()}var t=this,n;for(t.captureEvents=!1,n=0;n<u.length;n++)t.container[0].addEventListener(u[n],i,!0)}});i.plugin(f)}(window.kendo.jQuery),function(n){var t=window.kendo,u=t.mobile,i=t.roleSelector,r=u.ui,e=r.Widget,d=u.ViewEngine,l=r.View,g=u.ui.Loader,a="external",o="href",v="#!",y="navigate",p="viewShow",s="sameViewRequested",h=t.support.mobileOS,w=h.ios&&!h.appMode&&h.flatVersion>=700,nt=/popover|actionsheet|modalview|drawer/,tt="#:back",f=t.attrValue,b="button backbutton detailbutton listview-link",k="tab",c=e.extend({init:function(n,i){var r=this;e.fn.init.call(r,n,i);i=r.options;n=r.element;n.addClass("km-pane");r.options.collapsible&&n.addClass("km-collapsible-pane");this.history=[];this.historyCallback=function(n,t,i){var u=r.transition;return r.transition=null,w&&i&&(u="none"),r.viewEngine.showView(n,u,t)};this._historyNavigate=function(n){if(n===tt){if(r.history.length===1)return;r.history.pop();n=r.history[r.history.length-1]}else r.history.push(n);r.historyCallback(n,t.parseQueryStringParams(n))};this._historyReplace=function(n){var i=t.parseQueryStringParams(n);r.history[r.history.length-1]=n;r.historyCallback(n,i)};r.loader=new g(n,{loading:r.options.loading});r.viewEngine=new d({container:n,transition:i.transition,modelScope:i.modelScope,rootNeeded:!i.initial,serverNavigation:i.serverNavigation,remoteViewURLPrefix:i.root||"",layout:i.layout,$angular:i.$angular,loader:r.loader,showStart:function(){r.loader.transition();r.closeActiveDialogs()},after:function(){r.loader.transitionDone()},viewShow:function(n){r.trigger(p,n)},loadStart:function(){r.loader.show()},loadComplete:function(){r.loader.hide()},sameViewRequested:function(){r.trigger(s)},viewTypeDetermined:function(n){n.remote&&r.options.serverNavigation||r.trigger(y,{url:n.url})}});this._setPortraitWidth();t.onResize(function(){r._setPortraitWidth()});r._setupAppLinks()},closeActiveDialogs:function(){var u=this.element.find(i("actionsheet popover modalview")).filter(":visible");u.each(function(){t.widgetInstance(n(this),r).close()})},navigateToInitial:function(){var n=this.options.initial;n&&this.navigate(n)},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:!1,initial:null,modelScope:window,loading:"<h1>Loading...<\/h1>"},events:[y,p,s],append:function(n){return this.viewEngine.append(n)},destroy:function(){e.fn.destroy.call(this);this.viewEngine.destroy();this.userEvents.destroy()},navigate:function(n,t){n instanceof l&&(n=n.id);this.transition=t;this._historyNavigate(n)},replace:function(n,t){n instanceof l&&(n=n.id);this.transition=t;this._historyReplace(n)},bindToRouter:function(n){var i=this,r=this.history,u=this.viewEngine;n.bind("init",function(i){var e=i.url,o=n.pushState?e:"/",f;u.rootView.attr(t.attr("url"),o);f=r.length;e==="/"&&f&&(n.navigate(r[f-1],!0),i.preventDefault())});n.bind("routeMissing",function(n){i.historyCallback(n.url,n.params,n.backButtonPressed)||n.preventDefault()});n.bind("same",function(){i.trigger(s)});i._historyNavigate=function(t){n.navigate(t)};i._historyReplace=function(t){n.replace(t)}},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},changeLoadingMessage:function(n){this.loader.changeMessage(n)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var n,i=this.options.portraitWidth;i&&(n=t.mobile.application.element.is(".km-vertical")?i:"auto",this.element.css("width",n))},_setupAppLinks:function(){var n=this;this.element.handler(this).on("down",i(k),"_mouseup").on("click",i(k+" "+b),"_appLinkClick");this.userEvents=new t.UserEvents(this.element,{filter:i(b),tap:function(t){t.event.currentTarget=t.touch.currentTarget;n._mouseup(t.event)}})},_appLinkClick:function(t){var i=n(t.currentTarget).attr("href"),r=i&&i[0]!=="#"&&this.options.serverNavigation;r||f(n(t.currentTarget),"rel")==a||t.preventDefault()},_mouseup:function(i){if(!(i.which>1)&&!i.isDefaultPrevented()){var c=this,e=n(i.currentTarget),y=f(e,"transition"),h=f(e,"rel")||"",l=f(e,"target"),s=e.attr(o),p=w&&e[0].offsetHeight===0,b=s&&s[0]!=="#"&&this.options.serverNavigation;p||b||h===a||typeof s=="undefined"||s===v||(e.attr(o,v),setTimeout(function(){e.attr(o,s)}),h.match(nt)?(t.widgetInstance(n(s),r).openFor(e),(h==="actionsheet"||h==="drawer")&&i.stopPropagation()):(l==="_top"?c=u.application.pane:l&&(c=n("#"+l).data("kendoMobilePane")),c.navigate(s,y)),i.preventDefault())}}});c.wrap=function(n){n.is(i("view"))||(n=n.wrap("<div data-"+t.ns+'role="view" data-stretch="true"><\/div>').parent());var u=n.wrap('<div class="km-pane-wrapper"><div><\/div><\/div>').parent(),r=new c(u);return r.navigate(""),r};r.plugin(c)}(window.kendo.jQuery),function(n){var r=window.kendo,s=r.mobile,i=s.ui,u="hide",f="open",e="close",h='<div class="km-popup-wrapper" />',c='<div class="km-popup-arrow" />',l='<div class="km-popup-overlay" />',a="km-up km-down km-left km-right",t=i.Widget,v={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"}},y={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},p={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},w={up:"down",down:"up",left:"right",right:"left"},o=t.extend({init:function(i,f){var e=this,w=i.closest(".km-modalview-wrapper"),o=i.closest(".km-root").children(".km-pane").first(),s=w[0]?w:o,a,b;f.viewport?o=f.viewport:o[0]||(o=window);f.container?s=f.container:s[0]||(s=document.body);a={viewport:o,copyAnchorStyles:!1,autosize:!0,open:function(){e.overlay.show()},activate:n.proxy(e._activate,e),deactivate:function(){e.overlay.hide();e._apiCall||e.trigger(u);e._apiCall=!1}};t.fn.init.call(e,i,f);i=e.element;f=e.options;i.wrap(h).addClass("km-popup").show();b=e.options.direction.match(/left|right/)?"horizontal":"vertical";e.dimensions=p[b];e.wrapper=i.parent().css({width:f.width,height:f.height}).addClass("km-popup-wrapper km-"+f.direction).hide();e.arrow=n(c).prependTo(e.wrapper).hide();e.overlay=n(l).appendTo(s).hide();a.appendTo=e.overlay;f.className&&e.overlay.addClass(f.className);e.popup=new r.ui.Popup(e.wrapper,n.extend(!0,a,y,v[f.direction]))},options:{name:"Popup",width:240,height:"",direction:"down",container:null,viewport:null},events:[u],show:function(t){this.popup.options.anchor=n(t);this.popup.open()},hide:function(){this._apiCall=!0;this.popup.close()},destroy:function(){t.fn.destroy.call(this);this.popup.destroy();this.overlay.remove()},target:function(){return this.popup.options.anchor},_activate:function(){var t=this,e=t.options.direction,i=t.dimensions,u=i.offset,f=t.popup,o=f.options.anchor,c=n(o).offset(),l=n(f.element).offset(),v=f.flipped?w[e]:e,s=t.arrow[i.size]()*2,h=t.element[i.size]()-t.arrow[i.size](),y=n(o)[i.size](),r=c[u]-l[u]+y/2;r<s&&(r=s);r>h&&(r=h);t.wrapper.removeClass(a).addClass("km-"+v);t.arrow.css(u,r).show()}}),b=t.extend({init:function(u,f){var s=this,h;s.initialOpen=!1;t.fn.init.call(s,u,f);h=n.extend({className:"km-popover-root",hide:function(){s.trigger(e)}},this.options.popup);s.popup=new o(s.element,h);s.popup.overlay.on("move",function(n){n.target==s.popup.overlay[0]&&n.preventDefault()});s.pane=new i.Pane(s.element,n.extend(this.options.pane,{$angular:this.options.$angular}));s.pane.navigateToInitial();r.notify(s,i)},options:{name:"PopOver",popup:{},pane:{}},events:[f,e],open:function(n){this.popup.show(n);this.initialOpen?this.pane.view()._invokeNgController():(this.pane.navigate(""),this.popup.popup._position(),this.initialOpen=!0)},openFor:function(n){this.open(n);this.trigger(f,{target:this.popup.target()})},close:function(){this.popup.hide()},destroy:function(){t.fn.destroy.call(this);this.pane.destroy();this.popup.destroy();r.destroy(this.element)}});i.plugin(o);i.plugin(b)}(window.kendo.jQuery),function(n,t){var i=window.kendo,u=i.mobile.ui,e=i.ui.Popup,o='<div class="km-shim"/>',f="hide",r=u.Widget,s=r.extend({init:function(t,u){var s=this,h=i.mobile.application,y=i.support.mobileOS,l=h?h.os.name:y?y.name:"ios",a=l==="ios"||l==="wp"||(h?h.os.skin:!1),v=l==="blackberry",p=u.align||(a?"bottom center":v?"center right":"center center"),w=u.position||(a?"bottom center":v?"center right":"center center"),b=u.effect||(a?"slideIn:up":v?"slideIn:left":"fade:in"),c=n(o).handler(s).hide();if(r.fn.init.call(s,t,u),s.shim=c,t=s.element,u=s.options,u.className&&s.shim.addClass(u.className),!u.modal)s.shim.on("up","_hide");(h?h.element:n(document.body)).append(c);s.popup=new e(s.element,{anchor:c,modal:!0,appendTo:c,origin:p,position:w,animation:{open:{effects:b,duration:u.duration},close:{duration:u.duration}},close:function(n){var t=!1;s._apiCall||(t=s.trigger(f));t&&n.preventDefault();s._apiCall=!1},deactivate:function(){c.hide()},open:function(){c.show()}});i.notify(s)},events:[f],options:{name:"Shim",modal:!1,align:t,position:t,effect:t,duration:200},show:function(){this.popup.open()},hide:function(){this._apiCall=!0;this.popup.close()},destroy:function(){r.fn.destroy.call(this);this.shim.kendoDestroy();this.popup.destroy();this.shim.remove()},_hide:function(t){t&&n.contains(this.shim.children().children(".k-popup")[0],t.target)||this.popup.close()}});u.plugin(s)}(window.kendo.jQuery),function(n){var o=window.kendo,t=o.mobile.ui,s=t.Shim,r=t.Widget,u="beforeOpen",f="open",i="close",e="init",h='<div class="km-modalview-wrapper" />',c=t.View.extend({init:function(n,t){var i=this;r.fn.init.call(i,n,t);i._id();i._wrap();i._shim();this.options.$angular||(i._layout(),i._scroller(),i._model());i.element.css("display","");i.trigger(e)},events:[e,u,f,i],options:{name:"ModalView",modal:!0,width:null,height:null},destroy:function(){r.fn.destroy.call(this);this.shim.destroy()},open:function(t){var i=this;i.target=n(t);i.shim.show();i._invokeNgController();i.trigger("show",{view:i})},openFor:function(n){this.trigger(u,{target:n})||(this.open(n),this.trigger(f,{target:n}))},close:function(){this.element.is(":visible")&&!this.trigger(i)&&this.shim.hide()},_wrap:function(){var t=this,n=t.element,r=t.options,u,i;u=n[0].style.width||"auto";i=n[0].style.height||"auto";n.addClass("km-modalview").wrap(h);t.wrapper=n.parent().css({width:r.width||u||300,height:r.height||i||300}).addClass(i=="auto"?" km-auto-height":"");n.css({width:"",height:""})},_shim:function(){var n=this;n.shim=new s(n.wrapper,{modal:n.options.modal,position:"center center",align:"center center",effect:"fade:in",className:"km-modalview-root",hide:function(t){n.trigger(i)&&t.preventDefault()}})}});t.plugin(c)}(window.kendo.jQuery),function(n){var t=window.kendo,e=t.mobile,u=t.support.mobileOS,o=t.effects.Transition,s=t.roleSelector,r="x",f=e.ui,y=!(u.ios&&u.majorVersion==7&&!u.appMode),h="beforeShow",c="init",l="show",a="hide",v="afterHide",p={enable:n.noop},i=f.View.extend({init:function(i,r){var o,f,h,u,l;if(n(i).parent().prepend(i),e.ui.Widget.fn.init.call(this,i,r),this.options.$angular||(this._layout(),this._scroller()),this._model(),o=this.element.closest(s("pane")).data("kendoMobilePane"),o)this.pane=o,this.pane.bind("viewShow",function(n){u._viewShow(n)}),this.pane.bind("sameViewRequested",function(){u.hide()}),f=this.userEvents=new t.UserEvents(o.element,{filter:s("view splitview"),allowSelection:!0});else{if(this.currentView=p,h=n(this.options.container),!h)throw new Error("The drawer needs a container configuration option set.");f=this.userEvents=new t.UserEvents(h,{allowSelection:!0});this._attachTransition(h)}u=this;l=function(n){u.visible&&(u.hide(),n.preventDefault())};this.options.swipeToOpen&&y?(f.bind("press",function(){u.transition.cancel()}),f.bind("start",function(n){u._start(n)}),f.bind("move",function(n){u._update(n)}),f.bind("end",function(n){u._end(n)}),f.bind("tap",l)):f.bind("press",l);this.leftPositioned=this.options.position==="left";this.visible=!1;this.element.hide().addClass("km-drawer").addClass(this.leftPositioned?"km-left-drawer":"km-right-drawer");this.trigger(c)},options:{name:"Drawer",position:"left",views:[],swipeToOpenViews:[],swipeToOpen:!0,title:"",container:null},events:[h,a,v,c,l],show:function(){this._activate()&&this._show()},hide:function(){this.currentView&&(this.currentView.enable(),i.current=null,this._moveViewTo(0),this.trigger(a,{view:this}))},openFor:function(){this.visible?this.hide():this.show()},destroy:function(){f.View.fn.destroy.call(this);this.userEvents.destroy()},_activate:function(){if(this.visible)return!0;var n=this._currentViewIncludedIn(this.options.views);return!n||this.trigger(h,{view:this})?!1:(this._setAsCurrent(),this.element.show(),this.trigger(l,{view:this}),this._invokeNgController(),!0)},_currentViewIncludedIn:function(t){if(!this.pane||!t.length)return!0;var i=this.pane.view();return n.inArray(i.id.replace("#",""),t)>-1||n.inArray(i.element.attr("id"),t)>-1},_show:function(){this.currentView.enable(!1);this.visible=!0;var n=this.element.width();this.leftPositioned||(n=-n);this._moveViewTo(n)},_setAsCurrent:function(){i.last!==this&&(i.last&&i.last.element.hide(),this.element.show());i.last=this;i.current=this},_moveViewTo:function(n){this.userEvents.cancel();this.transition.moveTo({location:n,duration:400,ease:o.easeOutExpo})},_viewShow:function(n){if(this.currentView&&this.currentView.enable(),this.currentView===n.view){this.hide();return}this.currentView=n.view;this._attachTransition(n.view.element)},_attachTransition:function(n){var i=this,u=this.movable,f=u&&u.x;this.transition&&(this.transition.cancel(),this.movable.moveAxis("x",0));u=this.movable=new t.ui.Movable(n);this.transition=new o({axis:r,movable:this.movable,onEnd:function(){u[r]===0&&(n[0].style.cssText="",i.element.hide(),i.trigger(v),i.visible=!1)}});f&&(n.addClass("k-fx-hidden"),t.animationFrame(function(){n.removeClass("k-fx-hidden");i.movable.moveAxis(r,f);i.hide()}))},_start:function(n){var u=n.sender;if(Math.abs(n.x.velocity)<Math.abs(n.y.velocity)||t.triggeredByInput(n.event)||!this._currentViewIncludedIn(this.options.swipeToOpenViews)){u.cancel();return}var r=this.leftPositioned,f=this.visible,o=r&&f||!r&&!i.current,s=!r&&f||r&&!i.current,e=n.x.velocity<0;if((o&&e||s&&!e)&&this._activate()){u.capture();return}u.cancel()},_update:function(n){var u=this.movable,t=u.x+n.x.delta,i;i=this.leftPositioned?Math.min(Math.max(0,t),this.element.width()):Math.max(Math.min(0,t),-this.element.width());this.movable.moveAxis(r,i);n.event.preventDefault();n.event.stopPropagation()},_end:function(n){var t=n.x.velocity,r=Math.abs(this.movable.x)>this.element.width()/2,i=.8,u;u=this.leftPositioned?t>-i&&(t>i||r):t<i&&(t<-i||r);u?this._show():this.hide()}});f.plugin(i)}(window.kendo.jQuery),function(n){var t=window.kendo,i=t.mobile.ui,r=i.Widget,u="<div class='km-expanded-pane-shim' />",f=i.View,e=f.extend({init:function(f,e){var o=this,s,h;r.fn.init.call(o,f,e);f=o.element;n.extend(o,e);o._id();o.options.$angular?o._overlay():(o._layout(),o._overlay());o._style();h=f.children(o._locate("modalview"));o.options.$angular?h.each(function(i,r){t.compileMobileDirective(n(r))}):t.mobile.init(h);o.panes=[];o._paramsHistory=[];o.options.$angular?o.element.children(t.directiveSelector("pane")).each(function(){s=t.compileMobileDirective(n(this));o.panes.push(s)}):o.content.children(t.roleSelector("pane")).each(function(){s=t.initWidget(this,{},i.roles);o.panes.push(s)});o.expandedPaneShim=n(u).appendTo(o.element);o._shimUserEvents=new t.UserEvents(o.expandedPaneShim,{tap:function(){o.collapsePanes()}})},_locate:function(n){return this.options.$angular?t.directiveSelector(n):t.roleSelector(n)},options:{name:"SplitView",style:"horizontal"},expandPanes:function(){this.element.addClass("km-expanded-splitview")},collapsePanes:function(){this.element.removeClass("km-expanded-splitview")},_layout:function(){var n=this,i=n.element;n.transition=t.attrValue(i,"transition");t.mobile.ui.View.prototype._layout.call(this);t.mobile.init(this.header.add(this.footer));n.element.addClass("km-splitview");n.content.addClass("km-split-content")},_style:function(){var t=this.options.style,r=this.element,i;t&&(i=t.split(" "),n.each(i,function(){r.addClass("km-split-"+this)}))},showStart:function(){var t=this;t.element.css("display","");t.inited||(t.inited=!0,n.each(t.panes,function(){this.options.initial?this.navigateToInitial():this.navigate("")}),t.trigger("init",{view:t}));t.trigger("show",{view:t})}});i.plugin(e)}(window.kendo.jQuery),function(n,t){function wt(n,t){var r=[];return i&&r.push("km-on-"+i.name),n.skin?r.push("km-"+n.skin):n.name=="ios"&&n.majorVersion>6?r.push("km-ios7"):r.push("km-"+n.name),(n.name=="ios"&&n.majorVersion<7||n.name!="ios")&&r.push("km-"+n.name+n.majorVersion),r.push("km-"+n.majorVersion),r.push("km-m"+(n.minorVersion?n.minorVersion[0]:0)),n.variant&&(n.skin&&n.skin===n.name||!n.skin)&&r.push("km-"+(n.skin?n.skin:n.name)+"-"+n.variant),n.cordova&&r.push("km-cordova"),n.appMode?r.push("km-app"):r.push("km-web"),t&&t.statusBarStyle&&r.push("km-"+t.statusBarStyle+"-status-bar"),r.join(" ")}function bt(t){return"km-wp-"+(t.noVariantSet?parseInt(n("<div style='background: Background' />").css("background-color").split(",")[1],10)===0?"dark":"light":t.variant+" km-wp-"+t.variant+"-force")}function v(n){return i.wp?n.css("animation-name")=="-kendo-landscape":Math.abs(window.orientation)/90==1}function k(n){return v(n)?ut:rt}function d(n){n.parent().addBack().css("min-height",window.innerHeight)}function g(){n("meta[name=viewport]").remove();e.append(w({height:", width=device-width"+(v()?", height="+window.innerHeight+"px":f.mobileOS.flatVersion>=600&&f.mobileOS.flatVersion<700?", height="+window.innerWidth+"px":", height=device-height")}))}var r=window.kendo,h=r.mobile,f=r.support,c=h.ui.Widget,tt=h.ui.Pane,it="ios7",i=f.mobileOS,l=i.device=="blackberry"&&i.flatVersion>=600&&i.flatVersion<1e3&&i.appMode,rt="km-vertical",a=i.browser==="chrome",y=i.ios&&i.flatVersion>=700&&i.flatVersion<800&&(i.appMode||a),o=Math.abs(window.orientation)/90==1,ut="km-horizontal",p={ios7:{ios:!0,browser:"default",device:"iphone",flatVersion:"700",majorVersion:"7",minorVersion:"0.0",name:"ios",tablet:!1},ios:{ios:!0,browser:"default",device:"iphone",flatVersion:"612",majorVersion:"6",minorVersion:"1.2",name:"ios",tablet:!1},android:{android:!0,browser:"default",device:"android",flatVersion:"442",majorVersion:"4",minorVersion:"4.2",name:"android",tablet:!1},blackberry:{blackberry:!0,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:!1},meego:{meego:!0,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:!1},wp:{wp:!0,browser:"default",device:"wp",flatVersion:"800",majorVersion:"8",minorVersion:"0.0",name:"wp",tablet:!1}},w=r.template('<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no#=data.height#" name="viewport" />',{usedWithBlock:!1}),ft=r.template('<meta name="apple-mobile-web-app-capable" content="#= data.webAppCapable === false ? \'no\' : \'yes\' #" /> <meta name="apple-mobile-web-app-status-bar-style" content="#=data.statusBarStyle#" /> <meta name="msapplication-tap-highlight" content="no" /> ',{usedWithBlock:!1}),et=r.template("<style>.km-view { clip: rect(0 #= data.width #px #= data.height #px 0); }<\/style>",{usedWithBlock:!1}),ot=i.android&&i.browser!="chrome"||i.blackberry,st=w({height:""}),ht=r.template('<link rel="apple-touch-icon'+(i.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:!1}),ct=(i.device=="iphone"||i.device=="ipod")&&i.majorVersion<7,lt=(i.device=="iphone"||i.device=="ipod")&&i.majorVersion>=7,at=lt?"none":null,vt=i.browser=="mobilesafari"?60:0,s=20,yt=n(window),u=window.screen,e=n("head"),b="init",pt=n.proxy,nt=c.extend({init:function(t,i){t=n(t);t[0]||(t=n(document.body));h.application=this;c.fn.init.call(this,t,i);this.element.removeAttr("data-"+r.ns+"role");n(n.proxy(this,"bootstrap"))},bootstrap:function(){var i,t,r;this._setupPlatform();this._attachMeta();this._setupElementClass();this._attachHideBarHandlers();i=n.extend({},this.options);delete i.name;t=this;r=function(){t.pane=new tt(t.element,i);t.pane.navigateToInitial();t.options.updateDocumentTitle&&t._setupDocumentTitle();t._startHistory();t.trigger(b)};this.options.$angular?setTimeout(r):r()},options:{name:"Application",hideAddressBar:!0,browserHistory:!0,historyTransition:at,modelScope:window,statusBarStyle:"black",transition:"",platform:null,skin:null,updateDocumentTitle:!0,useNativeScrolling:!1},events:[b],navigate:function(n,t){this.pane.navigate(n,t)},replace:function(n,t){this.pane.replace(n,t)},scroller:function(){return this.view().scroller},hideLoading:function(){if(this.pane)this.pane.hideLoading();else throw new Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");},showLoading:function(){if(this.pane)this.pane.showLoading();else throw new Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");},changeLoadingMessage:function(n){if(this.pane)this.pane.changeLoadingMessage(n);else throw new Error("The mobile application instance is not fully instantiated. Please consider changing the message in the application init event handler.");},view:function(){return this.pane.view()},skin:function(n){var t=this;return arguments.length?(t.options.skin=n||"",t.element[0].className="km-pane",t._setupPlatform(),t._setupElementClass(),t.options.skin):t.options.skin},destroy:function(){c.fn.destroy.call(this);this.pane.destroy();this.router.destroy()},_setupPlatform:function(){var t=this,f=t.options.platform,e=t.options.skin,u=[],r=i||p[it];if(f&&(typeof f=="string"?(u=f.split("-"),r=n.extend({variant:u[1]},r,p[u[0]])):r=f),e&&(u=e.split("-"),r=n.extend({},r,{skin:u[0],variant:u[1]})),r.variant||(r.noVariantSet=!0,r.variant="dark"),t.os=r,t.osCssClass=wt(t.os,t.options),r.name=="wp"&&(t.refreshBackgroundColorProxy||(t.refreshBackgroundColorProxy=n.proxy(function(){(t.os.variant&&t.os.skin&&t.os.skin===t.os.name||!t.os.skin)&&t.element.removeClass("km-wp-dark km-wp-light km-wp-dark-force km-wp-light-force").addClass(bt(t.os))},t)),n(document).off("visibilitychange",t.refreshBackgroundColorProxy),n(document).off("resume",t.refreshBackgroundColorProxy),!r.skin)){t.element.parent().css("overflow","hidden");n(document).on("visibilitychange",t.refreshBackgroundColorProxy);n(document).on("resume",t.refreshBackgroundColorProxy);t.refreshBackgroundColorProxy()}},_startHistory:function(){this.options.browserHistory?(this.router=new r.Router({pushState:this.options.pushState,root:this.options.root,hashBang:this.options.hashBang}),this.pane.bindToRouter(this.router),this.router.start()):this.options.initial||this.pane.navigate("")},_resizeToScreenHeight:function(){var t=n("meta[name=apple-mobile-web-app-status-bar-style]").attr("content").match(/black-translucent|hidden/),i=this.element,r;r=a?window.innerHeight:v(i)?t?o?u.availWidth+s:u.availWidth:o?u.availWidth:u.availWidth-s:t?o?u.availHeight:u.availHeight+s:o?u.availHeight-s:u.availHeight;i.height(r)},_setupElementClass:function(){var i=this,u,t=i.element;t.parent().addClass("km-root km-"+(i.os.tablet?"tablet":"phone"));t.addClass(i.osCssClass+" "+k(t));this.options.useNativeScrolling&&t.parent().addClass("km-native-scrolling");a&&t.addClass("km-ios-chrome");f.wpDevicePixelRatio&&t.parent().css("font-size",f.wpDevicePixelRatio+"em");l&&g();i.options.useNativeScrolling?t.parent().addClass("km-native-scrolling"):ot&&(u=(screen.availWidth>screen.availHeight?screen.availWidth:screen.availHeight)+200,n(et({width:u,height:u})).appendTo(e));y&&i._resizeToScreenHeight();r.onResize(function(){t.removeClass("km-horizontal km-vertical").addClass(k(t));i.options.useNativeScrolling&&d(t);y&&i._resizeToScreenHeight();l&&g();r.resize(t)})},_clearExistingMeta:function(){e.find("meta").filter("[name|='apple-mobile-web-app'],[name|='msapplication-tap'],[name='viewport']").remove()},_attachMeta:function(){var t=this.options,n=t.icon,i;if(this._clearExistingMeta(),l||e.prepend(st),e.prepend(ft(t)),n){typeof n=="string"&&(n={"":n});for(i in n)e.prepend(ht({icon:n[i],size:i}))}t.useNativeScrolling&&d(this.element)},_attachHideBarHandlers:function(){var n=this,t=pt(n,"_hideBar");if(!f.mobileOS.appMode&&n.options.hideAddressBar&&ct&&!n.options.useNativeScrolling){n._initialHeight={};yt.on("load",t);r.onResize(function(){setTimeout(window.scrollTo,0,0,1)})}},_setupDocumentTitle:function(){var n=this,i=document.title;n.pane.bind("viewShow",function(n){var r=n.view.title;document.title=r!==t?r:i})},_hideBar:function(){var t=this,i=t.element;i.height(r.support.transforms.css+"calc(100% + "+vt+"px)");n(window).trigger(r.support.resize)}});r.mobile.Application=nt;r.ui.plugin(nt,r.mobile,"Mobile")}(window.kendo.jQuery),function(n){var t=window.kendo,h=t.support,i=t.mobile.ui,c=i.Shim,l=i.Popup,r=i.Widget,u="open",f="close",e="command",o="li>a",a="actionsheetContext",v='<div class="km-actionsheet-wrapper" />',s=t.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#<\/a><\/li>'),y=r.extend({init:function(u,f){var e=this,w,p,a,y=h.mobileOS;r.fn.init.call(e,u,f);f=e.options;a=f.type;u=e.element;p=a==="auto"?y&&y.tablet:a==="tablet";w=p?l:c;f.cancelTemplate&&(s=t.template(f.cancelTemplate));u.addClass("km-actionsheet").append(s({cancel:e.options.cancel})).wrap(v).on("up",o,"_click").on("click",o,t.preventDefault);if(e.view().bind("destroy",function(){e.destroy()}),e.wrapper=u.parent().addClass(a?" km-actionsheet-"+a:""),e.shim=new w(e.wrapper,n.extend({modal:y.ios&&y.majorVersion<7,className:"km-actionsheet-root"},e.options.popup)),e._closeProxy=n.proxy(e,"_close"),e.shim.bind("hide",e._closeProxy),p)t.onResize(e._closeProxy);t.notify(e,i)},events:[u,f,e],options:{name:"ActionSheet",cancel:"Cancel",type:"auto",popup:{height:"auto"}},open:function(t,i){var r=this;r.target=n(t);r.context=i;r.shim.show(t)},close:function(){this.context=this.target=null;this.shim.hide()},openFor:function(n){var t=this,i=n.data(a);t.open(n,i);t.trigger(u,{target:n,context:i})},destroy:function(){r.fn.destroy.call(this);t.unbindResize(this._closeProxy);this.shim.destroy()},_click:function(i){var u,r,f,o;i.isDefaultPrevented()||(u=n(i.currentTarget),r=u.data("action"),r&&(f={target:this.target,context:this.context},o=this.options.$angular,o?this.element.injector().get("$parse")(r)(o[0])(f):t.getter(r)(window)(f)),this.trigger(e,{target:this.target,context:this.context,currentTarget:u}),i.preventDefault(),this._close())},_close:function(n){this.trigger(f)?n.preventDefault():this.close()}});i.plugin(y)}(window.kendo.jQuery),function(n){function e(t,i,r){n(i.target).closest(".km-button,.km-detail").toggleClass("km-state-active",r);s&&t.deactivateTimeoutID&&(clearTimeout(t.deactivateTimeoutID),t.deactivateTimeoutID=0)}function c(t){return n('<span class="km-badge">'+t+"<\/span>")}var u=window.kendo,l=u.mobile,i=l.ui,f=i.Widget,a=u.support,o=a.mobileOS,s=o.android&&o.flatVersion>=300,h="click",r="disabled",v="km-state-disabled",t=f.extend({init:function(n,t){var i=this;if(f.fn.init.call(i,n,t),i._wrap(),i._style(),i.options.enable=i.options.enable&&!i.element.attr(r),i.enable(i.options.enable),i._userEvents=new u.UserEvents(i.element,{press:function(n){i._activate(n)},tap:function(n){i._release(n)},release:function(n){e(i,n,!1)}}),s)i.element.on("move",function(n){i._timeoutDeactivate(n)})},destroy:function(){f.fn.destroy.call(this);this._userEvents.destroy()},events:[h],options:{name:"Button",icon:"",style:"",badge:"",enable:!0},badge:function(n){var t=this.badgeElement=this.badgeElement||c(n).appendTo(this.element);return n||n===0?(t.html(n),this):n===!1?(t.empty().remove(),this.badgeElement=!1,this):t.html()},enable:function(n){var t=this.element;typeof n=="undefined"&&(n=!0);this.options.enable=n;n?t.removeAttr(r):t.attr(r,r);t.toggleClass(v,!n)},_timeoutDeactivate:function(n){this.deactivateTimeoutID||(this.deactivateTimeoutID=setTimeout(e,500,this,n,!1))},_activate:function(n){var t=document.activeElement,i=t?t.nodeName:"";this.options.enable&&(e(this,n,!0),(i=="INPUT"||i=="TEXTAREA")&&t.blur())},_release:function(t){var i=this;if(!(t.which>1)){if(!i.options.enable){t.preventDefault();return}i.trigger(h,{target:n(t.target),button:i.element})&&t.preventDefault()}},_style:function(){var t=this.options.style,r=this.element,i;t&&(i=t.split(" "),n.each(i,function(){r.addClass("km-"+this)}))},_wrap:function(){var i=this,f=i.options.icon,r=i.options.badge,e='<span class="km-icon km-'+f,t=i.element.addClass("km-button"),u=t.children("span:not(.km-icon)").addClass("km-text"),o=t.find("img").addClass("km-image");!u[0]&&t.html()&&(u=t.wrapInner('<span class="km-text" />').children("span.km-text"));!o[0]&&f&&(u[0]||(e+=" km-notext"),i.iconElement=t.prepend(n(e+'" />')));(r||r===0)&&(i.badgeElement=c(r).appendTo(t))}}),y=t.extend({options:{name:"BackButton",style:"back"},init:function(n,i){var r=this;t.fn.init.call(r,n,i);typeof r.element.attr("href")=="undefined"&&r.element.attr("href","#:back")}}),p=t.extend({options:{name:"DetailButton",style:""},init:function(n,i){t.fn.init.call(this,n,i)},_style:function(){var t=this.options.style+" detail",r=this.element,i;t&&(i=t.split(" "),n.each(i,function(){r.addClass("km-"+this)}))},_wrap:function(){var i=this,r=i.options.icon,u='<span class="km-icon km-'+r,t=i.element,f=t.children("span"),e=t.find("img").addClass("km-image");!e[0]&&r&&(f[0]||(u+=" km-notext"),t.prepend(n(u+'" />')))}});i.plugin(t);i.plugin(y);i.plugin(p)}(window.kendo.jQuery),function(n,t){function s(t){return n('<span class="km-badge">'+t+"<\/span>")}var u=window.kendo,f=u.mobile.ui,e=f.Widget,i="km-state-active",r="km-state-disabled",o="select",h="li:not(."+i+")",c=e.extend({init:function(n,t){var i=this;e.fn.init.call(i,n,t);i.element.addClass("km-buttongroup").find("li").each(i._button);i.element.on(i.options.selectOn,h,"_select");i._enable=!0;i.select(i.options.index);i.options.enable||(i._enable=!1,i.wrapper.addClass(r))},events:[o],options:{name:"ButtonGroup",selectOn:"down",index:-1,enable:!0},current:function(){return this.element.find("."+i)},select:function(u){var f=this,e=-1;u!==t&&u!==-1&&f._enable&&!n(u).is("."+r)&&(f.current().removeClass(i),typeof u=="number"?(e=u,u=n(f.element[0].children[u])):u.nodeType&&(u=n(u),e=u.index()),u.addClass(i),f.selectedIndex=e)},badge:function(t,i){var u=this.element,r;return(isNaN(t)||(t=u.children().get(t)),t=u.find(t),r=n(t.children(".km-badge")[0]||s(i).appendTo(t)),i||i===0)?(r.html(i),this):i===!1?(r.empty().remove(),this):r.html()},enable:function(n){var t=this.wrapper;typeof n=="undefined"&&(n=!0);n?t.removeClass(r):t.addClass(r);this._enable=this.options.enable=n},_button:function(){var t=n(this).addClass("km-button"),f=u.attrValue(t,"icon"),i=u.attrValue(t,"badge"),r=t.children("span"),e=t.find("img").addClass("km-image");r[0]||(r=t.wrapInner("<span/>").children("span"));r.addClass("km-text");!e[0]&&f&&t.prepend(n('<span class="km-icon km-'+f+'"/>'));(i||i===0)&&s(i).appendTo(t)},_select:function(n){n.which>1||n.isDefaultPrevented()||!this._enable||(this.select(n.currentTarget),this.trigger(o,{index:this.selectedIndex}))}});f.plugin(c)}(window.kendo.jQuery),function(n){function vt(){return this.nodeType===it.TEXT_NODE&&this.nodeValue.match(lt)}function o(n,t){t&&!n[0].querySelector(".km-icon")&&n.prepend('<span class="km-icon km-'+t+'"/>')}function yt(n){o(n,r(n,"icon"));o(n,r(n.children(ft),"icon"))}function pt(n){var i=n.parent(),u=n.add(i.children(t.roleSelector("detailbutton"))),f=i.contents().not(u).not(vt);f.length||(n.addClass("km-listview-link").attr(t.attr("role"),"listview-link"),o(n,r(i,"icon")),o(n,r(n,"icon")))}function wt(n){if(n[0].querySelector("input[type=checkbox],input[type=radio]")){var t=n.parent();t.contents().not(n).not(function(){return this.nodeType==3})[0]||(n.addClass("km-listview-label"),n.children("[type=checkbox],[type=radio]").addClass("km-widget km-icon km-check"))}}function v(t,i){n(t).css("transform","translate3d(0px, "+i+"px, 0px)")}var t=window.kendo,it=window.Node,s=t.mobile,i=s.ui,rt=t.data.DataSource,h=i.DataBoundWidget,ut=".km-list > li, > li:not(.km-group-container)",y=".km-listview-link, .km-listview-label",ft="["+t.attr("icon")+"]",u=n.proxy,r=t.attrValue,f="km-group-title",et="km-state-active",ot='<div class="'+f+'"><div class="km-text"><\/div><\/div>',st=t.template('<li><div class="'+f+'"><div class="km-text">#= this.headerTemplate(data) #<\/div><\/div><ul>#= kendo.render(this.template, data.items)#<\/ul><\/li>'),ht='<div class="km-listview-wrapper" />',ct=t.template('<form class="km-filter-form"><div class="km-filter-wrap"><input type="search" placeholder="#=placeholder#"/><a href="\\#" class="km-filter-reset" title="Clear"><span class="km-icon km-clear"><\/span><span class="km-text">Clear<\/span><\/a><\/div><\/form>'),e=".kendoMobileListView",p="styled",c="dataBound",w="dataBinding",l="itemChange",a="click",b="change",k="progress",d="function",lt=/^\s+$/,at=/button/,bt=t.Class.extend({init:function(n){var r=n.scroller(),i,t;r&&(this.options=n.options,this.element=n.element,this.scroller=n.scroller(),this._shouldFixHeaders(),i=this,t=function(){i._cacheHeaders()},n.bind("resize",t),n.bind(p,t),n.bind(c,t),r.bind("scroll",function(n){i._fixHeader(n)}))},_fixHeader:function(t){if(this.fixedHeaders){var r=0,e=this.scroller,o=this.headers,s=t.scrollTop,i,f,u;do{if(i=o[r++],!i){u=n("<div />");break}f=i.offset;u=i.header}while(f+1>s);this.currentHeader!=r&&(e.fixedContainer.html(u.clone()),this.currentHeader=r)}},_shouldFixHeaders:function(){this.fixedHeaders=this.options.type==="group"&&this.options.fixedHeaders},_cacheHeaders:function(){if(this._shouldFixHeaders(),this.fixedHeaders){var t=[],i=this.scroller.scrollTop;this.element.find("."+f).each(function(r,u){u=n(u);t.unshift({offset:u.position().top+i,header:u})});this.headers=t;this._fixHeader({scrollTop:i})}}}),kt=function(){return{page:1}},dt=t.Class.extend({init:function(n){var t=this,i=n.options,r=n.scroller(),u=i.pullParameters||kt;this.listView=n;this.scroller=r;n.bind("_dataSource",function(n){t.setDataSource(n.dataSource)});r.setOptions({pullToRefresh:!0,pull:function(){t._pulled||(t._pulled=!0,t.dataSource.read(u.call(n,t._first)))},pullTemplate:i.messages.pullTemplate,releaseTemplate:i.messages.releaseTemplate,refreshTemplate:i.messages.refreshTemplate})},setDataSource:function(n){var t=this;this._first=n.view()[0];this.dataSource=n;n.bind("change",function(){t._change()});n.bind("error",function(){t._change()})},_change:function(){var t=this.scroller,i=this.dataSource,n;this._pulled&&t.pullHandled();(this._pulled||!this._first)&&(n=i.view(),n[0]&&(this._first=n[0]));this._pulled=!1}}),g=t.Observable.extend({init:function(n){var i=this;t.Observable.fn.init.call(i);i.buffer=n.buffer;i.height=n.height;i.item=n.item;i.items=[];i.footer=n.footer;i.buffer.bind("reset",function(){i.refresh()})},refresh:function(){for(var r=this.buffer,n=this.items,u=!1,f,e,t,i;n.length;)n.pop().destroy();for(this.offset=r.offset,f=this.item,i=0;i<r.viewSize;i++){if(i===r.total()){u=!0;break}t=f(this.content(this.offset+n.length));t.below(e);e=t;n.push(t)}this.itemCount=n.length;this.trigger("reset");this._resize();u&&this.trigger("endReached")},totalHeight:function(){if(!this.items[0])return 0;var n=this,t=n.items,r=t[0].top,i=t[t.length-1].bottom,u=(i-r)/n.itemCount,f=n.buffer.length-n.offset-n.itemCount;return(this.footer?this.footer.height:0)+i+f*u},batchUpdate:function(n){var u=this.height(),t=this.items,i,f=this.offset,r;if(t[0]){if(this.lastDirection)while(t[t.length-1].bottom>n+u*2){if(this.offset===0)break;this.offset--;i=t.pop();i.update(this.content(this.offset));i.above(t[0]);t.unshift(i)}else while(t[0].top<n-u){if(r=this.offset+this.itemCount,r===this.buffer.total()){this.trigger("endReached");break}if(r===this.buffer.length)break;i=t.shift();i.update(this.content(this.offset+this.itemCount));i.below(t[t.length-1]);t.push(i);this.offset++}f!==this.offset&&this._resize()}},update:function(n){var u=this,t=this.items,i,e,o,s=this.height(),a=this.itemCount,r=s/2,h=(this.lastTop||0)>n,c=n-r,l=n+s+r,f;t[0]&&(this.lastTop=n,this.lastDirection=h,h?t[0].top>c&&t[t.length-1].bottom>l+r&&this.offset>0&&(this.offset--,i=t.pop(),e=t[0],i.update(this.content(this.offset)),t.unshift(i),i.above(e),u._resize()):t[t.length-1].bottom<l&&t[0].top<c-r&&(f=this.offset+a,f===this.buffer.total()?this.trigger("endReached"):f!==this.buffer.length&&(i=t.shift(),o=t[t.length-1],t.push(i),i.update(this.content(this.offset+this.itemCount)),u.offset++,i.below(o),u._resize())))},content:function(n){return this.buffer.at(n)},destroy:function(){this.unbind()},_resize:function(){var n=this.items,t=0,i=0,r=n[0],u=n[n.length-1];r&&(t=r.top,i=u.bottom);this.trigger("resize",{top:t,bottom:i});this.footer&&this.footer.below(u)}});t.mobile.ui.VirtualList=g;var gt=t.Class.extend({init:function(t,i){var r=t.append([i],!0)[0],u=r.offsetHeight;n.extend(this,{top:0,element:r,listView:t,height:u,bottom:u})},update:function(n){this.element=this.listView.setDataItem(this.element,n)},above:function(n){n&&(this.height=this.element.offsetHeight,this.top=n.top-this.height,this.bottom=n.top,v(this.element,this.top))},below:function(n){n&&(this.height=this.element.offsetHeight,this.top=n.bottom,this.bottom=this.top+this.height,v(this.element,this.top))},destroy:function(){t.destroy(this.element);n(this.element).remove()}}),nt='<div><span class="km-icon"><\/span><span class="km-loading-left"><\/span><span class="km-loading-right"><\/span><\/div>',tt=t.Class.extend({init:function(t){this.element=n('<li class="km-load-more km-scroller-refresh" style="display: none"><\/li>').appendTo(t.element);this._loadIcon=n(nt).appendTo(this.element)},enable:function(){this.element.show();this.height=this.element.outerHeight(!0)},disable:function(){this.element.hide();this.height=0},below:function(n){n&&(this.top=n.bottom,this.bottom=this.height+this.top,v(this.element,this.top))}}),ni=tt.extend({init:function(t,i){this._loadIcon=n(nt).hide();this._loadButton=n('<a class="km-load">'+t.options.messages.loadMoreText+"<\/a>").hide();this.element=n('<li class="km-load-more" style="display: none"><\/li>').append(this._loadIcon).append(this._loadButton).appendTo(t.element);var r=this;this._loadButton.kendoMobileButton().data("kendoMobileButton").bind("click",function(){r._hideShowButton();i.next()});i.bind("resize",function(){r._showLoadButton()});this.height=this.element.outerHeight(!0);this.disable()},_hideShowButton:function(){this._loadButton.hide();this.element.addClass("km-scroller-refresh");this._loadIcon.css("display","block")},_showLoadButton:function(){this._loadButton.show();this.element.removeClass("km-scroller-refresh");this._loadIcon.hide()}}),ti=t.Class.extend({init:function(n){var t=this;this.chromeHeight=n.wrapper.children().not(n.element).outerHeight()||0;this.listView=n;this.scroller=n.scroller();this.options=n.options;n.bind("_dataSource",function(n){t.setDataSource(n.dataSource,n.empty)});n.bind("resize",function(){t.list.items.length&&(t.scroller.reset(),t.buffer.range(0),t.list.refresh())});this.scroller.makeVirtual();this.scroller.bind("scroll",function(n){t.list.update(n.scrollTop)});this.scroller.bind("scrollEnd",function(n){t.list.batchUpdate(n.scrollTop)})},destroy:function(){this.list.unbind();this.buffer.unbind()},setDataSource:function(i,r){var s=this,l=this.options,e=this.listView,h=e.scroller(),a=l.loadMore,c,f,o,u;if(this.dataSource=i,c=i.pageSize()||l.virtualViewSize,!c&&!r)throw new Error("the DataSource does not have page size configured. Page Size setting is mandatory for the mobile listview virtual scrolling to work as expected.");this.buffer&&this.buffer.destroy();f=new t.data.Buffer(i,Math.floor(c/2),a);o=a?new ni(e,f):new tt(e);this.list&&this.list.destroy();u=new g({buffer:f,footer:o,item:function(n){return new gt(e,n)},height:function(){return h.height()}});u.bind("resize",function(){s.updateScrollerSize()});u.bind("reset",function(){s.footer.enable()});u.bind("endReached",function(){o.disable();s.updateScrollerSize()});f.bind("expand",function(){u.lastDirection=!1;u.batchUpdate(h.scrollTop)});n.extend(this,{buffer:f,scroller:h,list:u,footer:o})},updateScrollerSize:function(){this.scroller.virtualSize(0,this.list.totalHeight()+this.chromeHeight)},refresh:function(){this.list.refresh()},reset:function(){this.buffer.range(0);this.list.refresh()}}),ii=t.Class.extend({init:function(n){var i=this,t;this.listView=n;this.options=n.options;t=this;this._refreshHandler=function(n){t.refresh(n)};this._progressHandler=function(){n.showLoading()};n.bind("_dataSource",function(n){i.setDataSource(n.dataSource)})},destroy:function(){this._unbindDataSource()},reset:function(){},refresh:function(n){var u=n&&n.action,r=n&&n.items,t=this.listView,v=this.dataSource,y=this.options.appendOnRefresh,f=v.view(),p=v.group(),e=p&&p[0],s,h,o,l,b,k,a;if(u==="itemchange"){s=t.findByDataItem(r)[0];s&&t.setDataItem(s,r[0]);return}if(b=u==="add"&&!e||y&&!t._filter,k=u==="remove"&&!e,b?h=[]:k&&(h=t.findByDataItem(r)),t.trigger(w,{action:u||"rebind",items:r,removedItems:h,index:n&&n.index})){this._shouldShowLoading()&&t.hideLoading();return}u!=="add"||e?u!=="remove"||e?e?t.replaceGrouped(f):y&&!t._filter?(o=t.prepend(f),l=f):t.replace(f):(o=[],t.remove(r)):(a=f.indexOf(r[0]),a>-1&&(o=t.insertAt(r,a),l=r));this._shouldShowLoading()&&t.hideLoading();t.trigger(c,{ns:i,addedItems:o,addedDataItems:l})},setDataSource:function(n){this.dataSource&&this._unbindDataSource();this.dataSource=n;n.bind(b,this._refreshHandler);this._shouldShowLoading()&&this.dataSource.bind(k,this._progressHandler)},_unbindDataSource:function(){this.dataSource.unbind(b,this._refreshHandler).unbind(k,this._progressHandler)},_shouldShowLoading:function(){var n=this.options;return!n.pullToRefresh&&!n.loadMore&&!n.endlessScroll}}),ri=t.Class.extend({init:function(n){var i=this,t=n.options.filterable,r="change paste";this.listView=n;this.options=t;n.element.before(ct({placeholder:t.placeholder||"Search..."}));t.autoFilter!==!1&&(r+=" keyup");this.element=n.wrapper.find(".km-search-form");this.searchInput=n.wrapper.find("input[type=search]").closest("form").on("submit"+e,function(n){n.preventDefault()}).end().on("focus"+e,function(){i._oldFilter=i.searchInput.val()}).on(r.split(" ").join(e+" ")+e,u(this._filterChange,this));this.clearButton=n.wrapper.find(".km-filter-reset").on(a,u(this,"_clearFilter")).hide()},_search:function(n){this._filter=!0;this.clearButton[n?"show":"hide"]();this.listView.dataSource.filter(n)},_filterChange:function(n){var t=this;n.type=="paste"&&this.options.autoFilter!==!1?setTimeout(function(){t._applyFilter()},1):this._applyFilter()},_applyFilter:function(){var t=this.options,n=this.searchInput.val(),i=n.length?{field:t.field,operator:t.operator||"startsWith",ignoreCase:t.ignoreCase,value:n}:null;n!==this._oldFilter&&(this._oldFilter=n,this._search(i))},_clearFilter:function(n){this.searchInput.val("");this._search(null);n.preventDefault()}}),ui=h.extend({init:function(n,r){var u=this;h.fn.init.call(this,n,r);n=this.element;r=this.options;r.scrollTreshold&&(r.scrollThreshold=r.scrollTreshold);n.on("down",y,"_highlight").on("move up cancel",y,"_dim");this._userEvents=new t.UserEvents(n,{filter:ut,allowSelection:!0,tap:function(n){u._click(n)}});n.css("-ms-touch-action","auto");n.wrap(ht);this.wrapper=this.element.parent();this._headerFixer=new bt(this);this._itemsCache={};this._templates();this.virtual=r.endlessScroll||r.loadMore;this._style();this.options.filterable&&(this._filter=new ri(this));this._itemBinder=this.virtual?new ti(this):new ii(this);this.options.pullToRefresh&&(this._pullToRefreshHandler=new dt(this));this.setDataSource(r.dataSource);this._enhanceItems(this.items());t.notify(this,i)},events:[a,w,c,l],options:{name:"ListView",style:"",type:"flat",autoBind:!0,fixedHeaders:!1,template:"#:data#",headerTemplate:'<span class="km-text">#:value#<\/span>',appendOnRefresh:!1,loadMore:!1,endlessScroll:!1,scrollThreshold:30,pullToRefresh:!1,messages:{loadMoreText:"Press to load more",pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},pullOffset:140,filterable:!1,virtualViewSize:null},refresh:function(){this._itemBinder.refresh()},reset:function(){this._itemBinder.reset()},setDataSource:function(n){var t=!n;this.dataSource=rt.create(n);this.trigger("_dataSource",{dataSource:this.dataSource,empty:t});this.options.autoBind&&!t&&(this.items().remove(),this.dataSource.fetch())},destroy:function(){h.fn.destroy.call(this);t.destroy(this.element);this._userEvents.destroy();this._itemBinder&&this._itemBinder.destroy();this.element.unwrap();delete this.element;delete this.wrapper;delete this._userEvents},items:function(){return this.options.type==="group"?this.element.find(".km-list").children():this.element.children().not(".km-load-more")},scroller:function(){return this._scrollerInstance||(this._scrollerInstance=this.element.closest(".km-scroll-wrapper").data("kendoMobileScroller")),this._scrollerInstance},showLoading:function(){var n=this.view();n&&n.loader&&n.loader.show()},hideLoading:function(){var n=this.view();n&&n.loader&&n.loader.hide()},insertAt:function(n,t,r){var u=this;return u._renderItems(n,function(f){if(t===0?u.element.prepend(f):t===-1?u.element.append(f):u.items().eq(t-1).after(f),r)for(var e=0;e<f.length;e++)u.trigger(l,{item:f.eq(e),data:n[e],ns:i})})},append:function(n,t){return this.insertAt(n,-1,t)},prepend:function(n,t){return this.insertAt(n,0,t)},replace:function(n){return this.options.type="flat",this._angularItems("cleanup"),this.element.empty(),this._style(),this.insertAt(n,0)},replaceGrouped:function(i){this.options.type="group";this._angularItems("cleanup");this.element.empty();var r=n(t.render(this.groupTemplate,i));this._enhanceItems(r.children("ul").children("li"));this.element.append(r);s.init(r);this._style();this._angularItems("compile")},remove:function(n){var i=this.findByDataItem(n);this.angular("cleanup",function(){return{elements:i}});t.destroy(i);i.remove()},findByDataItem:function(n){for(var r=[],i=0,u=n.length;i<u;i++)r[i]="[data-"+t.ns+"uid="+n[i].uid+"]";return this.element.find(r.join(","))},setDataItem:function(r,u){var f=this,e=function(e){var o=n(e[0]);t.destroy(r);n(r).replaceWith(o);f.trigger(l,{item:o,data:u,ns:i})};return this._renderItems([u],e)[0]},_renderItems:function(i,r){var u=n(t.render(this.template,i));return this.angular("compile",function(){return{elements:u,data:i.map(function(n){return{dataItem:n}})}}),r(u),s.init(u),this._enhanceItems(u),u},_dim:function(n){this._toggle(n,!1)},_highlight:function(n){this._toggle(n,!0)},_toggle:function(t,i){if(!(t.which>1)){var u=n(t.currentTarget),f=u.parent(),e=r(u,"role")||"",o=!e.match(at),s=t.isDefaultPrevented();o&&f.toggleClass(et,i&&!s)}},_templates:function(){var n=this.options.template,i=this.options.headerTemplate,f={},r={};typeof n===d&&(f.template=n,n="#=this.template(data)#");this.template=u(t.template('<li data-uid="#=arguments[0].uid || ""#">'+n+"<\/li>"),f);r.template=this.template;typeof i===d&&(r._headerTemplate=i,i="#=this._headerTemplate(data)#");r.headerTemplate=t.template(i);this.groupTemplate=u(st,r)},_click:function(r){if(!(r.event.which>1)&&!r.event.isDefaultPrevented()){var u,f=r.target,e=n(r.event.target),s=e.closest(t.roleSelector("button","detailbutton","backbutton")),h=t.widgetInstance(s,i),o=f.attr(t.attr("uid"));o&&(u=this.dataSource.getByUid(o));this.trigger(a,{target:e,item:f,dataItem:u,button:h})&&r.preventDefault()}},_styleGroups:function(){var t=this.element.children();t.children("ul").addClass("km-list");t.each(function(){var i=n(this),t=i.contents().first();i.addClass("km-group-container");t.is("ul")||t.is("div."+f)||t.wrap(ot)})},_style:function(){var r=this.options,n=r.type==="group",i=this.element,t=r.style==="inset";i.addClass("km-listview").toggleClass("km-list",!n).toggleClass("km-virtual-list",this.virtual).toggleClass("km-listinset",!n&&t).toggleClass("km-listgroup",n&&!t).toggleClass("km-listgroupinset",n&&t);i.parents(".km-listview")[0]||i.closest(".km-content").toggleClass("km-insetcontent",t);n&&this._styleGroups();this.trigger(p)},_enhanceItems:function(t){t.each(function(){var r=n(this),t,i=!1;r.children().each(function(){t=n(this);t.is("a")?(pt(t),i=!0):t.is("label")&&(wt(t),i=!0)});i||yt(r)})}});i.plugin(ui)}(window.kendo.jQuery),function(n){function u(i,r){var u=r.find("["+t.attr("align")+"="+i+"]");if(u[0])return n('<div class="km-'+i+'item" />').append(u).prependTo(r)}function f(t){var i=t.siblings(),r=!!t.children("ul")[0],u=!!i[0]&&n.trim(t.text())==="";t.prevAll().toggleClass("km-absolute",r);t.toggleClass("km-show-title",u);t.toggleClass("km-fill-title",u&&!n.trim(t.html()));t.toggleClass("km-no-title",r);t.toggleClass("km-hide-title",t.css("visibility")=="hidden"&&!i.children().is(":visible"))}var t=window.kendo,e=t.mobile,r=e.ui,i=r.Widget,o=i.extend({init:function(t,r){var f=this;i.fn.init.call(f,t,r);t=f.element;f.container().bind("show",n.proxy(this,"refresh"));t.addClass("km-navbar").wrapInner(n('<div class="km-view-title km-show-title" />'));f.leftElement=u("left",t);f.rightElement=u("right",t);f.centerElement=t.find(".km-view-title")},options:{name:"NavBar"},title:function(n){this.element.find(t.roleSelector("view-title")).text(n);f(this.centerElement)},refresh:function(n){var t=n.view;t.options.title?this.title(t.options.title):f(this.centerElement)},destroy:function(){i.fn.destroy.call(this);t.destroy(this.element)}});r.plugin(o)}(window.kendo.jQuery),function(n,t){var i=window.kendo,lt=i.mobile,d=lt.ui,r=n.proxy,s=i.effects.Transition,at=i.ui.Pane,vt=i.ui.PaneDimensions,y=d.DataBoundWidget,g=i.data.DataSource,yt=i.data.Buffer,pt=i.data.BatchBuffer,e=Math,h=e.abs,c=e.ceil,nt=e.round,wt=e.max,bt=e.min,tt=e.floor,u="change",l="changing",f="refresh",p="km-current-page",it="km-virtual-page",rt="function",w="itemChange",ut="cleanup",kt=3,dt=-1,gt=0,ni=1,a=-1,ti=0,v=1,ft=i.Class.extend({init:function(t){var i=this,e=n("<ol class='km-pages'/>");t.element.append(e);this._changeProxy=r(i,"_change");this._refreshProxy=r(i,"_refresh");t.bind(u,this._changeProxy);t.bind(f,this._refreshProxy);n.extend(i,{element:e,scrollView:t})},items:function(){return this.element.children()},_refresh:function(n){for(var t="",i=0;i<n.pageCount;i++)t+="<li/>";this.element.html(t);this.items().eq(n.page).addClass(p)},_change:function(n){this.items().removeClass(p).eq(n.page).addClass(p)},destroy:function(){this.scrollView.unbind(u,this._changeProxy);this.scrollView.unbind(f,this._refreshProxy);this.element.remove()}}),b,o,k,ct;i.mobile.ui.ScrollViewPager=ft;var et="transitionEnd",ot="dragStart",st="dragEnd",ht=i.Observable.extend({init:function(t,r){var f=this,o,l,e,c,a,v;i.Observable.fn.init.call(this);this.element=t;this.container=t.parent();o=new i.ui.Movable(f.element);l=new s({axis:"x",movable:o,onEnd:function(){f.trigger(et)}});e=new i.UserEvents(t,{start:function(n){h(n.x.velocity)*2>=h(n.y.velocity)?e.capture():e.cancel();f.trigger(ot,n);l.cancel()},allowSelection:!0,end:function(n){f.trigger(st,n)}});c=new vt({element:f.element,container:f.container});a=c.x;a.bind(u,function(){f.trigger(u)});v=new at({dimensions:c,userEvents:e,movable:o,elastic:!0});n.extend(f,{duration:r&&r.duration||1,movable:o,transition:l,userEvents:e,dimensions:c,dimension:a,pane:v});this.bind([et,ot,st,u],r)},size:function(){return{width:this.dimensions.x.getSize(),height:this.dimensions.y.getSize()}},total:function(){return this.dimension.getTotal()},offset:function(){return-this.movable.x},updateDimension:function(){this.dimension.update(!0)},refresh:function(){this.dimensions.refresh()},moveTo:function(n){this.movable.moveAxis("x",-n)},transitionTo:function(n,t,i){i?this.moveTo(-n):this.transition.moveTo({location:n,duration:this.duration,ease:t})}});i.mobile.ui.ScrollViewElasticPane=ht;b=i.Observable.extend({init:function(n,t,r){var u=this;i.Observable.fn.init.call(this);u.element=n;u.pane=t;u._getPages();this.page=0;this.pageSize=r.pageSize||1;this.contentHeight=r.contentHeight;this.enablePager=r.enablePager},scrollTo:function(n,t){this.page=n;this.pane.transitionTo(-n*this.pane.size().width,s.easeOutExpo,t)},paneMoved:function(n,t,i,r){var u=this,f=u.pane,l=f.size().width*u.pageSize,o=nt,y=t?s.easeOutBack:s.easeOutExpo,h,e;n===a?o=c:n===v&&(o=tt);e=o(f.offset()/l);h=wt(u.minSnap,bt(-e*l,u.maxSnap));e!=u.page&&i&&i({currentPage:u.page,nextPage:e})&&(h=-u.page*f.size().width);f.transitionTo(h,y,r)},updatePage:function(){var n=this.pane,t=nt(n.offset()/n.size().width);return t!=this.page?(this.page=t,!0):!1},forcePageUpdate:function(){return this.updatePage()},resizeTo:function(n){var r=this.pane,t=n.width,i,u;this.pageElements.width(t);this.contentHeight==="100%"&&(i=this.element.parent().height(),this.enablePager===!0&&(u=this.element.parent().find("ol.km-pages"),u.length&&(i-=u.outerHeight(!0))),this.element.css("height",i),this.pageElements.css("height",i));r.updateDimension();this._paged||(this.page=tt(r.offset()/t));this.scrollTo(this.page,!0);this.pageCount=c(r.total()/t);this.minSnap=-(this.pageCount-1)*t;this.maxSnap=0},_getPages:function(){this.pageElements=this.element.find(i.roleSelector("page"));this._paged=this.pageElements.length>0}});i.mobile.ui.ScrollViewContent=b;o=i.Observable.extend({init:function(n,t,r){var u=this;i.Observable.fn.init.call(this);u.element=n;u.pane=t;u.options=r;u._templates();u.page=r.page||0;u.pages=[];u._initPages();u.resizeTo(u.pane.size());u.pane.dimension.forceEnabled()},setDataSource:function(n){this.dataSource=g.create(n);this._buffer();this._pendingPageRefresh=!1;this._pendingWidgetRefresh=!1},_viewShow:function(){var n=this;n._pendingWidgetRefresh&&(setTimeout(function(){n._resetPages()},0),n._pendingWidgetRefresh=!1)},_buffer:function(){var n=this.options.itemsPerPage;this.buffer&&this.buffer.destroy();this.buffer=n>1?new pt(this.dataSource,n):new yt(this.dataSource,n*3);this._resizeProxy=r(this,"_onResize");this._resetProxy=r(this,"_onReset");this._endReachedProxy=r(this,"_onEndReached");this.buffer.bind({resize:this._resizeProxy,reset:this._resetProxy,endreached:this._endReachedProxy})},_templates:function(){var n=this.options.template,t=this.options.emptyTemplate,u={},f={};typeof n===rt&&(u.template=n,n="#=this.template(data)#");this.template=r(i.template(n),u);typeof t===rt&&(f.emptyTemplate=t,t="#=this.emptyTemplate(data)#");this.emptyTemplate=r(i.template(t),f)},_initPages:function(){for(var i=this.pages,r=this.element,n,t=0;t<kt;t++)n=new k(r),i.push(n);this.pane.updateDimension()},resizeTo:function(n){for(var t,u,i=this.pages,f=this.pane,r=0;r<i.length;r++)i[r].setWidth(n.width);this.options.contentHeight==="auto"?this.element.css("height",this.pages[1].element.height()):this.options.contentHeight==="100%"&&(t=this.element.parent().height(),this.options.enablePager===!0&&(u=this.element.parent().find("ol.km-pages"),u.length&&(t-=u.outerHeight(!0))),this.element.css("height",t),i[0].element.css("height",t),i[1].element.css("height",t),i[2].element.css("height",t));f.updateDimension();this._repositionPages();this.width=n.width},scrollTo:function(n){var t=this.buffer,i;(t.syncDataSource(),i=t.at(n),i)&&(this._updatePagesContent(n),this.page=n)},paneMoved:function(n,t,r,u){var f=this,h=f.pane,y=h.size().width,s=h.offset(),c=Math.abs(s)>=y/3,p=t?i.effects.Transition.easeOutBack:i.effects.Transition.easeOutExpo,l=f.page+2>f.buffer.total(),o,e=0;n===v?f.page!==0&&(e=-1):n!==a||l?s>0&&c&&!l?e=1:s<0&&c&&f.page!==0&&(e=-1):e=1;o=f.page;e&&(o=e>0?o+1:o-1);r&&r({currentPage:f.page,nextPage:o})&&(e=0);e===0?f._cancelMove(p,u):e===-1?f._moveBackward(u):e===1&&f._moveForward(u)},updatePage:function(){var n=this.pages;return this.pane.offset()===0?!1:(this.pane.offset()>0?(n.push(this.pages.shift()),this.page++,this.setPageContent(n[2],this.page+1)):(n.unshift(this.pages.pop()),this.page--,this.setPageContent(n[0],this.page-1)),this._repositionPages(),this._resetMovable(),!0)},forcePageUpdate:function(){var n=this.pane.offset(),t=this.pane.size().width*3/4;return h(n)>t?this.updatePage():!1},_resetMovable:function(){this.pane.moveTo(0)},_moveForward:function(n){this.pane.transitionTo(-this.width,i.effects.Transition.easeOutExpo,n)},_moveBackward:function(n){this.pane.transitionTo(this.width,i.effects.Transition.easeOutExpo,n)},_cancelMove:function(n,t){this.pane.transitionTo(0,n,t)},_resetPages:function(){this.page=this.options.page||0;this._updatePagesContent(this.page);this._repositionPages();this.trigger("reset")},_onResize:function(){this.pageCount=c(this.dataSource.total()/this.options.itemsPerPage);this._pendingPageRefresh&&(this._updatePagesContent(this.page),this._pendingPageRefresh=!1);this.trigger("resize")},_onReset:function(){this.pageCount=c(this.dataSource.total()/this.options.itemsPerPage);this._resetPages()},_onEndReached:function(){this._pendingPageRefresh=!0},_repositionPages:function(){var n=this.pages;n[0].position(dt);n[1].position(gt);n[2].position(ni)},_updatePagesContent:function(n){var t=this.pages,i=n||0;this.setPageContent(t[0],i-1);this.setPageContent(t[1],i);this.setPageContent(t[2],i+1)},setPageContent:function(t,r){var f=this.buffer,e=this.template,o=this.emptyTemplate,u=null;r>=0&&(u=f.at(r),n.isArray(u)&&!u.length&&(u=null));this.trigger(ut,{item:t.element});u!==null?t.content(e(u)):t.content(o({}));i.mobile.init(t.element);this.trigger(w,{item:t.element,data:u,ns:i.mobile.ui})}});i.mobile.ui.VirtualScrollViewContent=o;k=i.Class.extend({init:function(t){this.element=n("<div class='"+it+"'><\/div>");this.width=t.width();this.element.width(this.width);t.append(this.element)},content:function(n){this.element.html(n)},position:function(n){this.element.css("transform","translate3d("+this.width*n+"px, 0, 0)")},setWidth:function(n){this.width=n;this.element.width(n)}});i.mobile.ui.VirtualPage=k;ct=y.extend({init:function(n,t){var u=this,h,e,s;y.fn.init.call(u,n,t);t=u.options;n=u.element;i.stripWhitespace(n[0]);n.wrapInner("<div/>").addClass("km-scrollview");this.options.enablePager&&(this.pager=new ft(this));u.inner=n.children().first();u.page=0;u.inner.css("height",t.contentHeight);u.pane=new ht(u.inner,{duration:this.options.duration,transitionEnd:r(this,"_transitionEnd"),dragStart:r(this,"_dragStart"),dragEnd:r(this,"_dragEnd"),change:r(this,f)});u.bind("resize",function(){u.pane.refresh()});u.page=t.page;h=this.inner.children().length===0;e=h?new o(u.inner,u.pane,t):new b(u.inner,u.pane,t);e.page=u.page;e.bind("reset",function(){u._syncWithContent();u.trigger(f,{pageCount:e.pageCount,page:e.page})});e.bind("resize",function(){u.trigger(f,{pageCount:e.pageCount,page:e.page})});e.bind(w,function(n){u.trigger(w,n);u.angular("compile",function(){return{elements:n.item,data:[{dataItem:n.data}]}})});e.bind(ut,function(n){u.angular("cleanup",function(){return{elements:n.item}})});u._content=e;u.setDataSource(t.dataSource);s=u.container();s.nullObject?(u.viewInit(),u.viewShow()):s.bind("show",r(this,"viewShow")).bind("init",r(this,"viewInit"))},options:{name:"ScrollView",page:0,duration:400,velocityThreshold:.8,contentHeight:"auto",pageSize:1,itemsPerPage:1,bounceVelocityThreshold:1.6,enablePager:!0,autoBind:!0,template:"",emptyTemplate:""},events:[l,u,f],destroy:function(){y.fn.destroy.call(this);i.destroy(this.element)},viewInit:function(){this.options.autoBind&&this._content.scrollTo(this._content.page,!0)},viewShow:function(){this.pane.refresh()},refresh:function(){var n=this._content;n.resizeTo(this.pane.size());this.page=n.page;this.trigger(f,{pageCount:n.pageCount,page:n.page})},content:function(n){this.element.children().first().html(n);this._content._getPages();this.pane.refresh()},value:function(n){var t=this.dataSource;if(n)this.scrollTo(t.indexOf(n),!0);else return t.at(this.page)},scrollTo:function(n,t){this._content.scrollTo(n,t);this._syncWithContent()},prev:function(){var n=this,i=n.page-1;n._content instanceof o?n._content.paneMoved(v,t,function(t){return n.trigger(l,t)}):i>-1&&n.scrollTo(i)},next:function(){var n=this,i=n.page+1;n._content instanceof o?n._content.paneMoved(a,t,function(t){return n.trigger(l,t)}):i<n._content.pageCount&&n.scrollTo(i)},setDataSource:function(n){if(this._content instanceof o){var t=!n;this.dataSource=g.create(n);this._content.setDataSource(this.dataSource);this.options.autoBind&&!t&&this.dataSource.fetch()}},items:function(){return this.element.find("."+it)},_syncWithContent:function(){var i=this._content.pages,r=this._content.buffer,n,f;this.page=this._content.page;n=r?r.at(this.page):t;n instanceof Array||(n=[n]);f=i?i[1].element:t;this.trigger(u,{page:this.page,element:f,data:n})},_dragStart:function(){this._content.forcePageUpdate()&&this._syncWithContent()},_dragEnd:function(n){var u=this,t=n.x.velocity,r=this.options.velocityThreshold,i=ti,f=h(t)>this.options.bounceVelocityThreshold;t>r?i=v:t<-r&&(i=a);this._content.paneMoved(i,f,function(n){return u.trigger(l,n)})},_transitionEnd:function(){this._content.updatePage()&&this._syncWithContent()}});d.plugin(ct)}(window.kendo.jQuery),function(n,t){function p(n,t,i){return Math.max(t,Math.min(i,n))}var i=window.kendo,o=i.mobile.ui,u=o.Widget,a=i.support,s="change",h="km-switch-on",c="km-switch-off",f="margin-left",l="km-state-active",v="km-state-disabled",r="disabled",y=a.transitions.css+"transform",e=n.proxy,w='<span class="km-switch km-widget">        <span class="km-switch-wrapper"><span class="km-switch-background"><\/span><\/span>         <span class="km-switch-container"><span class="km-switch-handle" >             <span class="km-switch-label-on">{0}<\/span>             <span class="km-switch-label-off">{1}<\/span>         <\/span>     <\/span>',b=u.extend({init:function(t,e){var o=this,s;u.fn.init.call(o,t,e);e=o.options;o.wrapper=n(i.format(w,e.onLabel,e.offLabel));o.handle=o.wrapper.find(".km-switch-handle");o.background=o.wrapper.find(".km-switch-background");o.wrapper.insertBefore(o.element).prepend(o.element);o._drag();o.origin=parseInt(o.background.css(f),10);o.constrain=0;o.snapPoint=0;t=o.element[0];t.type="checkbox";o._animateBackground=!0;s=o.options.checked;s===null&&(s=t.checked);o.check(s);o.options.enable=o.options.enable&&!o.element.attr(r);o.enable(o.options.enable);o.refresh();i.notify(o,i.mobile.ui)},refresh:function(){var n=this,t=n.handle.outerWidth(!0);n.width=n.wrapper.width();n.constrain=n.width-t;n.snapPoint=n.constrain/2;typeof n.origin!="number"&&(n.origin=parseInt(n.background.css(f),10));n.background.data("origin",n.origin);n.check(n.element[0].checked)},events:[s],options:{name:"Switch",onLabel:"on",offLabel:"off",checked:null,enable:!0},check:function(n){var i=this,r=i.element[0];if(n===t)return r.checked;i._position(n?i.constrain:0);r.checked=n;i.wrapper.toggleClass(h,n).toggleClass(c,!n)},value:function(){return this.check.apply(this,arguments)},destroy:function(){u.fn.destroy.call(this);this.userEvents.destroy()},toggle:function(){var n=this;n.check(!n.element[0].checked)},enable:function(n){var t=this.element,i=this.wrapper;typeof n=="undefined"&&(n=!0);this.options.enable=n;n?t.removeAttr(r):t.attr(r,r);i.toggleClass(v,!n)},_resize:function(){this.refresh()},_move:function(n){var t=this;n.preventDefault();t._position(p(t.position+n.x.delta,0,t.width-t.handle.outerWidth(!0)))},_position:function(n){var t=this;t.position=n;t.handle.css(y,"translatex("+n+"px)");t._animateBackground&&t.background.css(f,t.origin+n)},_start:function(){this.options.enable?(this.userEvents.capture(),this.handle.addClass(l)):this.userEvents.cancel()},_stop:function(){var n=this;n.handle.removeClass(l);n._toggle(n.position>n.snapPoint)},_toggle:function(n){var t=this,e=t.handle,u=t.element[0],o=u.checked,f=i.mobile.application&&i.mobile.application.os.wp?100:200,r;t.wrapper.toggleClass(h,n).toggleClass(c,!n);t.position=r=n*t.constrain;t._animateBackground&&t.background.kendoStop(!0,!0).kendoAnimate({effects:"slideMargin",offset:r,reset:!0,reverse:!n,axis:"left",duration:f});e.kendoStop(!0,!0).kendoAnimate({effects:"slideTo",duration:f,offset:r+"px,0",reset:!0,complete:function(){o!==n&&(u.checked=n,t.trigger(s,{checked:n}))}})},_drag:function(){var n=this;n.userEvents=new i.UserEvents(n.wrapper,{tap:function(){n.options.enable&&n._toggle(!n.element[0].checked)},start:e(n._start,n),move:e(n._move,n),end:e(n._stop,n)})}});o.plugin(b)}(window.kendo.jQuery),function(n){function e(t){return n('<span class="km-badge">'+t+"<\/span>")}var t=window.kendo,r=t.mobile.ui,u=r.Widget,i="km-state-active",f="select",o=u.extend({init:function(t,r){var f=this;u.fn.init.call(f,t,r);f.container().bind("show",n.proxy(this,"refresh"));f.element.addClass("km-tabstrip").find("a").each(f._buildButton).eq(f.options.selectedIndex).addClass(i);f.element.on("down","a","_release")},events:[f],switchTo:function(t){var i=this.element.find("a"),r,u,f=0,e=i.length;if(isNaN(t)){for(;f<e;f++)if(r=i[f],u=r.href.replace(/(\#.+)(\?.+)$/,"$1"),u.indexOf(t,u.length-t.length)!==-1)return this._setActiveItem(n(r)),!0}else return this._setActiveItem(i.eq(t)),!0;return!1},switchByFullUrl:function(n){var t;t=this.element.find("a[href$='"+n+"']");this._setActiveItem(t)},clear:function(){this.currentItem().removeClass(i)},currentItem:function(){return this.element.children("."+i)},badge:function(t,i){var u=this.element,r;return(isNaN(t)||(t=u.children().get(t)),t=u.find(t),r=n(t.find(".km-badge")[0]||e(i).insertAfter(t.children(".km-icon"))),i||i===0)?(r.html(i),this):i===!1?(r.empty().remove(),this):r.html()},_release:function(t){if(!(t.which>1)){var i=this,r=n(t.currentTarget);r[0]!==i.currentItem()[0]&&(i.trigger(f,{item:r})?t.preventDefault():i._setActiveItem(r))}},_setActiveItem:function(n){n[0]&&(this.clear(),n.addClass(i))},_buildButton:function(){var i=n(this),o=t.attrValue(i,"icon"),r=t.attrValue(i,"badge"),u=i.find("img"),f=n('<span class="km-icon"/>');i.addClass("km-button").attr(t.attr("role"),"tab").contents().not(u).wrapAll('<span class="km-text"/>');u[0]?u.addClass("km-image").prependTo(i):(i.prepend(f),o&&(f.addClass("km-"+o),(r||r===0)&&e(r).insertAfter(f)))},refresh:function(n){var i=n.view.element.attr(t.attr("url"));!this.switchTo(n.view.id)&&i&&this.switchTo(i)},options:{name:"TabStrip",selectedIndex:0,enable:!0}});r.plugin(o)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()});
//# sourceMappingURL=kendo.dataviz.mobile.min.js.map
