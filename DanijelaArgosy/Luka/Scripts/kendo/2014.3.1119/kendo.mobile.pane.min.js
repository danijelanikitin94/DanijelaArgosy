(function(n,t){t(["./kendo.mobile.view","./kendo.mobile.loader"],n)})(function(){return function(n){var t=window.kendo,u=t.mobile,i=t.roleSelector,r=u.ui,e=r.Widget,d=u.ViewEngine,l=r.View,g=u.ui.Loader,a="external",o="href",v="#!",y="navigate",p="viewShow",s="sameViewRequested",h=t.support.mobileOS,w=h.ios&&!h.appMode&&h.flatVersion>=700,nt=/popover|actionsheet|modalview|drawer/,tt="#:back",f=t.attrValue,b="button backbutton detailbutton listview-link",k="tab",c=e.extend({init:function(n,i){var r=this;e.fn.init.call(r,n,i);i=r.options;n=r.element;n.addClass("km-pane");r.options.collapsible&&n.addClass("km-collapsible-pane");this.history=[];this.historyCallback=function(n,t,i){var u=r.transition;return r.transition=null,w&&i&&(u="none"),r.viewEngine.showView(n,u,t)};this._historyNavigate=function(n){if(n===tt){if(r.history.length===1)return;r.history.pop();n=r.history[r.history.length-1]}else r.history.push(n);r.historyCallback(n,t.parseQueryStringParams(n))};this._historyReplace=function(n){var i=t.parseQueryStringParams(n);r.history[r.history.length-1]=n;r.historyCallback(n,i)};r.loader=new g(n,{loading:r.options.loading});r.viewEngine=new d({container:n,transition:i.transition,modelScope:i.modelScope,rootNeeded:!i.initial,serverNavigation:i.serverNavigation,remoteViewURLPrefix:i.root||"",layout:i.layout,$angular:i.$angular,loader:r.loader,showStart:function(){r.loader.transition();r.closeActiveDialogs()},after:function(){r.loader.transitionDone()},viewShow:function(n){r.trigger(p,n)},loadStart:function(){r.loader.show()},loadComplete:function(){r.loader.hide()},sameViewRequested:function(){r.trigger(s)},viewTypeDetermined:function(n){n.remote&&r.options.serverNavigation||r.trigger(y,{url:n.url})}});this._setPortraitWidth();t.onResize(function(){r._setPortraitWidth()});r._setupAppLinks()},closeActiveDialogs:function(){var u=this.element.find(i("actionsheet popover modalview")).filter(":visible");u.each(function(){t.widgetInstance(n(this),r).close()})},navigateToInitial:function(){var n=this.options.initial;n&&this.navigate(n)},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:!1,initial:null,modelScope:window,loading:"<h1>Loading...<\/h1>"},events:[y,p,s],append:function(n){return this.viewEngine.append(n)},destroy:function(){e.fn.destroy.call(this);this.viewEngine.destroy();this.userEvents.destroy()},navigate:function(n,t){n instanceof l&&(n=n.id);this.transition=t;this._historyNavigate(n)},replace:function(n,t){n instanceof l&&(n=n.id);this.transition=t;this._historyReplace(n)},bindToRouter:function(n){var i=this,r=this.history,u=this.viewEngine;n.bind("init",function(i){var e=i.url,o=n.pushState?e:"/",f;u.rootView.attr(t.attr("url"),o);f=r.length;e==="/"&&f&&(n.navigate(r[f-1],!0),i.preventDefault())});n.bind("routeMissing",function(n){i.historyCallback(n.url,n.params,n.backButtonPressed)||n.preventDefault()});n.bind("same",function(){i.trigger(s)});i._historyNavigate=function(t){n.navigate(t)};i._historyReplace=function(t){n.replace(t)}},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},changeLoadingMessage:function(n){this.loader.changeMessage(n)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var n,i=this.options.portraitWidth;i&&(n=t.mobile.application.element.is(".km-vertical")?i:"auto",this.element.css("width",n))},_setupAppLinks:function(){var n=this;this.element.handler(this).on("down",i(k),"_mouseup").on("click",i(k+" "+b),"_appLinkClick");this.userEvents=new t.UserEvents(this.element,{filter:i(b),tap:function(t){t.event.currentTarget=t.touch.currentTarget;n._mouseup(t.event)}})},_appLinkClick:function(t){var i=n(t.currentTarget).attr("href"),r=i&&i[0]!=="#"&&this.options.serverNavigation;r||f(n(t.currentTarget),"rel")==a||t.preventDefault()},_mouseup:function(i){if(!(i.which>1)&&!i.isDefaultPrevented()){var c=this,e=n(i.currentTarget),y=f(e,"transition"),h=f(e,"rel")||"",l=f(e,"target"),s=e.attr(o),p=w&&e[0].offsetHeight===0,b=s&&s[0]!=="#"&&this.options.serverNavigation;p||b||h===a||typeof s=="undefined"||s===v||(e.attr(o,v),setTimeout(function(){e.attr(o,s)}),h.match(nt)?(t.widgetInstance(n(s),r).openFor(e),(h==="actionsheet"||h==="drawer")&&i.stopPropagation()):(l==="_top"?c=u.application.pane:l&&(c=n("#"+l).data("kendoMobilePane")),c.navigate(s,y)),i.preventDefault())}}});c.wrap=function(n){n.is(i("view"))||(n=n.wrap("<div data-"+t.ns+'role="view" data-stretch="true"><\/div>').parent());var u=n.wrap('<div class="km-pane-wrapper"><div><\/div><\/div>').parent(),r=new c(u);return r.navigate(""),r};r.plugin(c)}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()});
//# sourceMappingURL=kendo.mobile.pane.min.js.map
