(function(n,t){t(["./kendo.combobox","./kendo.dropdownlist","./kendo.window","./kendo.colorpicker","./kendo.imagebrowser","./kendo.filebrowser"],n)})(function(){return function(n,t){var i=window.kendo,p=i.Class,y=i.ui.Widget,h=i.support.mobileOS,f=i.support.browser,c=n.extend,u=n.proxy,d=i.deepExtend,r=".kendoEditor",l=i.keys,w=p.extend({init:function(n){this.options=n},getHtml:function(){var n=this.options;return i.template(n.template,{useWithBlock:!1})(n)}}),a={editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /><\/td><\/tr><tr><td class="k-editable-area" /><\/tr><\/tbody><\/table>',buttonTemplate:'<a href="" role="button" class="k-tool"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #"><span unselectable="on" class="k-tool-icon #= data.cssClass #">#= data.title #<\/span><\/a>',colorPickerTemplate:'<div class="k-colorpicker #= data.cssClass #" />',comboBoxTemplate:'<select title="#= data.title #" class="#= data.cssClass #" />',dropDownListTemplate:'<span class="k-editor-dropdown"><select title="#= data.title #" class="#= data.cssClass #" /><\/span>',separatorTemplate:'<span class="k-separator" />',formatByName:function(t,i){for(var r=0;r<i.length;r++)if(n.inArray(t,i[r].tags)>=0)return i[r]},registerTool:function(n,t){var i=t.options;i&&i.template&&(i.template.options.cssClass="k-"+n);t.name||(t.options.name=n,t.name=n.toLowerCase());e.defaultTools[n]=t},registerFormat:function(n,t){e.fn.options.formats[n]=t}},g=!h||h.ios&&h.flatVersion>=500||!h.ios&&typeof document.documentElement.contentEditable!="undefined",o={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],links:["createLink","unlink"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"]},e=y.extend({init:function(t,f){var e=this,a,o=i.ui.editor,s,h,l;if(g){y.fn.init.call(e,t,f);e.options=d({},e.options,f);t=e.element;l=o.Dom.name(t[0]);t.closest("form").on("submit"+r,function(){e.update()});h=c({},e.options);h.editor=e;l=="textarea"?(e._wrapTextarea(),s=e.wrapper.find(".k-editor-toolbar"),t[0].id&&s.attr("aria-controls",t[0].id)):(e.element.attr("contenteditable",!0).addClass("k-widget k-editor k-editor-inline"),h.popup=!0,s=n('<ul class="k-editor-toolbar" role="toolbar" />').insertBefore(t));e.toolbar=new o.Toolbar(s[0],h);e.toolbar.bindTo(e);l=="textarea"&&setTimeout(function(){var t=e.wrapper[0].style.height,n=parseInt(t,10),i=e.wrapper.height();t.indexOf("px")>0&&!isNaN(n)&&i>n&&e.wrapper.height(n-(i-n))});e._initializeContentElement(e);e.keyboard=new o.Keyboard([new o.TypingHandler(e),new o.BackspaceHandler(e),new o.SystemHandler(e)]);e.clipboard=new o.Clipboard(this);e.undoRedoStack=new o.UndoRedoStack;a=f&&f.value?f.value:e.textarea?t.val().replace(/[\r\n\v\f\t ]+/ig," "):t[0].innerHTML;e.value(a);n(document).on("mousedown",u(e._endTyping,e)).on("mouseup",u(e._mouseup,e));i.notify(e)}},_endTyping:function(){var n=this.keyboard;try{n.isTypingInProgress()&&(n.endTyping(!0),this.saveSelection())}catch(t){}},_selectionChange:function(){f.msie||i.ui.editor.Dom.ensureTrailingBreaks(this.body);this._selectionStarted=!1;this.saveSelection();this.trigger("select",{})},_wrapTextarea:function(){var i=this,t=i.element,u=t[0].style.width,f=t[0].style.height,e=a.editorWrapperTemplate,r=n(e).insertBefore(t).width(u).height(f),o=r.find(".k-editable-area");t.attr("autocomplete","off").appendTo(o).addClass("k-content k-raw-content").css("display","none");i.textarea=t;i.wrapper=r},_createContentElement:function(t){var f=this,r,e,u,o=f.textarea,h=f.options.domain,c=h||document.domain,s="",l='javascript:""';(h||c!=location.hostname)&&(s='<script>document.domain="'+c+'"<\/script>',l="javascript:document.write('"+s+"')");o.hide();r=n("<iframe />",{frameBorder:"0"})[0];n(r).css("display","").addClass("k-content").insertBefore(o);r.src=l;e=r.contentWindow||r;u=e.document||r.contentDocument;n(r).one("load",function(){f.toolbar.decorateFrom(u.body)});return u.open(),u.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;height:100%;min-height:100%;}body{font-size:12px;font-family:Verdana,Geneva,sans-serif;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(i.support.isRtl(o)?"direction:rtl;":"")+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}span{-ms-high-contrast-adjust:none;}a{color:#00a}code{font-size:1.23em}telerik\\3Ascript{display: none;}.k-table{table-layout:fixed;width:100%;border-spacing:0;margin: 0 0 1em;}.k-table td{min-width:1px;padding:.2em .3em;}.k-table,.k-table td{outline:0;border: 1px dotted #ccc;}.k-table p{margin:0;padding:0;}<\/style>"+s+"<script>(function(d,c){d[c]('header'),d[c]('article'),d[c]('nav'),d[c]('section'),d[c]('footer');})(document, 'createElement');<\/script>"+n.map(t,function(n){return"<link rel='stylesheet' href='"+n+"'>"}).join("")+"<\/head><body autocorrect='off' contenteditable='true'><\/body><\/html>"),u.close(),e},_blur:function(){var n=this.textarea,t=n?n.val():this._oldValue,i=this.options.encoded?this.encodedValue():this.value();this.update();n&&n.trigger("blur");i!=t&&this.trigger("change")},_initializeContentElement:function(){var t=this,e,o;if(t.textarea){t.window=t._createContentElement(t.options.stylesheets);e=t.document=t.window.contentDocument||t.window.document;t.body=e.body;o=t.window;n(e).on("mouseup"+r,u(t._mouseup,t))}else t.window=window,e=t.document=document,t.body=t.element[0],o=t.body,t.toolbar.decorateFrom(t.body);n(o).on("blur"+r,u(this._blur,this));try{e.execCommand("enableInlineTableEditing",null,!1)}catch(s){}if(i.support.touch)n(e).on("selectionchange"+r,u(this._selectionChange,this)).on("keydown"+r,function(){i._activeElement()!=e.body&&t.window.focus()});n(t.body).on("keydown"+r,function(n){var i,e;if(n.keyCode===l.F10){setTimeout(u(t.toolbar.focus,t.toolbar),100);n.preventDefault();return}if(n.keyCode==l.LEFT||n.keyCode==l.RIGHT){i=t.getRange();var r=n.keyCode==l.LEFT,o=i[r?"startContainer":"endContainer"],f=i[r?"startOffset":"endOffset"],s=r?-1:1;r&&(f-=1);f+s>0&&o.nodeType==3&&o.nodeValue[f]=="﻿"&&(i.setStart(o,f+s),i.collapse(!0),t.selectRange(i))}if(e=t.keyboard.toolFromShortcut(t.toolbar.tools,n),e)return n.preventDefault(),/^(undo|redo)$/.test(e)||t.keyboard.endTyping(!0),t.trigger("keydown",n),t.exec(e),!1;t.keyboard.clearTimeout();t.keyboard.keydown(n)}).on("keyup"+r,function(i){(n.inArray(i.keyCode,[8,9,33,34,35,36,37,38,39,40,40,45,46])>-1||i.keyCode==65&&i.ctrlKey&&!i.altKey&&!i.shiftKey)&&t._selectionChange();t.keyboard.keyup(i)}).on("mousedown"+r,function(i){if(t._selectionStarted=!0,!f.gecko){var r=n(i.target);(i.which==2||i.which==1&&i.ctrlKey)&&r.is("a[href]")&&window.open(r.attr("href"),"_new")}}).on("click"+r,function(n){var u=i.ui.editor.Dom,r;u.name(n.target)==="img"&&(r=t.createRange(),r.selectNode(n.target),t.selectRange(r))}).on("cut"+r+" paste"+r,function(n){t.clipboard["on"+n.type](n)}).on("focusin"+r,function(){n(this).addClass("k-state-active");t.toolbar.show();t.textarea&&t.selectRange(t.getRange())}).on("focusout"+r,function(){setTimeout(function(){var r=i._activeElement(),u=t.body,f=t.toolbar;r==u||n.contains(u,r)||n(r).is(".k-editortoolbar-dragHandle")||f.focused()||(n(u).removeClass("k-state-active"),f.hide())},10)})},_mouseup:function(){var n=this;n._selectionStarted&&setTimeout(function(){n._selectionChange()},1)},refresh:function(){var n=this;n.textarea&&(n.textarea.val(n.value()),n.wrapper.find("iframe").remove(),n._initializeContentElement(n),n.value(n.textarea.val()))},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:{bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertFile:"Insert file",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",fileWebAddress:"Web address",fileTitle:"Title",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogCancel:"Cancel",createTable:"Create table",createTableHint:"Create a {0} x {1} table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column"},formats:{},encoded:!0,domain:null,serialization:{entities:!0,scripts:!1},stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],o.basic,o.alignment,o.lists,o.indenting,o.links,["insertImage"],o.tables)},destroy:function(){var t=this;y.fn.destroy.call(t);n(t.window).add(t.document).add(t.body).add(t.wrapper).add(t.element.closest("form")).off(r);n(document).off("mousedown",u(t._endTyping,t)).off("mouseup",u(t._mouseup,t));t._focusOutside();t.toolbar.destroy();i.destroy(t.wrapper)},_focusOutside:function(){if(i.support.browser.msie&&this.textarea){var t=n("<input style='position:absolute;left:-10px;top:-10px;width:1px;height:1px;font-size:0;border:0;' />").appendTo(document.body).focus();t.blur().remove()}},state:function(n){var f=e.defaultTools[n],r=f&&(f.options.finder||f.finder),o=i.ui.editor.RangeUtils,u,t;return r?(u=this.getRange(),t=o.textNodes(u),!t.length&&u.collapsed&&(t=[u.startContainer]),r.getFormat?r.getFormat(t):r.isFormatted(t)):!1},value:function(n){var u=this.body,r=i.ui.editor,o=r.Dom,e=r.Serializer.domToXhtml(u,this.options.serialization);if(n===t)return e;n!=e&&(r.Serializer.htmlToDom(n,u),f.msie||i.ui.editor.Dom.ensureTrailingBreaks(this.body),this.selectionRestorePoint=null,this.update(),this.toolbar.refreshTools())},saveSelection:function(t){t=t||this.getRange();var r=t.commonAncestorContainer,u=this.body;(r==u||n.contains(u,r))&&(this.selectionRestorePoint=new i.ui.editor.RestorePoint(t))},_focusBody:function(){var n=this.body,f=this.wrapper&&this.wrapper.find("iframe")[0],t=this.document.documentElement,r=i._activeElement(),u;r!=n&&r!=f&&(u=t.scrollTop,n.focus(),t.scrollTop=u)},restoreSelection:function(){this._focusBody();this.selectionRestorePoint&&this.selectRange(this.selectionRestorePoint.toRange())},focus:function(){this.restoreSelection()},update:function(n){n=n||this.options.encoded?this.encodedValue():this.value();this.textarea?this.textarea.val(n):this._oldValue=n},encodedValue:function(){return i.ui.editor.Dom.encode(this.value())},createRange:function(n){return i.ui.editor.RangeUtils.createRange(n||this.document)},getSelection:function(){return i.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(n){this._focusBody();var t=this.getSelection();t.removeAllRanges();t.addRange(n);this.saveSelection(n)},getRange:function(){var t=this.getSelection(),n=t&&t.rangeCount>0?t.getRangeAt(0):this.createRange(),i=this.document;return n.startContainer!=i||n.endContainer!=i||n.startOffset||n.endOffset||(n.setStart(this.body,0),n.collapse(!0)),n},selectedHtml:function(){return i.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(n,t){this.clipboard.paste(n,t)},exec:function(n,t){var i=this,s,f,r=null,o;if(!n)throw new Error("kendoEditor.exec(): `name` parameter cannot be empty");if(n=n.toLowerCase(),i.keyboard.isTypingInProgress()||i.restoreSelection(),f=i.toolbar.toolById(n),!f)for(o in e.defaultTools)if(o.toLowerCase()==n){f=e.defaultTools[o];break}if(f){if(s=i.getRange(),f.command&&(r=f.command(c({range:s},t))),i.trigger("execute",{name:n,command:r}),/^(undo|redo)$/i.test(n))i.undoRedoStack[n]();else if(r&&(r.managesUndoRedo||i.undoRedoStack.push(r),r.editor=i,r.exec(),r.async)){r.change=u(i._selectionChange,i);return}i._selectionChange()}}}),s,b,k,v;e.defaultTools={undo:{options:{key:"Z",ctrl:!0}},redo:{options:{key:"Y",ctrl:!0}}};i.ui.plugin(e);s=p.extend({init:function(n){this.options=n},initialize:function(n,t){n.attr({unselectable:"on",title:t.title})},command:function(n){return new this.options.command(n)},update:n.noop});s.exec=function(n,t,i){n.exec(t,{value:i})};b=s.extend({init:function(n){s.fn.init.call(this,n)},command:function(n){var t=this;return new i.ui.editor.FormatCommand(c(n,{formatter:t.options.formatter}))},update:function(n,t){var i=this.options.finder.isFormatted(t);n.toggleClass("k-state-selected",i);n.attr("aria-pressed",i)}});a.registerTool("separator",new s({template:new w({template:a.separatorTemplate})}));k=f.msie&&f.version<9?"﻿":"";v='<br class="k-br" />';f.msie&&(f.version<10?v="﻿":f.version<11&&(v=" "));c(i.ui,{editor:{ToolTemplate:w,EditorUtils:a,Tool:s,FormatTool:b,_bomFill:k,emptyElementContent:v}})}(window.jQuery),function(n){function r(n){for(var i={},t=0,r=n.length;t<r;t++)i[n[t]]=!0;return i}var i=window.kendo,u=n.map,s=n.extend,f=i.support.browser,e="style",h="float",c="cssFloat",l="styleFloat",a="class",v="k-marker",y=r("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),p="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),o=p.concat(["ul","ol","li"]),w=r(o),b="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),k=r(b),nt=r("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),d=function(n){n.nodeType==1&&n.normalize()};f.msie&&f.version>=8&&(d=function(n){if(n.nodeType==1&&n.firstChild)for(var r=n.firstChild,i=r;;){if(i=i.nextSibling,!i)break;i.nodeType==3&&r.nodeType==3&&(i.nodeValue=r.nodeValue+i.nodeValue,t.remove(r));r=i}});var tt=/^\s+$/,it=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,rt=/\ufeff/g,ut=/^(\s+|\ufeff)$/,g,ft="color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height".split(","),et=/[<>\&]/g,ot=/[\u00A0-\u2666<>\&]/g,st={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"},t={block:w,inline:k,findNodeIndex:function(n,t){var i=0;if(!n)return-1;for(;;){if(n=n.previousSibling,!n)break;t&&n.nodeType==3||i++}return i},isDataNode:function(n){return n&&n.nodeValue!==null&&n.data!==null},isAncestorOf:function(i,r){try{return!t.isDataNode(i)&&(n.contains(i,t.isDataNode(r)?r.parentNode:r)||r.parentNode==i)}catch(u){return!1}},isAncestorOrSelf:function(n,i){return t.isAncestorOf(n,i)||n==i},findClosestAncestor:function(n,i){if(t.isAncestorOf(n,i))while(i&&i.parentNode!=n)i=i.parentNode;return i},getNodeLength:function(n){return t.isDataNode(n)?n.length:n.childNodes.length},splitDataNode:function(n,i){for(var u=n.cloneNode(!1),f="",r=n;r.nextSibling&&r.nextSibling.nodeType==3&&r.nextSibling.nodeValue;)f+=r.nextSibling.nodeValue,r=r.nextSibling;n.deleteData(i,n.length);u.deleteData(0,i);u.nodeValue+=f;t.insertAfter(u,n)},attrEquals:function(n,r){var u,f;for(u in r)if(f=n[u],u==h&&(f=n[i.support.cssFloat?c:l]),typeof f=="object"){if(!t.attrEquals(f,r[u]))return!1}else if(f!=r[u])return!1;return!0},blockParentOrBody:function(n){return t.parentOfType(n,o)||n.ownerDocument.body},blockParents:function(i){for(var f=[],u,r=0,e=i.length;r<e;r++)u=t.parentOfType(i[r],t.blockElements),u&&n.inArray(u,f)<0&&f.push(u);return f},windowFromDocument:function(n){return n.defaultView||n.parentWindow},normalize:d,blockElements:o,nonListBlockElements:p,inlineElements:b,empty:y,fillAttrs:nt,toHex:function(n){var t=it.exec(n);return t?"#"+u(t.slice(1),function(n){return n=parseInt(n,10).toString(16),n.length>1?n:"0"+n}).join(""):n},encode:function(n,t){var i=!t||t.entities?ot:et;return n.replace(i,function(n){var i=n.charCodeAt(0),t=st[i];return t?"&"+t+";":n})},stripBom:function(n){return(n||"").replace(rt,"")},insignificant:function(n){var i=n.attributes;return n.className=="k-marker"||t.is(n,"br")&&(n.className=="k-br"||i._moz_dirty||i._moz_editor_bogus_node)},emptyNode:function(i){var r=n.grep(i.childNodes,function(n){return t.is(n,"br")?!1:t.insignificant(n)||n.nodeType==3&&ut.test(n.nodeValue)||t.is(n,"p")&&t.emptyNode(n)?!1:!0});return!r.length},name:function(n){return n.nodeName.toLowerCase()},significantChildNodes:function(i){return n.grep(i.childNodes,function(n){return n.nodeType!=3||!t.isWhitespace(n)})},lastTextNode:function(n){var r=null,i;if(n.nodeType==3)return n;for(i=n.lastChild;i;i=i.previousSibling)if(r=t.lastTextNode(i),r)return r;return r},is:function(n,i){return t.name(n)==i},isMarker:function(n){return n.className==v},isWhitespace:function(n){return tt.test(n.nodeValue)},isBlock:function(n){return w[t.name(n)]},isEmpty:function(n){return y[t.name(n)]},isInline:function(n){return k[t.name(n)]},scrollContainer:function(n){var r=t.windowFromDocument(n),u=(r.contentWindow||r).document||r.ownerDocument||r;return i.support.browser.webkit||u.compatMode=="BackCompat"?u.body:u.documentElement},scrollTo:function(i){var r=n(t.isDataNode(i)?i.parentNode:i),s=t.windowFromDocument(i.ownerDocument),e=s.innerHeight,u,f,o=t.scrollContainer(i.ownerDocument);t.name(r[0])=="br"&&(r=r.parent());u=r.offset().top;f=r[0].offsetHeight;f+u>o.scrollTop+e&&(o.scrollTop=f+u-e)},persistScrollTop:function(n){g=t.scrollContainer(n).scrollTop},restoreScrollTop:function(n){t.scrollContainer(n).scrollTop=g},insertAt:function(n,t,i){n.insertBefore(t,n.childNodes[i]||null)},insertBefore:function(n,t){return t.parentNode?t.parentNode.insertBefore(n,t):t},insertAfter:function(n,t){return t.parentNode.insertBefore(n,t.nextSibling)},remove:function(n){n.parentNode.removeChild(n)},removeTextSiblings:function(n){for(var t=n.parentNode;n.nextSibling&&n.nextSibling.nodeType==3;)t.removeChild(n.nextSibling);while(n.previousSibling&&n.previousSibling.nodeType==3)t.removeChild(n.previousSibling)},trim:function(n){for(var i,r=n.childNodes.length-1;r>=0;r--)i=n.childNodes[r],t.isDataNode(i)?(t.stripBom(i.nodeValue).length||t.remove(i),t.isWhitespace(i)&&t.insertBefore(i,n)):i.className!=v&&(t.trim(i),i.childNodes.length||t.isEmpty(i)||t.remove(i));return n},closest:function(n,i){while(n&&t.name(n)!=i)n=n.parentNode;return n},sibling:function(n,t){do n=n[t];while(n&&n.nodeType!=1);return n},next:function(n){return t.sibling(n,"nextSibling")},prev:function(n){return t.sibling(n,"previousSibling")},parentOfType:function(n,i){do n=n.parentNode;while(n&&!t.ofType(n,i));return n},ofType:function(i,r){return n.inArray(t.name(i),r)>=0},changeTag:function(n,i,r){var u=t.create(n.ownerDocument,i),c=n.attributes,f,l,o,h,s;if(!r)for(f=0,l=c.length;f<l;f++)s=c[f],s.specified&&(o=s.nodeName,h=s.nodeValue,o==a?u.className=h:o==e?u.style.cssText=n.style.cssText:u.setAttribute(o,h));while(n.firstChild)u.appendChild(n.firstChild);return t.insertBefore(u,n),t.remove(n),u},editableParent:function(n){while(n&&(n.nodeType==3||n.contentEditable!=="true"))n=n.parentNode;return n},wrap:function(n,i){return t.insertBefore(i,n),i.appendChild(n),i},unwrap:function(n){for(var t=n.parentNode;n.firstChild;)t.insertBefore(n.firstChild,n);t.removeChild(n)},create:function(n,i,r){return t.attr(n.createElement(i),r)},attr:function(n,i){i=s({},i);i&&e in i&&(t.style(n,i.style),delete i.style);for(var r in i)i[r]===null?(n.removeAttribute(r),delete i[r]):r=="className"&&(n[r]=i[r]);return s(n,i)},style:function(t,i){n(t).css(i||{})},unstyle:function(n,t){for(var r in t)r==h&&(r=i.support.cssFloat?c:l),n.style[r]="";n.style.cssText===""&&n.removeAttribute(e)},inlineStyle:function(i,r,e){var o=n(t.create(i.ownerDocument,r,e)),s;return i.appendChild(o[0]),s=u(ft,function(n){return f.msie&&n=="line-height"&&o.css(n)=="1px"?"line-height:1.5":n+":"+o.css(n)}).join(";"),o.remove(),s},getEffectiveBackground:function(n){var i=n.css("background-color");return i.indexOf("rgba(0, 0, 0, 0")<0&&i!=="transparent"?i:n[0].tagName.toLowerCase()==="html"?"Window":t.getEffectiveBackground(n.parent())},removeClass:function(t,i){for(var r=" "+t.className+" ",f=i.split(" "),u=0,e=f.length;u<e;u++)r=r.replace(" "+f[u]+" "," ");r=n.trim(r);r.length?t.className=r:t.removeAttribute(a)},commonAncestor:function(){var t=arguments.length,r=[],e=Infinity,o=null,n,u,i,s,f;if(!t)return null;if(t==1)return arguments[0];for(n=0;n<t;n++){for(u=[],i=arguments[n];i;)u.push(i),i=i.parentNode;r.push(u.reverse());e=Math.min(e,u.length)}if(t==1)return r[0][0];for(n=0;n<e;n++){for(s=r[0][n],f=1;f<t;f++)if(s!=r[f][n])return o;o=s}return o},closestSplittableParent:function(i){var r,e,f;return r=i.length==1?t.parentOfType(i[0],["ul","ol"]):t.commonAncestor.apply(null,i),r||(r=t.parentOfType(i[0],["p","td"])||i[0].ownerDocument.body),t.isInline(r)&&(r=t.blockParentOrBody(r)),e=u(i,t.editableParent),f=t.commonAncestor(e)[0],n.contains(r,f)&&(r=f),r},closestEditable:function(i,r){var u=t.parentOfType(i,r),f=t.editableParent(i);return u&&f&&n.contains(u,f)?u=f:!u&&f&&(u=f),u},closestEditableOfType:function(n,i){var r=t.closestEditable(n,i);if(r&&t.ofType(r,i))return r},filter:function(n,i,r){for(var u=0,o=i.length,e=[],f;u<o;u++)f=t.name(i[u]),(!r&&f==n||r&&f!=n)&&e.push(i[u]);return e},ensureTrailingBreaks:function(i){var u=n(i).find("p,td,th"),f=u.length,r=0;if(f)for(;r<f;r++)t.ensureTrailingBreak(u[r]);else t.ensureTrailingBreak(i)},ensureTrailingBreak:function(n){var r=n.lastChild,i=r&&t.name(r),u;i&&(i=="br"||i=="img")&&(i!="br"||r.className=="k-br")||(u=n.ownerDocument.createElement("br"),u.className="k-br",n.appendChild(u))}};i.ui.editor.Dom=t}(window.kendo.jQuery),function(n,t){var u=window.kendo,e=u.ui.editor,i=e.Dom,l=n.extend,a="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),o=/"/g,v=/<br[^>]*>/i,s=/^\d+(\.\d*)?(px)?$/i,y=/<p><\/p>/i,p=/([\w|\-]+)\s*:\s*([^;]+);?/i,w=/^sizzle-\d+/i,h=/^k-script-/i,b=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i,f=document.createElement("div"),c,r;f.innerHTML=" <hr>";c=f.firstChild.nodeType===3;f=null;r={toEditableHtml:function(n){var t='<br class="k-br">';return n=n||"",n.replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<script([^>]*)>(.*)?<\/script>/ig,"<telerik:script$1>$2<\/telerik:script>").replace(/<img([^>]*)>/ig,function(n){return n.replace(b,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/ig,"$1").replace(/^<(table|blockquote)/i,t+"<$1").replace(/<\/(table|blockquote)>$/i,"<\/$1>"+t)},_fillEmptyElements:function(t){n(t).find("p").each(function(){var r=n(this),t;if(/^\s*$/g.test(r.text())&&!r.find("img,input").length){for(t=this;t.firstChild&&t.firstChild.nodeType!=3;)t=t.firstChild;t.nodeType!=1||i.empty[i.name(t)]||(t.innerHTML=u.ui.editor.emptyElementContent)}})},_removeSystemElements:function(t){n(".k-paste-container",t).remove()},_resetOrderedLists:function(n){for(var u=n.getElementsByTagName("ol"),t,r,i=0;i<u.length;i++)t=u[i],r=t.getAttribute("start"),t.setAttribute("start",1),r?t.setAttribute("start",r):t.removeAttribute(r)},_preventScriptExecution:function(t){n(t).find("*").each(function(){for(var r=this.attributes,n,i,t=0,u=r.length;t<u;t++)n=r[t],i=n.nodeName,n.specified&&/^on/i.test(i)&&(this.removeAttribute(i),this.setAttribute("k-script-"+i,n.nodeValue))})},htmlToDom:function(t,f){var s=u.support.browser,h=s.msie,c=h&&s.version<9,e,o;return t=r.toEditableHtml(t),c&&(t="<br/>"+t,e="originalsrc",o="originalhref",t=t.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,o+'="$1"'),t=t.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,e+'="$1"')),f.innerHTML=t,c?(i.remove(f.firstChild),n(f).find("telerik\\:script,script,link,img,a").each(function(){var n=this;n[o]&&(n.setAttribute("href",n[o]),n.removeAttribute(o));n[e]&&(n.setAttribute("src",n[e]),n.removeAttribute(e))})):h&&(i.normalize(f),r._resetOrderedLists(f)),r._preventScriptExecution(f),r._fillEmptyElements(f),r._removeSystemElements(f),n("table",f).addClass("k-table"),f},domToXhtml:function(r,f){function g(t){for(var c=n.trim,s=c(t).split(";"),l=s.length,h,u,r,f=0,l=s.length;f<l;f++)s[f].length&&(h=p.exec(s[f]),h)&&(u=c(h[1].toLowerCase()),r=c(h[2]),u!="font-size-adjust"&&u!="font-stretch")&&(u.indexOf("color")>=0?r=i.toHex(r):u.indexOf("font")>=0?r=r.replace(o,"'"):/\burl\(/g.test(r)&&(r=r.replace(o,"")),e.push(u),e.push(":"),e.push(r),e.push(";"))}function l(r){var y=[],d=r.attributes,l,a,p,o,v,c;if(i.is(r,"img")){var b=r.style.width,k=r.style.height,nt=n(r);b&&s.test(b)&&(nt.attr("width",parseInt(b,10)),i.unstyle(r,{width:t}));k&&s.test(k)&&(nt.attr("height",parseInt(k,10)),i.unstyle(r,{height:t}))}for(a=0,p=d.length;a<p;a++)l=d[a],o=l.nodeName,v=l.nodeValue,c=l.specified,o=="value"&&"value"in r&&r.value?c=!0:o=="type"&&v=="text"?c=!0:o!="class"||v?w.test(o)?c=!1:o=="complete"?c=!1:o=="altHtml"?c=!1:o=="start"&&(i.is(r,"ul")||i.is(r,"ol"))?c=!1:o.indexOf("_moz")>=0?c=!1:h.test(o)&&(c=!!f.scripts):c=!1,c&&y.push(l);if(y.length)for(y.sort(function(n,t){return n.nodeName>t.nodeName?1:n.nodeName<t.nodeName?-1:0}),a=0,p=y.length;a<p;a++)(l=y[a],o=l.nodeName,v=l.nodeValue,o!="class"||v!="k-table")&&(o=o.replace(h,""),e.push(" "),e.push(o),e.push('="'),o=="style"?g(v||r.style.cssText):o=="src"||o=="href"?e.push(u.htmlEncode(r.getAttribute(o,2))):e.push(i.fillAttrs[o]?o:v),e.push('"'))}function b(n,t,i){for(var r=n.firstChild;r;r=r.nextSibling)nt(r,t,i)}function k(n){return n.nodeValue.replace(/\ufeff/g,"")}function nt(n,t,r){var a=n.nodeType,u,h,v,o,s;if(a==1){if(u=i.name(n),!u||i.insignificant(n))return;if(i.isInline(n)&&n.childNodes.length==1&&n.firstChild.nodeType==3&&!k(n.firstChild))return;if(!f.scripts&&u=="telerik:script")return;if(h=d[u],h){h.start(n);b(n,!1,h.skipEncoding);h.end(n);return}e.push("<");e.push(u);l(n);i.empty[u]?e.push(" />"):(e.push(">"),b(n,t||i.is(n,"pre")),e.push("<\/"),e.push(u),e.push(">"))}else a==3?(o=k(n),!t&&c&&(v=n.parentNode,s=n.previousSibling,s||(s=(i.isInline(v)?v:n).previousSibling),(!s||s.innerHTML===""||i.isBlock(s))&&(o=o.replace(/^[\r\n\v\f\t ]+/,"")),o=o.replace(/ +/," ")),e.push(r?o:i.encode(o,f))):a==4?(e.push("<![CDATA["),e.push(n.data),e.push("]\]>")):a==8&&(n.data.indexOf("[CDATA[")<0?(e.push("<!--"),e.push(n.data),e.push("-->")):(e.push("<!"),e.push(n.data),e.push(">")))}function tt(n){var t=n.childNodes.length,r=t&&n.firstChild.nodeType==3;return r&&(t==1||t==2&&i.insignificant(n.lastChild))}var e=[],d={"telerik:script":{start:function(n){e.push("<script");l(n);e.push(">")},end:function(){e.push("<\/script>")},skipEncoding:!0},b:{start:function(){e.push("<strong>")},end:function(){e.push("<\/strong>")}},i:{start:function(){e.push("<em>")},end:function(){e.push("<\/em>")}},u:{start:function(){e.push('<span style="text-decoration:underline;">')},end:function(){e.push("<\/span>")}},iframe:{start:function(n){e.push("<iframe");l(n);e.push(">")},end:function(){e.push("<\/iframe>")}},font:{start:function(n){e.push('<span style="');var t=n.getAttribute("color"),r=a[n.getAttribute("size")],u=n.getAttribute("face");t&&(e.push("color:"),e.push(i.toHex(t)),e.push(";"));u&&(e.push("font-face:"),e.push(u),e.push(";"));r&&(e.push("font-size:"),e.push(r),e.push(";"));e.push('">')},end:function(){e.push("<\/span>")}}};return(f=f||{},tt(r))?i.encode(k(r.firstChild).replace(/[\r\n\v\f\t ]+/," "),f):(b(r),e=e.join(""),e.replace(v,"").replace(y,"")==="")?"":e}};l(e,{Serializer:r})}(window.kendo.jQuery),function(n){function it(n,i,u,f){var e,h,o,s;if(n==i)return f-u;for(e=i;e&&e.parentNode!=n;)e=e.parentNode;if(e)return r(e)-u;for(e=n;e&&e.parentNode!=i;)e=e.parentNode;if(e)return f-r(e)-1;for(h=t.commonAncestor(n,i),o=n;o&&o.parentNode!=h;)o=o.parentNode;for(o||(o=h),s=i;s&&s.parentNode!=h;)s=s.parentNode;return(s||(s=h),o==s)?0:r(s)-r(o)}function w(n,t){function i(n){try{return it(n.startContainer,n.endContainer,n.startOffset,n.endOffset)<0}catch(t){return!0}}i(n)&&(t?(n.commonAncestorContainer=n.endContainer=n.startContainer,n.endOffset=n.startOffset):(n.commonAncestorContainer=n.startContainer=n.endContainer,n.startOffset=n.endOffset),n.collapsed=!0)}function b(n){n.collapsed=n.startContainer==n.endContainer&&n.startOffset==n.endOffset;for(var i=n.startContainer;i&&i!=n.endContainer&&!t.isAncestorOf(i,n.endContainer);)i=i.parentNode;n.commonAncestorContainer=i}function rt(n){var i=n.duplicate(),r=n.duplicate();return i.collapse(!0),r.collapse(!1),t.commonAncestor(n.parentElement(),i.parentElement(),r.parentElement())}function d(n,r,u){var f=r[u?"startContainer":"endContainer"],c=r[u?"startOffset":"endOffset"],l=0,a=i(f),v=a?f:f.childNodes[c]||null,o=a?f.parentNode:f,s=r.ownerDocument,e=s.body.createTextRange(),h;(f.nodeType==3||f.nodeType==4)&&(l=c);o||(o=s.body);o.nodeName.toLowerCase()=="img"?(e.moveToElementText(o),e.collapse(!1),n.setEndPoint(u?"StartToStart":"EndToStart",e)):(h=o.insertBefore(t.create(s,"a"),v),e.moveToElementText(h),t.remove(h),e[u?"moveStart":"moveEnd"]("character",l),e.collapse(!1),n.setEndPoint(u?"StartToStart":"EndToStart",e))}function g(n,u,f,e){var o=t.create(u.ownerDocument,"a"),h=n.duplicate(),b=e?"StartToStart":"StartToEnd",p,s,a,l,v,c,y,w=!1;o.innerHTML="﻿";h.collapse(e);s=h.parentElement();t.isAncestorOrSelf(f,s)||(s=f);do w?s.insertBefore(o,o.previousSibling):(s.appendChild(o),w=!0),h.moveToElementText(o);while((p=h.compareEndPoints(b,n))>0&&o.previousSibling);a=o.nextSibling;p==-1&&i(a)?(h.setEndPoint(e?"EndToStart":"EndToEnd",n),t.remove(o),c=[a,h.text.length]):(l=!e&&o.previousSibling,v=e&&o.nextSibling,i(v)?c=[v,0]:i(l)?c=[l,l.length]:(y=r(o),c=s.nextSibling&&y==s.childNodes.length-1?[s.nextSibling,0]:[s,y]),t.remove(o));u[e?"setStart":"setEnd"].apply(u,c)}var s=window.kendo,e=s.Class,tt=n.extend,p=s.ui.editor,v=s.support.browser,t=p.Dom,r=t.findNodeIndex,i=t.isDataNode,h=t.findClosestAncestor,y=t.getNodeLength,o=t.normalize,c={selectionFromWindow:function(n){return("getSelection"in n)?n.getSelection():new k(n.document)},selectionFromRange:function(n){var t=u.documentFromRange(n);return c.selectionFromDocument(t)},selectionFromDocument:function(n){return c.selectionFromWindow(t.windowFromDocument(n))}},l=e.extend({init:function(t){n.extend(this,{ownerDocument:t,startContainer:t,endContainer:t,commonAncestorContainer:t,startOffset:0,endOffset:0,collapsed:!0})},setStart:function(n,t){this.startContainer=n;this.startOffset=t;b(this);w(this,!0)},setEnd:function(n,t){this.endContainer=n;this.endOffset=t;b(this);w(this,!1)},setStartBefore:function(n){this.setStart(n.parentNode,r(n))},setStartAfter:function(n){this.setStart(n.parentNode,r(n)+1)},setEndBefore:function(n){this.setEnd(n.parentNode,r(n))},setEndAfter:function(n){this.setEnd(n.parentNode,r(n)+1)},selectNode:function(n){this.setStartBefore(n);this.setEndAfter(n)},selectNodeContents:function(n){this.setStart(n,0);this.setEnd(n,n[n.nodeType===1?"childNodes":"nodeValue"].length)},collapse:function(n){var t=this;n?t.setEnd(t.startContainer,t.startOffset):t.setStart(t.endContainer,t.endOffset)},deleteContents:function(){var n=this,t=n.cloneRange();n.startContainer!=n.commonAncestorContainer&&n.setStartAfter(h(n.commonAncestorContainer,n.startContainer));n.collapse(!0),function i(n){while(n.next())n.hasPartialSubtree()?i(n.getSubtreeIterator()):n.remove()}(new f(t))},cloneContents:function(){var n=u.documentFromRange(this);return function t(i){for(var r,u=n.createDocumentFragment();r=i.next();)r=r.cloneNode(!i.hasPartialSubtree()),i.hasPartialSubtree()&&r.appendChild(t(i.getSubtreeIterator())),u.appendChild(r);return u}(new f(this))},extractContents:function(){var n=this,i=n.cloneRange(),t;return n.startContainer!=n.commonAncestorContainer&&n.setStartAfter(h(n.commonAncestorContainer,n.startContainer)),n.collapse(!0),t=u.documentFromRange(n),function r(i){for(var u,f=t.createDocumentFragment();u=i.next();)i.hasPartialSubtree()?(u=u.cloneNode(!1),u.appendChild(r(i.getSubtreeIterator()))):i.remove(n.originalRange),f.appendChild(u);return f}(new f(i))},insertNode:function(n){var r=this;i(r.startContainer)?(r.startOffset!=r.startContainer.nodeValue.length&&t.splitDataNode(r.startContainer,r.startOffset),t.insertAfter(n,r.startContainer)):t.insertAt(r.startContainer,n,r.startOffset);r.setStart(r.startContainer,r.startOffset)},cloneRange:function(){return n.extend(new l(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var n=this.startContainer.nodeName,t=this.endContainer.nodeName;return[n=="#text"?this.startContainer.nodeValue:n,"(",this.startOffset,") : ",t=="#text"?this.endContainer.nodeValue:t,"(",this.endOffset,")"].join("")}}),f=e.extend({init:function(t){if(n.extend(this,{range:t,_current:null,_next:null,_end:null}),!t.collapsed){var r=t.commonAncestorContainer;this._next=t.startContainer==r&&!i(t.startContainer)?t.startContainer.childNodes[t.startOffset]:h(r,t.startContainer);this._end=t.endContainer==r&&!i(t.endContainer)?t.endContainer.childNodes[t.endOffset]:h(r,t.endContainer).nextSibling}},hasNext:function(){return!!this._next},next:function(){var n=this,t=n._current=n._next;return n._next=n._current&&n._current.nextSibling!=n._end?n._current.nextSibling:null,i(n._current)&&(n.range.endContainer==n._current&&(t=t.cloneNode(!0),t.deleteData(n.range.endOffset,t.length-n.range.endOffset)),n.range.startContainer==n._current&&(t=t.cloneNode(!0),t.deleteData(0,n.range.startOffset))),t},traverse:function(n){function r(){return t._current=t._next,t._next=t._current&&t._current.nextSibling!=t._end?t._current.nextSibling:null,t._current}for(var t=this,i;i=r();)t.hasPartialSubtree()?t.getSubtreeIterator().traverse(n):n(i);return i},remove:function(n){var u=this,s=u.range.startContainer==u._current,h=u.range.endContainer==u._current,e,c,o,f,l;i(u._current)&&(s||h)?(e=s?u.range.startOffset:0,c=h?u.range.endOffset:u._current.length,o=c-e,n&&(s||h)&&(u._current==n.startContainer&&e<=n.startOffset&&(n.startOffset-=o),u._current==n.endContainer&&c<=n.endOffset&&(n.endOffset-=o)),u._current.deleteData(e,o)):(f=u._current.parentNode,n&&(u.range.startContainer==f||u.range.endContainer==f)&&(l=r(u._current),f==n.startContainer&&l<=n.startOffset&&(n.startOffset-=1),f==n.endContainer&&l<n.endOffset&&(n.endOffset-=1)),t.remove(u._current))},hasPartialSubtree:function(){return!i(this._current)&&(t.isAncestorOrSelf(this._current,this.range.startContainer)||t.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var n=this,i=n.range.cloneRange();return i.selectNodeContents(n._current),t.isAncestorOrSelf(n._current,n.range.startContainer)&&i.setStart(n.range.startContainer,n.range.startOffset),t.isAncestorOrSelf(n._current,n.range.endContainer)&&i.setEnd(n.range.endContainer,n.range.endOffset),new f(i)}}),k=e.extend({init:function(n){this.ownerDocument=n;this.rangeCount=1},addRange:function(n){var t=this.ownerDocument.body.createTextRange();d(t,n,!1);d(t,n,!0);t.select()},removeAllRanges:function(){var n=this.ownerDocument.selection;n.type!="None"&&n.empty()},getRangeAt:function(){var u,n=new l(this.ownerDocument),c=this.ownerDocument.selection,a,o,s,h;try{if(u=c.createRange(),a=u.item?u.item(0):u.parentElement(),a.ownerDocument!=this.ownerDocument)return n}catch(v){return n}if(c.type=="Control")n.selectNode(u.item(0));else{o=rt(u);g(u,n,o,!0);g(u,n,o,!1);n.startContainer.nodeType==9&&n.setStart(n.endContainer,n.startOffset);n.endContainer.nodeType==9&&n.setEnd(n.startContainer,n.endOffset);u.compareEndPoints("StartToEnd",u)===0&&n.collapse(!1);var t=n.startContainer,f=n.endContainer,e=this.ownerDocument.body;if(!n.collapsed&&n.startOffset===0&&n.endOffset==y(n.endContainer)&&!(t==f&&i(t)&&t.parentNode==e)){for(s=!1,h=!1;r(t)===0&&t==t.parentNode.firstChild&&t!=e;)t=t.parentNode,s=!0;while(r(f)==y(f.parentNode)-1&&f==f.parentNode.lastChild&&f!=e)f=f.parentNode,h=!0;t==e&&f==e&&s&&h&&(n.setStart(t,0),n.setEnd(f,y(e)))}}return n}}),nt=e.extend({init:function(n){this.enumerate=function(){function r(n){if(t.is(n,"img")||n.nodeType==3&&(!t.isWhitespace(n)||n.nodeValue=="﻿"))i.push(n);else for(n=n.firstChild;n;)r(n),n=n.nextSibling}var i=[];return new f(n).traverse(r),i}}}),ut=e.extend({init:function(n,i){var r=this;r.range=n;r.rootNode=u.documentFromRange(n);r.body=i||r.getEditable(n);t.name(r.body)!="body"&&(r.rootNode=r.body);r.html=r.body.innerHTML;r.startContainer=r.nodeToPath(n.startContainer);r.endContainer=r.nodeToPath(n.endContainer);r.startOffset=r.offset(n.startContainer,n.startOffset);r.endOffset=r.offset(n.endContainer,n.endOffset)},index:function(n){for(var i=0,r=n.nodeType,t;n=n.previousSibling;)t=n.nodeType,(t!=3||r!=t)&&i++,r=t;return i},getEditable:function(n){for(var t=n.commonAncestorContainer;t&&(t.nodeType==3||t.attributes&&!t.attributes.contentEditable);)t=t.parentNode;return t},restoreHtml:function(){this.body.innerHTML=this.html},offset:function(n,t){if(n.nodeType==3)while((n=n.previousSibling)&&n.nodeType==3)t+=n.nodeValue.length;return t},nodeToPath:function(n){for(var t=[];n!=this.rootNode;)t.push(this.index(n)),n=n.parentNode;return t},toRangePoint:function(n,t,i,r){for(var u=this.rootNode,e=i.length,f=r;e--;)u=u.childNodes[i[e]];while(u&&u.nodeType==3&&u.nodeValue.length<f)f-=u.nodeValue.length,u=u.nextSibling;u&&f>=0&&n[t?"setStart":"setEnd"](u,f)},toRange:function(){var n=this,t=n.range.cloneRange();return n.toRangePoint(t,!0,n.startContainer,n.startOffset),n.toRangePoint(t,!1,n.endContainer,n.endOffset),t}}),ft=e.extend({init:function(){this.caret=null},addCaret:function(n){var i=this;return i.caret=t.create(u.documentFromRange(n),"span",{className:"k-marker"}),n.insertNode(i.caret),n.selectNode(i.caret),i.caret},removeCaret:function(n){var h=this,u=h.caret.previousSibling,c=0,f,l,e,s;u&&(c=i(u)?u.nodeValue.length:r(u));f=h.caret.parentNode;l=u?r(u):0;t.remove(h.caret);o(f);e=f.childNodes[l];i(e)?n.setStart(e,c):e?(s=t.lastTextNode(e),s?n.setStart(s,s.nodeValue.length):n[u?"setStartAfter":"setStartBefore"](e)):(v.msie||f.innerHTML||(f.innerHTML='<br _moz_dirty="" />'),n.selectNodeContents(f));n.collapse(!0)},add:function(n,i){var r=this,h=n.collapsed&&!u.isExpandable(n),s=u.documentFromRange(n),f,e;return i&&n.collapsed&&(r.addCaret(n),n=u.expand(n)),f=n.cloneRange(),f.collapse(!1),r.end=t.create(s,"span",{className:"k-marker"}),f.insertNode(r.end),f=n.cloneRange(),f.collapse(!0),r.start=r.end.cloneNode(!0),f.insertNode(r.start),r._removeDeadMarkers(r.start,r.end),h&&(e=s.createTextNode("﻿"),t.insertAfter(e.cloneNode(),r.start),t.insertBefore(e,r.end)),n.setStartBefore(r.start),n.setEndAfter(r.end),o(n.commonAncestorContainer),n},_removeDeadMarkers:function(n,i){n.previousSibling&&n.previousSibling.nodeValue=="﻿"&&t.remove(n.previousSibling);i.nextSibling&&i.nextSibling.nodeValue=="﻿"&&t.remove(i.nextSibling)},remove:function(n){var e=this,u=e.start,f=e.end,y,p,g,c,a,l,v,s,h;for(o(n.commonAncestorContainer);!u.nextSibling&&u.parentNode;)u=u.parentNode;while(!f.previousSibling&&f.parentNode)f=f.parentNode;if(y=u.previousSibling&&u.previousSibling.nodeType==3&&u.nextSibling&&u.nextSibling.nodeType==3,p=f.previousSibling&&f.previousSibling.nodeType==3&&f.nextSibling&&f.nextSibling.nodeType==3,g=y&&p,u=u.nextSibling,f=f.previousSibling,c=!1,a=!1,u==e.end&&(a=!!e.start.previousSibling,u=f=e.start.previousSibling||e.end.nextSibling,c=!0),t.remove(e.start),t.remove(e.end),!u||!f){n.selectNodeContents(n.commonAncestorContainer);n.collapse(!0);return}if(l=c?i(u)?u.nodeValue.length:u.childNodes.length:0,v=i(f)?f.nodeValue.length:f.childNodes.length,u.nodeType==3)while(u.previousSibling&&u.previousSibling.nodeType==3)u=u.previousSibling,l+=u.nodeValue.length;if(f.nodeType==3)while(f.previousSibling&&f.previousSibling.nodeType==3)f=f.previousSibling,v+=f.nodeValue.length;var w=r(u),b=u.parentNode,k=r(f),d=f.parentNode;for(s=u;s.previousSibling;s=s.previousSibling)s.nodeType==3&&s.previousSibling.nodeType==3&&w--;for(h=f;h.previousSibling;h=h.previousSibling)h.nodeType==3&&h.previousSibling.nodeType==3&&k--;o(b);u.nodeType==3&&(u=b.childNodes[w]);o(d);f.nodeType==3&&(f=d.childNodes[k]);c?(u.nodeType==3?n.setStart(u,l):n[a?"setStartAfter":"setStartBefore"](u),n.collapse(!0)):(u.nodeType==3?n.setStart(u,l):n.setStartBefore(u),f.nodeType==3?n.setEnd(f,v):n.setEndAfter(f));e.caret&&e.removeCaret(n)}}),a=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,u={nodes:function(n){var i=u.textNodes(n);return i.length||(n.selectNodeContents(n.commonAncestorContainer),i=u.textNodes(n),i.length||(i=t.significantChildNodes(n.commonAncestorContainer))),i},textNodes:function(n){return new nt(n).enumerate()},documentFromRange:function(n){var t=n.startContainer;return t.nodeType==9?t:t.ownerDocument},createRange:function(n){return v.msie&&v.version<9?new l(n):n.createRange()},selectRange:function(n){var t=u.image(n),i;t&&(n.setStartAfter(t),n.setEndAfter(t));i=c.selectionFromRange(n);i.removeAllRanges();i.addRange(n)},stringify:function(n){return s.format("{0}:{1} - {2}:{3}",t.name(n.startContainer),n.startOffset,t.name(n.endContainer),n.endOffset)},split:function(n,i,r){function u(u){var e=n.cloneRange(),f;e.collapse(u);e[u?"setStartBefore":"setEndAfter"](i);f=e.extractContents();r&&(f=t.trim(f));t[u?"insertBefore":"insertAfter"](f,i)}u(!0);u(!1)},mapAll:function(t,i){var r=[];return new f(t).traverse(function(t){var u=i(t);u&&n.inArray(u,r)<0&&r.push(u)}),r},getAll:function(n,i){var r=i;return typeof i=="string"&&(i=function(n){return t.is(n,r)}),u.mapAll(n,function(n){if(i(n))return n})},getMarkers:function(n){return u.getAll(n,function(n){return n.className=="k-marker"})},image:function(n){var t=u.getAll(n,"img");if(t.length==1)return t[0]},wrapSelectedElements:function(n){function u(n,i){var u=t.getNodeLength(i),r;if(n==u)return!0;for(r=n;r<u;r++)if(!t.insignificant(i.childNodes[r]))return!1;return!0}for(var i=t.editableParent(n.startContainer),r=t.editableParent(n.endContainer);n.startOffset===0&&n.startContainer!=i;)n.setStart(n.startContainer.parentNode,t.findNodeIndex(n.startContainer));while(u(n.endOffset,n.endContainer)&&n.endContainer!=r)n.setEnd(n.endContainer.parentNode,t.findNodeIndex(n.endContainer)+1);return n},expand:function(n){var t=n.cloneRange(),o=t.startContainer.childNodes[t.startOffset===0?0:t.startOffset-1],s=t.endContainer.childNodes[t.endOffset],f,e,r,u;return!i(o)||!i(s)?t:(f=o.nodeValue,e=s.nodeValue,!f||!e)?t:(r=f.split("").reverse().join("").search(a),u=e.search(a),!r||!u)?t:(u=u==-1?e.length:u,r=r==-1?0:f.length-r,t.setStart(o,r),t.setEnd(s,u),t)},isExpandable:function(n){var i=n.startContainer,f=u.documentFromRange(n),r,t;if(i==f||i==f.body||(r=n.cloneRange(),t=i.nodeValue,!t))return!1;var e=t.substring(0,r.startOffset),o=t.substring(r.startOffset),s=0,h=0;return e&&(s=e.split("").reverse().join("").search(a)),o&&(h=o.search(a)),s&&h}};tt(p,{SelectionUtils:c,W3CRange:l,RangeIterator:f,W3CSelection:k,RangeEnumerator:nt,RestorePoint:ut,Marker:ft,RangeUtils:u})}(window.kendo.jQuery),function(n){function s(n,t){var i=n.selectionRestorePoint=new f(n.getRange()),r=new c(t,i);return r.editor=n,n.undoRedoStack.push(r),i}var u=window.kendo,i=u.Class,r=u.ui.editor,l=r.EditorUtils,k=l.registerTool,t=r.Dom,a=r.Tool,d=r.ToolTemplate,f=r.RestorePoint,v=r.Marker,o=n.extend,h=i.extend({init:function(n){this.options=n;this.restorePoint=new f(n.range);this.marker=new v;this.formatter=n.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(n){return this.marker.add(this.getRange(),n)},releaseRange:function(n){this.marker.remove(n);this.editor.selectRange(n)},undo:function(){var n=this.restorePoint;n.restoreHtml();this.editor.selectRange(n.toRange())},redo:function(){this.exec()},createDialog:function(t,i){var r=this.editor;return n(t).appendTo(document.body).kendoWindow(o({},r.options.dialogOptions,i)).closest(".k-window").toggleClass("k-rtl",u.support.isRtl(r.wrapper)).end()},exec:function(){var n=this.lockRange(!0);this.formatter.editor=this.editor;this.formatter.toggle(n);this.releaseRange(n)}}),c=i.extend({init:function(n,t){this.body=n.body;this.startRestorePoint=n;this.endRestorePoint=t},redo:function(){this.body.innerHTML=this.endRestorePoint.html;this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html;this.editor.selectRange(this.startRestorePoint.toRange())}}),y=h.extend({init:function(n){h.fn.init.call(this,n);this.managesUndoRedo=!0},exec:function(){var n=this.editor,t=this.options,r=t.range,u=n.body,e=new f(r,u),o=t.html||t.value||"",i;n.selectRange(r);n.clipboard.paste(o,t);t.postProcess&&t.postProcess(n,n.getRange());i=new c(e,new f(n.getRange(),u));i.editor=n;n.undoRedoStack.push(i);n.focus()}}),p=a.extend({initialize:function(n,t){var i=t.editor,u=this.options,f=u.items?u.items:i.options.insertHtml;new r.SelectBox(n,{dataSource:f,dataTextField:"text",dataValueField:"value",change:function(){a.exec(i,"insertHtml",this.value())},title:i.options.messages.insertHtml,highlightFirst:!1})},command:function(n){return new y(n)},update:function(n){var t=n.data("kendoSelectBox")||n.find("select").data("kendoSelectBox");t.close();t.value(t.options.title)}}),g=i.extend({init:function(){this.stack=[];this.currentCommandIndex=-1},push:function(n){this.stack=this.stack.slice(0,this.currentCommandIndex+1);this.currentCommandIndex=this.stack.push(n)-1},undo:function(){this.canUndo()&&this.stack[this.currentCommandIndex--].undo()},redo:function(){this.canRedo()&&this.stack[++this.currentCommandIndex].redo()},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}}),nt=i.extend({init:function(n){this.editor=n},keydown:function(t){var i=this,r=i.editor,u=r.keyboard,c=u.isTypingKey(t),e=o(n.Event(),t),h;return(i.editor.trigger("keydown",e),e.isDefaultPrevented())?(t.preventDefault(),!0):!e.isDefaultPrevented()&&c&&!u.isTypingInProgress()?(h=r.getRange(),i.startRestorePoint=new f(h),u.startTyping(function(){i.endRestorePoint=s(r,i.startRestorePoint)}),!0):!1},keyup:function(n){var t=this.editor.keyboard;return(this.editor.trigger("keyup",n),t.isTypingInProgress())?(t.endTyping(),!0):!1}}),tt=i.extend({init:function(n){this.editor=n},keydown:function(n){var o,r;if(n.keyCode===u.keys.BACKSPACE){var e=this.editor,i=e.getRange(),h=u.support.browser.msie?"":'<br _moz_dirty="" />';if(i.collapsed)return;n.preventDefault();o=new f(i);r=i.commonAncestorContainer;/t(able|body|r)/i.test(t.name(r))&&i.selectNode(t.closest(r,"table"));i.deleteContents();r=i.commonAncestorContainer;t.name(r)==="p"&&r.innerHTML===""&&(r.innerHTML=h,i.setStart(r,0),i.collapse(!0),e.selectRange(i));s(e,o)}},keyup:function(){}}),it=i.extend({init:function(n){this.editor=n;this.systemCommandIsInProgress=!1},createUndoCommand:function(){this.startRestorePoint=this.endRestorePoint=s(this.editor,this.startRestorePoint)},changed:function(){return this.startRestorePoint?this.startRestorePoint.html!=this.editor.body.innerHTML:!1},keydown:function(n){var t=this,r=t.editor,i=r.keyboard;return i.isModifierKey(n)?(i.isTypingInProgress()&&i.endTyping(!0),t.startRestorePoint=new f(r.getRange()),!0):i.isSystem(n)?(t.systemCommandIsInProgress=!0,t.changed()&&(t.systemCommandIsInProgress=!1,t.createUndoCommand()),!0):!1},keyup:function(){var n=this;return n.systemCommandIsInProgress&&n.changed()?(n.systemCommandIsInProgress=!1,n.createUndoCommand(),!0):!1}}),rt=i.extend({init:function(n){this.handlers=n;this.typingInProgress=!1},isCharacter:function(n){return n>=48&&n<=90||n>=96&&n<=111||n>=186&&n<=192||n>=219&&n<=222||n==229},toolFromShortcut:function(t,i){var f=String.fromCharCode(i.keyCode),u,r;for(u in t)if(r=n.extend({ctrl:!1,alt:!1,shift:!1},t[u].options),(r.key==f||r.key==i.keyCode)&&r.ctrl==i.ctrlKey&&r.alt==i.altKey&&r.shift==i.shiftKey)return u},isTypingKey:function(n){var t=n.keyCode;return this.isCharacter(t)&&!n.ctrlKey&&!n.altKey||t==32||t==13||t==8||t==46&&!n.shiftKey&&!n.ctrlKey&&!n.altKey},isModifierKey:function(n){var t=n.keyCode;return t==17&&!n.shiftKey&&!n.altKey||t==16&&!n.ctrlKey&&!n.altKey||t==18&&!n.ctrlKey&&!n.shiftKey},isSystem:function(n){return n.keyCode==46&&n.ctrlKey&&!n.altKey&&!n.shiftKey},startTyping:function(n){this.onEndTyping=n;this.typingInProgress=!0},stopTyping:function(){this.typingInProgress&&this.onEndTyping&&this.onEndTyping();this.typingInProgress=!1},endTyping:function(t){var i=this;i.clearTimeout();t?i.stopTyping():i.timeout=window.setTimeout(n.proxy(i.stopTyping,i),1e3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(n,t){for(var r=this.handlers,i=0;i<r.length;i++)if(r[i][t](n))break},keydown:function(n){this.notify(n,"keydown")},keyup:function(n){this.notify(n,"keyup")}}),ut=i.extend({init:function(n){this.editor=n;this.cleaners=[new ft,new w,new b]},htmlToFragment:function(n){var f=this.editor,r=f.document,i=t.create(r,"div"),u=r.createDocumentFragment();for(i.innerHTML=n;i.firstChild;)u.appendChild(i.firstChild);return u},isBlock:function(n){return/<(div|p|ul|ol|table|h[1-6])/i.test(n)},_startModification:function(){var n,i,r=this.editor;if(!this._inProgress)return this._inProgress=!0,n=r.getRange(),i=new f(n),t.persistScrollTop(r.document),{range:n,restorePoint:i}},_endModification:function(n){s(this.editor,n.restorePoint);this.editor._selectionChange();this._inProgress=!1},_contentModification:function(n,t){var i=this,u=i.editor,r=i._startModification();r&&(n.call(i,u,r.range),setTimeout(function(){t.call(i,u,r.range);i._endModification(r)}))},oncut:function(){this._contentModification(n.noop,n.noop)},_fileToDataURL:function(t,i){var u=t.getAsFile(),r=new FileReader;r.onload=i||n.noop;r.readAsDataURL(u)},_triggerPaste:function(n,t){var i={html:n||""};i.html=i.html.replace(/\ufeff/g,"");this.editor.trigger("paste",i);this.paste(i.html,t||{})},_handleImagePaste:function(n){var u;if("FileReader"in window){var i=this,r=n.clipboardData||n.originalEvent.clipboardData,t=r&&(r.items||r.files);if(t&&t.length)return/^image\//i.test(t[0].type)?(u=i._startModification(),!u)?void 0:(this._fileToDataURL(t[0],function(n){i._triggerPaste('<img src="'+n.target.result+'" />');i._endModification(u)}),!0):void 0}},onpaste:function(i){this._handleImagePaste(i)||this._contentModification(function(r,f){var e=t.create(r.document,"div",{className:"k-paste-container",innerHTML:"﻿"}),c=u.support.browser,o,s,h;r.body.appendChild(e);c.msie&&c.version<11?(i.preventDefault(),o=r.createRange(),o.selectNodeContents(e),r.selectRange(o),s=r.document.body.createTextRange(),s.moveToElementText(e),n(r.body).unbind("paste"),s.execCommand("Paste"),n(r.body).bind("paste",n.proxy(this.onpaste,this))):(h=r.createRange(),h.selectNodeContents(e),r.selectRange(h));f.deleteContents()},function(i,r){var e="",f,o=u.support.browser;i.selectRange(r);f=n(i.body).children(".k-paste-container");f.each(function(){var n=this.lastChild;n&&t.is(n,"br")&&t.remove(n);e+=this.innerHTML});f.remove();this._triggerPaste(e,{clean:!0})})},splittableParent:function(n,i){var r,u;if(n)return t.closestEditableOfType(i,["p","ul","ol"])||i.parentNode;if(r=i.parentNode,u=i.ownerDocument.body,t.isInline(r))while(r.parentNode!=u&&!t.isBlock(r.parentNode))r=r.parentNode;return r},paste:function(i,u){var c=this.editor,e,a,y,f,h,p;for(u=o({clean:!1,split:!0},u),e=0,a=this.cleaners.length;e<a;e++)this.cleaners[e].applicable(i)&&(i=this.cleaners[e].clean(i));u.clean&&(i=i.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/ig,"$3"),i=i.replace(/<(a|span)[^>]*><\/\1>/ig,""));i=i.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li><\/ul>");y=this.isBlock(i);c.focus();f=c.getRange();f.deleteContents();f.startContainer==c.document&&f.selectNodeContents(c.body);var w=new v,s=w.addCaret(f),l=this.splittableParent(y,s),b=!1,k=l!=c.body&&!t.is(l,"td");if(u.split&&k&&(y||t.isInline(l))&&(f.selectNode(s),r.RangeUtils.split(f,l,!0),b=!0),h=this.htmlToFragment(i),h.firstChild&&h.firstChild.className==="k-paste-container"){for(p=[],e=0,a=h.childNodes.length;e<a;e++)p.push(h.childNodes[e].innerHTML);h=this.htmlToFragment(p.join("<br />"))}if(n(h.childNodes).filter("table").addClass("k-table").end().find("table").addClass("k-table"),f.insertNode(h),l=this.splittableParent(y,s),b){while(s.parentNode!=l)t.unwrap(s.parentNode);t.unwrap(s.parentNode)}t.normalize(f.commonAncestorContainer);s.style.display="inline";t.restoreScrollTop(c.document);t.scrollTo(s);w.removeCaret(f);c.selectRange(f)}}),e=i.extend({clean:function(n){for(var u=this,i=u.replacements,t=0,r=i.length;t<r;t+=2)n=n.replace(i[t],i[t+1]);return n}}),ft=e.extend({init:function(){this.replacements=[/<(\/?)script([^>]*)>/i,"<$1telerik:script$2>"]},applicable:function(n){return/<script[^>]*>/i.test(n)}}),w=e.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/ig,"",/<(\/?)b(\s[^>]*)?>/ig,"<$1strong$2>",/<(\/?)i(\s[^>]*)?>/ig,"<$1em$2>",/<o:p>&nbsp;<\/o:p>/ig,"&nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/ig,"",/<\/o>/g,"",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(n,t){return t?n:" "}]},applicable:function(n){return/class="?Mso|style="[^"]*mso-/i.test(n)||/urn:schemas-microsoft-com:office/.test(n)},stripEmptyAnchors:function(n){return n.replace(/<a([^>]*)>\s*<\/a>/ig,function(n,t){return!t||t.indexOf("href")<0?"":n})},listType:function(n){var t;return(/^(<span [^>]*texhtml[^>]*>)?<span [^>]*(Symbol|Wingdings)[^>]*>/i.test(n)&&(t=!0),n=n.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g," "),!t&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(n)||t&&/^.\u00a0+/.test(n))?"ul":/^\s*\w+[\.\)]\u00a0{2,}/.test(n)?"ol":void 0},_convertToLi:function(n){var i;return n.childNodes.length==1?i=n.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,""):(t.remove(n.firstChild),n.firstChild.nodeType==3&&/^[ivx]+\.$/i.test(n.firstChild.nodeValue)&&t.remove(n.firstChild),/^(&nbsp;|\s)+$/i.test(n.firstChild.innerHTML)&&t.remove(n.firstChild),i=n.innerHTML),t.remove(n),t.create(document,"li",{innerHTML:i})},lists:function(i){for(var y=n(t.blockElements.join(","),i),l=-1,p,a,f={ul:{},ol:{}},o=i,r,e,s,u,c,v,h=0;h<y.length;h++)if(r=y[h],e=this.listType(r.innerHTML),a=t.name(r),a!="td"){if(!e||a!="p"){r.innerHTML?(f={ul:{},ol:{}},o=i,l=-1):t.remove(r);continue}if(s=parseFloat(r.style.marginLeft||0),u=f[e][s],(s>l||!u)&&(u=t.create(document,e),o==i?t.insertBefore(u,r):o.appendChild(u),f[e][s]=u),p!=e)for(c in f)for(v in f[c])n.contains(u,f[c][v])&&delete f[c][v];o=this._convertToLi(r);u.appendChild(o);l=s;p=e}},removeAttributes:function(n){for(var i=n.attributes,r=i.length;r--;)t.name(i[r])!="colspan"&&n.removeAttributeNode(i[r])},createColGroup:function(t){var r=t.cells,f=n(t).closest("table"),i=f.children("colgroup");r.length<2||(i.length&&(r=i.children(),i[0].parentNode.removeChild(i[0])),i=n(n.map(r,function(n){var t=n.width;return t&&parseInt(t,10)!==0?u.format('<col style="width:{0}px;"/>',t):"<col />"}).join("")),i.is("colgroup")||(i=n("<colgroup/>").append(i)),i.prependTo(f))},convertHeaders:function(i){var u=i.cells,r,f=n.map(u,function(i){var r=n(i).children("p").children("strong")[0];if(r&&t.name(r)=="strong")return r});if(f.length==u.length){for(r=0;r<f.length;r++)t.unwrap(f[r]);for(n(i).closest("table").find("colgroup").after("<thead><\/thead>").end().find("thead").append(i),r=0;r<u.length;r++)t.changeTag(u[r],"th")}},removeParagraphs:function(i){for(var r,e,o,f,u=0;u<i.length;u++)for(this.removeAttributes(i[u]),o=n(i[u]),f=o.children("p"),r=0,e=f.length;r<e;r++)r<e-1&&t.insertAfter(t.create(document,"br"),f[r]),t.unwrap(f[r])},removeDefaultColors:function(n){for(var i=0;i<n.length;i++)/^\s*color:\s*[^;]*;?$/i.test(n[i].style.cssText)&&t.unwrap(n[i])},tables:function(t){for(var r=n(t).find("table"),u=this,f,s,o,e,i=0;i<r.length;i++){for(f=r[i].rows,o=s=f[0],e=1;e<f.length;e++)f[e].cells.length>o.cells.length&&(o=f[e]);u.createColGroup(o);u.convertHeaders(s);u.removeAttributes(r[i]);u.removeParagraphs(r.eq(i).find("td,th"));u.removeDefaultColors(r.eq(i).find("span"))}},headers:function(i){for(var u=n(i).find("p.MsoTitle"),r=0;r<u.length;r++)t.changeTag(u[r],"h1")},clean:function(n){var i=this,r;return n=e.fn.clean.call(i,n),n=i.stripEmptyAnchors(n),r=t.create(document,"div",{innerHTML:n}),i.headers(r),i.lists(r),i.tables(r),r.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/ig,"$1")}}),b=e.extend({init:function(){this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(n){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(n)}});o(r,{Command:h,GenericCommand:c,InsertHtmlCommand:y,InsertHtmlTool:p,UndoRedoStack:g,TypingHandler:nt,SystemHandler:it,BackspaceHandler:tt,Keyboard:rt,Clipboard:ut,Cleaner:e,MSWordFormatCleaner:w,WebkitFormatCleaner:b});k("insertHtml",new p({template:new d({template:l.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))}(window.kendo.jQuery),function(n){var e=window.kendo,g=e.Class,i=e.ui.editor,s=e.ui.Editor.fn.options.formats,r=i.EditorUtils,h=i.Tool,u=i.ToolTemplate,nt=i.FormatTool,t=i.Dom,b=i.RangeUtils,c=n.extend,f=i.EditorUtils.registerTool,l=i.EditorUtils.registerFormat,v="k-marker",a=g.extend({init:function(n){this.format=n},numberOfSiblings:function(n){for(var r=0,u=0,f=0,i=n.parentNode,t=i.firstChild;t;t=t.nextSibling)t!=n&&(t.className==v?f++:t.nodeType==3?r++:u++);return f>1&&i.firstChild.className==v&&i.lastChild.className==v?0:u+r},findSuitable:function(n,i){return!i&&this.numberOfSiblings(n)>0?null:t.parentOfType(n,this.format[0].tags)},findFormat:function(n){for(var u=this.format,o=t.attrEquals,i,f,e,r=0,s=u.length;r<s;r++){if(i=n,f=u[r].tags,e=u[r].attr,i&&t.ofType(i,f)&&o(i,e))return i;while(i)if(i=t.parentOfType(i,f),i&&o(i,e))return i}return null},isFormatted:function(n){for(var t=0,i=n.length;t<i;t++)if(this.findFormat(n[t]))return!0;return!1}}),y=g.extend({init:function(n,t){this.finder=new a(n);this.attributes=c({},n[0].attr,t);this.tag=n[0].tags[0]},wrap:function(n){return t.wrap(n,t.create(n.ownerDocument,this.tag,this.attributes))},activate:function(n,t){this.finder.isFormatted(t)?(this.split(n),this.remove(t)):this.apply(t)},toggle:function(n){var t=b.textNodes(n);t.length>0&&this.activate(n,t)},apply:function(n){for(var f=[],u,i,r=0,e=n.length;r<e;r++)u=n[r],i=this.finder.findSuitable(u),i?t.attr(i,this.attributes):i=this.wrap(u),f.push(i);this.consolidate(f)},remove:function(n){for(var i,r=0,u=n.length;r<u;r++)i=this.finder.findFormat(n[r]),i&&(this.attributes&&this.attributes.style?(t.unstyle(i,this.attributes.style),i.style.cssText||i.attributes["class"]||t.unwrap(i)):t.unwrap(i))},split:function(n){var r=b.textNodes(n),u=r.length,t,i;if(u>0)for(t=0;t<u;t++)i=this.finder.findFormat(r[t]),i&&b.split(n,i,!0)},consolidate:function(n){for(var i,r;n.length>1;)if(i=n.pop(),r=n[n.length-1],i.previousSibling&&i.previousSibling.className==v&&r.appendChild(i.previousSibling),i.tagName==r.tagName&&i.previousSibling==r&&i.style.cssText==r.style.cssText){while(i.firstChild)r.appendChild(i.firstChild);t.remove(i)}}}),p=a.extend({init:function(n,t){this.format=n;this.greedyProperty=t;a.fn.init.call(this,n)},getInlineCssValue:function(i){var e=i.attributes,o=n.trim,r,v,u,y,p,s,h,f,w,c,l,a;if(e)for(r=0,v=e.length;r<v;r++)if(u=e[r],y=u.nodeName,p=u.nodeValue,u.specified&&y=="style")for(s=o(p||i.style.cssText).split(";"),f=0,w=s.length;f<w;f++)if(h=s[f],h.length){if(c=h.split(":"),l=o(c[0].toLowerCase()),a=o(c[1]),l!=this.greedyProperty)continue;return l.indexOf("color")>=0?t.toHex(a):a}},getFormatInner:function(i){for(var o=n(t.isDataNode(i)?i.parentNode:i),u=o.parentsUntil("[contentEditable]").addBack().toArray().reverse(),f,r=0,e=u.length;r<e;r++)if(f=this.greedyProperty=="className"?u[r].className:this.getInlineCssValue(u[r]),f)return f;return"inherit"},getFormat:function(n){for(var i=this.getFormatInner(n[0]),t=1,r=n.length;t<r;t++)if(i!=this.getFormatInner(n[t]))return"";return i},isFormatted:function(n){return this.getFormat(n)!==""}}),k=y.extend({init:function(n,t,i){y.fn.init.call(this,n,t);this.values=t;this.finder=new p(n,i);i&&(this.greedyProperty=e.toCamelCase(i))},activate:function(n,t){var i=this.greedyProperty,r="apply";this.split(n);i&&this.values.style[i]=="inherit"&&(r="remove");this[r](t)}}),o=nt.extend({init:function(n){nt.fn.init.call(this,c(n,{finder:new a(n.format),formatter:function(){return new y(n.format)}}))}}),tt=h.extend({update:function(n,t){var i=n.data(this.type);i.close();i.value(this.finder.getFormat(t))}}),d=tt.extend({init:function(n){h.fn.init.call(this,n);this.type=e.support.browser.msie||e.support.touch?"kendoDropDownList":"kendoComboBox";this.format=[{tags:["span"]}];this.finder=new p(this.format,n.cssAttr)},command:function(n){var t=this.options,u=this.format,r={};return new i.FormatCommand(c(n,{formatter:function(){return r[t.domAttr]=n.value,new k(u,{style:r},t.cssAttr)}}))},initialize:function(n,t){var r=t.editor,i=this.options,u=i.name,f,e=[];i.defaultValue&&(e=[{text:r.options.messages[i.defaultValue[0].text],value:i.defaultValue[0].value}]);f=e.concat(i.items?i.items:r.options[u]||[]);n[this.type]({dataTextField:"text",dataValueField:"value",dataSource:f,change:function(){h.exec(r,u,this.value())},highlightFirst:!1});n.closest(".k-widget").removeClass("k-"+u).find("*").addBack().attr("unselectable","on");n.data(this.type).value("inherit")}}),w=h.extend({init:function(n){h.fn.init.call(this,n);this.format=[{tags:["span"]}];this.finder=new p(this.format,n.cssAttr)},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(n){var t=this.options,u=this.format,r={};return new i.FormatCommand(c(n,{formatter:function(){return r[t.domAttr]=n.value,new k(u,{style:r},t.cssAttr)}}))},initialize:function(t,i){var u=i.editor,o=this.name,f=c({},w.fn.options,this.options),r=f.palette;t=this._widget=new e.ui.ColorPicker(t,{value:n.isArray(r)?r[0]:"#000",toolIcon:"k-"+f.name,palette:r,change:function(){var n=t.value();n&&h.exec(u,o,n);u.focus()},activate:function(n){n.preventDefault();t.trigger("change")}});t.wrapper.attr({title:i.title,unselectable:"on"}).find("*").attr("unselectable","on")}});c(i,{InlineFormatFinder:a,InlineFormatter:y,DelayedExecutionTool:tt,GreedyInlineFormatFinder:p,GreedyInlineFormatter:k,InlineFormatTool:o,FontTool:d,ColorTool:w});l("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]);f("bold",new o({key:"B",ctrl:!0,format:s.bold,template:new u({template:r.buttonTemplate,title:"Bold"})}));l("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]);f("italic",new o({key:"I",ctrl:!0,format:s.italic,template:new u({template:r.buttonTemplate,title:"Italic"})}));l("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]);f("underline",new o({key:"U",ctrl:!0,format:s.underline,template:new u({template:r.buttonTemplate,title:"Underline"})}));l("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]);f("strikethrough",new o({format:s.strikethrough,template:new u({template:r.buttonTemplate,title:"Strikethrough"})}));l("superscript",[{tags:["sup"]}]);f("superscript",new o({format:s.superscript,template:new u({template:r.buttonTemplate,title:"Superscript"})}));l("subscript",[{tags:["sub"]}]);f("subscript",new o({format:s.subscript,template:new u({template:r.buttonTemplate,title:"Subscript"})}));f("foreColor",new w({cssAttr:"color",domAttr:"color",name:"foreColor",template:new u({template:r.colorPickerTemplate,title:"Color"})}));f("backColor",new w({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new u({template:r.colorPickerTemplate,title:"Background Color"})}));f("fontName",new d({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new u({template:r.comboBoxTemplate,title:"Font Name"})}));f("fontSize",new d({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new u({template:r.comboBoxTemplate,title:"Font Size"})}))}(window.kendo.jQuery),function(n){var a=window.kendo,v=a.Class,y=n.extend,r=a.ui.editor,e=a.ui.Editor.fn.options.formats,t=r.Dom,w=r.Command,o=r.ToolTemplate,b=r.FormatTool,i=r.EditorUtils,s=i.registerTool,h=i.registerFormat,p=r.RangeUtils,c=v.extend({init:function(n){this.format=n},contains:function(n,i){for(var u,r=0,f=i.length;r<f;r++)if(u=i[r],!u||!t.isAncestorOrSelf(n,u))return!1;return!0},findSuitable:function(i){for(var s=this.format,u=[],f,e,r=0,o=i.length;r<o;r++){for(e=s.length-1;e>=0;e--)if(f=t.ofType(i[r],s[e].tags)?i[r]:t.parentOfType(i[r],s[e].tags),f)break;if(!f||f.contentEditable==="true")return[];n.inArray(f,u)<0&&u.push(f)}for(r=0,o=u.length;r<o;r++)if(this.contains(u[r],u))return[u[r]];return u},findFormat:function(n){for(var u=this.format,i,e,o,s=t.editableParent(n),r=0,f=u.length;r<f;r++)for(i=n,e=u[r].tags,o=u[r].attr;i&&t.isAncestorOf(s,i);){if(t.ofType(i,e)&&t.attrEquals(i,o))return i;i=i.parentNode}return null},getFormat:function(n){var e=this,u=function(n){return e.findFormat(t.isDataNode(n)?n.parentNode:n)},r=u(n[0]),i,f;if(!r)return"";for(i=1,f=n.length;i<f;i++)if(r!=u(n[i]))return"";return r.nodeName.toLowerCase()},isFormatted:function(n){for(var t=0,i=n.length;t<i;t++)if(!this.findFormat(n[t]))return!1;return!0}}),l=v.extend({init:function(n,t){this.format=n;this.values=t;this.finder=new c(n)},wrap:function(n,i,r){var f=r.length==1?t.blockParentOrBody(r[0]):t.commonAncestor.apply(null,r);t.isInline(f)&&(f=t.blockParentOrBody(f));for(var s=t.significantChildNodes(f),h=t.findNodeIndex(s[0]),u=t.create(f.ownerDocument,n,i),e,o=0;o<s.length;o++){if(e=s[o],t.isBlock(e)){t.attr(e,i);u.childNodes.length&&(t.insertBefore(u,e),u=u.cloneNode(!1));h=t.findNodeIndex(e)+1;continue}u.appendChild(e)}u.firstChild&&t.insertAt(f,u,h)},apply:function(r){function o(n){return y({},n&&n.attr,l)}var u,l=this.values,h=t.filter("img",r),a=i.formatByName("img",this.format),v=o(a),s,f,e,c;if(n.each(h,function(){t.attr(this,v)}),h.length!=r.length)if(s=t.filter("img",r,!0),f=this.finder.findSuitable(s),f.length)for(e=0,c=f.length;e<c;e++)u=i.formatByName(t.name(f[e]),this.format),t.attr(f[e],o(u));else u=this.format[0],this.wrap(u.tags[0],o(u),s)},remove:function(n){for(var r,u,e,f=0,o=n.length;f<o;f++)r=this.finder.findFormat(n[f]),r&&(e=t.name(r),e!="div"||r.getAttribute("class")?(u=i.formatByName(e,this.format),u.attr.style&&t.unstyle(r,u.attr.style),u.attr.className&&t.removeClass(r,u.attr.className)):t.unwrap(r))},toggle:function(n){var t=this,i=p.nodes(n);t.finder.isFormatted(i)?t.remove(i):t.apply(i)}}),k=v.extend({init:function(n,t){var i=this;i.format=n;i.values=t;i.finder=new c(n)},apply:function(n){var f=this.format,u=t.blockParents(n),e=f[0].tags[0],i,h,c,a,o,v,s;if(u.length)for(i=0,h=u.length;i<h;i++)s=t.name(u[i]),s=="li"?(c=u[i].parentNode,a=new r.ListFormatter(c.nodeName.toLowerCase(),e),o=this.editor.createRange(),o.selectNode(u[i]),a.toggle(o)):e&&(s=="td"||u[i].attributes.contentEditable)?new l(f,this.values).apply(u[i].childNodes):(v=t.changeTag(u[i],e),t.attr(v,f[0].attr));else new l(f,this.values).apply(n)},toggle:function(n){var i=p.textNodes(n);i.length||(n.selectNodeContents(n.commonAncestorContainer),i=p.textNodes(n),i.length||(i=t.significantChildNodes(n.commonAncestorContainer)));this.apply(i)}}),d=w.extend({init:function(n){n.formatter=n.formatter();w.fn.init.call(this,n)}}),u=b.extend({init:function(n){b.fn.init.call(this,y(n,{finder:new c(n.format),formatter:function(){return new l(n.format)}}))}}),f;y(r,{BlockFormatFinder:c,BlockFormatter:l,GreedyBlockFormatter:k,FormatCommand:d,BlockFormatTool:u});f=["ul","ol","li"];h("justifyLeft",[{tags:t.nonListBlockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{float:"left",display:"",marginLeft:"",marginRight:""}}},{tags:f,attr:{style:{textAlign:"left",listStylePosition:""}}}]);s("justifyLeft",new u({format:e.justifyLeft,template:new o({template:i.buttonTemplate,title:"Justify Left"})}));h("justifyCenter",[{tags:t.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:f,attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]);s("justifyCenter",new u({format:e.justifyCenter,template:new o({template:i.buttonTemplate,title:"Justify Center"})}));h("justifyRight",[{tags:t.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{float:"right",display:"",marginLeft:"",marginRight:""}}},{tags:f,attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]);s("justifyRight",new u({format:e.justifyRight,template:new o({template:i.buttonTemplate,title:"Justify Right"})}));h("justifyFull",[{tags:t.nonListBlockElements,attr:{style:{textAlign:"justify"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:f,attr:{style:{textAlign:"justify",listStylePosition:""}}}]);s("justifyFull",new u({format:e.justifyFull,template:new o({template:i.buttonTemplate,title:"Justify Full"})}))}(window.kendo.jQuery),function(n){var e=window.kendo,l=n.extend,i=e.ui.editor,t=i.Dom,u=i.Command,o=i.Tool,a=i.BlockFormatter,f=t.normalize,r=i.RangeUtils,s=i.EditorUtils.registerTool,h=u.extend({init:function(n){this.options=n;u.fn.init.call(this,n)},_insertMarker:function(n,i){var r=t.create(n,"a"),u;return r.className="k-marker",i.insertNode(r),r.parentNode||(u=i.commonAncestorContainer,u.innerHTML="",u.appendChild(r)),f(r.parentNode),r},_moveFocus:function(n,i){if(t.is(i,"img"))n.setStartBefore(i);else{n.selectNodeContents(i);var u=r.textNodes(n)[0];if(u)t.is(u,"img")?n.setStartBefore(u):n.selectNodeContents(u);else{while(i.childNodes.length&&!t.is(i.firstChild,"br"))i=i.firstChild;n.selectNodeContents(i)}}},shouldTrim:function(n){var i="p,h1,h2,h3,h4,h5,h6".split(","),r=t.parentOfType(n.startContainer,i),u=t.parentOfType(n.endContainer,i);return r&&!u||!r&&u},_blankAfter:function(n){while(n&&(t.isMarker(n)||t.stripBom(n.nodeValue)===""))n=n.nextSibling;return!n},exec:function(){var e=this.getRange(),v=r.documentFromRange(e),l,o,n,p=i.emptyElementContent,s,h,u,c,y,w=this.shouldTrim(e);e.deleteContents();h=this._insertMarker(v,e);u=t.closestEditableOfType(h,["li"]);c=t.closestEditableOfType(h,"h1,h2,h3,h4,h5,h6".split(","));u?t.emptyNode(u)&&(s=t.create(v,"p"),u.nextSibling&&(y=e.cloneRange(),y.selectNode(u),r.split(y,u.parentNode)),t.insertAfter(s,u.parentNode),t.remove(u.parentNode.childNodes.length==1?u.parentNode:u),s.innerHTML=p,n=s):c&&this._blankAfter(h)&&(s=t.create(v,"p"),t.insertAfter(s,c),s.innerHTML=p,t.remove(h),n=s);n||(u||c||new a([{tags:["p"]}]).apply([h]),e.selectNode(h),l=t.parentOfType(h,[u?"li":c?t.name(c):"p"]),r.split(e,l,w),o=l.previousSibling,t.is(o,"li")&&o.firstChild&&!t.is(o.firstChild,"br")&&(o=o.firstChild),n=l.nextSibling,t.is(n,"li")&&n.firstChild&&!t.is(n.firstChild,"br")&&(n=n.firstChild),t.remove(l),this.clean(o),this.clean(n,{links:!0}),f(o));f(n);this._moveFocus(e,n);e.collapse(!0);t.scrollTo(n);r.selectRange(e)},clean:function(n,r){var u=n;if(n.firstChild&&t.is(n.firstChild,"br")&&t.remove(n.firstChild),t.isDataNode(n)&&!n.nodeValue&&(n=n.parentNode),n){while(n.firstChild&&n.firstChild.nodeType==1)n=n.firstChild;if(!t.isEmpty(n)&&/^\s*$/.test(n.innerHTML)&&(n.innerHTML=i.emptyElementContent),r&&r.links)while(n!=u){if(t.is(n,"a")&&t.emptyNode(n)){t.unwrap(n);break}n=n.parentNode}}}}),c=u.extend({init:function(n){this.options=n;u.fn.init.call(this,n)},exec:function(){var i=this.getRange(),n=t.create(r.documentFromRange(i),"br"),u,o=e.support.browser,s=o.msie&&o.version<11;i.deleteContents();i.insertNode(n);f(n.parentNode);s||n.nextSibling&&!t.isWhitespace(n.nextSibling)||(u=n.cloneNode(!0),u.className="k-br",t.insertAfter(u,n));i.setStartAfter(n);i.collapse(!0);t.scrollTo(n.nextSibling||n);r.selectRange(i)}});l(i,{ParagraphCommand:h,NewLineCommand:c});s("insertLineBreak",new o({key:13,shift:!0,command:c}));s("insertParagraph",new o({key:13,command:h}))}(window.kendo.jQuery),function(n){var s=window.kendo,b=s.Class,u=n.extend,i=s.ui.editor,t=i.Dom,f=i.RangeUtils,h=i.EditorUtils,c=i.Command,l=i.ToolTemplate,a=i.FormatTool,v=i.BlockFormatFinder,e=f.textNodes,y=i.EditorUtils.registerTool,r=v.extend({init:function(n){this.tag=n;var t=this.tags=[n=="ul"?"ol":"ul",n];v.fn.init.call(this,[{tags:t}])},isFormatted:function(n){for(var r=[],u,i=0;i<n.length;i++)(u=this.findFormat(n[i]))&&t.name(u)==this.tag&&r.push(u);if(r.length<1||r.length!=n.length)return!1;for(i=0;i<r.length;i++){if(r[i].parentNode!=u.parentNode)break;if(r[i]!=u)return!1}return!0},findSuitable:function(n){var i=t.parentOfType(n[0],this.tags);return i&&t.name(i)==this.tag?i:null}}),p=b.extend({init:function(n,t){var i=this;i.finder=new r(n);i.tag=n;i.unwrapTag=t},isList:function(n){var i=t.name(n);return i=="ul"||i=="ol"||i=="dl"},wrap:function(n,i){for(var u=t.create(n.ownerDocument,"li"),r,f=0;f<i.length;f++){if(r=i[f],t.is(r,"li")){n.appendChild(r);continue}if(this.isList(r)){while(r.firstChild)n.appendChild(r.firstChild);continue}if(t.is(r,"td")){while(r.firstChild)u.appendChild(r.firstChild);n.appendChild(u);r.appendChild(n);n=n.cloneNode(!1);u=u.cloneNode(!1);continue}u.appendChild(r);t.isBlock(r)&&(n.appendChild(u),t.unwrap(r),u=u.cloneNode(!1))}u.firstChild&&n.appendChild(u)},containsAny:function(n,i){for(var r=0;r<i.length;r++)if(t.isAncestorOrSelf(n,i[r]))return!0;return!1},suitable:function(n,i){if(n.className=="k-marker"){var r=n.nextSibling;if(r&&t.isBlock(r)||(r=n.previousSibling,r&&t.isBlock(r)))return!1}return this.containsAny(n,i)||t.isInline(n)||n.nodeType==3},split:function(i){var r=e(i),h,c,u,l,o,s;if(r.length)for(h=t.parentOfType(r[0],["li"]),c=t.parentOfType(r[r.length-1],["li"]),i.setStartBefore(h),i.setEndAfter(c),u=0,l=r.length;u<l;u++)o=this.finder.findFormat(r[u]),o&&(s=n(o).parents("ul,ol"),s[0]?f.split(i,s.last()[0],!0):f.split(i,o,!0))},merge:function(n,i){for(var u=i.previousSibling,r;u&&(u.className=="k-marker"||u.nodeType==3&&t.isWhitespace(u));)u=u.previousSibling;if(u&&t.name(u)==n){while(i.firstChild)u.appendChild(i.firstChild);t.remove(i);i=u}for(r=i.nextSibling;r&&(r.className=="k-marker"||r.nodeType==3&&t.isWhitespace(r));)r=r.nextSibling;if(r&&t.name(r)==n){while(i.lastChild)r.insertBefore(i.lastChild,r.firstChild);t.remove(i)}},breakable:function(n){return n!=n.ownerDocument.body&&!/table|tbody|tr|td/.test(t.name(n))&&!n.attributes.contentEditable},applyOnSection:function(i,u){function v(){s.push(this)}var h=this.tag,c=t.closestSplittableParent(u),s=[],f=this.finder.findSuitable(u),e,l,o,a;for(f||(f=new r(h=="ul"?"ol":"ul").findSuitable(u)),/table|tbody/.test(t.name(c))?e=n.map(u,function(n){return t.parentOfType(n,["td"])}):(e=t.significantChildNodes(c),n.grep(e,t.isBlock).length&&(e=n.grep(e,n.proxy(function(n){return this.containsAny(n,u)},this))),e.length||(e=u)),l=0;l<e.length;l++)(o=e[l],a=(!f||!t.isAncestorOrSelf(f,o))&&this.suitable(o,u),a)&&(f&&this.isList(o)?(n.each(o.childNodes,v),t.remove(o)):s.push(o));s.length==e.length&&this.breakable(c)&&(s=[c]);f||(f=t.create(c.ownerDocument,h),t.insertBefore(f,s[0]));this.wrap(f,s);t.is(f,h)||t.changeTag(f,h);this.merge(h,f)},apply:function(n){var i=0,u=[],r,f,e;do e=t.closestEditable(n[i],["td","body"]),r&&e==r?f.push(n[i]):(r&&u.push({section:r,nodes:f}),f=[n[i]],r=e),i++;while(i<n.length);for(u.push({section:r,nodes:f}),i=0;i<u.length;i++)this.applyOnSection(u[i].section,u[i].nodes)},unwrap:function(i){for(var f=i.ownerDocument.createDocumentFragment(),s=this.unwrapTag,e,r,o,u=i.firstChild;u;u=u.nextSibling){for(r=t.create(i.ownerDocument,s||"p");u.firstChild;)o=u.firstChild,t.isBlock(o)?(r.firstChild&&(f.appendChild(r),r=t.create(i.ownerDocument,s||"p")),f.appendChild(o)):r.appendChild(o);r.firstChild&&f.appendChild(r)}e=n(i).parents("ul,ol");e[0]?(t.insertAfter(f,e.last()[0]),e.last().remove()):t.insertAfter(f,i);t.remove(i)},remove:function(n){for(var t,i=0,r=n.length;i<r;i++)t=this.finder.findFormat(n[i]),t&&this.unwrap(t)},toggle:function(n){var i=this,t=e(n),u=n.commonAncestorContainer,r;t.length||(n.selectNodeContents(u),t=e(n),t.length||(r=u.ownerDocument.createTextNode(""),n.startContainer.appendChild(r),t=[r],n.selectNode(r.parentNode)));i.finder.isFormatted(t)?(i.split(n),i.remove(t)):i.apply(t)}}),w=c.extend({init:function(n){n.formatter=new p(n.tag);c.fn.init.call(this,n)}}),o=a.extend({init:function(n){this.options=n;a.fn.init.call(this,u(n,{finder:new r(n.tag)}))},command:function(n){return new w(u(n,{tag:this.options.tag}))}});u(i,{ListFormatFinder:r,ListFormatter:p,ListCommand:w,ListTool:o});y("insertUnorderedList",new o({tag:"ul",template:new l({template:h.buttonTemplate,title:"Insert unordered list"})}));y("insertOrderedList",new o({tag:"ol",template:new l({template:h.buttonTemplate,title:"Insert ordered list"})}))}(window.kendo.jQuery),function(n){var r=window.kendo,h=r.Class,d=n.extend,u=n.proxy,i=r.ui.editor,t=i.Dom,f=i.RangeUtils,c=i.EditorUtils,e=i.Command,o=i.Tool,l=i.ToolTemplate,a=i.InlineFormatter,g=i.InlineFormatFinder,s=f.textNodes,v=i.EditorUtils.registerTool,y=h.extend({findSuitable:function(n){return t.parentOfType(n,["a"])}}),p=h.extend({init:function(){this.finder=new y},apply:function(n,i){var h=s(n),u,c,o,r,e;i.innerHTML?(u=f.getMarkers(n),c=f.documentFromRange(n),n.deleteContents(),r=t.create(c,"a",i),n.insertNode(r),e=r.parentNode,t.name(e)=="a"&&t.insertAfter(r,e),t.emptyNode(e)&&t.remove(e),u.length>1&&(t.insertAfter(u[u.length-1],r),t.insertAfter(u[1],r),t[h.length>0?"insertBefore":"insertAfter"](u[0],r))):(o=new a([{tags:["a"]}],i),o.finder=this.finder,o.apply(h))}}),w=e.extend({init:function(n){n.formatter={toggle:function(n){new a([{tags:["a"]}]).remove(s(n))}};this.options=n;e.fn.init.call(this,n)}}),b=e.extend({init:function(n){var t=this;t.options=n;e.fn.init.call(t,n);t.formatter=new p;n.url?this.exec=function(){this.formatter.apply(n.range,{href:n.url,innerHTML:n.text||n.url,target:n.target})}:(t.attributes=null,t.async=!0)},_dialogTemplate:function(){return r.template("<div class=\"k-editor-dialog k-popup-edit-form k-edit-form-container\"><div class='k-edit-label'><label for='k-editor-link-url'>#: messages.linkWebAddress #<\/label><\/div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-url'><\/div><div class='k-edit-label k-editor-link-text-row'><label for='k-editor-link-text'>#: messages.linkText #<\/label><\/div><div class='k-edit-field k-editor-link-text-row'><input type='text' class='k-input k-textbox' id='k-editor-link-text'><\/div><div class='k-edit-label'><label for='k-editor-link-title'>#: messages.linkToolTip #<\/label><\/div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-title'><\/div><div class='k-edit-label'><\/div><div class='k-edit-field'><input type='checkbox' class='k-checkbox' id='k-editor-link-target'><label for='k-editor-link-target'>#: messages.linkOpenInNewWindow #<\/label><\/div><div class='k-edit-buttons k-state-default'><button class=\"k-dialog-insert k-button k-primary\">#: messages.dialogInsert #<\/button><button class=\"k-dialog-close k-button\">#: messages.dialogCancel #<\/button><\/div><\/div>")({messages:this.editor.options.messages})},exec:function(){var e=this.getRange().collapsed,o=this.editor.options.messages;this._initialText="";this._range=this.lockRange(!0);var i=s(this._range),r=i.length?this.formatter.finder.findSuitable(i[0]):null,h=i.length&&t.name(i[0])=="img",f=this.createDialog(this._dialogTemplate(),{title:o.createLink,close:u(this._close,this),visible:!1});f.find(".k-dialog-insert").click(u(this._apply,this)).end().find(".k-dialog-close").click(u(this._close,this)).end().find(".k-edit-field input").keydown(u(this._keydown,this)).end().find("#k-editor-link-url").val(this.linkUrl(r)).end().find("#k-editor-link-text").val(this.linkText(i)).end().find("#k-editor-link-title").val(r?r.title:"").end().find("#k-editor-link-target").attr("checked",r?r.target=="_blank":!1).end().find(".k-editor-link-text-row").toggle(!h);i.length>0&&!e&&(this._initialText=n("#k-editor-link-text",f).val());this._dialog=f.data("kendoWindow").center().open();n("#k-editor-link-url",f).focus().select()},_keydown:function(n){var t=r.keys;n.keyCode==t.ENTER?this._apply(n):n.keyCode==t.ESC&&this._close(n)},_apply:function(i){var f=this._dialog.element,r=n("#k-editor-link-url",f).val(),e,u,o,s=n("#k-editor-link-text",f);r&&r!="http://"&&(r.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(r)&&(r="mailto:"+r),this.attributes={href:r},e=n("#k-editor-link-title",f).val(),e&&(this.attributes.title=e),s.is(":visible")&&(u=s.val(),u||this._initialText?u&&u!==this._initialText&&(this.attributes.innerHTML=t.stripBom(u)):this.attributes.innerHTML=r),o=n("#k-editor-link-target",f).is(":checked"),this.attributes.target=o?"_blank":null,this.formatter.apply(this._range,this.attributes));this._close(i);this.change&&this.change()},_close:function(n){n.preventDefault();this._dialog.destroy();t.windowFromDocument(f.documentFromRange(this._range)).focus();this.releaseRange(this._range)},linkUrl:function(n){return n?n.getAttribute("href",2):"http://"},linkText:function(n){var i="";return n.length==1?i=n[0].nodeValue:n.length&&(i=n[0].nodeValue+n[1].nodeValue),t.stripBom(i||"")},redo:function(){var n=this.lockRange(!0);this.formatter.apply(n,this.attributes);this.releaseRange(n)}}),k=o.extend({init:function(t){this.options=t;this.finder=new g([{tags:["a"]}]);o.fn.init.call(this,n.extend(t,{command:w}))},initialize:function(n,t){o.fn.initialize.call(this,n,t);n.addClass("k-state-disabled")},update:function(n,t){n.toggleClass("k-state-disabled",!this.finder.isFormatted(t)).removeClass("k-state-hover")}});d(r.ui.editor,{LinkFormatFinder:y,LinkFormatter:p,UnlinkCommand:w,LinkCommand:b,UnlinkTool:k});v("createLink",new o({key:"K",ctrl:!0,command:b,template:new l({template:c.buttonTemplate,title:"Create Link"})}));v("unlink",new k({key:"K",ctrl:!0,shift:!0,template:new l({template:c.buttonTemplate,title:"Remove Link"})}))}(window.kendo.jQuery),function(n,t){var r=window.kendo,a=n.extend,i=r.ui.editor,o=i.EditorUtils,u=i.Dom,v=o.registerTool,y=i.ToolTemplate,f=i.RangeUtils,s=i.Command,p=i.LinkFormatter,w=f.textNodes,h=r.keys,e="#k-editor-file-url",c="#k-editor-file-title",l=s.extend({init:function(n){var t=this;s.fn.init.call(t,n);t.formatter=new p;t.async=!0;t.attributes={}},insertFile:function(n,t){var i=this.attributes,r=f.documentFromRange(t);if(i.href&&i.href!="http://")if(n)u.attr(n,i);else return n=u.create(r,"a",{href:i.href}),n.innerHTML=i.innerHTML,t.deleteContents(),t.insertNode(n),n.nextSibling||u.insertAfter(r.createTextNode("﻿"),n),t.setStartAfter(n),t.setEndAfter(n),f.selectRange(t),!0;return!1},_dialogTemplate:function(n){return r.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-filebrowser"><\/div># } #<div class=\'k-edit-label\'><label for="k-editor-file-url">#: messages.fileWebAddress #<\/label><\/div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-url"><\/div><div class=\'k-edit-label\'><label for="k-editor-file-title">#: messages.fileTitle #<\/label><\/div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-file-title"><\/div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #<\/button><button class="k-dialog-close k-button">#: messages.dialogCancel #<\/button><\/div><\/div>')({messages:this.editor.options.messages,showBrowser:n})},redo:function(){var n=this,t=n.lockRange();this.formatter.apply(t,this.attributes);n.releaseRange(t)},exec:function(){function b(t){var r=i.element,u=r.find(e).val().replace(/ /g,"%20"),f=r.find(c).val();n.attributes={href:u,innerHTML:f!==""?f:u};d=n.insertFile(o,l);y(t);n.change&&n.change()}function y(t){t.preventDefault();i.destroy();u.windowFromDocument(f.documentFromRange(l)).focus();d||n.releaseRange(l)}function tt(n){n.keyCode==h.ENTER?b(n):n.keyCode==h.ESC&&y(n)}var n=this,l=n.lockRange(),k=w(l),d=!1,o=k.length?this.formatter.finder.findSuitable(k[0]):null,i,g=n.editor.options,nt=g.messages,v=g.fileBrowser,s=!!(r.ui.FileBrowser&&v&&v.transport&&v.transport.read!==t),p={title:nt.insertFile,visible:!1,resizable:s};p.close=y;s&&(p.width=750);i=this.createDialog(n._dialogTemplate(s),p).toggleClass("k-filebrowser-dialog",s).find(".k-dialog-insert").click(b).end().find(".k-dialog-close").click(y).end().find(".k-edit-field input").keydown(tt).end().find(e).val(o?o.getAttribute("href",2):"http://").end().find(c).val(o?o.title:"").end().data("kendoWindow");s&&new r.ui.FileBrowser(i.element.find(".k-filebrowser"),a({},v,{change:function(){i.element.find(e).val(this.value())},apply:b}));i.center().open();i.element.find(e).focus().select()}});r.ui.editor.FileCommand=l;v("insertFile",new i.Tool({command:l,template:new y({template:o.buttonTemplate,title:"Insert File"})}))}(window.kendo.jQuery),function(n,t){var i=window.kendo,y=n.extend,r=i.ui.editor,o=r.EditorUtils,f=r.Dom,p=o.registerTool,w=r.ToolTemplate,u=r.RangeUtils,s=r.Command,h=i.keys,e="#k-editor-image-url",c="#k-editor-image-title",l="#k-editor-image-width",a="#k-editor-image-height",v=s.extend({init:function(n){var t=this;s.fn.init.call(t,n);t.async=!0;t.attributes={}},insertImage:function(n,t){var i=this.attributes,e=u.documentFromRange(t),r;if(i.src&&i.src!="http://")if(r=function(){setTimeout(function(){i.width||n.removeAttribute("width");i.height||n.removeAttribute("height");n.removeAttribute("complete")})},n)f.attr(n,i),r();else return n=f.create(e,"img",i),n.onload=n.onerror=function(){r()},t.deleteContents(),t.insertNode(n),n.nextSibling||f.insertAfter(e.createTextNode("﻿"),n),r(),t.setStartAfter(n),t.setEndAfter(n),u.selectRange(t),!0;return!1},_dialogTemplate:function(n){return i.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-filebrowser k-imagebrowser"><\/div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #<\/label><\/div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-url"><\/div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #<\/label><\/div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-title"><\/div><div class=\'k-edit-label\'><label for="k-editor-image-width">#: messages.imageWidth #<\/label><\/div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-width"><\/div><div class=\'k-edit-label\'><label for="k-editor-image-height">#: messages.imageHeight #<\/label><\/div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-height"><\/div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #<\/button><button class="k-dialog-close k-button">#: messages.dialogCancel #<\/button><\/div><\/div>')({messages:this.editor.options.messages,showBrowser:n})},redo:function(){var n=this,t=n.lockRange();n.insertImage(u.image(t),t)||n.releaseRange(t)},exec:function(){function k(t){var i=o.element,u=parseInt(i.find(l).val(),10),f=parseInt(i.find(a).val(),10);n.attributes={src:i.find(e).val().replace(/ /g,"%20"),alt:i.find(c).val()};n.attributes.width=null;n.attributes.height=null;!isNaN(u)&&u>0&&(n.attributes.width=u);!isNaN(f)&&f>0&&(n.attributes.height=f);d=n.insertImage(r,v);w(t);n.change&&n.change()}function w(t){t.preventDefault();o.destroy();f.windowFromDocument(u.documentFromRange(v)).focus();d||n.releaseRange(v)}function rt(n){n.keyCode==h.ENTER?k(n):n.keyCode==h.ESC&&w(n)}var n=this,v=n.lockRange(),d=!1,r=u.image(v),nt=r&&r.getAttribute("width")||"",tt=r&&r.getAttribute("height")||"",o,g=n.editor.options,it=g.messages,p=g.imageBrowser,s=!!(i.ui.ImageBrowser&&p&&p.transport&&p.transport.read!==t),b={title:it.insertImage,visible:!1,resizable:s};b.close=w;s&&(b.width=750);o=this.createDialog(n._dialogTemplate(s),b).toggleClass("k-filebrowser-dialog",s).find(".k-dialog-insert").click(k).end().find(".k-dialog-close").click(w).end().find(".k-edit-field input").keydown(rt).end().find(e).val(r?r.getAttribute("src",2):"http://").end().find(c).val(r?r.alt:"").end().find(l).val(nt).end().find(a).val(tt).end().data("kendoWindow");s&&new i.ui.ImageBrowser(o.element.find(".k-imagebrowser"),y({},p,{change:function(){o.element.find(e).val(this.value())},apply:k}));o.center().open();o.element.find(e).focus().select()}});i.ui.editor.ImageCommand=v;p("insertImage",new r.Tool({command:v,template:new w({template:o.buttonTemplate,title:"Insert Image"})}))}(window.kendo.jQuery),function(n,t){var i=window.kendo,r=i.ui.DropDownList,u=i.ui.editor.Dom,f=r.extend({init:function(t,u){var f=this;r.fn.init.call(f,t,u);i.support.mobileOS.ios&&(this._initSelectOverlay(),this.bind("dataBound",n.proxy(this._initSelectOverlay,this)));f.value(f.options.title);f.bind("open",function(){if(f.options.autoSize){var t=f.list,n;t.css({whiteSpace:"nowrap",width:"auto"});n=t.width();n?n+=20:n=f._listWidth;t.css("width",n+i.support.scrollbar());f._listWidth=n}})},options:{name:"SelectBox"},_initSelectOverlay:function(){for(var e,o,u=this,c=u.value(),s=this.dataSource.view(),t,r="",h=i.htmlEncode,f=0;f<s.length;f++)t=s[f],r+="<option value='"+h(t.value)+"'",t.value==c&&(r+=" selected"),r+=">"+h(t.text)+"<\/option>";e=n("<select class='k-select-overlay'>"+r+"<\/select>");o=n(this.element).closest(".k-widget");o.next(".k-select-overlay").remove();e.insertAfter(o);e.on("change",function(){u.value(this.value);u.trigger("change")})},value:function(n){var i=this,u=r.fn.value.call(i,n);if(n===t)return u;n!==r.fn.value.call(i)&&(i.text(i.options.title),i._current&&i._current.removeClass("k-state-selected"),i.current(null),i._oldIndex=i.selectedIndex=-1)},decorate:function(t){var e=this,o=e.dataSource,r=o.data(),i,s,h,f;for(t&&e.list.css("background-color",u.getEffectiveBackground(n(t))),i=0;i<r.length;i++)s=r[i].tag||"span",h=r[i].className,f=u.inlineStyle(t,s,{className:h}),f=f.replace(/"/g,"'"),r[i].style=f+";display:inline-block";o.trigger("change")}});i.ui.plugin(f);i.ui.editor.SelectBox=f}(window.kendo.jQuery),function(n,t){function u(r,u){var o=n(r).css("direction")=="rtl",e=o?"Right":"Left",f=i.name(r)!="td"?"margin"+e:"padding"+e;if(u===t)return r.style[f]||0;u>0?r.style[f]=u+"px":(r.style[f]="",r.style.cssText||r.removeAttribute("style"))}var h=window.kendo,b=h.Class,k=n.extend,r=h.ui.editor,i=r.Dom,o=r.EditorUtils,c=o.registerTool,f=r.Command,e=r.Tool,l=r.ToolTemplate,a=r.RangeUtils,d=i.blockElements,v=r.BlockFormatFinder,g=r.BlockFormatter,s=b.extend({init:function(){this.finder=new v([{tags:i.blockElements}])},apply:function(t){var s=this.finder.findSuitable(t),e=[],o,v,r,a,h,l,f,y,c,p;if(s.length){for(o=0,v=s.length;o<v;o++)i.is(s[o],"li")?n(s[o]).index()?n.inArray(s[o].parentNode,e)<0&&e.push(s[o]):e.push(s[o].parentNode):e.push(s[o]);while(e.length)if(r=e.shift(),i.is(r,"li"))if(a=r.parentNode,h=n(r).prev("li"),l=h.find("ul,ol").last(),f=n(r).children("ul,ol")[0],f&&h[0])l[0]?(l.append(r),l.append(n(f).children()),i.remove(f)):(h.append(f),f.insertBefore(r,f.firstChild));else for(f=h.children("ul,ol")[0],f||(f=i.create(r.ownerDocument,i.name(a)),h.append(f));r&&r.parentNode==a;)f.appendChild(r),r=e.shift();else for(y=parseInt(u(r),10)+30,u(r,y),c=0;c<e.length;c++)n.contains(r,e[c])&&e.splice(c,1)}else p=new g([{tags:["p"]}],{style:{marginLeft:30}}),p.apply(t)},remove:function(t){for(var s=this.finder.findSuitable(t),r,i,e,h,f,l,o=0,c=s.length;o<c;o++){if(f=n(s[o]),f.is("li"))if(i=f.parent(),e=i.parent(),e.is("li,ul,ol")&&!u(i[0])){if(r&&n.contains(r,e[0]))continue;h=f.nextAll("li");h.length&&n(i[0].cloneNode(!1)).appendTo(f).append(h);e.is("li")?f.insertAfter(e):f.appendTo(e);i.children("li").length||i.remove();continue}else{if(r==i[0])continue;r=i[0]}else r=s[o];l=parseInt(u(r),10)-30;u(r,l)}}}),y=f.extend({init:function(n){n.formatter={toggle:function(n){(new s).apply(a.nodes(n))}};f.fn.init.call(this,n)}}),p=f.extend({init:function(n){n.formatter={toggle:function(n){(new s).remove(a.nodes(n))}};f.fn.init.call(this,n)}}),w=e.extend({init:function(n){e.fn.init.call(this,n);this.finder=new v([{tags:d}])},initialize:function(n,t){e.fn.initialize.call(this,n,t);n.addClass("k-state-disabled")},update:function(t,r){for(var e=this.finder.findSuitable(r),o,s,f=0,h=e.length;f<h;f++)if(o=u(e[f]),o||(s=n(e[f]).parents("ul,ol").length,o=i.is(e[f],"li")&&(s>1||u(e[f].parentNode))||i.ofType(e[f],["ul","ol"])&&s>0),o){t.removeClass("k-state-disabled");return}t.addClass("k-state-disabled").removeClass("k-state-hover")}});k(r,{IndentFormatter:s,IndentCommand:y,OutdentCommand:p,OutdentTool:w});c("indent",new e({command:y,template:new l({template:o.buttonTemplate,title:"Indent"})}));c("outdent",new w({command:p,template:new l({template:o.buttonTemplate,title:"Outdent"})}))}(window.kendo.jQuery),function(n){var r=window.kendo,f=n.extend,t=r.ui.editor,e=t.EditorUtils,u=t.Command,o=t.Tool,s=t.ToolTemplate,i=u.extend({init:function(n){var t=this;t.options=n;u.fn.init.call(t,n);t.attributes=null;t.async=!0},exec:function(){function c(n){t.value(u.find(e).val());o(n);f.change&&f.change();t.trigger("change")}function o(n){n.preventDefault();u.data("kendoWindow").destroy();t.focus()}var f=this,t=f.editor,s=t.options.messages,u=n(r.template(i.template)(s)).appendTo(document.body),h=i.indent(t.value()),e=".k-editor-textarea";this.createDialog(u,{title:s.viewHtml,close:o,visible:!1}).find(e).val(h).end().find(".k-dialog-update").click(c).end().find(".k-dialog-close").click(o).end().data("kendoWindow").center().open();u.find(e).focus()}});f(i,{template:"<div class='k-editor-dialog k-popup-edit-form k-edit-form-container k-viewhtml-dialog'><textarea class='k-editor-textarea k-input'><\/textarea><div class='k-edit-buttons k-state-default'><button class='k-dialog-update k-button k-primary'>#: dialogUpdate #<\/button><button class='k-dialog-close k-button'>#: dialogCancel #<\/button><\/div><\/div>",indent:function(n){return n.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/ig,"<\/$1>\n").replace(/<(ul|ol)([^>]*)><li/ig,"<$1$2>\n<li").replace(/<br \/>/ig,"<br />\n").replace(/\n$/,"")}});r.ui.editor.ViewHtmlCommand=i;t.EditorUtils.registerTool("viewHtml",new o({command:i,template:new s({template:e.buttonTemplate,title:"View HTML"})}))}(window.kendo.jQuery),function(n){var r=window.kendo,t=r.ui.editor,u=t.Tool,e=t.ToolTemplate,o=t.DelayedExecutionTool,l=t.Command,i=t.Dom,f=t.EditorUtils,a=t.RangeUtils,s=f.registerTool,h=o.extend({init:function(n){var t=this;u.fn.init.call(t,r.deepExtend({},t.options,n));t.type="kendoSelectBox";t.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:110},toFormattingItem:function(n){var t=n.value,i;return t?n.tag||n.className?n:(i=t.indexOf("."),i===0?n.className=t.substring(1):i==-1?n.tag=t:(n.tag=t.substring(0,i),n.className=t.substring(i+1)),n):n},command:function(r){var u=r.value;return u=this.toFormattingItem(u),new t.FormatCommand({range:r.range,formatter:function(){var r=(u.tag||u.context||"span").split(","),f=[{tags:r,attr:{className:u.className||""}}];return n.inArray(r[0],i.inlineElements)>=0?new t.GreedyInlineFormatter(f):new t.GreedyBlockFormatter(f)}})},initialize:function(n,t){var f=t.editor,e=this.options,i=e.name,o=this;n.width(e.width);n.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:e.items||f.options[i],title:f.options.messages[i],autoSize:!0,change:function(){u.exec(f,i,this.dataItem().toJSON())},dataBound:function(){for(var t=this.dataSource.data(),n=0;n<t.length;n++)t[n]=o.toFormattingItem(t[n])},highlightFirst:!1,template:r.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#<\/span>')});n.addClass("k-decorated").closest(".k-widget").removeClass("k-"+i).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(t,i){for(var u,f=0;f<t.length;f++){var r=t[f],o=r.tag||r.context||"",s=r.className?"."+r.className:"",e=o+s,h=n(i[0]).closest(e)[0];if(h){if(i.length==1)return r.value;for(u=1;u<i.length;u++)if(n(i[u]).closest(e)[0]){if(u==i.length-1)return r.value}else break}}return""},update:function(t,r){var f=n(t).data(this.type);if(f){for(var e=f.dataSource,s=e.data(),h,c=i.commonAncestor.apply(null,r),u=0;u<s.length;u++)h=s[u].context,s[u].visible=!h||!!n(c).closest(h).length;e.filter([{field:"visible",operator:"eq",value:!0}]);o.fn.update.call(this,t,r);f.value(this.getFormattingValue(e.view(),r));f.wrapper.toggleClass("k-state-disabled",!e.view().length)}}}),c=l.extend({exec:function(){var n=this.lockRange(!0),u=this.options.remove||"strong,em,span".split(","),r;a.wrapSelectedElements(n);r=new t.RangeIterator(n);r.traverse(function f(n){if(n&&!i.isMarker(n)){if(n.nodeType==1&&!i.insignificant(n)){for(var t=n.childNodes.length-1;t>=0;t--)f(n.childNodes[t]);n.removeAttribute("style");n.removeAttribute("class")}u.indexOf(i.name(n))>-1&&i.unwrap(n)}});this.releaseRange(n)}});n.extend(t,{FormattingTool:h,CleanFormatCommand:c});s("formatting",new h({template:new e({template:f.dropDownListTemplate,title:"Format"})}));s("cleanFormatting",new u({command:c,template:new e({template:f.buttonTemplate,title:"Clean formatting"})}))}(window.kendo.jQuery),function(n){var t=window.kendo,s=t.ui,h=s.editor,f=s.Widget,u=n.extend,e=n.proxy,i=t.keys,r=".kendoEditor",o="a.k-tool:not(.k-state-disabled),.k-widget.k-colorpicker,.k-selectbox,.k-dropdown,.k-combobox .k-input",c=f.extend({init:function(n,t){var i=this;t=u({},t,{name:"EditorToolbar"});f.fn.init.call(i,n,t);t.popup&&i._initPopup()},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","insertFile","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],advanced:["viewHtml","cleanFormatting"]},_initPopup:function(){this.window=n(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-button-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-move' /><\/button>").kendoWindow({title:!1,resizable:!1,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:!1,autoFocus:!1,actions:[],dragend:function(){this._moved=!0}}).on("mousedown",function(t){n(t.target).is(".k-icon")||t.preventDefault()}).data("kendoWindow")},items:function(){return this.element.children().find("> *, select")},focused:function(){return this.element.find(".k-state-focused").length>0},toolById:function(n){var t,i=this.tools;for(t in i)if(t.toLowerCase()==n)return i[t]},toolGroupFor:function(t){var i,r=this.groups;if(this.isCustomTool(t))return"custom";for(i in r)if(n.inArray(t,r[i])>=0)return i},bindTo:function(t){var r=this,u=r.window;r._editor&&r._editor.unbind("select",e(r.refreshTools,r));r._editor=t;r.tools=r.expandTools(t.options.tools);r.render();r.element.find(".k-combobox .k-input").keydown(function(t){var r=n(this).closest(".k-combobox").data("kendoComboBox"),u=t.keyCode;u==i.RIGHT||u==i.LEFT?r.close():u==i.DOWN&&(r.dropDown.isOpened()||(t.stopImmediatePropagation(),r.open()))});r._attachEvents();r.items().each(function(){var u=r._toolName(this),i=r.tools[u],o=i&&i.options,s=t.options.messages,h=o&&o.tooltip||s[u],f=n(this),e;i&&i.initialize&&((u=="fontSize"||u=="fontName")&&(e=s[u+"Inherit"],f.find("input").val(e).end().find("span.k-input").text(e).end()),i.initialize(f,{title:r._appendShortcutSequence(h,i),editor:r._editor}),f.closest(".k-widget",r.element).addClass("k-editor-widget"),f.closest(".k-colorpicker",r.element).next(".k-colorpicker").addClass("k-editor-widget"))});t.bind("select",e(r.refreshTools,r));r.update();u&&u.wrapper.css({top:"",left:"",width:""})},show:function(){var t=this,i=t.window,f=t.options.editor,n,r,u;i&&(n=i.wrapper,r=f.element,n.is(":visible")&&t.window.options.visible||(n[0].style.width||n.width(r.outerWidth()-parseInt(n.css("border-left-width"),10)-parseInt(n.css("border-right-width"),10)),i._moved||(u=r.offset(),n.css({top:Math.max(0,parseInt(u.top,10)-n.outerHeight()-parseInt(t.window.element.css("padding-bottom"),10)),left:Math.max(0,parseInt(u.left,10))})),i.open()))},hide:function(){this.window&&this.window.close()},focus:function(){var n="tabIndex",i=this.element,t=this._editor.element.attr(n);i.attr(n,t||0).focus().find(o).first().focus();t||t===0||i.removeAttr(n)},_appendShortcutSequence:function(n,t){if(!t.key)return n;var i=n+" (";return t.ctrl&&(i+="Ctrl + "),t.shift&&(i+="Shift + "),t.alt&&(i+="Alt + "),i+(t.key+")")},_nativeTools:["insertLineBreak","insertParagraph","redo","undo"],tools:{},isCustomTool:function(n){return!(n in t.ui.Editor.defaultTools)},expandTools:function(i){for(var e,l=this._nativeTools,r,c=t.deepExtend({},t.ui.Editor.defaultTools),o={},s,f=0;f<i.length;f++)e=i[f],s=e.name,n.isPlainObject(e)?s&&c[s]?(o[s]=u({},c[s]),u(o[s].options,e)):(r=u({cssClass:"k-i-custom",type:"button",title:""},e),r.name||(r.name="custom"),r.cssClass="k-"+(r.name=="custom"?"i-custom":r.name),r.template||r.type!="button"||(r.template=h.EditorUtils.buttonTemplate,r.title=r.title||r.tooltip),o[s]={options:r}):c[e]&&(o[e]=c[e]);for(f=0;f<l.length;f++)o[l[f]]||(o[l[f]]=c[l[f]]);return o},render:function(){function d(i){var u;return i.getHtml?u=i.getHtml():(n.isFunction(i)||(i=t.template(i)),u=i(r)),n.trim(u)}function c(){h.children().length&&h.appendTo(p)}function l(){h=n("<li class='k-tool-group' role='presentation' />")}var i=this,y=i.tools,r,f,a,u,k=i._editor.element,p=i.element.empty(),w,s,v=i._editor.options.tools,b=t.support.browser,h,o;for(p.empty(),l(),o=0;o<v.length;o++)(u=v[o].name||v[o],r=y[u]&&y[u].options,!r&&n.isPlainObject(u)&&(r=u),f=r&&r.template,u=="break"&&(c(),n("<li class='k-row-break' />").appendTo(i.element),l()),f)&&(s=i.toolGroupFor(u),w!=s&&(c(),l(),w=s),f=d(f),a=n(f).appendTo(h),s=="custom"&&(c(),l()),r.exec&&a.hasClass("k-tool")&&a.click(e(r.exec,k[0])));c();n(i.element).children(":has(> .k-tool)").addClass("k-button-group");i.options.popup&&b.msie&&b.version<9&&i.window.wrapper.find("*").attr("unselectable","on");i.updateGroups();i.angular("compile",function(){return{elements:i.element}})},updateGroups:function(){n(this.element).children().each(function(){n(this).children().filter(function(){return this.style.display!=="none"}).removeClass("k-group-end").first().addClass("k-group-start").end().last().addClass("k-group-end").end()})},decorateFrom:function(t){this.items().filter(".k-decorated").each(function(){var i=n(this).data("kendoSelectBox");i&&i.decorate(t)})},destroy:function(){f.fn.destroy.call(this);var n,t=this.tools;for(n in t)t[n].destroy&&t[n].destroy();this.window&&this.window.destroy()},_attachEvents:function(){var t=this,u="[role=button].k-tool",f=u+":not(.k-state-disabled)",e=u+".k-state-disabled";t.element.off(r).on("mouseenter"+r,f,function(){n(this).addClass("k-state-hover")}).on("mouseleave"+r,f,function(){n(this).removeClass("k-state-hover")}).on("mousedown"+r,u,function(n){n.preventDefault()}).on("keydown"+r,o,function(r){function e(n,i){var r=t.element.find(o),u=r.index(s)+n;return i&&(u=Math.max(0,Math.min(r.length-1,u))),r[u]}var s=this,u,f=r.keyCode;f==i.RIGHT||f==i.LEFT?n(s).hasClass(".k-dropdown")||(u=e(f==i.RIGHT?1:-1,!0)):f==i.ESC?u=t._editor:f!=i.TAB||r.ctrlKey||r.altKey||(r.shiftKey?u=e(-1):(u=e(1),u||(u=t._editor)));u&&(r.preventDefault(),u.focus())}).on("click"+r,f,function(i){var r=n(this);i.preventDefault();i.stopPropagation();r.removeClass("k-state-hover");r.is("[data-popup]")||t._editor.exec(t._toolName(this))}).on("click"+r,e,function(n){n.preventDefault()})},_toolName:function(t){var i,r;if(t)return i=t.className,/k-tool\b/i.test(i)&&(i=t.firstChild.className),r=n.grep(i.split(" "),function(n){return!/^k-(widget|tool|tool-icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(n)}),r[0]?r[0].substring(r[0].lastIndexOf("-")+1):"custom"},refreshTools:function(){var i=this,f=i._editor,u=f.getRange(),r=t.ui.editor.RangeUtils.textNodes(u);r.length||(r=[u.startContainer]);i.items().each(function(){var t=i.tools[i._toolName(this)];t&&t.update&&t.update(n(this),r)});this.update()},update:function(){this.element.children().children().each(function(){var t=n(this);t.css("display",t.hasClass("k-state-disabled")?"none":"")});this.updateGroups()}});n.extend(h,{Toolbar:c})}(window.jQuery),function(n){var r=window.kendo,y=n.extend,h=n.proxy,i=r.ui.editor,t=i.Dom,u=i.EditorUtils,rt=i.RangeUtils,c=i.Command,l=".kendoEditor",p="k-state-active",v="k-state-selected",a=i.Tool,f=i.ToolTemplate,w=i.InsertHtmlCommand,ut=i.BlockFormatFinder,e=i.EditorUtils.registerTool,ft="<td>"+i.emptyElementContent+"<\/td>",b=new ut([{tags:["table"]}]),k=w.extend({_tableHtml:function(n,t){return n=n||1,t=t||1,"<table class='k-table' data-last>"+new Array(n+1).join("<tr>"+new Array(t+1).join(ft)+"<\/tr>")+"<\/table>"},postProcess:function(t,i){var r=n("table[data-last]",t.document).removeAttr("data-last");i.selectNodeContents(r.find("td")[0]);t.selectRange(i)},exec:function(){var n=this.options;n.html=this._tableHtml(n.rows,n.columns);n.postProcess=this.postProcess;w.fn.exec.call(this)}}),o=a.extend({initialize:function(t,i){a.fn.initialize.call(this,t,i);var r=n(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:t,copyAnchorStyles:!1,open:h(this._open,this),activate:h(this._activate,this),close:h(this._close,this)}).data("kendoPopup");t.click(h(this._toggle,this)).keydown(h(this._keydown,this));this._editor=i.editor;this._popup=r},popup:function(){return this._popup},_activate:n.noop,_open:function(){this._popup.options.anchor.addClass(p)},_close:function(){this._popup.options.anchor.removeClass(p)},_keydown:function(n){var t=r.keys,i=n.keyCode;i==t.DOWN&&n.altKey?this._popup.open():i==t.ESC&&this._popup.close()},_toggle:function(t){var i=n(t.target).closest(".k-tool");i.hasClass("k-state-disabled")||this.popup().toggle()},update:function(n){this.popup().close();n.removeClass("k-state-hover")},destroy:function(){this._popup.destroy()}}),d=o.extend({init:function(t){this.cols=8;this.rows=6;o.fn.init.call(this,n.extend(t,{command:k,popupTemplate:"<div class='k-ct-popup'>"+new Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-state-disabled' />")+"<div class='k-status'><\/div><\/div>"}))},_activate:function(){function c(t){var r=n(window);return{row:Math.floor((t.clientY+r.scrollTop()-i.top)/h)+1,col:Math.floor((t.clientX+r.scrollLeft()-i.left)/s)+1}}var t=this,o=t._popup.element,f=o.find(".k-ct-cell"),a=f.eq(0),e=f.eq(f.length-1),i=r.getOffset(a),u=r.getOffset(e),v=t.cols,y=t.rows,s,h;u.left+=e[0].offsetWidth;u.top+=e[0].offsetHeight;s=(u.left-i.left)/v;h=(u.top-i.top)/y;o.on("mousemove"+l,function(n){t._setTableSize(c(n))}).on("mouseleave"+l,function(){t._setTableSize()}).on("mouseup"+l,function(n){t._exec(c(n))})},_valid:function(n){return n&&n.row>0&&n.col>0&&n.row<=this.rows&&n.col<=this.cols},_exec:function(n){this._valid(n)&&(this._editor.exec("createTable",{rows:n.row,columns:n.col}),this._popup.close())},_setTableSize:function(t){var i=this._popup.element,u=i.find(".k-status"),f=i.find(".k-ct-cell"),s=this.rows,e=this.cols,o=this._editor.options.messages;this._valid(t)?(u.text(r.format(o.createTableHint,t.row,t.col)),f.each(function(i){n(this).toggleClass(v,i%e<t.col&&i/e<t.row)})):(u.text(o.dialogCancel),f.removeClass(v))},_keydown:function(n){var s;o.fn._keydown.call(this,n);var t=r.keys,i=n.keyCode,c=this._popup.element.find(".k-ct-cell"),h=Math.max(c.filter(".k-state-selected").last().index(),0),f=Math.floor(h/this.cols),e=h%this.cols,u=!1;i!=t.DOWN||n.altKey?i==t.UP?(u=!0,f--):i==t.RIGHT?(u=!0,e++):i==t.LEFT&&(u=!0,e--):(u=!0,f++);s={row:Math.max(1,Math.min(this.rows,f+1)),col:Math.max(1,Math.min(this.cols,e+1))};i==t.ENTER?this._exec(s):this._setTableSize(s);u&&(n.preventDefault(),n.stopImmediatePropagation())},_open:function(){var n=this._editor.options.messages;o.fn._open.call(this);this.popup().element.find(".k-status").text(n.dialogCancel).end().find(".k-ct-cell").removeClass(v)},_close:function(){o.fn._close.call(this);this.popup().element.off(l)},update:function(n,t){var i;o.fn.update.call(this,n);i=b.isFormatted(t);n.toggleClass("k-state-disabled",i)}}),g=c.extend({exec:function(){for(var e=this.lockRange(!0),r=e.endContainer,o,n,u,f;t.name(r)!="td";)r=r.parentNode;for(n=r.parentNode,o=n.children.length,u=n.cloneNode(!0),f=0;f<n.cells.length;f++)u.cells[f].innerHTML=i.emptyElementContent;this.options.position=="before"?t.insertBefore(u,n):t.insertAfter(u,n);this.releaseRange(e)}}),nt=c.extend({exec:function(){for(var f=this.lockRange(!0),e=t.closest(f.endContainer,"td"),h=t.closest(e,"table"),s=h.rows,r,u,c=this.options.position,o=t.findNodeIndex(e),n=0;n<s.length;n++)r=s[n].cells[o],u=r.cloneNode(),u.innerHTML=i.emptyElementContent,c=="before"?t.insertBefore(u,r):t.insertAfter(u,r);this.releaseRange(f)}}),tt=c.extend({exec:function(){var u=this.lockRange(),f=rt.mapAll(u,function(t){return n(t).closest("tr")[0]}),e=t.closest(f[0],"table"),i,o,r;if(e.rows.length<=f.length)i=t.next(e),(!i||t.insignificant(i))&&(i=t.prev(e)),t.remove(e);else for(o=0;o<f.length;o++)r=f[o],t.removeTextSiblings(r),i=t.next(r)||t.prev(r),i=i.cells[0],t.remove(r);i&&(u.setStart(i,0),u.collapse(!0),this.editor.selectRange(u))}}),it=c.extend({exec:function(){var r=this.lockRange(),i=t.closest(r.endContainer,"td"),u=t.closest(i,"table"),e=u.rows,o=t.findNodeIndex(i,!0),s=e[0].cells.length,n,f;if(s==1)n=t.next(u),(!n||t.insignificant(n))&&(n=t.prev(u)),t.remove(u);else for(t.removeTextSiblings(i),n=t.next(i)||t.prev(i),f=0;f<e.length;f++)t.remove(e[f].cells[o]);n&&(r.setStart(n,0),r.collapse(!0),this.editor.selectRange(r))}}),s=a.extend({command:function(n){return n=y(n,this.options),n.action=="delete"?n.type=="row"?new tt(n):new it(n):n.type=="row"?new g(n):new nt(n)},initialize:function(n,t){a.fn.initialize.call(this,n,t);n.addClass("k-state-disabled")},update:function(n,t){var i=!b.isFormatted(t);n.toggleClass("k-state-disabled",i)}});y(r.ui.editor,{PopupTool:o,TableCommand:k,InsertTableTool:d,TableModificationTool:s,InsertRowCommand:g,InsertColumnCommand:nt,DeleteRowCommand:tt,DeleteColumnCommand:it});e("createTable",new d({template:new f({template:u.buttonTemplate,popup:!0,title:"Create table"})}));e("addColumnLeft",new s({type:"column",position:"before",template:new f({template:u.buttonTemplate,title:"Add column on the left"})}));e("addColumnRight",new s({type:"column",template:new f({template:u.buttonTemplate,title:"Add column on the right"})}));e("addRowAbove",new s({type:"row",position:"before",template:new f({template:u.buttonTemplate,title:"Add row above"})}));e("addRowBelow",new s({type:"row",template:new f({template:u.buttonTemplate,title:"Add row below"})}));e("deleteRow",new s({type:"row",action:"delete",template:new f({template:u.buttonTemplate,title:"Delete row"})}));e("deleteColumn",new s({type:"column",action:"delete",template:new f({template:u.buttonTemplate,title:"Delete column"})}))}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()});
//# sourceMappingURL=kendo.editor.min.js.map
