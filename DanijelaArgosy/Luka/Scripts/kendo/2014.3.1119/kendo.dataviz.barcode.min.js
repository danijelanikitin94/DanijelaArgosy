(function(n,t){t(["./kendo.dataviz.core","./kendo.drawing"],n)})(function(){return function(n){function y(n,t,i){return n.substring(t,t+i)}var i=window.kendo,w=i.ui.Widget,b=n.extend,k=i.deepExtend,u=n.inArray,ut=n.isPlainObject,s=i.drawing,c=i.geometry,d=i.util,l=d.defined,ct=d.append,f=i.dataviz,g=f.Box2D,ft=f.TextBox,et=300,ot=100,nt=10,a=/^\d+$/,st=/^[a-z0-9]+$/i,ht="Character '{0}' is not valid for symbology {1}",r=i.Class.extend({init:function(n){this.setOptions(n)},setOptions:function(n){var t=this;t.options=b({},t.options,n);t.quietZoneLength=t.options.addQuietZone?2*t.options.quietZoneLength:0},encode:function(n,t,i){var r=this;return l(n)&&(n+=""),r.initValue(n,t,i),r.options.addQuietZone&&r.addQuietZone(),r.addData(),r.options.addQuietZone&&r.addQuietZone(),{baseUnit:r.baseUnit,pattern:r.pattern}},options:{quietZoneLength:nt,addQuietZone:!0,addCheckSum:!0},initValue:function(){},addQuietZone:function(){this.pattern.push(this.options.quietZoneLength||nt)},addData:function(){},invalidCharacterError:function(n){throw new Error(i.format(ht,n,this.name));}}),t={},tt=r.extend({minBaseUnitLength:.7,addData:function(){var n=this,i=n.value,t;for(n.addStart(),t=0;t<i.length;t++)n.addCharacter(i.charAt(t));n.options.addCheckSum&&n.pushCheckSum();n.addStop();n.prepareValues()},addCharacter:function(n){var t=this,i=t.characterMap[n];i||t.invalidCharacterError(n);t.addBase(i)},addBase:function(){}}),it={addCharacter:function(n){var t=this;t.characterMap[n]?t.addBase(t.characterMap[n]):n.charCodeAt(0)>127?t.invalidCharacterError(n):t.addExtended(n.charCodeAt(0))},addExtended:function(n){for(var r,t=this,i,u=0;u<t.extendedMappings.length;u++)if(i=t.extendedMappings[u].call(t,n)){for(r=0;r<i.length;r++)t.addBase(i[r]);t.dataLength+=i.length-1;return}},extendedMappings:[function(n){if(97<=n&&n<=122){var t=this;return[t.characterMap[t.shiftCharacters[0]],t.characterMap[String.fromCharCode(n-32)]]}},function(n){if(33<=n&&n<=58){var t=this;return[t.characterMap[t.shiftCharacters[1]],t.characterMap[String.fromCharCode(n+32)]]}},function(n){if(1<=n&&n<=26){var t=this;return[t.characterMap[t.shiftCharacters[2]],t.characterMap[String.fromCharCode(n+64)]]}},function(n){var t=this,i,u,r;if(t.specialAsciiCodes[n])for(i=[],r=0;r<t.specialAsciiCodes[n].length;r++)i.push(t.characterMap[t.shiftCharacters[3]]),i.push(t.characterMap[t.specialAsciiCodes[n][r]]);else u=Math.floor(n/32)*6+(n-27)%32+64,i=[t.characterMap[t.shiftCharacters[3]],t.characterMap[String.fromCharCode(u)]];return i}],specialAsciiCodes:{"0":["U"],"64":["V"],"96":["W"],"127":["T","X","Y","Z"]},shiftValuesAsciiCodes:{"39":36,"40":47,"41":43,"42":37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]},o,h,p;t.code39=tt.extend({name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",initValue:function(n,t,i){var r=this;r.width=t;r.height=i;r.value=n;r.dataLength=n.length;r.pattern=[];r.patternString=""},prepareValues:function(){var n=this,i,r=n.minBaseUnitLength,t=n.maxRatio,u=n.minRatio,f=Math.max(.15*n.width,24),e;if(n.height<f)throw new Error("Insufficient Height. The minimum height for value: "+n.value+" is: "+f);while((i=n.getBaseUnit(t))<r&&t>u)t=parseFloat((t-.1).toFixed(1));if(i<r){e=Math.ceil(n.getBaseWidth(u)*r);throw new Error("Insufficient width. The minimum width for value: "+n.value+" is: "+e);}n.ratio=t;n.baseUnit=i;n.patternString=n.patternString.substring(0,n.patternString.length-1);n.pattern=n.pattern.concat(n.patternString.replace(/ratio/g,t).split(n.splitCharacter))},getBaseUnit:function(n){return this.width/this.getBaseWidth(n)},getBaseWidth:function(n){var t=this,i=3*(n+2);return t.quietZoneLength+i*(t.dataLength+2)+t.gapWidth*(t.dataLength+1)},addStart:function(){var n=this;n.addPattern(n.characterMap.START.pattern);n.addCharacterGap()},addBase:function(n){this.addPattern(n.pattern);this.addCharacterGap()},addStop:function(){this.addPattern(this.characterMap.START.pattern)},addPattern:function(n){for(var t=0;t<n.length;t++)this.patternString+=this.patternMappings[n.charAt(t)]},addCharacterGap:function(){var n=this;n.patternString+=n.gapWidth+n.splitCharacter},patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{"0":{pattern:"bwbWBwBwb",value:0},"1":{pattern:"BwbWbwbwB",value:1},"2":{pattern:"bwBWbwbwB",value:2},"3":{pattern:"BwBWbwbwb",value:3},"4":{pattern:"bwbWBwbwB",value:4},"5":{pattern:"BwbWBwbwb",value:5},"6":{pattern:"bwBWBwbwb",value:6},"7":{pattern:"bwbWbwBwB",value:7},"8":{pattern:"BwbWbwBwb",value:8},"9":{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}},options:{addCheckSum:!1}});t.code39extended=t.code39.extend(k({},it,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}}));t.code93=tt.extend({name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,initValue:function(n,t,i){var r=this;r.value=n;r.width=t;r.height=i;r.pattern=[];r.values=[];r.dataLength=n.length},prepareValues:function(){var n=this,t=Math.max(.15*n.width,24);if(n.height<t)throw new Error("Insufficient Height");if(n.setBaseUnit(),n.baseUnit<n.minBaseUnitLength)throw new Error("Insufficient Width");},setBaseUnit:function(){var n=this;n.baseUnit=n.width/(9*(n.dataLength+2+2)+n.quietZoneLength+1)},addStart:function(){var n=this.characterMap.START.pattern;this.addPattern(n)},addStop:function(){var n=this;n.addStart();n.pattern.push(n.characterMap.TERMINATION_BAR)},addBase:function(n){this.addPattern(n.pattern);this.values.push(n.value)},pushCheckSum:function(){var n=this,i=n._getCheckValues(),r,t;for(n.checksum=i.join(""),t=0;t<i.length;t++)r=n.characterMap[n._findCharacterByValue(i[t])],n.addPattern(r.pattern)},_getCheckValues:function(){for(var t=this,u=t.values,r=u.length,i=0,f,e,n=r-1;n>=0;n--)i+=t.weightedValue(u[n],r-n,t.cCheckSumTotal);for(f=i%t.checkSumMod,i=t.weightedValue(f,1,t.kCheckSumTotal),n=r-1;n>=0;n--)i+=t.weightedValue(u[n],r-n+1,t.kCheckSumTotal);return e=i%t.checkSumMod,[f,e]},_findCharacterByValue:function(n){for(var t in this.characterMap)if(this.characterMap[t].value===n)return t},weightedValue:function(n,t,i){return(t%i||i)*n},addPattern:function(n){for(var i,t=0;t<n.length;t++)i=parseInt(n.charAt(t),10),this.pattern.push(i)},characterMap:{"0":{pattern:"131112",value:0},"1":{pattern:"111213",value:1},"2":{pattern:"111312",value:2},"3":{pattern:"111411",value:3},"4":{pattern:"121113",value:4},"5":{pattern:"121212",value:5},"6":{pattern:"121311",value:6},"7":{pattern:"111114",value:7},"8":{pattern:"131211",value:8},"9":{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}});t.code93extended=t.code93.extend(k({},it,{name:"Code 93 extended",pushCheckSum:function(){var n=this,r=n._getCheckValues(),t,i;for(n.checksum=r.join(""),i=0;i<r.length;i++)t=r[i],n.shiftValuesAsciiCodes[t]?n.addExtended(n.shiftValuesAsciiCodes[t]):n.addPattern(n.characterMap[n._findCharacterByValue(t)].pattern)}}));var v=i.Class.extend({init:function(n){this.encoding=n},addStart:function(){},is:function(){},move:function(){},pushState:function(){}}),rt=v.extend({FNC4:"FNC4",init:function(n,t){var i=this;i.encoding=n;i.states=t;i._initMoves(t)},addStart:function(){this.encoding.addPattern(this.START)},is:function(n,t){var i=n.charCodeAt(t);return this.isCode(i)},move:function(n){for(var t=this,i=0;!t._moves[i].call(t,n)&&i<t._moves.length;)i++},pushState:function(n){var t=this,o=t.states,i=n.value,e=i.length,r,f;for(u("C",o)>=0&&(f=i.substr(n.index).match(/\d{4,}/g),f&&(e=i.indexOf(f[0],n.index)));(r=n.value.charCodeAt(n.index))>=0&&t.isCode(r)&&n.index<e;)t.encoding.addPattern(t.getValue(r)),n.index++},_initMoves:function(n){var t=this;t._moves=[];u(t.FNC4,n)>=0&&t._moves.push(t._moveFNC);u(t.shiftKey,n)>=0&&t._moves.push(t._shiftState);t._moves.push(t._moveState)},_moveFNC:function(n){if(n.fnc)return n.fnc=!1,n.previousState==this.key},_shiftState:function(n){var t=this;if(n.previousState==t.shiftKey&&(n.index+1>=n.value.length||t.encoding[t.shiftKey].is(n.value,n.index+1)))return t.encoding.addPattern(t.SHIFT),n.shifted=!0,!0},_moveState:function(){return this.encoding.addPattern(this.MOVE),!0},SHIFT:98}),e={};e.A=rt.extend({key:"A",shiftKey:"B",isCode:function(n){return 0<=n&&n<96},getValue:function(n){return n<32?n+64:n-32},MOVE:101,START:103});e.B=rt.extend({key:"B",shiftKey:"A",isCode:function(n){return 32<=n&&n<128},getValue:function(n){return n-32},MOVE:100,START:104});e.C=v.extend({key:"C",addStart:function(){this.encoding.addPattern(this.START)},is:function(n,t){var i=y(n,t,4);return(t+4<=n.length||n.length==2)&&a.test(i)},move:function(){this.encoding.addPattern(this.MOVE)},pushState:function(n){for(var t;(t=y(n.value,n.index,2))&&a.test(t)&&t.length==2;)this.encoding.addPattern(parseInt(t,10)),n.index+=2},getValue:function(n){return n},MOVE:99,START:105});e.FNC4=v.extend({key:"FNC4",dependentStates:["A","B"],init:function(n,t){this.encoding=n;this._initSubStates(t)},addStart:function(n){var t=n.value.charCodeAt(0)-128,i=this._getSubState(t);this.encoding[i].addStart()},is:function(n,t){var i=n.charCodeAt(t);return this.isCode(i)},isCode:function(n){return 128<=n&&n<256},pushState:function(n){var r=this,t=r._initSubState(n),i=r.encoding,u=t.value.length,f;if(n.index+=u,u<3)for(;t.index<u;t.index++)f=t.value.charCodeAt(t.index),t.state=r._getSubState(f),t.previousState!=t.state&&(t.previousState=t.state,i[t.state].move(t)),i.addPattern(i[t.state].MOVE),i.addPattern(i[t.state].getValue(f));else t.state!=t.previousState&&i[t.state].move(t),r._pushStart(t),i.pushData(t,r.subStates),n.index<n.value.length&&r._pushStart(t);n.fnc=!0;n.state=t.state},_pushStart:function(n){var t=this;t.encoding.addPattern(t.encoding[n.state].MOVE);t.encoding.addPattern(t.encoding[n.state].MOVE)},_initSubState:function(n){var i=this,t={value:i._getAll(n.value,n.index),index:0};return t.state=i._getSubState(t.value.charCodeAt(0)),t.previousState=n.previousState==i.key?t.state:n.previousState,t},_initSubStates:function(n){var i=this,t;for(i.subStates=[],t=0;t<n.length;t++)u(n[t],i.dependentStates)>=0&&i.subStates.push(n[t])},_getSubState:function(n){for(var t=this,i=0;i<t.subStates.length;i++)if(t.encoding[t.subStates[i]].isCode(n))return t.subStates[i]},_getAll:function(n,t){for(var i,r="";(i=n.charCodeAt(t++))&&this.isCode(i);)r+=String.fromCharCode(i-128);return r}});e.FNC1=v.extend({key:"FNC1",startState:"C",dependentStates:["C","B"],startAI:"(",endAI:")",init:function(n,t){this.encoding=n;this.states=t},addStart:function(){this.encoding[this.startState].addStart()},is:function(){return u(this.key,this.states)>=0},pushState:function(n){var t=this,o=t.encoding,i=n.value.replace(/\s/g,""),h=new RegExp("["+t.startAI+t.endAI+"]","g"),r=n.index,f={state:t.startState},u,e,s;for(o.addPattern(t.START);;){if(f.index=0,s=i.charAt(r)===t.startAI?2:0,u=s>0?t.getBySeparator(i,r):t.getByLength(i,r),u.ai.length)e=r+s+u.id.length+u.ai.length;else if(e=i.indexOf(t.startAI,r+1),e<0){if(r+u.ai.max+u.id.length+s<i.length)throw new Error("Separators are required after variable length identifiers");e=i.length}if(f.value=i.substring(r,e).replace(h,""),t.validate(u,f.value),o.pushData(f,t.dependentStates),e>=i.length)break;r=e;f.state!=t.startState&&(o[t.startState].move(f),f.state=t.startState);u.ai.length||o.addPattern(t.START)}n.index=n.value.length},validate:function(n,t){var r=t.substr(n.id.length),i=n.ai;if(!i.type&&!a.test(r))throw new Error("Application identifier "+n.id+" is numeric only but contains non numeric character(s).");if(i.type=="alphanumeric"&&!st.test(r))throw new Error("Application identifier "+n.id+" is alphanumeric only but contains non alphanumeric character(s).");if(i.length&&i.length!==r.length)throw new Error("Application identifier "+n.id+" must be "+i.length+" characters long.");if(i.min&&i.min>r.length)throw new Error("Application identifier "+n.id+" must be at least "+i.min+" characters long.");if(i.max&&i.max<r.length)throw new Error("Application identifier "+n.id+" must be at most "+i.max+" characters long.");},getByLength:function(n,t){for(var r=this,i,u,f=2;f<=4;f++)if(i=y(n,t,f),u=r.getAI(i)||r.getAI(i.substring(0,i.length-1)),u)return{id:i,ai:u};r.unsupportedAIError(i)},unsupportedAIError:function(n){throw new Error(i.format("'{0}' is not a supported Application Identifier"),n);},getBySeparator:function(n,t){var i=this,u=n.indexOf(i.startAI,t),e=n.indexOf(i.endAI,u),r=n.substring(u+1,e),f=i.getAI(r)||i.getAI(r.substr(r.length-1));return f||i.unsupportedAIError(r),{ai:f,id:r}},getAI:function(n){var e=this.applicationIdentifiers,i=e.multiKey,t,f,r;if(e[n])return e[n];for(t=0;t<i.length;t++){if(i[t].ids&&u(n,i[t].ids)>=0)return i[t].type;if(i[t].ranges)for(f=i[t].ranges,r=0;r<f.length;r++)if(f[r][0]<=n&&n<=f[r][1])return i[t].type}},applicationIdentifiers:{"22":{max:29,type:"alphanumeric"},"402":{length:17},"7004":{max:4,type:"alphanumeric"},"242":{max:6,type:"alphanumeric"},"8020":{max:25,type:"alphanumeric"},"703":{min:3,max:30,type:"alphanumeric"},"8008":{min:8,max:12,type:"alphanumeric"},"253":{min:13,max:17,type:"alphanumeric"},"8003":{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102});o=r.extend({init:function(n){r.fn.init.call(this,n);this._initStates()},_initStates:function(){for(var n=this,t=0;t<n.states.length;t++)n[n.states[t]]=new e[n.states[t]](n,n.states)},initValue:function(n,t,i){var r=this;r.pattern=[];r.value=n;r.width=t;r.height=i;r.checkSum=0;r.totalUnits=0;r.index=0;r.position=1},addData:function(){var n=this,t={value:n.value,index:0,state:""};n.value.length!==0&&(t.state=t.previousState=n.getNextState(t,n.states),n.addStart(t),n.pushData(t,n.states),n.addCheckSum(),n.addStop(),n.setBaseUnit())},pushData:function(n,t){for(var i=this,r;;){if(i[n.state].pushState(n),n.index>=n.value.length)break;n.shifted?(r=n.state,n.state=n.previousState,n.previousState=r,n.shifted=!1):(n.previousState=n.state,n.state=i.getNextState(n,t),i[n.state].move(n))}},addStart:function(n){this[n.state].addStart(n);this.position=1},addCheckSum:function(){var n=this;n.checksum=n.checkSum%103;n.addPattern(n.checksum)},addStop:function(){this.addPattern(this.STOP)},setBaseUnit:function(){var n=this;n.baseUnit=n.width/(n.totalUnits+n.quietZoneLength)},addPattern:function(n){for(var t=this,u=t.characterMap[n].toString(),i,r=0;r<u.length;r++)i=parseInt(u.charAt(r),10),t.pattern.push(i),t.totalUnits+=i;t.checkSum+=n*t.position++},getNextState:function(n,t){for(var i=0;i<t.length;i++)if(this[t[i]].is(n.value,n.index))return t[i];this.invalidCharacterError(n.value.charAt(n.index))},characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106});t.code128a=o.extend({name:"Code 128 A",states:["A"]});t.code128b=o.extend({name:"Code 128 B",states:["B"]});t.code128c=o.extend({name:"Code 128 C",states:["C"]});t.code128=o.extend({name:"Code 128",states:["C","B","A","FNC4"]});t["gs1-128"]=o.extend({name:"Code GS1-128",states:["FNC1","C","B"]});h=r.extend({initValue:function(n,t){var i=this;i.pattern=[];i.value=n;i.checkSumLength=0;i.width=t},setBaseUnit:function(){var n=this;n.baseUnit=n.width/(12*(n.value.length+n.checkSumLength)+n.quietZoneLength+7)},addData:function(){var n=this,i=n.value,t;for(n.addPattern(n.START),t=0;t<i.length;t++)n.addCharacter(i.charAt(t));n.options.addCheckSum&&n.addCheckSum();n.addPattern(n.STOP);n.setBaseUnit()},addCharacter:function(n){var t=this,i=t.characterMap[n];i||t.invalidCharacterError(n);t.addPattern(i)},addPattern:function(n){for(var t=0;t<n.length;t++)this.pattern.push(parseInt(n.charAt(t),10))},addCheckSum:function(){var n=this,r=n.checkSums[n.checkSumType],t,i;for(t=r.call(n.checkSums,n.value),n.checksum=t.join(""),i=0;i<t.length;i++)n.checkSumLength++,n.addPattern(n.characterMap[t[i]])},checkSums:{Modulo10:function(n){for(var i=[0,""],f=n.length%2,r,u,t=0;t<n.length;t++)i[(t+f)%2]+=parseInt(n.charAt(t),10);for(u=i[0],r=(i[1]*2).toString(),t=0;t<r.length;t++)u+=parseInt(r.charAt(t),10);return[(10-u%10)%10]},Modulo11:function(n){for(var u=0,i=11,f=n.length,e,r,t=0;t<f;t++)e=((f-t)%6||6)+1,u+=e*n.charAt(t);return(r=(i-u%i)%i,r!=10)?[r]:[1,0]},Modulo11Modulo10:function(n){var t=this.Modulo11(n),i;return i=n+t[0],t.concat(this.Modulo10(i))},Modulo10Modulo10:function(n){var t=this.Modulo10(n),i;return i=n+t[0],t.concat(this.Modulo10(i))}},characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:""});t.msimod10=h.extend({name:"MSI Modulo10",checkSumType:"Modulo10"});t.msimod11=h.extend({name:"MSI Modulo11",checkSumType:"Modulo11"});t.msimod1110=h.extend({name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"});t.msimod1010=h.extend({name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"});t.code11=r.extend({name:"Code 11",cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221",initValue:function(n,t){var i=this;i.pattern=[];i.value=n;i.width=t;i.totalUnits=0},addData:function(){var n=this,i=n.value,t;for(n.addPattern(n.START),t=0;t<i.length;t++)n.addCharacter(i.charAt(t));n.options.addCheckSum&&n.addCheckSum();n.addPattern(n.STOP);n.setBaseUnit()},setBaseUnit:function(){var n=this;n.baseUnit=n.width/(n.totalUnits+n.quietZoneLength)},addCheckSum:function(){var n=this,r=n.value,t=r.length,i,u;i=n.getWeightedSum(r,t,n.cCheckSumTotal)%n.checkSumMod;n.checksum=i+"";n.addPattern(n.characterMap[i]);t++;t>=n.kCheckSumMinLength&&(u=(i+n.getWeightedSum(r,t,n.kCheckSumTotal))%n.checkSumMod,n.checksum+=u,n.addPattern(n.characterMap[u]))},getWeightedSum:function(n,t,i){for(var u=0,r=0;r<n.length;r++)u+=this.weightedValue(this.getValue(n.charAt(r)),t,r,i);return u},weightedValue:function(n,t,i,r){var u=(t-i)%r||r;return u*n},getValue:function(n){var t=this;if(isNaN(n))n!==t.DASH&&t.invalidCharacterError(n);else return parseInt(n,10);return t.DASH_VALUE},addCharacter:function(n){var t=this,i=t.getValue(n),r=t.characterMap[i];t.addPattern(r)},addPattern:function(n){for(var t,i=0;i<n.length;i++)t=parseInt(n.charAt(i),10),this.pattern.push(t),this.totalUnits+=t},characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],options:{addCheckSum:!0}});t.postnet=r.extend({name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",initValue:function(n,t,i){var r=this;r.height=i;r.width=t;r.baseHeight=i/2;r.value=n.replace(new RegExp(r.DIGIT_SEPARATOR,"g"),"");r.pattern=[];r.validate(r.value);r.checkSum=0;r.setBaseUnit()},addData:function(){var n=this,i=n.value,t;for(n.addPattern(n.START),t=0;t<i.length;t++)n.addCharacter(i.charAt(t));n.options.addCheckSum&&n.addCheckSum();n.addPattern(n.START);n.pattern.pop()},addCharacter:function(n){var t=this,i=t.characterMap[n];t.checkSum+=parseInt(n,10);t.addPattern(i)},addCheckSum:function(){var n=this;n.checksum=(10-n.checkSum%10)%10;n.addCharacter(n.checksum)},setBaseUnit:function(){var n=this;n.baseUnit=n.width/((n.value.length+1)*10+3+n.quietZoneLength)},validate:function(n){var t=this;if(a.test(n)||t.invalidCharacterError(n.match(/[^0-9]/)[0]),u(n.length,t.VALID_CODE_LENGTHS)<0)throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+t.VALID_CODE_LENGTHS.join(","));},addPattern:function(n){for(var t=this,r,i=0;i<n.length;i++)r=t.height-t.baseHeight*n.charAt(i),t.pattern.push({width:1,y1:r,y2:t.height}),t.pattern.push(1)},characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]});t.ean13=r.extend({initValue:function(n,t,i){if(n+="",n.length!=12||/\D/.test(n))throw new Error('The value of the "EAN13" encoding should be 12 symbols');var r=this;r.pattern=[];r.options.height=i;r.baseUnit=t/(95+r.quietZoneLength);r.value=n;r.checksum=r.calculateChecksum();r.leftKey=n[0];r.leftPart=n.substr(1,6);r.rightPart=n.substr(7)+r.checksum},addData:function(){var n=this;n.addPieces(n.characterMap.start);n.addSide(n.leftPart,n.leftKey);n.addPieces(n.characterMap.middle);n.addSide(n.rightPart);n.addPieces(n.characterMap.start)},addSide:function(n,t){for(var i=this,r=0;r<n.length;r++)t&&parseInt(i.keyTable[t].charAt(r),10)?i.addPieces(Array.prototype.slice.call(i.characterMap.digits[n.charAt(r)]).reverse(),!0):i.addPieces(i.characterMap.digits[n.charAt(r)],!0)},addPieces:function(n,t){for(var r=this,i=0;i<n.length;i++)t?r.pattern.push({y1:0,y2:r.options.height*.95,width:n[i]}):r.pattern.push(n[i])},calculateChecksum:function(){for(var i=0,r=0,t=this.value.split("").reverse().join(""),n=0;n<t.length;n++)n%2?r+=parseInt(t.charAt(n),10):i+=parseInt(t.charAt(n),10);return(10-(3*i+r)%10)%10},keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}});t.ean8=t.ean13.extend({initValue:function(n,t,i){var r=this;if(n.length!=7||/\D/.test(n))throw new Error("Invalid value provided");r.value=n;r.options.height=i;r.checksum=r.calculateChecksum(r.value);r.leftPart=r.value.substr(0,4);r.rightPart=r.value.substr(4)+r.checksum;r.pattern=[];r.baseUnit=t/(67+r.quietZoneLength)}});p=w.extend({init:function(t,i){var r=this;w.fn.init.call(r,t,i);r.element=n(t);r.wrapper=r.element;r.element.addClass("k-barcode").css("display","block");r.surfaceWrap=n("<div />").css("position","relative").appendTo(this.element);r.surface=s.Surface.create(r.surfaceWrap,{type:r.options.renderAs});r.setOptions(i)},setOptions:function(n){var i=this;if(i.type=(n.type||i.options.type).toLowerCase(),i.type=="upca"&&(i.type="ean13",n.value="0"+n.value),i.type=="upce"&&(i.type="ean8",n.value="0"+n.value),!t[i.type])throw new Error("Encoding "+i.type+"is not supported.");(i.encoding=new t[i.type],i.options=b(!0,i.options,n),l(n.value))&&i.redraw()},redraw:function(){var n=this._getSize();this.surfaceWrap.css({width:n.width,height:n.height});this.surface.clear();this.createVisual();this.surface.draw(this.visual)},getSize:function(){return i.dimensions(this.element)},_resize:function(){this.redraw()},createVisual:function(){this.visual=this._render()},_render:function(){var n=this,t=n.options,v=t.value,y=t.text,p=f.getSpacing(y.margin),r=n._getSize(),b=t.border||{},u=n.encoding,e=g(0,0,r.width,r.height).unpad(b.width).unpad(t.padding),o=e.height(),h,c,w,i=new s.Group,a;return n.contentBox=e,i.append(n._getBackground(r)),y.visible&&(c=v,t.checksum&&l(u.checksum)&&(c+=" "+u.checksum),a=n._getText(c),w=a.bbox().height(),o-=w+p.top+p.bottom,i.append(a)),h=u.encode(v,e.width(),o),n.barHeight=o,i.append(this._getBands(h.pattern,h.baseUnit)),i},exportVisual:function(){return this._render()},_getSize:function(){var n=this,i=n.element,t=new c.Size(et,ot);return i.width()>0&&(t.width=i.width()),i.height()>0&&(t.height=i.height()),n.options.width&&(t.width=n.options.width),n.options.height&&(t.height=n.options.height),t},value:function(n){var t=this;if(!l(n))return t.options.value;t.options.value=n+"";t.redraw()},_getBands:function(n,t){for(var l,a,u=this,f=u.contentBox,e=f.x1,o,r,h=new s.Group,i=0;i<n.length;i++)r=ut(n[i])?n[i]:{width:n[i],y1:0,y2:u.barHeight},o=r.width*t,i%2&&(l=c.Rect.fromPoints(new c.Point(e,r.y1+f.y1),new c.Point(e+o,r.y2+f.y1)),a=s.Path.fromRect(l,{fill:{color:u.options.color},stroke:null}),h.append(a)),e+=o;return h},_getBackground:function(n){var r=this,i=r.options,t=i.border||{},u=g(0,0,n.width,n.height).unpad(t.width/2);return s.Path.fromRect(u.toRect(),{fill:{color:i.background},stroke:{color:t.width?t.color:"",width:t.width,dashType:t.dashType}})},_getText:function(n){var r=this,t=r.options.text,i=new ft(n,{font:t.font,color:t.color,align:"center",vAlign:"bottom",margin:t.margin});return i.reflow(r.contentBox),i.renderVisual(),i.visual},options:{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}}});f.ExportMixin.extend(p.fn);f.ui.plugin(p);i.deepExtend(f,{encodings:t,Encoding:r})}(window.kendo.jQuery),window.kendo},typeof define=="function"&&define.amd?define:function(n,t){t()});
//# sourceMappingURL=kendo.dataviz.barcode.min.js.map
