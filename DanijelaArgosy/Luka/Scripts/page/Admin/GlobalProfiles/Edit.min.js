function saveGlobalProfile() { var n = !1, t = { question: "Profile Successfully Saved.", button: "Continue", type: "success", yes: function () { n || GlobalFormsDataStructView.prototype.saveGlobalProfileDetails(); n = !0; $.fancybox.close() } }; prompt.alert(t) } function showAddProfileUsersModal() { $.fancybox({ href: "#AddUserToGlobalProfile" }) } function showAddProfileUserGroupsModal() { $.fancybox({ href: "#AddUserGroupToGlobalProfile" }) } function addUsersToProfile() { var n = getSelectedUsers(), t; n.length > 0 ? (t = { globalFormsProfileId: $("#Id").val(), userIds: n }, $.ajax({ url: "/Admin/GlobalProfiles/AddUsersToGlobalProfile", type: "POST", data: JSON.stringify(t), dataType: "json", traditional: !0, contentType: "application/json; charset=utf-8", success: function (n) { var t, i; n.ReturnCode == ReturnCode.Success ? prompt.notify({ question: "Users were " + (this.Value ? "not" : "") + " successfully added to the Profile.", type: this.Value ? "error" : "success" }) : prompt.clientResponseError(n); t = $("div[data-argosy-view=GlobalProfileUsersGridView]").find(".k-collapse-grid").getKendoGrid(); t.dataSource.read(); t.refresh(!0); i = $("div[data-argosy-view=AddUserToGlobalProfile]").getKendoGrid(); i.dataSource.read(); i.refresh(!0) } })) : prompt.notify({ question: "No items selected.", type: "error" }); $.fancybox.close() } function getSelectedUsers() { var n = [], t = $("div[data-argosy-view=AddUserToGlobalProfile]").getKendoGrid(); return $(t.select()).each(function () { n.push(t.dataItem(this).UserId) }), n } function addUserGroupsToProfile() { var n = getSelectedUserGroups(), t; n.length > 0 ? (t = { globalFormsProfileId: $("#Id").val(), userGroupIds: n }, $.ajax({ url: "/Admin/GlobalProfiles/AddUserGroupsToGlobalProfile", type: "POST", data: JSON.stringify(t), dataType: "json", traditional: !0, contentType: "application/json; charset=utf-8", success: function (n) { var t, i; n.ReturnCode == ReturnCode.Success ? prompt.notify({ question: "User Groups were " + (this.Value ? "not" : "") + " successfully added to the Profile.", type: this.Value ? "error" : "success" }) : prompt.clientResponseError(n); t = $("div[data-argosy-view=GlobalProfileUserGroupsGridView]").find(".k-collapse-grid").getKendoGrid(); t.dataSource.read(); t.refresh(!0); i = $("div[data-argosy-view=AddUserGroupToGlobalProfile]").getKendoGrid(); i.dataSource.read(); i.refresh(!0) } })) : prompt.notify({ question: "No items selected.", type: "error" }); $.fancybox.close() } function getSelectedUserGroups() { var n = [], t = $("div[data-argosy-view=AddUserGroupToGlobalProfile]").getKendoGrid(); return $(t.select()).each(function () { n.push(t.dataItem(this).UserGroupId) }), n }