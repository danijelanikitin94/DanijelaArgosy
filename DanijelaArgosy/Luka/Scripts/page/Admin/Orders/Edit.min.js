function ChangeStatus(n,t,i){var f=this,r,u;switch(t){case"Cancel":r="X";break;case"Close":r="C";break;case"Approve":r="Approve";break;case"Reject":r="Reject"}u={question:"Are you sure you want to "+t+" this order?",description:"",button:t,type:"warning",yes:function(){f.changeOrderStatus(n,r,i)}};prompt.alert(u)}function changeOrderStatus(n,t,i){var r={orderNumbers:n,approvalOption:t,comments:i};$.ajax({url:"/Admin/Orders/ChangeOrderStatusByNumber",type:"POST",data:JSON.stringify(r),dataType:"json",traditional:!0,contentType:"application/json; charset=utf-8",success:function(n){n.ReturnCode==ReturnCode.Success?$(n.Data).each(function(){prompt.notify({question:this.Value?n.Message:"Order "+this.Key+" has successfully changed its Status.",type:this.Value?"error":"success"})}):prompt.clientResponseError(n);t=="Approve"||t=="Reject"?window.location.reload(!0):window.location="/Admin/Orders/"}});$.fancybox.close()}function cancelUpdate(){$.fancybox.close()}function updateOrderDetails(){$("form.update-address-info")[0].submit()}function updateAdditionalInfo(){$("input:hidden[name='Custom01']").val($("input:text[name='Custom01']").val());$("input:hidden[name='Custom02']").val($("input:text[name='Custom02']").val());$("input:hidden[name='Custom03']").val($("input:text[name='Custom03']").val());$("input:hidden[name='Comments']").val($("input:text[name='Comments']").val());$("input:hidden[name='OrderTag']").val($("input:text[name='OrderTag']").val());$("form.update-address-info")[0].submit()}function updateShippingAddress(){$("input:hidden[name='Contact']").val($("input:text[name='Contact']").val());$("input:hidden[name='Address1']").val($("input:text[name='Address1']").val());$("input:hidden[name='Address2']").val($("input:text[name='Address2']").val());$("input:hidden[name='Address3']").val($("input:text[name='Address3']").val());$("input:hidden[name='City']").val($("input:text[name='City']").val());$("input:hidden[name='State']").val($("input:text[name='State']").val());$("input:hidden[name='Zip']").val($("input:text[name='Zip']").val());$("input:hidden[name='PhoneNumber']").val($("input:text[name='PhoneNumber']").val());$("form.update-address-info")[0].submit()}function updateOrderDetails(){$("<input>").attr({type:"hidden",name:"DesiredShipDate"}).appendTo("form");$("input:hidden[name='DesiredShipDate']").val($("input:text[name='DesiredShipDate']").val());$("form.update-address-info")[0].submit()}function showShipAddressModal(){$("#divShipAddress").removeAttr("style");$.fancybox({href:"#divShipAddress"})}function showdivAddInfoModal(){$("#divAddInfo").removeAttr("style");$.fancybox({href:"#divAddInfo"})}function updateExpediteOrder(n,t){var i={orderNumber:n,allowExpedite:t};$.ajax({url:"/Admin/Orders/UpdateExpediteOrder",type:"POST",data:JSON.stringify(i),dataType:"json",traditional:!0,contentType:"application/json; charset=utf-8",success:function(n){n.IsError?prompt.clientResponseError(n.Message):prompt.notify(n.Message)}})}function updatePartialShipOrder(n,t){var i={orderNumber:n,allowPartialShip:t};$.ajax({url:"/Admin/Orders/UpdatePartialShipOrder",type:"POST",data:JSON.stringify(i),dataType:"json",traditional:!0,contentType:"application/json; charset=utf-8",success:function(n){n.IsError?prompt.clientResponseError(n.Message):prompt.notify(n.Message)}})}function updateConsolidateOrder(n,t){var i={orderNumber:n,allowConsolidate:t};$.ajax({url:"/Admin/Orders/UpdateConsolidateOrder",type:"POST",data:JSON.stringify(i),dataType:"json",traditional:!0,contentType:"application/json; charset=utf-8",success:function(n){n.IsError?prompt.clientResponseError(n.Message):prompt.notify(n.Message)}})}function toggleSwitchOnChange(n){var t=n.value,i=$("input:hidden[name='OrderNumber']").val();switch(n.id){case"Expedite":updateExpediteOrder(i,t);break;case"PartialShip":updatePartialShipOrder(i,t);break;case"Consolidated":updateConsolidateOrder(i,t)}}$(document).ready(function(){$("#divAddInfo").css({position:"absolute",top:"-9999px"});$("#divShipAddress").hide();$("#divOrderDetails").hide();$(document).bind(argosyEvents.TOGGLE_SWITCH_CHANGE,function(n,t){var i=$(t.hiddenElement)[0];toggleSwitchOnChange(i)})});