function submitEditPartForm(){$("form.update-part")[0].submit()}function showAddPartCategoryModal(){$.fancybox({href:"#divAddCategories"})}function showAddUserLimitModal(){$.fancybox({href:"#AddUserLimit"})}function showAddUserGroupLimitModal(){$.fancybox({href:"#AddGroupLimit"})}function editPartLimitsTimeFrameForCompanyUser(n){var i=$(n).closest("tr"),t=$("div[data-argosy-view=AddEditCompanyUsersPartLimit]").getKendoGrid().dataSource.data()[i.index()];if(t.LimitQuantity=i.find("input").val().trim(),t.Days=n.value,t.PartId=$("#PartId").val(),(t.LimitQuantity==""||t.LimitQuantity=="0")&&t.Active==!1)return!1;if(t.LimitQuantity!=""&&t.LimitQuantity!="0"&&n.value!="null")updateCompanyUserPartLimit(t);else return!1}function editPartLimitsQuantityForCompanyUser(n){var i=$(n).closest("tr"),t=$("div[data-argosy-view=AddEditCompanyUsersPartLimit]").getKendoGrid().dataSource.data()[i.index()];if(n.value.trim()=="0"&&t.Active==!1)return!1;if(t.PartId=$("#PartId").val(),t.Days=i.find("select").val(),t.Days=="null"&&t.Active==!1&&prompt.notify({question:"Time Frame is required.",type:"error"}),t.LimitQuantity!=n.value.trim())if(t.LimitQuantity=n.value.trim(),t.Days!="null"&&t.LimitQuantity!=""&&t.LimitQuantity!=null)updateCompanyUserPartLimit(t);else return!1}function editPartLimitsTimeFrameForUserGroup(n){var i=$(n).closest("tr"),t=$("div[data-argosy-view=AddEditUserGroupPartLimits]").getKendoGrid().dataSource.data()[i.index()];if(t.LimitQuantity=i.find("input").val().trim(),t.Days=n.value,t.PartId=$("#PartId").val(),(t.LimitQuantity==""||t.LimitQuantity=="0")&&t.Active==!1)return!1;if(t.LimitQuantity!=""&&t.LimitQuantity!="0"&&n.value!="null")updateUserGroupPartLimits(t);else return!1}function editPartLimitsQuantityForUserGroup(n){var i=$(n).closest("tr"),t=$("div[data-argosy-view=AddEditUserGroupPartLimits]").getKendoGrid().dataSource.data()[i.index()];if(n.value.trim()=="0"&&t.Active==!1)return!1;if(t.PartId=$("#PartId").val(),t.Days=i.find("select").val(),t.Days=="null"&&t.Active==!1&&prompt.notify({question:"Time Frame is required.",type:"error"}),t.LimitQuantity!=n.value.trim())if(t.LimitQuantity=n.value.trim(),t.Days!="null"&&t.LimitQuantity!=""&&t.LimitQuantity!=null)updateUserGroupPartLimits(t);else return!1}function updateUserGroupPartLimits(n){var t={partLimit:n};$.ajax({url:"/Admin/Parts/UpdateUserGroupPartLimit",type:"POST",data:JSON.stringify(t),dataType:"json",contentType:"application/json; charset=utf-8",success:function(n){var t,i;n.ReturnCode==ReturnCode.Success?prompt.notify({question:"The Product Limit was successfully updated.",type:"success"}):prompt.clientResponseError(result);t=$("div[data-argosy-view=AddEditUserGroupPartLimits]").getKendoGrid();t.dataSource.read();t.refresh();i=$('div[data-argosy-control="PartUserGroupLimitsGrid"]').find(".k-grid").getKendoGrid();i.dataSource.read();i.refresh(!0)}});$.fancybox.close()}function updateCompanyUserPartLimit(n){var t={partLimit:n};$.ajax({url:"/Admin/Parts/UpdateCompanyUserPartLimit",type:"POST",data:JSON.stringify(t),dataType:"json",contentType:"application/json; charset=utf-8",success:function(n){var t,i;n.ReturnCode==ReturnCode.Success?prompt.notify({question:"The Product Limit was successfully.",type:"success"}):prompt.clientResponseError(result);t=$("div[data-argosy-view=AddEditCompanyUsersPartLimit]").getKendoGrid();t.dataSource.read();t.refresh();i=$("div[data-argosy-view=PartUserLimitsGrid]").find(".k-collapse-grid").getKendoGrid();i.dataSource.read();i.refresh()}});$.fancybox.close()}function clearAllUserGroupPartLimits(){var n={partId:$("#PartId").val()};$.ajax({url:"/Admin/Parts/DeleteAllUserGroupsPartLimits",type:"POST",data:JSON.stringify(n),dataType:"json",traditonal:!0,contentType:"application/json; charset=utf-8",success:function(n){var t,i;n.ReturnCode==ReturnCode.Success?prompt.notify({question:"Product Limit for All Company User Groups was"+(this.Value?" not":"")+" successfully deleted.",type:this.Value?"error":"success"}):prompt.clientResponseError(n);t=$("div[data-argosy-view=AddEditUserGroupPartLimits]").getKendoGrid();t.dataSource.read();t.refresh(!0);i=$("div[data-argosy-view=PartUserGroupLimitsGrid]").find(".k-collapse-grid").getKendoGrid();i.dataSource.read();i.refresh(!0)}});$.fancybox.close()}function editPartLimit(n){var i=$(n).closest("tr"),t=$("div[data-argosy-view=UserEditAddPartLimits]").getKendoGrid().dataSource.data()[i.index()];if(t.Days=i.find("select").val(),t.LimitQuantity!=n.value.trim())if(t.LimitQuantity=n.value.trim(),t.Days!="null"&&t.LimitQuantity!=""&&t.LimitQuantity!=null)updatePartLimits(t);else return!1}function updatePartLimits(n){var t={partLimit:n};$.ajax({url:"/Admin/Users/UpdateUserPartLimit",type:"POST",data:JSON.stringify(t),dataType:"json",contentType:"application/json; charset=utf-8",success:function(n){n.result.ReturnCode==ReturnCode.Success?prompt.notify({question:"The Product Limit was successfully updated.",type:"success"}):prompt.clientResponseError(result);var t=$('div[data-argosy-control="PartUserLimitsGrid"]').find(".k-grid").getKendoGrid();t.dataSource.read();t.refresh(!0)}})}function addPartCategories(){var n=this.getSelectedRecords(),t;n.length>0?(t={partId:$("#PartId").val(),partCategories:n},$.ajax({url:"/Admin/Parts/AddPartToPartCategory",type:"POST",data:JSON.stringify(t),dataType:"json",traditional:!0,contentType:"application/json; charset=utf-8",success:function(n){var t,i;n.ReturnCode==ReturnCode.Success?prompt.notify({question:"The Part was "+(this.Value?"not":"")+" successfully added to the Part Group.",type:this.Value?"error":"success"}):prompt.clientResponseError(n);t=$("div[data-argosy-view=PartGroupCategoriesGrid]").find(".k-collapse-grid").getKendoGrid();t.dataSource.read();t.refresh(!0);i=$("div[data-argosy-view=CompanyCategoriesGridView]").getKendoGrid();i.dataSource.read();i.refresh(!0)}})):prompt.notify({question:"No items selected.",type:"error"});$.fancybox.close()}function getSelectedRecords(){var n=[],t=$("div[data-argosy-view=CompanyCategoriesGridView]").getKendoGrid();return $(t.select()).each(function(){n.push(t.dataItem(this))}),n}function closeCommentModal(){$.fancybox.close()}function clearAllLimits(){var n={question:"Do you want to clear all company users product limit?",button:"Clear",type:"warning",yes:function(){clearPartLimitForAllCompanyUsers();$.fancybox.close()}};prompt.alert(n)}function clearPartLimitForAllCompanyUsers(){var n={partId:$("#PartId").val()};$.ajax({url:"/Admin/Parts/DeletePartLimitForAllCompanyUsers",type:"POST",data:JSON.stringify(n),dataType:"json",traditonal:!0,contentType:"application/json; charset=utf-8",success:function(n){var t,i;n.ReturnCode==ReturnCode.Success?prompt.notify({question:"Product Limit for All Company Users was"+(this.Value?" not":"")+" successfully deleted.",type:this.Value?"error":"success"}):prompt.clientResponseError(n);t=$("div[data-argosy-view=AddEditCompanyUsersPartLimit]").getKendoGrid();t.dataSource.read();t.refresh();i=$("div[data-argosy-view=PartUserLimitsGrid]").find(".k-collapse-grid").getKendoGrid();i.dataSource.read();i.refresh()}});$.fancybox.close()}function updateAllCompanyUserLimits(n,t,i){var r={partId:$("#PartId").val(),limit:n,timeFrame:t,companyId:i};$.ajax({url:"/Admin/Parts/UpdateAllCompanyUserLimits",type:"POST",data:JSON.stringify(r),dataType:"json",traditonal:!0,contentType:"application/json; charset=utf-8",success:function(n){var t,i;n.ReturnCode==ReturnCode.Success?prompt.notify({question:"Product Limit for All Company Users was"+(this.Value?" not":"")+" successfully updated.",type:this.Value?"error":"success"}):prompt.clientResponseError(n);t=$("div[data-argosy-view=AddEditCompanyUsersPartLimit]").getKendoGrid();t.dataSource.read();t.refresh();i=$("div[data-argosy-view=PartUserLimitsGrid]").find(".k-collapse-grid").getKendoGrid();i.dataSource.read();i.refresh()}});$.fancybox.close()}function updateAllCompanyUserGroupLimits(n,t,i){var r={partId:$("#PartId").val(),limit:n,timeFrame:t,companyId:i};$.ajax({url:"/Admin/Parts/UpdateAllCompanyUserGroupLimits",type:"POST",data:JSON.stringify(r),dataType:"json",traditonal:!0,contentType:"application/json; charset=utf-8",success:function(n){var t,i;n.ReturnCode==ReturnCode.Success?prompt.notify({question:"Product Limit for All Company User Groups was"+(this.Value?" not":"")+" successfully updated.",type:this.Value?"error":"success"}):prompt.clientResponseError(n);t=$("div[data-argosy-view=AddEditUserGroupPartLimits]").getKendoGrid();t.dataSource.read();t.refresh();i=$("div[data-argosy-view=PartUserGroupLimitsGrid]").find(".k-collapse-grid").getKendoGrid();i.dataSource.read();i.refresh()}});$.fancybox.close()}function setProductLimitForAllUserGroups(n){var t=$("#txtUserGroupPartLimit").val(),i=$("#ddlUserGroupPartLimitTimeFrame").val();if(t==0||t=="")return prompt.notify({question:"Product Limit should be greater than 0.",type:"error"}),!1;if(i=="null")return prompt.notify({question:"Time Frame is required.",type:"error"}),!1;var r=$("div[data-argosy-view=AddEditUserGroupPartLimits]").getKendoGrid(),u=r.dataSource.total(),f={question:"Do you want to set all user groups("+u+") product limits to "+t+" per "+$("#ddlUserGroupPartLimitTimeFrame option:selected").text()+"?",button:"Set",type:"warning",yes:function(){updateAllCompanyUserGroupLimits(t,i,n);$("#txtLimit").val("0");$("#ddlTimeFrame").val("null")}};prompt.alert(f)}function setProductLimitForAllCompanyUsers(n){var t=$("#txtUserPartLimit").val(),i=$("#ddlUserPartLimitTimeFrame").val();if(t==0||t=="")return prompt.notify({question:"Product Limit should be greater than 0.",type:"error"}),!1;if(i=="null")return prompt.notify({question:"Time Frame is required.",type:"error"}),!1;var r=$("div[data-argosy-view=AddEditCompanyUsersPartLimit]").getKendoGrid(),u=r.dataSource.total(),f={question:"Do you want to set all company users("+u+") product limits to "+t+" per "+$("#ddlUserPartLimitTimeFrame option:selected").text()+"?",button:"Set",type:"warning",yes:function(){updateAllCompanyUserLimits(t,i,n);$("#txtUserPartLimit").val("0");$("#ddlUserPartLimitTimeFrame").val("null")}};prompt.alert(f)}